{"version":3,"sources":["../node_modules/process/browser.js","vendor/kinto.js","vendor/kinto-http.js","ts/db.ts","ts/app.ts"],"names":["process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","nextTick","args","Array","arguments","i","push","Item","array","prototype","apply","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","f","define","amd","g","window","global","self","Kinto","t","n","r","s","o","u","a","require","code","l","_babelPolyfill","DEFINE_PROPERTY","O","key","value","Object","writable","configurable","String","padStart","padEnd","split","forEach","Function","bind","__esModule","_promise","_promise2","_interopRequireDefault","obj","default","fn","gen","resolve","reject","step","arg","info","error","done","then","err","instance","Constructor","TypeError","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","protoProps","staticProps","_assign","_assign2","source","hasOwnProperty","_setPrototypeOf","_setPrototypeOf2","_create","_create2","_typeof2","_typeof3","subClass","superClass","constructor","__proto__","ReferenceError","_isIterable2","_isIterable3","_getIterator2","_getIterator3","sliceIterator","arr","_arr","_n","_d","_e","undefined","_i","_s","next","isArray","_from","_from2","arr2","_iterator","_iterator2","_symbol","_symbol2","_typeof","objectCreate","create","objectCreatePolyfill","objectKeys","keys","objectKeysPolyfill","functionBindPolyfill","EventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","hasDefineProperty","defineProperty","x","get","set","setMaxListeners","isNaN","$getMaxListeners","that","getMaxListeners","emitNone","handler","isFn","arrayClone","emitOne","arg1","emitTwo","arg2","emitThree","arg3","emitMany","type","er","events","doError","context","_addListener","listener","prepend","m","existing","newListener","unshift","warned","w","emitter","count","console","warn","message","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","list","position","originalListener","shift","spliceOne","evlistener","ret","unwrapListeners","listenerCount","eventNames","Reflect","ownKeys","index","k","pop","copy","proto","F","RegExp","escape","from","core","$JSON","JSON","stringify","it","Map","assign","$Object","P","D","desc","getPrototypeOf","setPrototypeOf","Promise","Set","Symbol","forbiddenField","isObject","forOf","iter","ITERATOR","result","toIObject","toLength","toIndex","IS_INCLUDES","$this","el","fromIndex","ctx","IObject","toObject","asc","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","callbackfn","val","res","SPECIES","original","C","speciesConstructor","cof","TAG","ARG","tryGet","T","B","callee","toString","slice","dP","redefineAll","anInstance","defined","$iterDefine","setSpecies","DESCRIPTORS","fastKey","SIZE","getEntry","entry","_f","getConstructor","wrapper","NAME","ADDER","iterable","_l","clear","data","p","prev","v","has","def","setStrong","iterated","kind","_t","_k","classof","toJSON","$export","meta","fails","hide","setToStringTag","each","methods","common","IS_WEAK","Base","entries","NEED","_c","KEY","IS_ADDER","b","size","G","W","__e","$defineProperty","createDesc","object","aFunction","c","document","is","createElement","getKeys","gOPS","pIE","getSymbols","symbols","isEnum","PROTOTYPE","IS_FORCED","IS_GLOBAL","IS_STATIC","S","IS_PROTO","IS_BIND","IS_WRAP","expProto","own","out","virtual","R","U","exec","isArrayIter","anObject","getIterFn","BREAK","RETURN","iterFn","iterator","Math","__g","documentElement","un","propertyIsEnumerable","Iterators","ArrayProto","IteratorPrototype","LIBRARY","redefine","$iterCreate","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","DEFAULT","IS_SET","FORCED","getMethod","values","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","SAFE_CLOSING","riter","skipClosing","safe","META","setDesc","id","isExtensible","FREEZE","preventExtensions","setMeta","getWeak","onFreeze","macrotask","Observer","MutationObserver","WebKitMutationObserver","isNode","head","last","notify","flush","parent","domain","exit","enter","toggle","node","createTextNode","observe","characterData","promise","task","$assign","A","K","join","aLen","j","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframe","lt","gt","iframeDocument","style","display","appendChild","src","contentWindow","open","write","close","Properties","IE8_DOM_DEFINE","toPrimitive","Attributes","gOPD","getOwnPropertyDescriptor","gOPN","windowNames","getOwnPropertyNames","getWindowNames","$keys","hiddenKeys","getOwnPropertySymbols","ObjectProto","arrayIndexOf","names","exp","bitmap","check","test","buggy","tag","stat","shared","uid","SHARED","store","toInteger","TO_STRING","pos","charCodeAt","charAt","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","ONREADYSTATECHANGE","defer","channel","port","event","port2","port1","onmessage","postMessage","addEventListener","importScripts","removeChild","max","min","ceil","floor","valueOf","px","random","wksExt","$Symbol","USE_SYMBOL","$exports","getIteratorMethod","getIterator","isIterable","createProperty","arrayLike","mapfn","mapping","addToUnscopables","Arguments","strong","$getPrototypeOf","microtask","PROMISE","$Promise","empty","Internal","GenericPromiseCapability","Wrapper","USE_NATIVE","FakePromise","PromiseRejectionEvent","sameConstructor","isThenable","newPromiseCapability","PromiseCapability","$$resolve","$$reject","perform","isReject","chain","_v","ok","reaction","fail","_h","onHandleUnhandled","onUnhandled","abrupt","isUnhandled","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_w","$resolve","executor","onFulfilled","onRejected","capability","all","remaining","$index","alreadyCalled","race","add","$at","point","$fails","wks","wksDefine","keyOf","enumKeys","gOPNExt","$GOPD","$DP","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","QObject","setter","findChild","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","keyFor","useSetter","useSimple","replacer","$replacer","TO_STRING_TAG","collections","Collection","msg","UNSCOPABLES","copyWithin","start","to","end","inc","fill","endPos","memo","isRight","arraySlice","factories","construct","partArgs","bound","createArrayMethod","$has","arrayFind","arrayFindIndex","uncaughtFrozenStore","UncaughtFrozenStore","findUncaughtFrozen","splice","ufstore","$iterDetect","inheritIfRequired","fixMethod","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","NUMBER","hint","MATCH","re","SYMBOL","fns","strfn","rxfn","string","ignoreCase","multiline","unicode","sticky","isInteger","isFinite","isRegExp","$expm1","expm1","log1p","log","sign","getOrCreateMetadataMap","targetKey","targetMetadata","keyMetadata","ordinaryHasOwnMetadata","MetadataKey","metadataMap","ordinaryGetOwnMetadata","ordinaryDefineOwnMetadata","MetadataValue","ordinaryOwnMetadataKeys","_","toMetaKey","map","__defineSetter__","isEntries","$parseFloat","parseFloat","$trim","trim","Infinity","str","$parseInt","parseInt","ws","hex","radix","path","pargs","holder","SRC","$toString","TPL","inspectSource","isFunction","regExp","replace","part","y","method","searchString","quot","createHTML","attribute","p1","toLowerCase","repeat","maxLength","fillString","left","stringLength","fillStr","intMaxLength","fillLen","stringFiller","RangeError","spaces","space","non","ltrim","rtrim","exporter","ALIAS","FORCE","$typed","$buffer","propertyDesc","same","createArrayIncludes","ArrayIterators","arrayFill","arrayCopyWithin","Uint8Array","ARRAY_BUFFER","SHARED_BUFFER","BYTES_PER_ELEMENT","$ArrayBuffer","ArrayBuffer","$DataView","DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayIncludes","arrayValues","arrayKeys","arrayEntries","arrayLastIndexOf","lastIndexOf","arrayReduce","reduce","arrayReduceRight","reduceRight","arrayJoin","arraySort","sort","arrayToString","arrayToLocaleString","toLocaleString","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","CONSTR","TYPED_ARRAY","TYPED","VIEW","WRONG_LENGTH","$map","allocate","LITTLE_ENDIAN","Uint16Array","buffer","FORCED_SET","strictToLength","SAME","number","toOffset","BYTES","offset","validate","speciesFromList","fromList","addGetter","internal","$from","$of","of","TO_LOCALE_BUG","$toLocaleString","every","filter","find","predicate","findIndex","indexOf","searchElement","includes","separator","reverse","middle","some","comparefn","subarray","begin","$begin","byteOffset","$slice","$iterators","isTAIndex","$getDesc","$setDesc","$TypedArrayPrototype$","CLAMPED","ISNT_UINT8","GETTER","SETTER","TypedArray","TAC","ABV","TypedArrayPrototype","getter","round","addElement","$offset","$length","byteLength","klass","$len","$nativeIterator","CORRECT_ITER_NAME","$iterator","DATA_VIEW","WRONG_INDEX","BaseBuffer","abs","pow","LN2","BUFFER","BYTE_LENGTH","BYTE_OFFSET","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","nBytes","eLen","eMax","eBias","rt","unpackIEEE754","nBits","NaN","unpackI32","bytes","packI8","packI16","packI32","packF64","packF32","view","isLittleEndian","numIndex","intIndex","_b","pack","conversion","validateArrayBufferArguments","numberLength","bufferLength","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt8","setUint8","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","ArrayBufferProto","$setInt8","Typed","TypedArrayConstructors","$re","$every","$filter","$find","forced","$forEach","STRICT","$indexOf","NEGATIVE_ZERO","$reduce","upTo","cloned","$some","$sort","now","Date","getTime","lz","num","toISOString","d","getUTCFullYear","getUTCMilliseconds","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","pv","DateProto","INVALID_DATE","HAS_INSTANCE","FunctionProto","FProto","nameRE","match","sqrt","$acosh","acosh","Number","MAX_VALUE","$asinh","asinh","$atanh","atanh","cbrt","clz32","LOG2E","cosh","EPSILON","EPSILON32","MAX32","MIN32","roundTiesToEven","fround","$abs","$sign","hypot","value1","value2","sum","larg","div","$imul","imul","UINT16","xn","yn","xl","yl","log10","LN10","log2","sinh","tanh","trunc","$Number","BROKEN_COF","TRIM","toNumber","argument","first","third","maxCode","digits","_isFinite","isSafeInteger","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","aNumberValue","$toFixed","toFixed","ERROR","ZERO","multiply","c2","divide","numToString","acc","x2","fractionDigits","z","$toPrecision","toPrecision","precision","$freeze","freeze","$isExtensible","$isFrozen","isFrozen","$isSealed","isSealed","$preventExtensions","$seal","seal","rApply","fApply","thisArgument","argumentsList","L","rConstruct","NEW_TARGET_BUG","ARGS_BUG","Target","newTarget","$args","propertyKey","attributes","deleteProperty","Enumerate","enumerate","getProto","receiver","setProto","V","ownDesc","existingDescriptor","$flags","$RegExp","re1","re2","CORRECT_NEW","tiRE","piRE","fiU","proxy","flags","$match","regexp","REPLACE","$replace","searchValue","replaceValue","SEARCH","$search","search","SPLIT","$split","_split","$push","$SPLIT","LENGTH","LAST_INDEX","NPCG","limit","output","lastLastIndex","splitLimit","separatorCopy","separator2","lastIndex","lastLength","anchor","big","blink","bold","codePointAt","ENDS_WITH","$endsWith","endsWith","endPosition","fixed","fontcolor","color","fontsize","fromCharCode","$fromCodePoint","fromCodePoint","INCLUDES","italics","link","url","raw","callSite","tpl","small","STARTS_WITH","$startsWith","startsWith","strike","sub","sup","$isView","isView","final","viewS","viewT","init","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint32Array","Uint8ClampedArray","weak","tmp","InternalMap","WeakMap","$WeakMap","WeakSet","$includes","asap","isError","iaddh","x0","x1","y0","y1","$x0","$x1","$y0","imulh","$u","$v","u0","v0","u1","v1","isubh","umulh","__defineGetter__","getOwnPropertyDescriptors","getDesc","__lookupGetter__","__lookupSetter__","$values","OBSERVABLE","cleanupSubscription","subscription","cleanup","subscriptionClosed","_o","closeSubscription","Subscription","observer","subscriber","SubscriptionObserver","unsubscribe","complete","$Observable","Observable","subscribe","observable","items","metadata","defineMetadata","metadataKey","metadataValue","deleteMetadata","ordinaryMetadataKeys","oKeys","pKeys","getMetadataKeys","ordinaryGetMetadata","hasOwn","getMetadata","getOwnMetadataKeys","getOwnMetadata","ordinaryHasMetadata","hasMetadata","hasOwnMetadata","decorator","at","getFlags","RegExpProto","$RegExpStringIterator","_r","matchAll","rx","$pad","trimLeft","trimRight","ArrayValues","$task","partial","navigator","MSIE","userAgent","time","setInterval","SUPPORTED_PROTOCOL_VERSION","_regenerator","_regenerator2","_asyncToGenerator2","_asyncToGenerator3","_extends2","_extends3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_desc","_value","_class","_utils","_http","_http2","_endpoint","_endpoint2","_requests","requests","_interopRequireWildcard","_batch","_bucket","_bucket2","newObj","_applyDecoratedDescriptor","property","decorators","initializer","KintoClientBase","nobatch","capable","support","remote","options","_backoffReleaseTime","_isBatch","batch","_retry","retry","_safe","_headers","headers","serverInfo","requestMode","http","_registerHTTPEvents","_this","backoffMs","bucket","_getHeaders","_getSafe","_getRetry","setHeaders","_ref","mark","_callee","_ref2","json","_callee$","_context","request","sent","stop","_getHello","_ref3","_callee2","_callee2$","_context2","fetchServerInfo","_ref4","_callee3","_ref5","settings","_callee3$","_context3","fetchServerSettings","_x5","_ref6","_callee4","_ref7","capabilities","_callee4$","_context4","fetchServerCapabilities","_ref8","_callee5","_ref9","user","_callee5$","_context5","fetchUser","_ref10","_callee6","_ref11","http_api_version","_callee6$","_context6","fetchHTTPApiVersion","_ref12","_callee7","_this2","serverSettings","maxRequests","chunks","_ref13","responses","_callee7$","_context7","partition","pMap","chunk","_batchRequests","execute","body","defaults","_x9","_ref14","_callee8","rootBatch","bucketBatch","collBatch","batchClient","_callee8$","_context8","collection","aggregate","_x11","_ref15","_callee9","_options$raw","_options$stringify","_callee9$","_context9","cleanUndefinedProperties","_x13","_ref16","_callee13","params","_sort$params","filters","pages","since","querystring","results","current","processNextPage","pageResults","handleResponse","_callee13$","_context13","qsify","_sort","_limit","_since","_ref17","_callee10","nextPage","_callee10$","_context10","_x18","_ref18","_callee11","_callee11$","_context11","t0","t1","_x19","etag","totalRecords","last_modified","hasNextPage","_ref19","_callee12","_ref20","_callee12$","_context12","_x20","paginatedList","_x15","_x16","_ref21","_callee14","paginationOptions","_callee14$","_context14","listPermissions","_ref22","_callee15","_callee15$","_context15","listBuckets","_ref23","_callee16","_options$data","permissions","_callee16$","_context16","createRequest","createBucket","_x23","_ref24","_callee17","bucketObj","_bucketObj$options","_callee17$","_context17","toDataBody","deleteRequest","deleteBucket","_x25","_ref25","_callee18","_callee18$","_context18","deleteBuckets","_remote","_version","currentTime","errors","published","conflicts","skipped","response","status","regex","extracts","local","details","_collection","_collection2","Bucket","client","getData","bucketId","patch","_data$options","updateRequest","setData","_x4","listHistory","listCollections","createCollection","_x8","collectionObj","_collectionObj$option","deleteCollection","_x10","listGroups","getGroup","members","createGroup","group","_data$options2","updateGroup","groupObj","_groupObj$options","deleteGroup","getPermissions","setPermissions","jsonPatchPermissionsRequest","addPermissions","removePermissions","_x27","_x29","_slicedToArray2","_slicedToArray3","_uuid","getTotalRecords","_x7","record","createRecord","dataURI","_record$options","addAttachmentRequest","v4","filename","gzipped","getRecord","addAttachment","recordId","removeAttachment","_record$options2","updateRecord","recordObj","_recordObj$options","deleteRecord","_x22","_x24","getSnapshot","listRecords","_ref19$data","oldestHistoryEntry","action","resource_name","collection_id","isHistoryComplete","changes","listChangesBackTo","seenIds","snapshot","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_loop","_step","return","finish","_x28","endpoint","ENDPOINTS","root","history","coll","_group","attachment","_len","_key","UnparseableResponseError","ServerResponse","NetworkTimeoutError","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_extendableBuiltin5","cls","ExtendableBuiltin","_extendableBuiltin3","_extendableBuiltin","ERROR_CODES","_extendableBuiltin2","captureStackTrace","_extendableBuiltin4","stack","_extendableBuiltin6","statusText","errnoMsg","errno","_this3","_errors","HTTP","Accept","defaultOptions","timedFetch","hasTimedout","_timeoutId","proceedWithHandler","fetch","catch","text","parse","processResponse","_x2","retryAfter","delay","_x3","_x6","_request","DEFAULT_REQUEST_HEADERS","append","mode","_checkForDeprecationHeader","_checkForBackoffHeader","_checkForRetryAfterHeader","alertHeader","alert","backoffSeconds","_base","_base2","KintoClient","_KintoClientBase","requestDefaults","safeHeader","_requestDefaults$opti","_requestDefaults$opti2","omit","opType","_requestDefaults$opti3","ops","_step$value","principals","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","principal","op","_requestDefaults$opti4","_requestDefaults$opti5","formData","createFormData","customPath","_defineProperty3","_extends4","_toArray2","_toArray3","_x","checkVersion","parseDataURL","extractFileInfo","ms","resource","encode","encodeURIComponent","stripUndefined","stripped","ks","minVersion","maxVersion","extract","_extract","_extract2","verMajor","verMinor","_extract3","_extract4","minMajor","minMinor","_extract5","_extract6","maxMajor","maxMinor","checks","wrappedMethod","_len2","_key2","_len3","_key3","available","missing","missingStr","_len4","_key4","thing","dataURL","substr","base64","_props$split","_props$split2","rawParams","param","_param$split","_param$split2","_parseDataURL","binary","atob","blob","Blob","_options$filename","_extractFileInfo","FormData","hadRuntime","regeneratorRuntime","oldRuntime","Op","iteratorSymbol","toStringTagSymbol","toStringTag","inModule","runtime","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","isGeneratorFunction","genFun","ctor","awrap","__await","AsyncIterator","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","doneResult","delegate","returnMethod","resultName","nextLoc","_sent","dispatchException","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iteratorMethod","skipTempReset","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","uuid","byteToHex","bytesToUuid","buf","bth","rng","crypto","msCrypto","getRandomValues","rnds8","whatwgRNG","rnds","_seedBytes","_nodeId","_clockseq","_lastMSecs","_lastNSecs","clockseq","msecs","nsecs","dt","tl","tmh","ii","DEFAULT_BUCKET_NAME","DEFAULT_REMOTE","DEFAULT_RETRY","KintoBase","BaseAdapter","strategy","_options","adapter","ApiClass","api","collName","_options$options","adapterOptions","dbPrefix","idSchema","remoteTransformers","hooks","localFields","_toConsumableArray2","_toConsumableArray3","_getPrototypeOf","_getPrototypeOf2","_keys","_keys2","INDEXED_FIELDS","cursorHandlers","cursor","filterObject","continue","in","_in","sortedValues","findIndexedField","filteredFields","indexedFields","field","createListRequest","indexField","openCursor","onsuccess","_request2","IDBKeyRange","only","IDB","_BaseAdapter","storeName","_db","_options$dbname","dbname","_handleError","indexedDB","onupgradeneeded","db","collStore","createObjectStore","keyPath","createIndex","unique","metaStore","onerror","prepare","transaction","objectStore","_prepare","oncomplete","callback","_this4","preload","_prepare2","ids","records","preloaded","transactionProxy","abort","_this5","_prepare3","_this6","remainingFilters","omitKeys","_prepare4","_results","order","sortObjects","lastModified","_this7","_prepare5","put","saveLastModified","_this8","_prepare6","getLastModified","previousLastModified","update","loadDump","delete","_delete","CollectionTransaction","SyncResultObject","_stringify2","_map","_map2","_set","_set2","recordsEqual","_IDB","_IDB2","RECORD_FIELDS_TO_CLEAN","AVAILABLE_HOOKS","fieldsToClean","cleanLocal","deepEqual","created","updated","deleted","resolved","recordsWithoutId","recordsById","addOneRecord","createUUIDSchema","generate","isUUID","markStatus","_status","markDeleted","markSynced","importChange","_synced","isIdentical","synced","old","new","_name","_lastModified","DBAdapter","_validateIdSchema","_validateRemoteTransformers","_validateHooks","transformer","decode","_validateHook","hook","validatedHooks","_encodeRecord","waterfall","_decodeRecord","useRecordId","newRecord","txn","preloadIds","upsert","includeDeleted","getAny","recordIds","deleteAll","deleteAny","syncResultObject","decodedChanges","MANUAL","imports","_handleConflicts","importChanges","toApplyLocally","toDeleteLocally","toUpdateLocally","_applyPushedResults","_x12","_x14","conflict","resolution","CLIENT_WINS","rejected","accepted","_resolveRaw","doOperations","_ref10$preloadIds","emitEvents","unsynced","resetSyncStatus","gatherLocalChanges","exclude_id","unquoted","localSynced","serverChanged","emptyCollection","payload","afterHooks","exclude","change","applyHook","pullChanges","_x17","hookName","resultThenable","resultChanges","toDelete","toSync","safeLocal","realLocal","realRemote","missingRemotely","decoded","cleanLocalFields","pushChanges","_x21","localKeys","_this9","ignoreBackoff","previousRemote","seconds","resolvedUnsynced","resolvedEncoded","pullOpts","backoff","sync","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","existingById","newRecords","localRecord","shouldKeep","SERVER_WINS","adapterTransaction","_queueEvent","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","targets","alreadyDeleted","_this10","existingRecords","oldRecord","_updateRaw","_ref24$synced","keepSynced","neverSynced","newStatus","_kintoHttp","_kintoHttp2","_KintoBase2","_KintoBase3","_KintoBase","adapters","RE_UUID","filterObjects","_isUndefined","hasDash","direction","candidate","nextFn","toAbsoluteIndex","standalone","promiseCapability","Dispatch","newPromiseCapabilityModule","promiseResolve","newGenericPromiseCapability","OwnPromiseCapability","unhandled","es6Symbols","wellKnownSymbols","onFinally","DOMIterables","asyncIteratorSymbol","asyncIterator","delegateResult","maybeInvokeDelegate","mathRNG","seedBytes","__awaiter","thisArg","_arguments","fulfilled","__generator","label","trys","verb","DB","username","password","REMOTE_URL","Authorization","btoa","BUCKET_NAME","server","getId","db_1","USERNAME","PASSWORD","main","kinto","textContent"],"mappings":"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","file":"app.b18c5007.map","sourceRoot":"../src","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Kinto = f()}})(function(){var define,module,exports;return (function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nrequire(\"core-js/shim\");\n\nrequire(\"regenerator-runtime/runtime\");\n\nrequire(\"core-js/fn/regexp/escape\");\n\nif (global._babelPolyfill) {\n  throw new Error(\"only one instance of babel-polyfill is allowed\");\n}\nglobal._babelPolyfill = true;\n\nvar DEFINE_PROPERTY = \"defineProperty\";\nfunction define(O, key, value) {\n  O[key] || Object[DEFINE_PROPERTY](O, key, {\n    writable: true,\n    configurable: true,\n    value: value\n  });\n}\n\ndefine(String.prototype, \"padLeft\", \"\".padStart);\ndefine(String.prototype, \"padRight\", \"\".padEnd);\n\n\"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill\".split(\",\").forEach(function (key) {\n  [][key] && define(Array, key, Function.call.bind([][key]));\n});\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"core-js/fn/regexp/escape\":31,\"core-js/shim\":440,\"regenerator-runtime/runtime\":452}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n},{\"core-js/library/fn/array/from\":32}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n},{\"core-js/library/fn/get-iterator\":33}],4:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n},{\"core-js/library/fn/is-iterable\":34}],5:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n},{\"core-js/library/fn/json/stringify\":35}],6:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/map\"), __esModule: true };\n},{\"core-js/library/fn/map\":36}],7:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n},{\"core-js/library/fn/object/assign\":37}],8:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":38}],9:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":39}],10:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/get-prototype-of\":40}],11:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n},{\"core-js/library/fn/object/keys\":41}],12:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":42}],13:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n},{\"core-js/library/fn/promise\":43}],14:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/set\"), __esModule: true };\n},{\"core-js/library/fn/set\":44}],15:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":45}],16:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n},{\"core-js/library/fn/symbol/iterator\":46}],17:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _promise = require(\"../core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new _promise2.default(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return _promise2.default.resolve(value).then(function (value) {\n            step(\"next\", value);\n          }, function (err) {\n            step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n};\n},{\"../core-js/promise\":13}],18:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],19:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":9}],20:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n},{\"../core-js/object/define-property\":9}],21:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n},{\"../core-js/object/assign\":7}],22:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n},{\"../core-js/object/create\":8,\"../core-js/object/set-prototype-of\":12,\"../helpers/typeof\":27}],23:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":27}],24:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n},{\"../core-js/get-iterator\":3,\"../core-js/is-iterable\":4}],25:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  return Array.isArray(arr) ? arr : (0, _from2.default)(arr);\n};\n},{\"../core-js/array/from\":2}],26:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};\n},{\"../core-js/array/from\":2}],27:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n},{\"../core-js/symbol\":15,\"../core-js/symbol/iterator\":16}],28:[function(require,module,exports){\nmodule.exports = require(\"regenerator-runtime\");\n\n},{\"regenerator-runtime\":451}],29:[function(require,module,exports){\n\n},{}],30:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar objectCreate = Object.create || objectCreatePolyfill\nvar objectKeys = Object.keys || objectKeysPolyfill\nvar bind = Function.prototype.bind || functionBindPolyfill\n\nfunction EventEmitter() {\n  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\n    this._events = objectCreate(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nvar hasDefineProperty;\ntry {\n  var o = {};\n  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });\n  hasDefineProperty = o.x === 0;\n} catch (err) { hasDefineProperty = false }\nif (hasDefineProperty) {\n  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function() {\n      return defaultMaxListeners;\n    },\n    set: function(arg) {\n      // check whether the input is a positive number (whose value is zero or\n      // greater and not a NaN).\n      if (typeof arg !== 'number' || arg < 0 || arg !== arg)\n        throw new TypeError('\"defaultMaxListeners\" must be a positive number');\n      defaultMaxListeners = arg;\n    }\n  });\n} else {\n  EventEmitter.defaultMaxListeners = defaultMaxListeners;\n}\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    if (arguments.length > 1)\n      er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Unhandled \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n      // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n      // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = objectCreate(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n          listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n          prepend ? [listener, existing] : [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n            existing.length + ' \"' + String(type) + '\" listeners ' +\n            'added. Use emitter.setMaxListeners() to ' +\n            'increase limit.');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        if (typeof console === 'object' && console.warn) {\n          console.warn('%s: %s', w.name, w.message);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    switch (arguments.length) {\n      case 0:\n        return this.listener.call(this.target);\n      case 1:\n        return this.listener.call(this.target, arguments[0]);\n      case 2:\n        return this.listener.call(this.target, arguments[0], arguments[1]);\n      case 3:\n        return this.listener.call(this.target, arguments[0], arguments[1],\n            arguments[2]);\n      default:\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i)\n          args[i] = arguments[i];\n        this.listener.apply(this.target, args);\n    }\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = bind.call(onceWrapper, state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = objectCreate(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else\n          spliceOne(list, position);\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = objectCreate(null);\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = objectCreate(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = objectKeys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = objectCreate(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction objectCreatePolyfill(proto) {\n  var F = function() {};\n  F.prototype = proto;\n  return new F;\n}\nfunction objectKeysPolyfill(obj) {\n  var keys = [];\n  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {\n    keys.push(k);\n  }\n  return k;\n}\nfunction functionBindPolyfill(context) {\n  var fn = this;\n  return function () {\n    return fn.apply(context, arguments);\n  };\n}\n\n},{}],31:[function(require,module,exports){\nrequire('../../modules/core.regexp.escape');\nmodule.exports = require('../../modules/_core').RegExp.escape;\n},{\"../../modules/_core\":168,\"../../modules/core.regexp.escape\":264}],32:[function(require,module,exports){\nrequire('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n},{\"../../modules/_core\":61,\"../../modules/es6.array.from\":129,\"../../modules/es6.string.iterator\":141}],33:[function(require,module,exports){\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n},{\"../modules/core.get-iterator\":127,\"../modules/es6.string.iterator\":141,\"../modules/web.dom.iterable\":147}],34:[function(require,module,exports){\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n},{\"../modules/core.is-iterable\":128,\"../modules/es6.string.iterator\":141,\"../modules/web.dom.iterable\":147}],35:[function(require,module,exports){\nvar core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n},{\"../../modules/_core\":61}],36:[function(require,module,exports){\nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.map');\nrequire('../modules/es7.map.to-json');\nmodule.exports = require('../modules/_core').Map;\n},{\"../modules/_core\":61,\"../modules/es6.map\":131,\"../modules/es6.object.to-string\":138,\"../modules/es6.string.iterator\":141,\"../modules/es7.map.to-json\":143,\"../modules/web.dom.iterable\":147}],37:[function(require,module,exports){\nrequire('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n},{\"../../modules/_core\":61,\"../../modules/es6.object.assign\":132}],38:[function(require,module,exports){\nrequire('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D){\n  return $Object.create(P, D);\n};\n},{\"../../modules/_core\":61,\"../../modules/es6.object.create\":133}],39:[function(require,module,exports){\nrequire('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n},{\"../../modules/_core\":61,\"../../modules/es6.object.define-property\":134}],40:[function(require,module,exports){\nrequire('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n},{\"../../modules/_core\":61,\"../../modules/es6.object.get-prototype-of\":135}],41:[function(require,module,exports){\nrequire('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n},{\"../../modules/_core\":61,\"../../modules/es6.object.keys\":136}],42:[function(require,module,exports){\nrequire('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n},{\"../../modules/_core\":61,\"../../modules/es6.object.set-prototype-of\":137}],43:[function(require,module,exports){\nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/_core').Promise;\n},{\"../modules/_core\":61,\"../modules/es6.object.to-string\":138,\"../modules/es6.promise\":139,\"../modules/es6.string.iterator\":141,\"../modules/web.dom.iterable\":147}],44:[function(require,module,exports){\nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nmodule.exports = require('../modules/_core').Set;\n},{\"../modules/_core\":61,\"../modules/es6.object.to-string\":138,\"../modules/es6.set\":140,\"../modules/es6.string.iterator\":141,\"../modules/es7.set.to-json\":144,\"../modules/web.dom.iterable\":147}],45:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n},{\"../../modules/_core\":61,\"../../modules/es6.object.to-string\":138,\"../../modules/es6.symbol\":142,\"../../modules/es7.symbol.async-iterator\":145,\"../../modules/es7.symbol.observable\":146}],46:[function(require,module,exports){\nrequire('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n},{\"../../modules/_wks-ext\":124,\"../../modules/es6.string.iterator\":141,\"../../modules/web.dom.iterable\":147}],47:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],48:[function(require,module,exports){\nmodule.exports = function(){ /* empty */ };\n},{}],49:[function(require,module,exports){\nmodule.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n},{}],50:[function(require,module,exports){\nvar isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./_is-object\":81}],51:[function(require,module,exports){\nvar forOf = require('./_for-of');\n\nmodule.exports = function(iter, ITERATOR){\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n\n},{\"./_for-of\":71}],52:[function(require,module,exports){\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n},{\"./_to-index\":116,\"./_to-iobject\":118,\"./_to-length\":119}],53:[function(require,module,exports){\n// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx      = require('./_ctx')\n  , IObject  = require('./_iobject')\n  , toObject = require('./_to-object')\n  , toLength = require('./_to-length')\n  , asc      = require('./_array-species-create');\nmodule.exports = function(TYPE, $create){\n  var IS_MAP        = TYPE == 1\n    , IS_FILTER     = TYPE == 2\n    , IS_SOME       = TYPE == 3\n    , IS_EVERY      = TYPE == 4\n    , IS_FIND_INDEX = TYPE == 6\n    , NO_HOLES      = TYPE == 5 || IS_FIND_INDEX\n    , create        = $create || asc;\n  return function($this, callbackfn, that){\n    var O      = toObject($this)\n      , self   = IObject(O)\n      , f      = ctx(callbackfn, that, 3)\n      , length = toLength(self.length)\n      , index  = 0\n      , result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined\n      , val, res;\n    for(;length > index; index++)if(NO_HOLES || index in self){\n      val = self[index];\n      res = f(val, index, O);\n      if(TYPE){\n        if(IS_MAP)result[index] = res;            // map\n        else if(res)switch(TYPE){\n          case 3: return true;                    // some\n          case 5: return val;                     // find\n          case 6: return index;                   // findIndex\n          case 2: result.push(val);               // filter\n        } else if(IS_EVERY)return false;          // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n},{\"./_array-species-create\":55,\"./_ctx\":63,\"./_iobject\":78,\"./_to-length\":119,\"./_to-object\":120}],54:[function(require,module,exports){\nvar isObject = require('./_is-object')\n  , isArray  = require('./_is-array')\n  , SPECIES  = require('./_wks')('species');\n\nmodule.exports = function(original){\n  var C;\n  if(isArray(original)){\n    C = original.constructor;\n    // cross-realm fallback\n    if(typeof C == 'function' && (C === Array || isArray(C.prototype)))C = undefined;\n    if(isObject(C)){\n      C = C[SPECIES];\n      if(C === null)C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n},{\"./_is-array\":80,\"./_is-object\":81,\"./_wks\":125}],55:[function(require,module,exports){\n// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function(original, length){\n  return new (speciesConstructor(original))(length);\n};\n},{\"./_array-species-constructor\":54}],56:[function(require,module,exports){\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n},{\"./_cof\":57,\"./_wks\":125}],57:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],58:[function(require,module,exports){\n'use strict';\nvar dP          = require('./_object-dp').f\n  , create      = require('./_object-create')\n  , redefineAll = require('./_redefine-all')\n  , ctx         = require('./_ctx')\n  , anInstance  = require('./_an-instance')\n  , defined     = require('./_defined')\n  , forOf       = require('./_for-of')\n  , $iterDefine = require('./_iter-define')\n  , step        = require('./_iter-step')\n  , setSpecies  = require('./_set-species')\n  , DESCRIPTORS = require('./_descriptors')\n  , fastKey     = require('./_meta').fastKey\n  , SIZE        = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function(that, key){\n  // fast case\n  var index = fastKey(key), entry;\n  if(index !== 'F')return that._i[index];\n  // frozen object case\n  for(entry = that._f; entry; entry = entry.n){\n    if(entry.k == key)return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear(){\n        for(var that = this, data = that._i, entry = that._f; entry; entry = entry.n){\n          entry.r = true;\n          if(entry.p)entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function(key){\n        var that  = this\n          , entry = getEntry(that, key);\n        if(entry){\n          var next = entry.n\n            , prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if(prev)prev.n = next;\n          if(next)next.p = prev;\n          if(that._f == entry)that._f = next;\n          if(that._l == entry)that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /*, that = undefined */){\n        anInstance(this, C, 'forEach');\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3)\n          , entry;\n        while(entry = entry ? entry.n : this._f){\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while(entry && entry.r)entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key){\n        return !!getEntry(this, key);\n      }\n    });\n    if(DESCRIPTORS)dP(C.prototype, 'size', {\n      get: function(){\n        return defined(this[SIZE]);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var entry = getEntry(that, key)\n      , prev, index;\n    // change existing entry\n    if(entry){\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if(!that._f)that._f = entry;\n      if(prev)prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if(index !== 'F')that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function(C, NAME, IS_MAP){\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function(iterated, kind){\n      this._t = iterated;  // target\n      this._k = kind;      // kind\n      this._l = undefined; // previous\n    }, function(){\n      var that  = this\n        , kind  = that._k\n        , entry = that._l;\n      // revert to the last existing entry\n      while(entry && entry.r)entry = entry.p;\n      // get next entry\n      if(!that._t || !(that._l = entry = entry ? entry.n : that._t._f)){\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if(kind == 'keys'  )return step(0, entry.k);\n      if(kind == 'values')return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values' , !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n},{\"./_an-instance\":49,\"./_ctx\":63,\"./_defined\":64,\"./_descriptors\":65,\"./_for-of\":71,\"./_iter-define\":84,\"./_iter-step\":86,\"./_meta\":90,\"./_object-create\":93,\"./_object-dp\":94,\"./_redefine-all\":106,\"./_set-species\":109}],59:[function(require,module,exports){\n// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof')\n  , from    = require('./_array-from-iterable');\nmodule.exports = function(NAME){\n  return function toJSON(){\n    if(classof(this) != NAME)throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n},{\"./_array-from-iterable\":51,\"./_classof\":56}],60:[function(require,module,exports){\n'use strict';\nvar global         = require('./_global')\n  , $export        = require('./_export')\n  , meta           = require('./_meta')\n  , fails          = require('./_fails')\n  , hide           = require('./_hide')\n  , redefineAll    = require('./_redefine-all')\n  , forOf          = require('./_for-of')\n  , anInstance     = require('./_an-instance')\n  , isObject       = require('./_is-object')\n  , setToStringTag = require('./_set-to-string-tag')\n  , dP             = require('./_object-dp').f\n  , each           = require('./_array-methods')(0)\n  , DESCRIPTORS    = require('./_descriptors');\n\nmodule.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){\n  var Base  = global[NAME]\n    , C     = Base\n    , ADDER = IS_MAP ? 'set' : 'add'\n    , proto = C && C.prototype\n    , O     = {};\n  if(!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){\n    new C().entries().next();\n  }))){\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function(target, iterable){\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base;\n      if(iterable != undefined)forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','),function(KEY){\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if(KEY in proto && !(IS_WEAK && KEY == 'clear'))hide(C.prototype, KEY, function(a, b){\n        anInstance(this, C, KEY);\n        if(!IS_ADDER && IS_WEAK && !isObject(a))return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    if('size' in proto)dP(C.prototype, 'size', {\n      get: function(){\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n},{\"./_an-instance\":49,\"./_array-methods\":53,\"./_descriptors\":65,\"./_export\":69,\"./_fails\":70,\"./_for-of\":71,\"./_global\":72,\"./_hide\":74,\"./_is-object\":81,\"./_meta\":90,\"./_object-dp\":94,\"./_redefine-all\":106,\"./_set-to-string-tag\":110}],61:[function(require,module,exports){\nvar core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],62:[function(require,module,exports){\n'use strict';\nvar $defineProperty = require('./_object-dp')\n  , createDesc      = require('./_property-desc');\n\nmodule.exports = function(object, index, value){\n  if(index in object)$defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n},{\"./_object-dp\":94,\"./_property-desc\":105}],63:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./_a-function\":47}],64:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],65:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_fails\":70}],66:[function(require,module,exports){\nvar isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n},{\"./_global\":72,\"./_is-object\":81}],67:[function(require,module,exports){\n// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n},{}],68:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys')\n  , gOPS    = require('./_object-gops')\n  , pIE     = require('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n},{\"./_object-gops\":99,\"./_object-keys\":102,\"./_object-pie\":103}],69:[function(require,module,exports){\nvar global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n},{\"./_core\":61,\"./_ctx\":63,\"./_global\":72,\"./_hide\":74}],70:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],71:[function(require,module,exports){\nvar ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method')\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n},{\"./_an-object\":50,\"./_ctx\":63,\"./_is-array-iter\":79,\"./_iter-call\":82,\"./_to-length\":119,\"./core.get-iterator-method\":126}],72:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],73:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],74:[function(require,module,exports){\nvar dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./_descriptors\":65,\"./_object-dp\":94,\"./_property-desc\":105}],75:[function(require,module,exports){\nmodule.exports = require('./_global').document && document.documentElement;\n},{\"./_global\":72}],76:[function(require,module,exports){\nmodule.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_descriptors\":65,\"./_dom-create\":66,\"./_fails\":70}],77:[function(require,module,exports){\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n},{}],78:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./_cof\":57}],79:[function(require,module,exports){\n// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n},{\"./_iterators\":87,\"./_wks\":125}],80:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./_cof\":57}],81:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],82:[function(require,module,exports){\n// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n},{\"./_an-object\":50}],83:[function(require,module,exports){\n'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n},{\"./_hide\":74,\"./_object-create\":93,\"./_property-desc\":105,\"./_set-to-string-tag\":110,\"./_wks\":125}],84:[function(require,module,exports){\n'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n},{\"./_export\":69,\"./_has\":73,\"./_hide\":74,\"./_iter-create\":83,\"./_iterators\":87,\"./_library\":89,\"./_object-gpo\":100,\"./_redefine\":107,\"./_set-to-string-tag\":110,\"./_wks\":125}],85:[function(require,module,exports){\nvar ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n},{\"./_wks\":125}],86:[function(require,module,exports){\nmodule.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n},{}],87:[function(require,module,exports){\nmodule.exports = {};\n},{}],88:[function(require,module,exports){\nvar getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./_object-keys\":102,\"./_to-iobject\":118}],89:[function(require,module,exports){\nmodule.exports = true;\n},{}],90:[function(require,module,exports){\nvar META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n},{\"./_fails\":70,\"./_has\":73,\"./_is-object\":81,\"./_object-dp\":94,\"./_uid\":122}],91:[function(require,module,exports){\nvar global    = require('./_global')\n  , macrotask = require('./_task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./_cof')(process) == 'process';\n\nmodule.exports = function(){\n  var head, last, notify;\n\n  var flush = function(){\n    var parent, fn;\n    if(isNode && (parent = process.domain))parent.exit();\n    while(head){\n      fn   = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch(e){\n        if(head)notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if(parent)parent.enter();\n  };\n\n  // Node.js\n  if(isNode){\n    notify = function(){\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if(Observer){\n    var toggle = true\n      , node   = document.createTextNode('');\n    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n    notify = function(){\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if(Promise && Promise.resolve){\n    var promise = Promise.resolve();\n    notify = function(){\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function(){\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function(fn){\n    var task = {fn: fn, next: undefined};\n    if(last)last.next = task;\n    if(!head){\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n},{\"./_cof\":57,\"./_global\":72,\"./_task\":115}],92:[function(require,module,exports){\n'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = require('./_object-keys')\n  , gOPS     = require('./_object-gops')\n  , pIE      = require('./_object-pie')\n  , toObject = require('./_to-object')\n  , IObject  = require('./_iobject')\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;\n},{\"./_fails\":70,\"./_iobject\":78,\"./_object-gops\":99,\"./_object-keys\":102,\"./_object-pie\":103,\"./_to-object\":120}],93:[function(require,module,exports){\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = require('./_an-object')\n  , dPs         = require('./_object-dps')\n  , enumBugKeys = require('./_enum-bug-keys')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n},{\"./_an-object\":50,\"./_dom-create\":66,\"./_enum-bug-keys\":67,\"./_html\":75,\"./_object-dps\":95,\"./_shared-key\":111}],94:[function(require,module,exports){\nvar anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n},{\"./_an-object\":50,\"./_descriptors\":65,\"./_ie8-dom-define\":76,\"./_to-primitive\":121}],95:[function(require,module,exports){\nvar dP       = require('./_object-dp')\n  , anObject = require('./_an-object')\n  , getKeys  = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n},{\"./_an-object\":50,\"./_descriptors\":65,\"./_object-dp\":94,\"./_object-keys\":102}],96:[function(require,module,exports){\nvar pIE            = require('./_object-pie')\n  , createDesc     = require('./_property-desc')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , has            = require('./_has')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};\n},{\"./_descriptors\":65,\"./_has\":73,\"./_ie8-dom-define\":76,\"./_object-pie\":103,\"./_property-desc\":105,\"./_to-iobject\":118,\"./_to-primitive\":121}],97:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject')\n  , gOPN      = require('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n},{\"./_object-gopn\":98,\"./_to-iobject\":118}],98:[function(require,module,exports){\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = require('./_object-keys-internal')\n  , hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};\n},{\"./_enum-bug-keys\":67,\"./_object-keys-internal\":101}],99:[function(require,module,exports){\nexports.f = Object.getOwnPropertySymbols;\n},{}],100:[function(require,module,exports){\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = require('./_has')\n  , toObject    = require('./_to-object')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n},{\"./_has\":73,\"./_shared-key\":111,\"./_to-object\":120}],101:[function(require,module,exports){\nvar has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n},{\"./_array-includes\":52,\"./_has\":73,\"./_shared-key\":111,\"./_to-iobject\":118}],102:[function(require,module,exports){\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n},{\"./_enum-bug-keys\":67,\"./_object-keys-internal\":101}],103:[function(require,module,exports){\nexports.f = {}.propertyIsEnumerable;\n},{}],104:[function(require,module,exports){\n// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n},{\"./_core\":61,\"./_export\":69,\"./_fails\":70}],105:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],106:[function(require,module,exports){\nvar hide = require('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n},{\"./_hide\":74}],107:[function(require,module,exports){\nmodule.exports = require('./_hide');\n},{\"./_hide\":74}],108:[function(require,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object')\n  , anObject = require('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n},{\"./_an-object\":50,\"./_ctx\":63,\"./_is-object\":81,\"./_object-gopd\":96}],109:[function(require,module,exports){\n'use strict';\nvar global      = require('./_global')\n  , core        = require('./_core')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n},{\"./_core\":61,\"./_descriptors\":65,\"./_global\":72,\"./_object-dp\":94,\"./_wks\":125}],110:[function(require,module,exports){\nvar def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./_has\":73,\"./_object-dp\":94,\"./_wks\":125}],111:[function(require,module,exports){\nvar shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n},{\"./_shared\":112,\"./_uid\":122}],112:[function(require,module,exports){\nvar global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./_global\":72}],113:[function(require,module,exports){\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./_an-object')\n  , aFunction = require('./_a-function')\n  , SPECIES   = require('./_wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n},{\"./_a-function\":47,\"./_an-object\":50,\"./_wks\":125}],114:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n},{\"./_defined\":64,\"./_to-integer\":117}],115:[function(require,module,exports){\nvar ctx                = require('./_ctx')\n  , invoke             = require('./_invoke')\n  , html               = require('./_html')\n  , cel                = require('./_dom-create')\n  , global             = require('./_global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./_cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n},{\"./_cof\":57,\"./_ctx\":63,\"./_dom-create\":66,\"./_global\":72,\"./_html\":75,\"./_invoke\":77}],116:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n},{\"./_to-integer\":117}],117:[function(require,module,exports){\n// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n},{}],118:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./_defined\":64,\"./_iobject\":78}],119:[function(require,module,exports){\n// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n},{\"./_to-integer\":117}],120:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./_defined\":64}],121:[function(require,module,exports){\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n},{\"./_is-object\":81}],122:[function(require,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],123:[function(require,module,exports){\nvar global         = require('./_global')\n  , core           = require('./_core')\n  , LIBRARY        = require('./_library')\n  , wksExt         = require('./_wks-ext')\n  , defineProperty = require('./_object-dp').f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};\n},{\"./_core\":61,\"./_global\":72,\"./_library\":89,\"./_object-dp\":94,\"./_wks-ext\":124}],124:[function(require,module,exports){\nexports.f = require('./_wks');\n},{\"./_wks\":125}],125:[function(require,module,exports){\nvar store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n},{\"./_global\":72,\"./_shared\":112,\"./_uid\":122}],126:[function(require,module,exports){\nvar classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n},{\"./_classof\":56,\"./_core\":61,\"./_iterators\":87,\"./_wks\":125}],127:[function(require,module,exports){\nvar anObject = require('./_an-object')\n  , get      = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function(it){\n  var iterFn = get(it);\n  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n},{\"./_an-object\":50,\"./_core\":61,\"./core.get-iterator-method\":126}],128:[function(require,module,exports){\nvar classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function(it){\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    || Iterators.hasOwnProperty(classof(O));\n};\n},{\"./_classof\":56,\"./_core\":61,\"./_iterators\":87,\"./_wks\":125}],129:[function(require,module,exports){\n'use strict';\nvar ctx            = require('./_ctx')\n  , $export        = require('./_export')\n  , toObject       = require('./_to-object')\n  , call           = require('./_iter-call')\n  , isArrayIter    = require('./_is-array-iter')\n  , toLength       = require('./_to-length')\n  , createProperty = require('./_create-property')\n  , getIterFn      = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function(iter){ Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){\n    var O       = toObject(arrayLike)\n      , C       = typeof this == 'function' ? this : Array\n      , aLen    = arguments.length\n      , mapfn   = aLen > 1 ? arguments[1] : undefined\n      , mapping = mapfn !== undefined\n      , index   = 0\n      , iterFn  = getIterFn(O)\n      , length, result, step, iterator;\n    if(mapping)mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){\n      for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for(result = new C(length); length > index; index++){\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n},{\"./_create-property\":62,\"./_ctx\":63,\"./_export\":69,\"./_is-array-iter\":79,\"./_iter-call\":82,\"./_iter-detect\":85,\"./_to-length\":119,\"./_to-object\":120,\"./core.get-iterator-method\":126}],130:[function(require,module,exports){\n'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n},{\"./_add-to-unscopables\":48,\"./_iter-define\":84,\"./_iter-step\":86,\"./_iterators\":87,\"./_to-iobject\":118}],131:[function(require,module,exports){\n'use strict';\nvar strong = require('./_collection-strong');\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')('Map', function(get){\n  return function Map(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key){\n    var entry = strong.getEntry(this, key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value){\n    return strong.def(this, key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n},{\"./_collection\":60,\"./_collection-strong\":58}],132:[function(require,module,exports){\n// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./_object-assign')});\n},{\"./_export\":69,\"./_object-assign\":92}],133:[function(require,module,exports){\nvar $export = require('./_export')\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', {create: require('./_object-create')});\n},{\"./_export\":69,\"./_object-create\":93}],134:[function(require,module,exports){\nvar $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n},{\"./_descriptors\":65,\"./_export\":69,\"./_object-dp\":94}],135:[function(require,module,exports){\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject        = require('./_to-object')\n  , $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function(){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n},{\"./_object-gpo\":100,\"./_object-sap\":104,\"./_to-object\":120}],136:[function(require,module,exports){\n// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n},{\"./_object-keys\":102,\"./_object-sap\":104,\"./_to-object\":120}],137:[function(require,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', {setPrototypeOf: require('./_set-proto').set});\n},{\"./_export\":69,\"./_set-proto\":108}],138:[function(require,module,exports){\narguments[4][29][0].apply(exports,arguments)\n},{\"dup\":29}],139:[function(require,module,exports){\n'use strict';\nvar LIBRARY            = require('./_library')\n  , global             = require('./_global')\n  , ctx                = require('./_ctx')\n  , classof            = require('./_classof')\n  , $export            = require('./_export')\n  , isObject           = require('./_is-object')\n  , aFunction          = require('./_a-function')\n  , anInstance         = require('./_an-instance')\n  , forOf              = require('./_for-of')\n  , speciesConstructor = require('./_species-constructor')\n  , task               = require('./_task').set\n  , microtask          = require('./_microtask')()\n  , PROMISE            = 'Promise'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , process            = global.process\n  , isNode             = classof(process) == 'process'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , domain  = reaction.domain\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if(handler === true)result = value;\n          else {\n            if(domain)domain.enter();\n            result = handler(value);\n            if(domain)domain.exit();\n          }\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    var value = promise._v\n      , abrupt, handler, console;\n    if(isUnhandled(promise)){\n      abrupt = perform(function(){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if(abrupt)throw abrupt.error;\n  });\n};\nvar isUnhandled = function(promise){\n  if(promise._h == 1)return false;\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit('rejectionHandled', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok     = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail   = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function(iter){\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = []\n        , index     = 0\n        , remaining = 1;\n      forOf(iterable, false, function(promise){\n        var $index        = index++\n          , alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled  = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n},{\"./_a-function\":47,\"./_an-instance\":49,\"./_classof\":56,\"./_core\":61,\"./_ctx\":63,\"./_export\":69,\"./_for-of\":71,\"./_global\":72,\"./_is-object\":81,\"./_iter-detect\":85,\"./_library\":89,\"./_microtask\":91,\"./_redefine-all\":106,\"./_set-species\":109,\"./_set-to-string-tag\":110,\"./_species-constructor\":113,\"./_task\":115,\"./_wks\":125}],140:[function(require,module,exports){\n'use strict';\nvar strong = require('./_collection-strong');\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')('Set', function(get){\n  return function Set(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value){\n    return strong.def(this, value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n},{\"./_collection\":60,\"./_collection-strong\":58}],141:[function(require,module,exports){\n'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n},{\"./_iter-define\":84,\"./_string-at\":114}],142:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar global         = require('./_global')\n  , has            = require('./_has')\n  , DESCRIPTORS    = require('./_descriptors')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , META           = require('./_meta').KEY\n  , $fails         = require('./_fails')\n  , shared         = require('./_shared')\n  , setToStringTag = require('./_set-to-string-tag')\n  , uid            = require('./_uid')\n  , wks            = require('./_wks')\n  , wksExt         = require('./_wks-ext')\n  , wksDefine      = require('./_wks-define')\n  , keyOf          = require('./_keyof')\n  , enumKeys       = require('./_enum-keys')\n  , isArray        = require('./_is-array')\n  , anObject       = require('./_an-object')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , createDesc     = require('./_property-desc')\n  , _create        = require('./_object-create')\n  , gOPNExt        = require('./_object-gopn-ext')\n  , $GOPD          = require('./_object-gopd')\n  , $DP            = require('./_object-dp')\n  , $keys          = require('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f  = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./_an-object\":50,\"./_descriptors\":65,\"./_enum-keys\":68,\"./_export\":69,\"./_fails\":70,\"./_global\":72,\"./_has\":73,\"./_hide\":74,\"./_is-array\":80,\"./_keyof\":88,\"./_library\":89,\"./_meta\":90,\"./_object-create\":93,\"./_object-dp\":94,\"./_object-gopd\":96,\"./_object-gopn\":98,\"./_object-gopn-ext\":97,\"./_object-gops\":99,\"./_object-keys\":102,\"./_object-pie\":103,\"./_property-desc\":105,\"./_redefine\":107,\"./_set-to-string-tag\":110,\"./_shared\":112,\"./_to-iobject\":118,\"./_to-primitive\":121,\"./_uid\":122,\"./_wks\":125,\"./_wks-define\":123,\"./_wks-ext\":124}],143:[function(require,module,exports){\n// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = require('./_export');\n\n$export($export.P + $export.R, 'Map', {toJSON: require('./_collection-to-json')('Map')});\n},{\"./_collection-to-json\":59,\"./_export\":69}],144:[function(require,module,exports){\n// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = require('./_export');\n\n$export($export.P + $export.R, 'Set', {toJSON: require('./_collection-to-json')('Set')});\n},{\"./_collection-to-json\":59,\"./_export\":69}],145:[function(require,module,exports){\nrequire('./_wks-define')('asyncIterator');\n},{\"./_wks-define\":123}],146:[function(require,module,exports){\nrequire('./_wks-define')('observable');\n},{\"./_wks-define\":123}],147:[function(require,module,exports){\nrequire('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n},{\"./_global\":72,\"./_hide\":74,\"./_iterators\":87,\"./_wks\":125,\"./es6.array.iterator\":130}],148:[function(require,module,exports){\narguments[4][47][0].apply(exports,arguments)\n},{\"dup\":47}],149:[function(require,module,exports){\nvar cof = require('./_cof');\nmodule.exports = function(it, msg){\n  if(typeof it != 'number' && cof(it) != 'Number')throw TypeError(msg);\n  return +it;\n};\n},{\"./_cof\":163}],150:[function(require,module,exports){\n// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables')\n  , ArrayProto  = Array.prototype;\nif(ArrayProto[UNSCOPABLES] == undefined)require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function(key){\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n},{\"./_hide\":185,\"./_wks\":262}],151:[function(require,module,exports){\narguments[4][49][0].apply(exports,arguments)\n},{\"dup\":49}],152:[function(require,module,exports){\narguments[4][50][0].apply(exports,arguments)\n},{\"./_is-object\":194,\"dup\":50}],153:[function(require,module,exports){\n// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object')\n  , toIndex  = require('./_to-index')\n  , toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target/*= 0*/, start/*= 0, end = @length*/){\n  var O     = toObject(this)\n    , len   = toLength(O.length)\n    , to    = toIndex(target, len)\n    , from  = toIndex(start, len)\n    , end   = arguments.length > 2 ? arguments[2] : undefined\n    , count = Math.min((end === undefined ? len : toIndex(end, len)) - from, len - to)\n    , inc   = 1;\n  if(from < to && to < from + count){\n    inc  = -1;\n    from += count - 1;\n    to   += count - 1;\n  }\n  while(count-- > 0){\n    if(from in O)O[to] = O[from];\n    else delete O[to];\n    to   += inc;\n    from += inc;\n  } return O;\n};\n},{\"./_to-index\":250,\"./_to-length\":253,\"./_to-object\":254}],154:[function(require,module,exports){\n// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object')\n  , toIndex  = require('./_to-index')\n  , toLength = require('./_to-length');\nmodule.exports = function fill(value /*, start = 0, end = @length */){\n  var O      = toObject(this)\n    , length = toLength(O.length)\n    , aLen   = arguments.length\n    , index  = toIndex(aLen > 1 ? arguments[1] : undefined, length)\n    , end    = aLen > 2 ? arguments[2] : undefined\n    , endPos = end === undefined ? length : toIndex(end, length);\n  while(endPos > index)O[index++] = value;\n  return O;\n};\n},{\"./_to-index\":250,\"./_to-length\":253,\"./_to-object\":254}],155:[function(require,module,exports){\narguments[4][51][0].apply(exports,arguments)\n},{\"./_for-of\":182,\"dup\":51}],156:[function(require,module,exports){\narguments[4][52][0].apply(exports,arguments)\n},{\"./_to-index\":250,\"./_to-iobject\":252,\"./_to-length\":253,\"dup\":52}],157:[function(require,module,exports){\narguments[4][53][0].apply(exports,arguments)\n},{\"./_array-species-create\":160,\"./_ctx\":170,\"./_iobject\":190,\"./_to-length\":253,\"./_to-object\":254,\"dup\":53}],158:[function(require,module,exports){\nvar aFunction = require('./_a-function')\n  , toObject  = require('./_to-object')\n  , IObject   = require('./_iobject')\n  , toLength  = require('./_to-length');\n\nmodule.exports = function(that, callbackfn, aLen, memo, isRight){\n  aFunction(callbackfn);\n  var O      = toObject(that)\n    , self   = IObject(O)\n    , length = toLength(O.length)\n    , index  = isRight ? length - 1 : 0\n    , i      = isRight ? -1 : 1;\n  if(aLen < 2)for(;;){\n    if(index in self){\n      memo = self[index];\n      index += i;\n      break;\n    }\n    index += i;\n    if(isRight ? index < 0 : length <= index){\n      throw TypeError('Reduce of empty array with no initial value');\n    }\n  }\n  for(;isRight ? index >= 0 : length > index; index += i)if(index in self){\n    memo = callbackfn(memo, self[index], index, O);\n  }\n  return memo;\n};\n},{\"./_a-function\":148,\"./_iobject\":190,\"./_to-length\":253,\"./_to-object\":254}],159:[function(require,module,exports){\narguments[4][54][0].apply(exports,arguments)\n},{\"./_is-array\":192,\"./_is-object\":194,\"./_wks\":262,\"dup\":54}],160:[function(require,module,exports){\narguments[4][55][0].apply(exports,arguments)\n},{\"./_array-species-constructor\":159,\"dup\":55}],161:[function(require,module,exports){\n'use strict';\nvar aFunction  = require('./_a-function')\n  , isObject   = require('./_is-object')\n  , invoke     = require('./_invoke')\n  , arraySlice = [].slice\n  , factories  = {};\n\nvar construct = function(F, len, args){\n  if(!(len in factories)){\n    for(var n = [], i = 0; i < len; i++)n[i] = 'a[' + i + ']';\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /*, args... */){\n  var fn       = aFunction(this)\n    , partArgs = arraySlice.call(arguments, 1);\n  var bound = function(/* args... */){\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if(isObject(fn.prototype))bound.prototype = fn.prototype;\n  return bound;\n};\n},{\"./_a-function\":148,\"./_invoke\":189,\"./_is-object\":194}],162:[function(require,module,exports){\narguments[4][56][0].apply(exports,arguments)\n},{\"./_cof\":163,\"./_wks\":262,\"dup\":56}],163:[function(require,module,exports){\narguments[4][57][0].apply(exports,arguments)\n},{\"dup\":57}],164:[function(require,module,exports){\narguments[4][58][0].apply(exports,arguments)\n},{\"./_an-instance\":151,\"./_ctx\":170,\"./_defined\":172,\"./_descriptors\":173,\"./_for-of\":182,\"./_iter-define\":198,\"./_iter-step\":200,\"./_meta\":207,\"./_object-create\":211,\"./_object-dp\":212,\"./_redefine-all\":231,\"./_set-species\":236,\"dup\":58}],165:[function(require,module,exports){\narguments[4][59][0].apply(exports,arguments)\n},{\"./_array-from-iterable\":155,\"./_classof\":162,\"dup\":59}],166:[function(require,module,exports){\n'use strict';\nvar redefineAll       = require('./_redefine-all')\n  , getWeak           = require('./_meta').getWeak\n  , anObject          = require('./_an-object')\n  , isObject          = require('./_is-object')\n  , anInstance        = require('./_an-instance')\n  , forOf             = require('./_for-of')\n  , createArrayMethod = require('./_array-methods')\n  , $has              = require('./_has')\n  , arrayFind         = createArrayMethod(5)\n  , arrayFindIndex    = createArrayMethod(6)\n  , id                = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function(that){\n  return that._l || (that._l = new UncaughtFrozenStore);\n};\nvar UncaughtFrozenStore = function(){\n  this.a = [];\n};\nvar findUncaughtFrozen = function(store, key){\n  return arrayFind(store.a, function(it){\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function(key){\n    var entry = findUncaughtFrozen(this, key);\n    if(entry)return entry[1];\n  },\n  has: function(key){\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function(key, value){\n    var entry = findUncaughtFrozen(this, key);\n    if(entry)entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function(key){\n    var index = arrayFindIndex(this.a, function(it){\n      return it[0] === key;\n    });\n    if(~index)this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function(key){\n        if(!isObject(key))return false;\n        var data = getWeak(key);\n        if(data === true)return uncaughtFrozenStore(this)['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key){\n        if(!isObject(key))return false;\n        var data = getWeak(key);\n        if(data === true)return uncaughtFrozenStore(this).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var data = getWeak(anObject(key), true);\n    if(data === true)uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n},{\"./_an-instance\":151,\"./_an-object\":152,\"./_array-methods\":157,\"./_for-of\":182,\"./_has\":184,\"./_is-object\":194,\"./_meta\":207,\"./_redefine-all\":231}],167:[function(require,module,exports){\n'use strict';\nvar global            = require('./_global')\n  , $export           = require('./_export')\n  , redefine          = require('./_redefine')\n  , redefineAll       = require('./_redefine-all')\n  , meta              = require('./_meta')\n  , forOf             = require('./_for-of')\n  , anInstance        = require('./_an-instance')\n  , isObject          = require('./_is-object')\n  , fails             = require('./_fails')\n  , $iterDetect       = require('./_iter-detect')\n  , setToStringTag    = require('./_set-to-string-tag')\n  , inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){\n  var Base  = global[NAME]\n    , C     = Base\n    , ADDER = IS_MAP ? 'set' : 'add'\n    , proto = C && C.prototype\n    , O     = {};\n  var fixMethod = function(KEY){\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function(a){\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a){\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a){\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a){ fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b){ fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if(typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){\n    new C().entries().next();\n  }))){\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance             = new C\n      // early implementations not supports chaining\n      , HASNT_CHAINING       = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance\n      // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n      , THROWS_ON_PRIMITIVES = fails(function(){ instance.has(1); })\n      // most early implementations doesn't supports iterables, most modern - not close it correctly\n      , ACCEPT_ITERABLES     = $iterDetect(function(iter){ new C(iter); }) // eslint-disable-line no-new\n      // for early implementations -0 and +0 not the same\n      , BUGGY_ZERO = !IS_WEAK && fails(function(){\n        // V8 ~ Chromium 42- fails only with 5+ elements\n        var $instance = new C()\n          , index     = 5;\n        while(index--)$instance[ADDER](index, index);\n        return !$instance.has(-0);\n      });\n    if(!ACCEPT_ITERABLES){ \n      C = wrapper(function(target, iterable){\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base, target, C);\n        if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if(THROWS_ON_PRIMITIVES || BUGGY_ZERO){\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if(BUGGY_ZERO || HASNT_CHAINING)fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if(IS_WEAK && proto.clear)delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n},{\"./_an-instance\":151,\"./_export\":177,\"./_fails\":179,\"./_for-of\":182,\"./_global\":183,\"./_inherit-if-required\":188,\"./_is-object\":194,\"./_iter-detect\":199,\"./_meta\":207,\"./_redefine\":232,\"./_redefine-all\":231,\"./_set-to-string-tag\":237}],168:[function(require,module,exports){\narguments[4][61][0].apply(exports,arguments)\n},{\"dup\":61}],169:[function(require,module,exports){\narguments[4][62][0].apply(exports,arguments)\n},{\"./_object-dp\":212,\"./_property-desc\":230,\"dup\":62}],170:[function(require,module,exports){\narguments[4][63][0].apply(exports,arguments)\n},{\"./_a-function\":148,\"dup\":63}],171:[function(require,module,exports){\n'use strict';\nvar anObject    = require('./_an-object')\n  , toPrimitive = require('./_to-primitive')\n  , NUMBER      = 'number';\n\nmodule.exports = function(hint){\n  if(hint !== 'string' && hint !== NUMBER && hint !== 'default')throw TypeError('Incorrect hint');\n  return toPrimitive(anObject(this), hint != NUMBER);\n};\n},{\"./_an-object\":152,\"./_to-primitive\":255}],172:[function(require,module,exports){\narguments[4][64][0].apply(exports,arguments)\n},{\"dup\":64}],173:[function(require,module,exports){\narguments[4][65][0].apply(exports,arguments)\n},{\"./_fails\":179,\"dup\":65}],174:[function(require,module,exports){\narguments[4][66][0].apply(exports,arguments)\n},{\"./_global\":183,\"./_is-object\":194,\"dup\":66}],175:[function(require,module,exports){\narguments[4][67][0].apply(exports,arguments)\n},{\"dup\":67}],176:[function(require,module,exports){\narguments[4][68][0].apply(exports,arguments)\n},{\"./_object-gops\":218,\"./_object-keys\":221,\"./_object-pie\":222,\"dup\":68}],177:[function(require,module,exports){\nvar global    = require('./_global')\n  , core      = require('./_core')\n  , hide      = require('./_hide')\n  , redefine  = require('./_redefine')\n  , ctx       = require('./_ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE]\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE] || (exports[PROTOTYPE] = {})\n    , key, own, out, exp;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if(target)redefine(target, key, out, type & $export.U);\n    // export\n    if(exports[key] != out)hide(exports, key, exp);\n    if(IS_PROTO && expProto[key] != out)expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n},{\"./_core\":168,\"./_ctx\":170,\"./_global\":183,\"./_hide\":185,\"./_redefine\":232}],178:[function(require,module,exports){\nvar MATCH = require('./_wks')('match');\nmodule.exports = function(KEY){\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch(e){\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch(f){ /* empty */ }\n  } return true;\n};\n},{\"./_wks\":262}],179:[function(require,module,exports){\narguments[4][70][0].apply(exports,arguments)\n},{\"dup\":70}],180:[function(require,module,exports){\n'use strict';\nvar hide     = require('./_hide')\n  , redefine = require('./_redefine')\n  , fails    = require('./_fails')\n  , defined  = require('./_defined')\n  , wks      = require('./_wks');\n\nmodule.exports = function(KEY, length, exec){\n  var SYMBOL   = wks(KEY)\n    , fns      = exec(defined, SYMBOL, ''[KEY])\n    , strfn    = fns[0]\n    , rxfn     = fns[1];\n  if(fails(function(){\n    var O = {};\n    O[SYMBOL] = function(){ return 7; };\n    return ''[KEY](O) != 7;\n  })){\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function(string, arg){ return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function(string){ return rxfn.call(string, this); }\n    );\n  }\n};\n},{\"./_defined\":172,\"./_fails\":179,\"./_hide\":185,\"./_redefine\":232,\"./_wks\":262}],181:[function(require,module,exports){\n'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function(){\n  var that   = anObject(this)\n    , result = '';\n  if(that.global)     result += 'g';\n  if(that.ignoreCase) result += 'i';\n  if(that.multiline)  result += 'm';\n  if(that.unicode)    result += 'u';\n  if(that.sticky)     result += 'y';\n  return result;\n};\n},{\"./_an-object\":152}],182:[function(require,module,exports){\narguments[4][71][0].apply(exports,arguments)\n},{\"./_an-object\":152,\"./_ctx\":170,\"./_is-array-iter\":191,\"./_iter-call\":196,\"./_to-length\":253,\"./core.get-iterator-method\":263,\"dup\":71}],183:[function(require,module,exports){\narguments[4][72][0].apply(exports,arguments)\n},{\"dup\":72}],184:[function(require,module,exports){\narguments[4][73][0].apply(exports,arguments)\n},{\"dup\":73}],185:[function(require,module,exports){\narguments[4][74][0].apply(exports,arguments)\n},{\"./_descriptors\":173,\"./_object-dp\":212,\"./_property-desc\":230,\"dup\":74}],186:[function(require,module,exports){\narguments[4][75][0].apply(exports,arguments)\n},{\"./_global\":183,\"dup\":75}],187:[function(require,module,exports){\narguments[4][76][0].apply(exports,arguments)\n},{\"./_descriptors\":173,\"./_dom-create\":174,\"./_fails\":179,\"dup\":76}],188:[function(require,module,exports){\nvar isObject       = require('./_is-object')\n  , setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function(that, target, C){\n  var P, S = target.constructor;\n  if(S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf){\n    setPrototypeOf(that, P);\n  } return that;\n};\n},{\"./_is-object\":194,\"./_set-proto\":235}],189:[function(require,module,exports){\narguments[4][77][0].apply(exports,arguments)\n},{\"dup\":77}],190:[function(require,module,exports){\narguments[4][78][0].apply(exports,arguments)\n},{\"./_cof\":163,\"dup\":78}],191:[function(require,module,exports){\narguments[4][79][0].apply(exports,arguments)\n},{\"./_iterators\":201,\"./_wks\":262,\"dup\":79}],192:[function(require,module,exports){\narguments[4][80][0].apply(exports,arguments)\n},{\"./_cof\":163,\"dup\":80}],193:[function(require,module,exports){\n// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object')\n  , floor    = Math.floor;\nmodule.exports = function isInteger(it){\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n},{\"./_is-object\":194}],194:[function(require,module,exports){\narguments[4][81][0].apply(exports,arguments)\n},{\"dup\":81}],195:[function(require,module,exports){\n// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object')\n  , cof      = require('./_cof')\n  , MATCH    = require('./_wks')('match');\nmodule.exports = function(it){\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n},{\"./_cof\":163,\"./_is-object\":194,\"./_wks\":262}],196:[function(require,module,exports){\narguments[4][82][0].apply(exports,arguments)\n},{\"./_an-object\":152,\"dup\":82}],197:[function(require,module,exports){\narguments[4][83][0].apply(exports,arguments)\n},{\"./_hide\":185,\"./_object-create\":211,\"./_property-desc\":230,\"./_set-to-string-tag\":237,\"./_wks\":262,\"dup\":83}],198:[function(require,module,exports){\narguments[4][84][0].apply(exports,arguments)\n},{\"./_export\":177,\"./_has\":184,\"./_hide\":185,\"./_iter-create\":197,\"./_iterators\":201,\"./_library\":203,\"./_object-gpo\":219,\"./_redefine\":232,\"./_set-to-string-tag\":237,\"./_wks\":262,\"dup\":84}],199:[function(require,module,exports){\narguments[4][85][0].apply(exports,arguments)\n},{\"./_wks\":262,\"dup\":85}],200:[function(require,module,exports){\narguments[4][86][0].apply(exports,arguments)\n},{\"dup\":86}],201:[function(require,module,exports){\narguments[4][87][0].apply(exports,arguments)\n},{\"dup\":87}],202:[function(require,module,exports){\narguments[4][88][0].apply(exports,arguments)\n},{\"./_object-keys\":221,\"./_to-iobject\":252,\"dup\":88}],203:[function(require,module,exports){\nmodule.exports = false;\n},{}],204:[function(require,module,exports){\n// 20.2.2.14 Math.expm1(x)\nvar $expm1 = Math.expm1;\nmodule.exports = (!$expm1\n  // Old FF bug\n  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || $expm1(-2e-17) != -2e-17\n) ? function expm1(x){\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n} : $expm1;\n},{}],205:[function(require,module,exports){\n// 20.2.2.20 Math.log1p(x)\nmodule.exports = Math.log1p || function log1p(x){\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);\n};\n},{}],206:[function(require,module,exports){\n// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x){\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n},{}],207:[function(require,module,exports){\narguments[4][90][0].apply(exports,arguments)\n},{\"./_fails\":179,\"./_has\":184,\"./_is-object\":194,\"./_object-dp\":212,\"./_uid\":259,\"dup\":90}],208:[function(require,module,exports){\nvar Map     = require('./es6.map')\n  , $export = require('./_export')\n  , shared  = require('./_shared')('metadata')\n  , store   = shared.store || (shared.store = new (require('./es6.weak-map')));\n\nvar getOrCreateMetadataMap = function(target, targetKey, create){\n  var targetMetadata = store.get(target);\n  if(!targetMetadata){\n    if(!create)return undefined;\n    store.set(target, targetMetadata = new Map);\n  }\n  var keyMetadata = targetMetadata.get(targetKey);\n  if(!keyMetadata){\n    if(!create)return undefined;\n    targetMetadata.set(targetKey, keyMetadata = new Map);\n  } return keyMetadata;\n};\nvar ordinaryHasOwnMetadata = function(MetadataKey, O, P){\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? false : metadataMap.has(MetadataKey);\n};\nvar ordinaryGetOwnMetadata = function(MetadataKey, O, P){\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey);\n};\nvar ordinaryDefineOwnMetadata = function(MetadataKey, MetadataValue, O, P){\n  getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue);\n};\nvar ordinaryOwnMetadataKeys = function(target, targetKey){\n  var metadataMap = getOrCreateMetadataMap(target, targetKey, false)\n    , keys        = [];\n  if(metadataMap)metadataMap.forEach(function(_, key){ keys.push(key); });\n  return keys;\n};\nvar toMetaKey = function(it){\n  return it === undefined || typeof it == 'symbol' ? it : String(it);\n};\nvar exp = function(O){\n  $export($export.S, 'Reflect', O);\n};\n\nmodule.exports = {\n  store: store,\n  map: getOrCreateMetadataMap,\n  has: ordinaryHasOwnMetadata,\n  get: ordinaryGetOwnMetadata,\n  set: ordinaryDefineOwnMetadata,\n  keys: ordinaryOwnMetadataKeys,\n  key: toMetaKey,\n  exp: exp\n};\n},{\"./_export\":177,\"./_shared\":239,\"./es6.map\":294,\"./es6.weak-map\":400}],209:[function(require,module,exports){\narguments[4][91][0].apply(exports,arguments)\n},{\"./_cof\":163,\"./_global\":183,\"./_task\":249,\"dup\":91}],210:[function(require,module,exports){\narguments[4][92][0].apply(exports,arguments)\n},{\"./_fails\":179,\"./_iobject\":190,\"./_object-gops\":218,\"./_object-keys\":221,\"./_object-pie\":222,\"./_to-object\":254,\"dup\":92}],211:[function(require,module,exports){\narguments[4][93][0].apply(exports,arguments)\n},{\"./_an-object\":152,\"./_dom-create\":174,\"./_enum-bug-keys\":175,\"./_html\":186,\"./_object-dps\":213,\"./_shared-key\":238,\"dup\":93}],212:[function(require,module,exports){\narguments[4][94][0].apply(exports,arguments)\n},{\"./_an-object\":152,\"./_descriptors\":173,\"./_ie8-dom-define\":187,\"./_to-primitive\":255,\"dup\":94}],213:[function(require,module,exports){\narguments[4][95][0].apply(exports,arguments)\n},{\"./_an-object\":152,\"./_descriptors\":173,\"./_object-dp\":212,\"./_object-keys\":221,\"dup\":95}],214:[function(require,module,exports){\n// Forced replacement prototype accessors methods\nmodule.exports = require('./_library')|| !require('./_fails')(function(){\n  var K = Math.random();\n  // In FF throws only define methods\n  __defineSetter__.call(null, K, function(){ /* empty */});\n  delete require('./_global')[K];\n});\n},{\"./_fails\":179,\"./_global\":183,\"./_library\":203}],215:[function(require,module,exports){\narguments[4][96][0].apply(exports,arguments)\n},{\"./_descriptors\":173,\"./_has\":184,\"./_ie8-dom-define\":187,\"./_object-pie\":222,\"./_property-desc\":230,\"./_to-iobject\":252,\"./_to-primitive\":255,\"dup\":96}],216:[function(require,module,exports){\narguments[4][97][0].apply(exports,arguments)\n},{\"./_object-gopn\":217,\"./_to-iobject\":252,\"dup\":97}],217:[function(require,module,exports){\narguments[4][98][0].apply(exports,arguments)\n},{\"./_enum-bug-keys\":175,\"./_object-keys-internal\":220,\"dup\":98}],218:[function(require,module,exports){\narguments[4][99][0].apply(exports,arguments)\n},{\"dup\":99}],219:[function(require,module,exports){\narguments[4][100][0].apply(exports,arguments)\n},{\"./_has\":184,\"./_shared-key\":238,\"./_to-object\":254,\"dup\":100}],220:[function(require,module,exports){\narguments[4][101][0].apply(exports,arguments)\n},{\"./_array-includes\":156,\"./_has\":184,\"./_shared-key\":238,\"./_to-iobject\":252,\"dup\":101}],221:[function(require,module,exports){\narguments[4][102][0].apply(exports,arguments)\n},{\"./_enum-bug-keys\":175,\"./_object-keys-internal\":220,\"dup\":102}],222:[function(require,module,exports){\narguments[4][103][0].apply(exports,arguments)\n},{\"dup\":103}],223:[function(require,module,exports){\narguments[4][104][0].apply(exports,arguments)\n},{\"./_core\":168,\"./_export\":177,\"./_fails\":179,\"dup\":104}],224:[function(require,module,exports){\nvar getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject')\n  , isEnum    = require('./_object-pie').f;\nmodule.exports = function(isEntries){\n  return function(it){\n    var O      = toIObject(it)\n      , keys   = getKeys(O)\n      , length = keys.length\n      , i      = 0\n      , result = []\n      , key;\n    while(length > i)if(isEnum.call(O, key = keys[i++])){\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n},{\"./_object-keys\":221,\"./_object-pie\":222,\"./_to-iobject\":252}],225:[function(require,module,exports){\n// all object keys, includes non-enumerable and symbols\nvar gOPN     = require('./_object-gopn')\n  , gOPS     = require('./_object-gops')\n  , anObject = require('./_an-object')\n  , Reflect  = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it){\n  var keys       = gOPN.f(anObject(it))\n    , getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n},{\"./_an-object\":152,\"./_global\":183,\"./_object-gopn\":217,\"./_object-gops\":218}],226:[function(require,module,exports){\nvar $parseFloat = require('./_global').parseFloat\n  , $trim       = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str){\n  var string = $trim(String(str), 3)\n    , result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n},{\"./_global\":183,\"./_string-trim\":247,\"./_string-ws\":248}],227:[function(require,module,exports){\nvar $parseInt = require('./_global').parseInt\n  , $trim     = require('./_string-trim').trim\n  , ws        = require('./_string-ws')\n  , hex       = /^[\\-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix){\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n},{\"./_global\":183,\"./_string-trim\":247,\"./_string-ws\":248}],228:[function(require,module,exports){\n'use strict';\nvar path      = require('./_path')\n  , invoke    = require('./_invoke')\n  , aFunction = require('./_a-function');\nmodule.exports = function(/* ...pargs */){\n  var fn     = aFunction(this)\n    , length = arguments.length\n    , pargs  = Array(length)\n    , i      = 0\n    , _      = path._\n    , holder = false;\n  while(length > i)if((pargs[i] = arguments[i++]) === _)holder = true;\n  return function(/* ...args */){\n    var that = this\n      , aLen = arguments.length\n      , j = 0, k = 0, args;\n    if(!holder && !aLen)return invoke(fn, pargs, that);\n    args = pargs.slice();\n    if(holder)for(;length > j; j++)if(args[j] === _)args[j] = arguments[k++];\n    while(aLen > k)args.push(arguments[k++]);\n    return invoke(fn, args, that);\n  };\n};\n},{\"./_a-function\":148,\"./_invoke\":189,\"./_path\":229}],229:[function(require,module,exports){\nmodule.exports = require('./_global');\n},{\"./_global\":183}],230:[function(require,module,exports){\narguments[4][105][0].apply(exports,arguments)\n},{\"dup\":105}],231:[function(require,module,exports){\nvar redefine = require('./_redefine');\nmodule.exports = function(target, src, safe){\n  for(var key in src)redefine(target, key, src[key], safe);\n  return target;\n};\n},{\"./_redefine\":232}],232:[function(require,module,exports){\nvar global    = require('./_global')\n  , hide      = require('./_hide')\n  , has       = require('./_has')\n  , SRC       = require('./_uid')('src')\n  , TO_STRING = 'toString'\n  , $toString = Function[TO_STRING]\n  , TPL       = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function(it){\n  return $toString.call(it);\n};\n\n(module.exports = function(O, key, val, safe){\n  var isFunction = typeof val == 'function';\n  if(isFunction)has(val, 'name') || hide(val, 'name', key);\n  if(O[key] === val)return;\n  if(isFunction)has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if(O === global){\n    O[key] = val;\n  } else {\n    if(!safe){\n      delete O[key];\n      hide(O, key, val);\n    } else {\n      if(O[key])O[key] = val;\n      else hide(O, key, val);\n    }\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString(){\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n},{\"./_core\":168,\"./_global\":183,\"./_has\":184,\"./_hide\":185,\"./_uid\":259}],233:[function(require,module,exports){\nmodule.exports = function(regExp, replace){\n  var replacer = replace === Object(replace) ? function(part){\n    return replace[part];\n  } : replace;\n  return function(it){\n    return String(it).replace(regExp, replacer);\n  };\n};\n},{}],234:[function(require,module,exports){\n// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y){\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n},{}],235:[function(require,module,exports){\narguments[4][108][0].apply(exports,arguments)\n},{\"./_an-object\":152,\"./_ctx\":170,\"./_is-object\":194,\"./_object-gopd\":215,\"dup\":108}],236:[function(require,module,exports){\n'use strict';\nvar global      = require('./_global')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n},{\"./_descriptors\":173,\"./_global\":183,\"./_object-dp\":212,\"./_wks\":262}],237:[function(require,module,exports){\narguments[4][110][0].apply(exports,arguments)\n},{\"./_has\":184,\"./_object-dp\":212,\"./_wks\":262,\"dup\":110}],238:[function(require,module,exports){\narguments[4][111][0].apply(exports,arguments)\n},{\"./_shared\":239,\"./_uid\":259,\"dup\":111}],239:[function(require,module,exports){\narguments[4][112][0].apply(exports,arguments)\n},{\"./_global\":183,\"dup\":112}],240:[function(require,module,exports){\narguments[4][113][0].apply(exports,arguments)\n},{\"./_a-function\":148,\"./_an-object\":152,\"./_wks\":262,\"dup\":113}],241:[function(require,module,exports){\nvar fails = require('./_fails');\n\nmodule.exports = function(method, arg){\n  return !!method && fails(function(){\n    arg ? method.call(null, function(){}, 1) : method.call(null);\n  });\n};\n},{\"./_fails\":179}],242:[function(require,module,exports){\narguments[4][114][0].apply(exports,arguments)\n},{\"./_defined\":172,\"./_to-integer\":251,\"dup\":114}],243:[function(require,module,exports){\n// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp')\n  , defined  = require('./_defined');\n\nmodule.exports = function(that, searchString, NAME){\n  if(isRegExp(searchString))throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n},{\"./_defined\":172,\"./_is-regexp\":195}],244:[function(require,module,exports){\nvar $export = require('./_export')\n  , fails   = require('./_fails')\n  , defined = require('./_defined')\n  , quot    = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function(string, tag, attribute, value) {\n  var S  = String(defined(string))\n    , p1 = '<' + tag;\n  if(attribute !== '')p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function(NAME, exec){\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function(){\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n},{\"./_defined\":172,\"./_export\":177,\"./_fails\":179}],245:[function(require,module,exports){\n// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length')\n  , repeat   = require('./_string-repeat')\n  , defined  = require('./_defined');\n\nmodule.exports = function(that, maxLength, fillString, left){\n  var S            = String(defined(that))\n    , stringLength = S.length\n    , fillStr      = fillString === undefined ? ' ' : String(fillString)\n    , intMaxLength = toLength(maxLength);\n  if(intMaxLength <= stringLength || fillStr == '')return S;\n  var fillLen = intMaxLength - stringLength\n    , stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if(stringFiller.length > fillLen)stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n\n},{\"./_defined\":172,\"./_string-repeat\":246,\"./_to-length\":253}],246:[function(require,module,exports){\n'use strict';\nvar toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n\nmodule.exports = function repeat(count){\n  var str = String(defined(this))\n    , res = ''\n    , n   = toInteger(count);\n  if(n < 0 || n == Infinity)throw RangeError(\"Count can't be negative\");\n  for(;n > 0; (n >>>= 1) && (str += str))if(n & 1)res += str;\n  return res;\n};\n},{\"./_defined\":172,\"./_to-integer\":251}],247:[function(require,module,exports){\nvar $export = require('./_export')\n  , defined = require('./_defined')\n  , fails   = require('./_fails')\n  , spaces  = require('./_string-ws')\n  , space   = '[' + spaces + ']'\n  , non     = '\\u200b\\u0085'\n  , ltrim   = RegExp('^' + space + space + '*')\n  , rtrim   = RegExp(space + space + '*$');\n\nvar exporter = function(KEY, exec, ALIAS){\n  var exp   = {};\n  var FORCE = fails(function(){\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if(ALIAS)exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function(string, TYPE){\n  string = String(defined(string));\n  if(TYPE & 1)string = string.replace(ltrim, '');\n  if(TYPE & 2)string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n},{\"./_defined\":172,\"./_export\":177,\"./_fails\":179,\"./_string-ws\":248}],248:[function(require,module,exports){\nmodule.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n},{}],249:[function(require,module,exports){\narguments[4][115][0].apply(exports,arguments)\n},{\"./_cof\":163,\"./_ctx\":170,\"./_dom-create\":174,\"./_global\":183,\"./_html\":186,\"./_invoke\":189,\"dup\":115}],250:[function(require,module,exports){\narguments[4][116][0].apply(exports,arguments)\n},{\"./_to-integer\":251,\"dup\":116}],251:[function(require,module,exports){\narguments[4][117][0].apply(exports,arguments)\n},{\"dup\":117}],252:[function(require,module,exports){\narguments[4][118][0].apply(exports,arguments)\n},{\"./_defined\":172,\"./_iobject\":190,\"dup\":118}],253:[function(require,module,exports){\narguments[4][119][0].apply(exports,arguments)\n},{\"./_to-integer\":251,\"dup\":119}],254:[function(require,module,exports){\narguments[4][120][0].apply(exports,arguments)\n},{\"./_defined\":172,\"dup\":120}],255:[function(require,module,exports){\narguments[4][121][0].apply(exports,arguments)\n},{\"./_is-object\":194,\"dup\":121}],256:[function(require,module,exports){\n'use strict';\nif(require('./_descriptors')){\n  var LIBRARY             = require('./_library')\n    , global              = require('./_global')\n    , fails               = require('./_fails')\n    , $export             = require('./_export')\n    , $typed              = require('./_typed')\n    , $buffer             = require('./_typed-buffer')\n    , ctx                 = require('./_ctx')\n    , anInstance          = require('./_an-instance')\n    , propertyDesc        = require('./_property-desc')\n    , hide                = require('./_hide')\n    , redefineAll         = require('./_redefine-all')\n    , toInteger           = require('./_to-integer')\n    , toLength            = require('./_to-length')\n    , toIndex             = require('./_to-index')\n    , toPrimitive         = require('./_to-primitive')\n    , has                 = require('./_has')\n    , same                = require('./_same-value')\n    , classof             = require('./_classof')\n    , isObject            = require('./_is-object')\n    , toObject            = require('./_to-object')\n    , isArrayIter         = require('./_is-array-iter')\n    , create              = require('./_object-create')\n    , getPrototypeOf      = require('./_object-gpo')\n    , gOPN                = require('./_object-gopn').f\n    , getIterFn           = require('./core.get-iterator-method')\n    , uid                 = require('./_uid')\n    , wks                 = require('./_wks')\n    , createArrayMethod   = require('./_array-methods')\n    , createArrayIncludes = require('./_array-includes')\n    , speciesConstructor  = require('./_species-constructor')\n    , ArrayIterators      = require('./es6.array.iterator')\n    , Iterators           = require('./_iterators')\n    , $iterDetect         = require('./_iter-detect')\n    , setSpecies          = require('./_set-species')\n    , arrayFill           = require('./_array-fill')\n    , arrayCopyWithin     = require('./_array-copy-within')\n    , $DP                 = require('./_object-dp')\n    , $GOPD               = require('./_object-gopd')\n    , dP                  = $DP.f\n    , gOPD                = $GOPD.f\n    , RangeError          = global.RangeError\n    , TypeError           = global.TypeError\n    , Uint8Array          = global.Uint8Array\n    , ARRAY_BUFFER        = 'ArrayBuffer'\n    , SHARED_BUFFER       = 'Shared' + ARRAY_BUFFER\n    , BYTES_PER_ELEMENT   = 'BYTES_PER_ELEMENT'\n    , PROTOTYPE           = 'prototype'\n    , ArrayProto          = Array[PROTOTYPE]\n    , $ArrayBuffer        = $buffer.ArrayBuffer\n    , $DataView           = $buffer.DataView\n    , arrayForEach        = createArrayMethod(0)\n    , arrayFilter         = createArrayMethod(2)\n    , arraySome           = createArrayMethod(3)\n    , arrayEvery          = createArrayMethod(4)\n    , arrayFind           = createArrayMethod(5)\n    , arrayFindIndex      = createArrayMethod(6)\n    , arrayIncludes       = createArrayIncludes(true)\n    , arrayIndexOf        = createArrayIncludes(false)\n    , arrayValues         = ArrayIterators.values\n    , arrayKeys           = ArrayIterators.keys\n    , arrayEntries        = ArrayIterators.entries\n    , arrayLastIndexOf    = ArrayProto.lastIndexOf\n    , arrayReduce         = ArrayProto.reduce\n    , arrayReduceRight    = ArrayProto.reduceRight\n    , arrayJoin           = ArrayProto.join\n    , arraySort           = ArrayProto.sort\n    , arraySlice          = ArrayProto.slice\n    , arrayToString       = ArrayProto.toString\n    , arrayToLocaleString = ArrayProto.toLocaleString\n    , ITERATOR            = wks('iterator')\n    , TAG                 = wks('toStringTag')\n    , TYPED_CONSTRUCTOR   = uid('typed_constructor')\n    , DEF_CONSTRUCTOR     = uid('def_constructor')\n    , ALL_CONSTRUCTORS    = $typed.CONSTR\n    , TYPED_ARRAY         = $typed.TYPED\n    , VIEW                = $typed.VIEW\n    , WRONG_LENGTH        = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function(O, length){\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function(){\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function(){\n    new Uint8Array(1).set({});\n  });\n\n  var strictToLength = function(it, SAME){\n    if(it === undefined)throw TypeError(WRONG_LENGTH);\n    var number = +it\n      , length = toLength(it);\n    if(SAME && !same(number, length))throw RangeError(WRONG_LENGTH);\n    return length;\n  };\n\n  var toOffset = function(it, BYTES){\n    var offset = toInteger(it);\n    if(offset < 0 || offset % BYTES)throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function(it){\n    if(isObject(it) && TYPED_ARRAY in it)return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function(C, length){\n    if(!(isObject(C) && TYPED_CONSTRUCTOR in C)){\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function(O, list){\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function(C, list){\n    var index  = 0\n      , length = list.length\n      , result = allocate(C, length);\n    while(length > index)result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function(it, key, internal){\n    dP(it, key, {get: function(){ return this._d[internal]; }});\n  };\n\n  var $from = function from(source /*, mapfn, thisArg */){\n    var O       = toObject(source)\n      , aLen    = arguments.length\n      , mapfn   = aLen > 1 ? arguments[1] : undefined\n      , mapping = mapfn !== undefined\n      , iterFn  = getIterFn(O)\n      , i, length, values, result, step, iterator;\n    if(iterFn != undefined && !isArrayIter(iterFn)){\n      for(iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++){\n        values.push(step.value);\n      } O = values;\n    }\n    if(mapping && aLen > 2)mapfn = ctx(mapfn, arguments[2], 2);\n    for(i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++){\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/*...items*/){\n    var index  = 0\n      , length = arguments.length\n      , result = allocate(this, length);\n    while(length > index)result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function(){ arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString(){\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /*, end */){\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /*, thisArg */){\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /*, start, end */){ // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /*, thisArg */){\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /*, thisArg */){\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /*, thisArg */){\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /*, thisArg */){\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /*, fromIndex */){\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /*, fromIndex */){\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator){ // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /*, fromIndex */){ // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /*, thisArg */){\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /*, initialValue */){ // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /*, initialValue */){ // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse(){\n      var that   = this\n        , length = validate(that).length\n        , middle = Math.floor(length / 2)\n        , index  = 0\n        , value;\n      while(index < middle){\n        value         = that[index];\n        that[index++] = that[--length];\n        that[length]  = value;\n      } return that;\n    },\n    some: function some(callbackfn /*, thisArg */){\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn){\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end){\n      var O      = validate(this)\n        , length = O.length\n        , $begin = toIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end){\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /*, offset */){\n    validate(this);\n    var offset = toOffset(arguments[1], 1)\n      , length = this.length\n      , src    = toObject(arrayLike)\n      , len    = toLength(src.length)\n      , index  = 0;\n    if(len + offset > length)throw RangeError(WRONG_LENGTH);\n    while(index < len)this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries(){\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys(){\n      return arrayKeys.call(validate(this));\n    },\n    values: function values(){\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function(target, key){\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key){\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc){\n    if(isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ){\n      target[key] = desc.value;\n      return target;\n    } else return dP(target, key, desc);\n  };\n\n  if(!ALL_CONSTRUCTORS){\n    $GOPD.f = $getDesc;\n    $DP.f   = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty:           $setDesc\n  });\n\n  if(fails(function(){ arrayToString.call({}); })){\n    arrayToString = arrayToLocaleString = function toString(){\n      return arrayJoin.call(this);\n    }\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice:          $slice,\n    set:            $set,\n    constructor:    function(){ /* noop */ },\n    toString:       arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function(){ return this[TYPED_ARRAY]; }\n  });\n\n  module.exports = function(KEY, BYTES, wrapper, CLAMPED){\n    CLAMPED = !!CLAMPED;\n    var NAME       = KEY + (CLAMPED ? 'Clamped' : '') + 'Array'\n      , ISNT_UINT8 = NAME != 'Uint8Array'\n      , GETTER     = 'get' + KEY\n      , SETTER     = 'set' + KEY\n      , TypedArray = global[NAME]\n      , Base       = TypedArray || {}\n      , TAC        = TypedArray && getPrototypeOf(TypedArray)\n      , FORCED     = !TypedArray || !$typed.ABV\n      , O          = {}\n      , TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function(that, index){\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function(that, index, value){\n      var data = that._d;\n      if(CLAMPED)value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function(that, index){\n      dP(that, index, {\n        get: function(){\n          return getter(this, index);\n        },\n        set: function(value){\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if(FORCED){\n      TypedArray = wrapper(function(that, data, $offset, $length){\n        anInstance(that, TypedArray, NAME, '_d');\n        var index  = 0\n          , offset = 0\n          , buffer, byteLength, length, klass;\n        if(!isObject(data)){\n          length     = strictToLength(data, true)\n          byteLength = length * BYTES;\n          buffer     = new $ArrayBuffer(byteLength);\n        } else if(data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER){\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if($length === undefined){\n            if($len % BYTES)throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if(byteLength < 0)throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if(byteLength + offset > $len)throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if(TYPED_ARRAY in data){\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while(index < length)addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if(!$iterDetect(function(iter){\n      // V8 works with iterators, but fails in many other cases\n      // https://code.google.com/p/v8/issues/detail?id=4552\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)){\n      TypedArray = wrapper(function(that, data, $offset, $length){\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if(!isObject(data))return new Base(strictToLength(data, ISNT_UINT8));\n        if(data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER){\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if(TYPED_ARRAY in data)return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function(key){\n        if(!(key in TypedArray))hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if(!LIBRARY)TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator   = TypedArrayPrototype[ITERATOR]\n      , CORRECT_ITER_NAME = !!$nativeIterator && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined)\n      , $iterator         = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if(CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)){\n      dP(TypedArrayPrototype, TAG, {\n        get: function(){ return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES,\n      from: $from,\n      of: $of\n    });\n\n    if(!(BYTES_PER_ELEMENT in TypedArrayPrototype))hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, {set: $set});\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    $export($export.P + $export.F * (TypedArrayPrototype.toString != arrayToString), NAME, {toString: arrayToString});\n\n    $export($export.P + $export.F * fails(function(){\n      new TypedArray(1).slice();\n    }), NAME, {slice: $slice});\n\n    $export($export.P + $export.F * (fails(function(){\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString()\n    }) || !fails(function(){\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, {toLocaleString: $toLocaleString});\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if(!LIBRARY && !CORRECT_ITER_NAME)hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function(){ /* empty */ };\n},{\"./_an-instance\":151,\"./_array-copy-within\":153,\"./_array-fill\":154,\"./_array-includes\":156,\"./_array-methods\":157,\"./_classof\":162,\"./_ctx\":170,\"./_descriptors\":173,\"./_export\":177,\"./_fails\":179,\"./_global\":183,\"./_has\":184,\"./_hide\":185,\"./_is-array-iter\":191,\"./_is-object\":194,\"./_iter-detect\":199,\"./_iterators\":201,\"./_library\":203,\"./_object-create\":211,\"./_object-dp\":212,\"./_object-gopd\":215,\"./_object-gopn\":217,\"./_object-gpo\":219,\"./_property-desc\":230,\"./_redefine-all\":231,\"./_same-value\":234,\"./_set-species\":236,\"./_species-constructor\":240,\"./_to-index\":250,\"./_to-integer\":251,\"./_to-length\":253,\"./_to-object\":254,\"./_to-primitive\":255,\"./_typed\":258,\"./_typed-buffer\":257,\"./_uid\":259,\"./_wks\":262,\"./core.get-iterator-method\":263,\"./es6.array.iterator\":275}],257:[function(require,module,exports){\n'use strict';\nvar global         = require('./_global')\n  , DESCRIPTORS    = require('./_descriptors')\n  , LIBRARY        = require('./_library')\n  , $typed         = require('./_typed')\n  , hide           = require('./_hide')\n  , redefineAll    = require('./_redefine-all')\n  , fails          = require('./_fails')\n  , anInstance     = require('./_an-instance')\n  , toInteger      = require('./_to-integer')\n  , toLength       = require('./_to-length')\n  , gOPN           = require('./_object-gopn').f\n  , dP             = require('./_object-dp').f\n  , arrayFill      = require('./_array-fill')\n  , setToStringTag = require('./_set-to-string-tag')\n  , ARRAY_BUFFER   = 'ArrayBuffer'\n  , DATA_VIEW      = 'DataView'\n  , PROTOTYPE      = 'prototype'\n  , WRONG_LENGTH   = 'Wrong length!'\n  , WRONG_INDEX    = 'Wrong index!'\n  , $ArrayBuffer   = global[ARRAY_BUFFER]\n  , $DataView      = global[DATA_VIEW]\n  , Math           = global.Math\n  , RangeError     = global.RangeError\n  , Infinity       = global.Infinity\n  , BaseBuffer     = $ArrayBuffer\n  , abs            = Math.abs\n  , pow            = Math.pow\n  , floor          = Math.floor\n  , log            = Math.log\n  , LN2            = Math.LN2\n  , BUFFER         = 'buffer'\n  , BYTE_LENGTH    = 'byteLength'\n  , BYTE_OFFSET    = 'byteOffset'\n  , $BUFFER        = DESCRIPTORS ? '_b' : BUFFER\n  , $LENGTH        = DESCRIPTORS ? '_l' : BYTE_LENGTH\n  , $OFFSET        = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nvar packIEEE754 = function(value, mLen, nBytes){\n  var buffer = Array(nBytes)\n    , eLen   = nBytes * 8 - mLen - 1\n    , eMax   = (1 << eLen) - 1\n    , eBias  = eMax >> 1\n    , rt     = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0\n    , i      = 0\n    , s      = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0\n    , e, m, c;\n  value = abs(value)\n  if(value != value || value === Infinity){\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if(value * (c = pow(2, -e)) < 1){\n      e--;\n      c *= 2;\n    }\n    if(e + eBias >= 1){\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if(value * c >= 2){\n      e++;\n      c /= 2;\n    }\n    if(e + eBias >= eMax){\n      m = 0;\n      e = eMax;\n    } else if(e + eBias >= 1){\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for(; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for(; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n};\nvar unpackIEEE754 = function(buffer, mLen, nBytes){\n  var eLen  = nBytes * 8 - mLen - 1\n    , eMax  = (1 << eLen) - 1\n    , eBias = eMax >> 1\n    , nBits = eLen - 7\n    , i     = nBytes - 1\n    , s     = buffer[i--]\n    , e     = s & 127\n    , m;\n  s >>= 7;\n  for(; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for(; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if(e === 0){\n    e = 1 - eBias;\n  } else if(e === eMax){\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n};\n\nvar unpackI32 = function(bytes){\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n};\nvar packI8 = function(it){\n  return [it & 0xff];\n};\nvar packI16 = function(it){\n  return [it & 0xff, it >> 8 & 0xff];\n};\nvar packI32 = function(it){\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n};\nvar packF64 = function(it){\n  return packIEEE754(it, 52, 8);\n};\nvar packF32 = function(it){\n  return packIEEE754(it, 23, 4);\n};\n\nvar addGetter = function(C, key, internal){\n  dP(C[PROTOTYPE], key, {get: function(){ return this[internal]; }});\n};\n\nvar get = function(view, bytes, index, isLittleEndian){\n  var numIndex = +index\n    , intIndex = toInteger(numIndex);\n  if(numIndex != intIndex || intIndex < 0 || intIndex + bytes > view[$LENGTH])throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b\n    , start = intIndex + view[$OFFSET]\n    , pack  = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n};\nvar set = function(view, bytes, index, conversion, value, isLittleEndian){\n  var numIndex = +index\n    , intIndex = toInteger(numIndex);\n  if(numIndex != intIndex || intIndex < 0 || intIndex + bytes > view[$LENGTH])throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b\n    , start = intIndex + view[$OFFSET]\n    , pack  = conversion(+value);\n  for(var i = 0; i < bytes; i++)store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n};\n\nvar validateArrayBufferArguments = function(that, length){\n  anInstance(that, $ArrayBuffer, ARRAY_BUFFER);\n  var numberLength = +length\n    , byteLength   = toLength(numberLength);\n  if(numberLength != byteLength)throw RangeError(WRONG_LENGTH);\n  return byteLength;\n};\n\nif(!$typed.ABV){\n  $ArrayBuffer = function ArrayBuffer(length){\n    var byteLength = validateArrayBufferArguments(this, length);\n    this._b       = arrayFill.call(Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength){\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH]\n      , offset       = toInteger(byteOffset);\n    if(offset < 0 || offset > bufferLength)throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if(offset + byteLength > bufferLength)throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if(DESCRIPTORS){\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset){\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset){\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /*, littleEndian */){\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /*, littleEndian */){\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /*, littleEndian */){\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /*, littleEndian */){\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /*, littleEndian */){\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /*, littleEndian */){\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value){\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value){\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /*, littleEndian */){\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /*, littleEndian */){\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /*, littleEndian */){\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /*, littleEndian */){\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /*, littleEndian */){\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /*, littleEndian */){\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if(!fails(function(){\n    new $ArrayBuffer;     // eslint-disable-line no-new\n  }) || !fails(function(){\n    new $ArrayBuffer(.5); // eslint-disable-line no-new\n  })){\n    $ArrayBuffer = function ArrayBuffer(length){\n      return new BaseBuffer(validateArrayBufferArguments(this, length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for(var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j; ){\n      if(!((key = keys[j++]) in $ArrayBuffer))hide($ArrayBuffer, key, BaseBuffer[key]);\n    };\n    if(!LIBRARY)ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2))\n    , $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if(view.getInt8(0) || !view.getInt8(1))redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value){\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value){\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n},{\"./_an-instance\":151,\"./_array-fill\":154,\"./_descriptors\":173,\"./_fails\":179,\"./_global\":183,\"./_hide\":185,\"./_library\":203,\"./_object-dp\":212,\"./_object-gopn\":217,\"./_redefine-all\":231,\"./_set-to-string-tag\":237,\"./_to-integer\":251,\"./_to-length\":253,\"./_typed\":258}],258:[function(require,module,exports){\nvar global = require('./_global')\n  , hide   = require('./_hide')\n  , uid    = require('./_uid')\n  , TYPED  = uid('typed_array')\n  , VIEW   = uid('view')\n  , ABV    = !!(global.ArrayBuffer && global.DataView)\n  , CONSTR = ABV\n  , i = 0, l = 9, Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile(i < l){\n  if(Typed = global[TypedArrayConstructors[i++]]){\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV:    ABV,\n  CONSTR: CONSTR,\n  TYPED:  TYPED,\n  VIEW:   VIEW\n};\n},{\"./_global\":183,\"./_hide\":185,\"./_uid\":259}],259:[function(require,module,exports){\narguments[4][122][0].apply(exports,arguments)\n},{\"dup\":122}],260:[function(require,module,exports){\narguments[4][123][0].apply(exports,arguments)\n},{\"./_core\":168,\"./_global\":183,\"./_library\":203,\"./_object-dp\":212,\"./_wks-ext\":261,\"dup\":123}],261:[function(require,module,exports){\narguments[4][124][0].apply(exports,arguments)\n},{\"./_wks\":262,\"dup\":124}],262:[function(require,module,exports){\narguments[4][125][0].apply(exports,arguments)\n},{\"./_global\":183,\"./_shared\":239,\"./_uid\":259,\"dup\":125}],263:[function(require,module,exports){\narguments[4][126][0].apply(exports,arguments)\n},{\"./_classof\":162,\"./_core\":168,\"./_iterators\":201,\"./_wks\":262,\"dup\":126}],264:[function(require,module,exports){\n// https://github.com/benjamingr/RexExp.escape\nvar $export = require('./_export')\n  , $re     = require('./_replacer')(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\n$export($export.S, 'RegExp', {escape: function escape(it){ return $re(it); }});\n\n},{\"./_export\":177,\"./_replacer\":233}],265:[function(require,module,exports){\n// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', {copyWithin: require('./_array-copy-within')});\n\nrequire('./_add-to-unscopables')('copyWithin');\n},{\"./_add-to-unscopables\":150,\"./_array-copy-within\":153,\"./_export\":177}],266:[function(require,module,exports){\n'use strict';\nvar $export = require('./_export')\n  , $every  = require('./_array-methods')(4);\n\n$export($export.P + $export.F * !require('./_strict-method')([].every, true), 'Array', {\n  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])\n  every: function every(callbackfn /* , thisArg */){\n    return $every(this, callbackfn, arguments[1]);\n  }\n});\n},{\"./_array-methods\":157,\"./_export\":177,\"./_strict-method\":241}],267:[function(require,module,exports){\n// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', {fill: require('./_array-fill')});\n\nrequire('./_add-to-unscopables')('fill');\n},{\"./_add-to-unscopables\":150,\"./_array-fill\":154,\"./_export\":177}],268:[function(require,module,exports){\n'use strict';\nvar $export = require('./_export')\n  , $filter = require('./_array-methods')(2);\n\n$export($export.P + $export.F * !require('./_strict-method')([].filter, true), 'Array', {\n  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n  filter: function filter(callbackfn /* , thisArg */){\n    return $filter(this, callbackfn, arguments[1]);\n  }\n});\n},{\"./_array-methods\":157,\"./_export\":177,\"./_strict-method\":241}],269:[function(require,module,exports){\n'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export')\n  , $find   = require('./_array-methods')(6)\n  , KEY     = 'findIndex'\n  , forced  = true;\n// Shouldn't skip holes\nif(KEY in [])Array(1)[KEY](function(){ forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn/*, that = undefined */){\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n},{\"./_add-to-unscopables\":150,\"./_array-methods\":157,\"./_export\":177}],270:[function(require,module,exports){\n'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export')\n  , $find   = require('./_array-methods')(5)\n  , KEY     = 'find'\n  , forced  = true;\n// Shouldn't skip holes\nif(KEY in [])Array(1)[KEY](function(){ forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn/*, that = undefined */){\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n},{\"./_add-to-unscopables\":150,\"./_array-methods\":157,\"./_export\":177}],271:[function(require,module,exports){\n'use strict';\nvar $export  = require('./_export')\n  , $forEach = require('./_array-methods')(0)\n  , STRICT   = require('./_strict-method')([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */){\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n},{\"./_array-methods\":157,\"./_export\":177,\"./_strict-method\":241}],272:[function(require,module,exports){\narguments[4][129][0].apply(exports,arguments)\n},{\"./_create-property\":169,\"./_ctx\":170,\"./_export\":177,\"./_is-array-iter\":191,\"./_iter-call\":196,\"./_iter-detect\":199,\"./_to-length\":253,\"./_to-object\":254,\"./core.get-iterator-method\":263,\"dup\":129}],273:[function(require,module,exports){\n'use strict';\nvar $export       = require('./_export')\n  , $indexOf      = require('./_array-includes')(false)\n  , $native       = [].indexOf\n  , NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /*, fromIndex = 0 */){\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n},{\"./_array-includes\":156,\"./_export\":177,\"./_strict-method\":241}],274:[function(require,module,exports){\n// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', {isArray: require('./_is-array')});\n},{\"./_export\":177,\"./_is-array\":192}],275:[function(require,module,exports){\narguments[4][130][0].apply(exports,arguments)\n},{\"./_add-to-unscopables\":150,\"./_iter-define\":198,\"./_iter-step\":200,\"./_iterators\":201,\"./_to-iobject\":252,\"dup\":130}],276:[function(require,module,exports){\n'use strict';\n// 22.1.3.13 Array.prototype.join(separator)\nvar $export   = require('./_export')\n  , toIObject = require('./_to-iobject')\n  , arrayJoin = [].join;\n\n// fallback for not array-like strings\n$export($export.P + $export.F * (require('./_iobject') != Object || !require('./_strict-method')(arrayJoin)), 'Array', {\n  join: function join(separator){\n    return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);\n  }\n});\n},{\"./_export\":177,\"./_iobject\":190,\"./_strict-method\":241,\"./_to-iobject\":252}],277:[function(require,module,exports){\n'use strict';\nvar $export       = require('./_export')\n  , toIObject     = require('./_to-iobject')\n  , toInteger     = require('./_to-integer')\n  , toLength      = require('./_to-length')\n  , $native       = [].lastIndexOf\n  , NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /*, fromIndex = @[*-1] */){\n    // convert -0 to +0\n    if(NEGATIVE_ZERO)return $native.apply(this, arguments) || 0;\n    var O      = toIObject(this)\n      , length = toLength(O.length)\n      , index  = length - 1;\n    if(arguments.length > 1)index = Math.min(index, toInteger(arguments[1]));\n    if(index < 0)index = length + index;\n    for(;index >= 0; index--)if(index in O)if(O[index] === searchElement)return index || 0;\n    return -1;\n  }\n});\n},{\"./_export\":177,\"./_strict-method\":241,\"./_to-integer\":251,\"./_to-iobject\":252,\"./_to-length\":253}],278:[function(require,module,exports){\n'use strict';\nvar $export = require('./_export')\n  , $map    = require('./_array-methods')(1);\n\n$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */){\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n},{\"./_array-methods\":157,\"./_export\":177,\"./_strict-method\":241}],279:[function(require,module,exports){\n'use strict';\nvar $export        = require('./_export')\n  , createProperty = require('./_create-property');\n\n// WebKit Array.of isn't generic\n$export($export.S + $export.F * require('./_fails')(function(){\n  function F(){}\n  return !(Array.of.call(F) instanceof F);\n}), 'Array', {\n  // 22.1.2.3 Array.of( ...items)\n  of: function of(/* ...args */){\n    var index  = 0\n      , aLen   = arguments.length\n      , result = new (typeof this == 'function' ? this : Array)(aLen);\n    while(aLen > index)createProperty(result, index, arguments[index++]);\n    result.length = aLen;\n    return result;\n  }\n});\n},{\"./_create-property\":169,\"./_export\":177,\"./_fails\":179}],280:[function(require,module,exports){\n'use strict';\nvar $export = require('./_export')\n  , $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduceRight, true), 'Array', {\n  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n  reduceRight: function reduceRight(callbackfn /* , initialValue */){\n    return $reduce(this, callbackfn, arguments.length, arguments[1], true);\n  }\n});\n},{\"./_array-reduce\":158,\"./_export\":177,\"./_strict-method\":241}],281:[function(require,module,exports){\n'use strict';\nvar $export = require('./_export')\n  , $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduce, true), 'Array', {\n  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])\n  reduce: function reduce(callbackfn /* , initialValue */){\n    return $reduce(this, callbackfn, arguments.length, arguments[1], false);\n  }\n});\n},{\"./_array-reduce\":158,\"./_export\":177,\"./_strict-method\":241}],282:[function(require,module,exports){\n'use strict';\nvar $export    = require('./_export')\n  , html       = require('./_html')\n  , cof        = require('./_cof')\n  , toIndex    = require('./_to-index')\n  , toLength   = require('./_to-length')\n  , arraySlice = [].slice;\n\n// fallback for not array-like ES3 strings and DOM objects\n$export($export.P + $export.F * require('./_fails')(function(){\n  if(html)arraySlice.call(html);\n}), 'Array', {\n  slice: function slice(begin, end){\n    var len   = toLength(this.length)\n      , klass = cof(this);\n    end = end === undefined ? len : end;\n    if(klass == 'Array')return arraySlice.call(this, begin, end);\n    var start  = toIndex(begin, len)\n      , upTo   = toIndex(end, len)\n      , size   = toLength(upTo - start)\n      , cloned = Array(size)\n      , i      = 0;\n    for(; i < size; i++)cloned[i] = klass == 'String'\n      ? this.charAt(start + i)\n      : this[start + i];\n    return cloned;\n  }\n});\n},{\"./_cof\":163,\"./_export\":177,\"./_fails\":179,\"./_html\":186,\"./_to-index\":250,\"./_to-length\":253}],283:[function(require,module,exports){\n'use strict';\nvar $export = require('./_export')\n  , $some   = require('./_array-methods')(3);\n\n$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */){\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n},{\"./_array-methods\":157,\"./_export\":177,\"./_strict-method\":241}],284:[function(require,module,exports){\n'use strict';\nvar $export   = require('./_export')\n  , aFunction = require('./_a-function')\n  , toObject  = require('./_to-object')\n  , fails     = require('./_fails')\n  , $sort     = [].sort\n  , test      = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function(){\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function(){\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn){\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n},{\"./_a-function\":148,\"./_export\":177,\"./_fails\":179,\"./_strict-method\":241,\"./_to-object\":254}],285:[function(require,module,exports){\nrequire('./_set-species')('Array');\n},{\"./_set-species\":236}],286:[function(require,module,exports){\n// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', {now: function(){ return new Date().getTime(); }});\n},{\"./_export\":177}],287:[function(require,module,exports){\n'use strict';\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = require('./_export')\n  , fails   = require('./_fails')\n  , getTime = Date.prototype.getTime;\n\nvar lz = function(num){\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (fails(function(){\n  return new Date(-5e13 - 1).toISOString() != '0385-07-25T07:06:39.999Z';\n}) || !fails(function(){\n  new Date(NaN).toISOString();\n})), 'Date', {\n  toISOString: function toISOString(){\n    if(!isFinite(getTime.call(this)))throw RangeError('Invalid time value');\n    var d = this\n      , y = d.getUTCFullYear()\n      , m = d.getUTCMilliseconds()\n      , s = y < 0 ? '-' : y > 9999 ? '+' : '';\n    return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n      '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n      'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n      ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n  }\n});\n},{\"./_export\":177,\"./_fails\":179}],288:[function(require,module,exports){\n'use strict';\nvar $export     = require('./_export')\n  , toObject    = require('./_to-object')\n  , toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function(){\n  return new Date(NaN).toJSON() !== null || Date.prototype.toJSON.call({toISOString: function(){ return 1; }}) !== 1;\n}), 'Date', {\n  toJSON: function toJSON(key){\n    var O  = toObject(this)\n      , pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n},{\"./_export\":177,\"./_fails\":179,\"./_to-object\":254,\"./_to-primitive\":255}],289:[function(require,module,exports){\nvar TO_PRIMITIVE = require('./_wks')('toPrimitive')\n  , proto        = Date.prototype;\n\nif(!(TO_PRIMITIVE in proto))require('./_hide')(proto, TO_PRIMITIVE, require('./_date-to-primitive'));\n},{\"./_date-to-primitive\":171,\"./_hide\":185,\"./_wks\":262}],290:[function(require,module,exports){\nvar DateProto    = Date.prototype\n  , INVALID_DATE = 'Invalid Date'\n  , TO_STRING    = 'toString'\n  , $toString    = DateProto[TO_STRING]\n  , getTime      = DateProto.getTime;\nif(new Date(NaN) + '' != INVALID_DATE){\n  require('./_redefine')(DateProto, TO_STRING, function toString(){\n    var value = getTime.call(this);\n    return value === value ? $toString.call(this) : INVALID_DATE;\n  });\n}\n},{\"./_redefine\":232}],291:[function(require,module,exports){\n// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\nvar $export = require('./_export');\n\n$export($export.P, 'Function', {bind: require('./_bind')});\n},{\"./_bind\":161,\"./_export\":177}],292:[function(require,module,exports){\n'use strict';\nvar isObject       = require('./_is-object')\n  , getPrototypeOf = require('./_object-gpo')\n  , HAS_INSTANCE   = require('./_wks')('hasInstance')\n  , FunctionProto  = Function.prototype;\n// 19.2.3.6 Function.prototype[@@hasInstance](V)\nif(!(HAS_INSTANCE in FunctionProto))require('./_object-dp').f(FunctionProto, HAS_INSTANCE, {value: function(O){\n  if(typeof this != 'function' || !isObject(O))return false;\n  if(!isObject(this.prototype))return O instanceof this;\n  // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n  while(O = getPrototypeOf(O))if(this.prototype === O)return true;\n  return false;\n}});\n},{\"./_is-object\":194,\"./_object-dp\":212,\"./_object-gpo\":219,\"./_wks\":262}],293:[function(require,module,exports){\nvar dP         = require('./_object-dp').f\n  , createDesc = require('./_property-desc')\n  , has        = require('./_has')\n  , FProto     = Function.prototype\n  , nameRE     = /^\\s*function ([^ (]*)/\n  , NAME       = 'name';\n\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function(){\n    try {\n      var that = this\n        , name = ('' + that).match(nameRE)[1];\n      has(that, NAME) || !isExtensible(that) || dP(that, NAME, createDesc(5, name));\n      return name;\n    } catch(e){\n      return '';\n    }\n  }\n});\n},{\"./_descriptors\":173,\"./_has\":184,\"./_object-dp\":212,\"./_property-desc\":230}],294:[function(require,module,exports){\narguments[4][131][0].apply(exports,arguments)\n},{\"./_collection\":167,\"./_collection-strong\":164,\"dup\":131}],295:[function(require,module,exports){\n// 20.2.2.3 Math.acosh(x)\nvar $export = require('./_export')\n  , log1p   = require('./_math-log1p')\n  , sqrt    = Math.sqrt\n  , $acosh  = Math.acosh;\n\n$export($export.S + $export.F * !($acosh\n  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509\n  && Math.floor($acosh(Number.MAX_VALUE)) == 710\n  // Tor Browser bug: Math.acosh(Infinity) -> NaN \n  && $acosh(Infinity) == Infinity\n), 'Math', {\n  acosh: function acosh(x){\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? Math.log(x) + Math.LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n},{\"./_export\":177,\"./_math-log1p\":205}],296:[function(require,module,exports){\n// 20.2.2.5 Math.asinh(x)\nvar $export = require('./_export')\n  , $asinh  = Math.asinh;\n\nfunction asinh(x){\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));\n}\n\n// Tor Browser bug: Math.asinh(0) -> -0 \n$export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', {asinh: asinh});\n},{\"./_export\":177}],297:[function(require,module,exports){\n// 20.2.2.7 Math.atanh(x)\nvar $export = require('./_export')\n  , $atanh  = Math.atanh;\n\n// Tor Browser bug: Math.atanh(-0) -> 0 \n$export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {\n  atanh: function atanh(x){\n    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;\n  }\n});\n},{\"./_export\":177}],298:[function(require,module,exports){\n// 20.2.2.9 Math.cbrt(x)\nvar $export = require('./_export')\n  , sign    = require('./_math-sign');\n\n$export($export.S, 'Math', {\n  cbrt: function cbrt(x){\n    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);\n  }\n});\n},{\"./_export\":177,\"./_math-sign\":206}],299:[function(require,module,exports){\n// 20.2.2.11 Math.clz32(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clz32: function clz32(x){\n    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;\n  }\n});\n},{\"./_export\":177}],300:[function(require,module,exports){\n// 20.2.2.12 Math.cosh(x)\nvar $export = require('./_export')\n  , exp     = Math.exp;\n\n$export($export.S, 'Math', {\n  cosh: function cosh(x){\n    return (exp(x = +x) + exp(-x)) / 2;\n  }\n});\n},{\"./_export\":177}],301:[function(require,module,exports){\n// 20.2.2.14 Math.expm1(x)\nvar $export = require('./_export')\n  , $expm1  = require('./_math-expm1');\n\n$export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', {expm1: $expm1});\n},{\"./_export\":177,\"./_math-expm1\":204}],302:[function(require,module,exports){\n// 20.2.2.16 Math.fround(x)\nvar $export   = require('./_export')\n  , sign      = require('./_math-sign')\n  , pow       = Math.pow\n  , EPSILON   = pow(2, -52)\n  , EPSILON32 = pow(2, -23)\n  , MAX32     = pow(2, 127) * (2 - EPSILON32)\n  , MIN32     = pow(2, -126);\n\nvar roundTiesToEven = function(n){\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\n\n$export($export.S, 'Math', {\n  fround: function fround(x){\n    var $abs  = Math.abs(x)\n      , $sign = sign(x)\n      , a, result;\n    if($abs < MIN32)return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n    a = (1 + EPSILON32 / EPSILON) * $abs;\n    result = a - (a - $abs);\n    if(result > MAX32 || result != result)return $sign * Infinity;\n    return $sign * result;\n  }\n});\n},{\"./_export\":177,\"./_math-sign\":206}],303:[function(require,module,exports){\n// 20.2.2.17 Math.hypot([value1[, value2[,  ]]])\nvar $export = require('./_export')\n  , abs     = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2){ // eslint-disable-line no-unused-vars\n    var sum  = 0\n      , i    = 0\n      , aLen = arguments.length\n      , larg = 0\n      , arg, div;\n    while(i < aLen){\n      arg = abs(arguments[i++]);\n      if(larg < arg){\n        div  = larg / arg;\n        sum  = sum * div * div + 1;\n        larg = arg;\n      } else if(arg > 0){\n        div  = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n},{\"./_export\":177}],304:[function(require,module,exports){\n// 20.2.2.18 Math.imul(x, y)\nvar $export = require('./_export')\n  , $imul   = Math.imul;\n\n// some WebKit versions fails with big numbers, some has wrong arity\n$export($export.S + $export.F * require('./_fails')(function(){\n  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;\n}), 'Math', {\n  imul: function imul(x, y){\n    var UINT16 = 0xffff\n      , xn = +x\n      , yn = +y\n      , xl = UINT16 & xn\n      , yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n},{\"./_export\":177,\"./_fails\":179}],305:[function(require,module,exports){\n// 20.2.2.21 Math.log10(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x){\n    return Math.log(x) / Math.LN10;\n  }\n});\n},{\"./_export\":177}],306:[function(require,module,exports){\n// 20.2.2.20 Math.log1p(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {log1p: require('./_math-log1p')});\n},{\"./_export\":177,\"./_math-log1p\":205}],307:[function(require,module,exports){\n// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x){\n    return Math.log(x) / Math.LN2;\n  }\n});\n},{\"./_export\":177}],308:[function(require,module,exports){\n// 20.2.2.28 Math.sign(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {sign: require('./_math-sign')});\n},{\"./_export\":177,\"./_math-sign\":206}],309:[function(require,module,exports){\n// 20.2.2.30 Math.sinh(x)\nvar $export = require('./_export')\n  , expm1   = require('./_math-expm1')\n  , exp     = Math.exp;\n\n// V8 near Chromium 38 has a problem with very small numbers\n$export($export.S + $export.F * require('./_fails')(function(){\n  return !Math.sinh(-2e-17) != -2e-17;\n}), 'Math', {\n  sinh: function sinh(x){\n    return Math.abs(x = +x) < 1\n      ? (expm1(x) - expm1(-x)) / 2\n      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);\n  }\n});\n},{\"./_export\":177,\"./_fails\":179,\"./_math-expm1\":204}],310:[function(require,module,exports){\n// 20.2.2.33 Math.tanh(x)\nvar $export = require('./_export')\n  , expm1   = require('./_math-expm1')\n  , exp     = Math.exp;\n\n$export($export.S, 'Math', {\n  tanh: function tanh(x){\n    var a = expm1(x = +x)\n      , b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n},{\"./_export\":177,\"./_math-expm1\":204}],311:[function(require,module,exports){\n// 20.2.2.34 Math.trunc(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it){\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n},{\"./_export\":177}],312:[function(require,module,exports){\n'use strict';\nvar global            = require('./_global')\n  , has               = require('./_has')\n  , cof               = require('./_cof')\n  , inheritIfRequired = require('./_inherit-if-required')\n  , toPrimitive       = require('./_to-primitive')\n  , fails             = require('./_fails')\n  , gOPN              = require('./_object-gopn').f\n  , gOPD              = require('./_object-gopd').f\n  , dP                = require('./_object-dp').f\n  , $trim             = require('./_string-trim').trim\n  , NUMBER            = 'Number'\n  , $Number           = global[NUMBER]\n  , Base              = $Number\n  , proto             = $Number.prototype\n  // Opera ~12 has broken Object#toString\n  , BROKEN_COF        = cof(require('./_object-create')(proto)) == NUMBER\n  , TRIM              = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function(argument){\n  var it = toPrimitive(argument, false);\n  if(typeof it == 'string' && it.length > 2){\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0)\n      , third, radix, maxCode;\n    if(first === 43 || first === 45){\n      third = it.charCodeAt(2);\n      if(third === 88 || third === 120)return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if(first === 48){\n      switch(it.charCodeAt(1)){\n        case 66 : case 98  : radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79 : case 111 : radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default : return +it;\n      }\n      for(var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++){\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if(code < 48 || code > maxCode)return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif(!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')){\n  $Number = function Number(value){\n    var it = arguments.length < 1 ? 0 : value\n      , that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function(){ proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for(var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++){\n    if(has(Base, key = keys[j]) && !has($Number, key)){\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n},{\"./_cof\":163,\"./_descriptors\":173,\"./_fails\":179,\"./_global\":183,\"./_has\":184,\"./_inherit-if-required\":188,\"./_object-create\":211,\"./_object-dp\":212,\"./_object-gopd\":215,\"./_object-gopn\":217,\"./_redefine\":232,\"./_string-trim\":247,\"./_to-primitive\":255}],313:[function(require,module,exports){\n// 20.1.2.1 Number.EPSILON\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {EPSILON: Math.pow(2, -52)});\n},{\"./_export\":177}],314:[function(require,module,exports){\n// 20.1.2.2 Number.isFinite(number)\nvar $export   = require('./_export')\n  , _isFinite = require('./_global').isFinite;\n\n$export($export.S, 'Number', {\n  isFinite: function isFinite(it){\n    return typeof it == 'number' && _isFinite(it);\n  }\n});\n},{\"./_export\":177,\"./_global\":183}],315:[function(require,module,exports){\n// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {isInteger: require('./_is-integer')});\n},{\"./_export\":177,\"./_is-integer\":193}],316:[function(require,module,exports){\n// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number){\n    return number != number;\n  }\n});\n},{\"./_export\":177}],317:[function(require,module,exports){\n// 20.1.2.5 Number.isSafeInteger(number)\nvar $export   = require('./_export')\n  , isInteger = require('./_is-integer')\n  , abs       = Math.abs;\n\n$export($export.S, 'Number', {\n  isSafeInteger: function isSafeInteger(number){\n    return isInteger(number) && abs(number) <= 0x1fffffffffffff;\n  }\n});\n},{\"./_export\":177,\"./_is-integer\":193}],318:[function(require,module,exports){\n// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {MAX_SAFE_INTEGER: 0x1fffffffffffff});\n},{\"./_export\":177}],319:[function(require,module,exports){\n// 20.1.2.10 Number.MIN_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {MIN_SAFE_INTEGER: -0x1fffffffffffff});\n},{\"./_export\":177}],320:[function(require,module,exports){\nvar $export     = require('./_export')\n  , $parseFloat = require('./_parse-float');\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', {parseFloat: $parseFloat});\n},{\"./_export\":177,\"./_parse-float\":226}],321:[function(require,module,exports){\nvar $export   = require('./_export')\n  , $parseInt = require('./_parse-int');\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', {parseInt: $parseInt});\n},{\"./_export\":177,\"./_parse-int\":227}],322:[function(require,module,exports){\n'use strict';\nvar $export      = require('./_export')\n  , toInteger    = require('./_to-integer')\n  , aNumberValue = require('./_a-number-value')\n  , repeat       = require('./_string-repeat')\n  , $toFixed     = 1..toFixed\n  , floor        = Math.floor\n  , data         = [0, 0, 0, 0, 0, 0]\n  , ERROR        = 'Number.toFixed: incorrect invocation!'\n  , ZERO         = '0';\n\nvar multiply = function(n, c){\n  var i  = -1\n    , c2 = c;\n  while(++i < 6){\n    c2 += n * data[i];\n    data[i] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\nvar divide = function(n){\n  var i = 6\n    , c = 0;\n  while(--i >= 0){\n    c += data[i];\n    data[i] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\nvar numToString = function(){\n  var i = 6\n    , s = '';\n  while(--i >= 0){\n    if(s !== '' || i === 0 || data[i] !== 0){\n      var t = String(data[i]);\n      s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;\n    }\n  } return s;\n};\nvar pow = function(x, n, acc){\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\nvar log = function(x){\n  var n  = 0\n    , x2 = x;\n  while(x2 >= 4096){\n    n += 12;\n    x2 /= 4096;\n  }\n  while(x2 >= 2){\n    n  += 1;\n    x2 /= 2;\n  } return n;\n};\n\n$export($export.P + $export.F * (!!$toFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128..toFixed(0) !== '1000000000000000128'\n) || !require('./_fails')(function(){\n  // V8 ~ Android 4.3-\n  $toFixed.call({});\n})), 'Number', {\n  toFixed: function toFixed(fractionDigits){\n    var x = aNumberValue(this, ERROR)\n      , f = toInteger(fractionDigits)\n      , s = ''\n      , m = ZERO\n      , e, z, j, k;\n    if(f < 0 || f > 20)throw RangeError(ERROR);\n    if(x != x)return 'NaN';\n    if(x <= -1e21 || x >= 1e21)return String(x);\n    if(x < 0){\n      s = '-';\n      x = -x;\n    }\n    if(x > 1e-21){\n      e = log(x * pow(2, 69, 1)) - 69;\n      z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if(e > 0){\n        multiply(0, z);\n        j = f;\n        while(j >= 7){\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while(j >= 23){\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        m = numToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        m = numToString() + repeat.call(ZERO, f);\n      }\n    }\n    if(f > 0){\n      k = m.length;\n      m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));\n    } else {\n      m = s + m;\n    } return m;\n  }\n});\n},{\"./_a-number-value\":149,\"./_export\":177,\"./_fails\":179,\"./_string-repeat\":246,\"./_to-integer\":251}],323:[function(require,module,exports){\n'use strict';\nvar $export      = require('./_export')\n  , $fails       = require('./_fails')\n  , aNumberValue = require('./_a-number-value')\n  , $toPrecision = 1..toPrecision;\n\n$export($export.P + $export.F * ($fails(function(){\n  // IE7-\n  return $toPrecision.call(1, undefined) !== '1';\n}) || !$fails(function(){\n  // V8 ~ Android 4.3-\n  $toPrecision.call({});\n})), 'Number', {\n  toPrecision: function toPrecision(precision){\n    var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');\n    return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision); \n  }\n});\n},{\"./_a-number-value\":149,\"./_export\":177,\"./_fails\":179}],324:[function(require,module,exports){\narguments[4][132][0].apply(exports,arguments)\n},{\"./_export\":177,\"./_object-assign\":210,\"dup\":132}],325:[function(require,module,exports){\narguments[4][133][0].apply(exports,arguments)\n},{\"./_export\":177,\"./_object-create\":211,\"dup\":133}],326:[function(require,module,exports){\nvar $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperties: require('./_object-dps')});\n},{\"./_descriptors\":173,\"./_export\":177,\"./_object-dps\":213}],327:[function(require,module,exports){\narguments[4][134][0].apply(exports,arguments)\n},{\"./_descriptors\":173,\"./_export\":177,\"./_object-dp\":212,\"dup\":134}],328:[function(require,module,exports){\n// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object')\n  , meta     = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function($freeze){\n  return function freeze(it){\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n},{\"./_is-object\":194,\"./_meta\":207,\"./_object-sap\":223}],329:[function(require,module,exports){\n// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject                 = require('./_to-iobject')\n  , $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function(){\n  return function getOwnPropertyDescriptor(it, key){\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n},{\"./_object-gopd\":215,\"./_object-sap\":223,\"./_to-iobject\":252}],330:[function(require,module,exports){\n// 19.1.2.7 Object.getOwnPropertyNames(O)\nrequire('./_object-sap')('getOwnPropertyNames', function(){\n  return require('./_object-gopn-ext').f;\n});\n},{\"./_object-gopn-ext\":216,\"./_object-sap\":223}],331:[function(require,module,exports){\narguments[4][135][0].apply(exports,arguments)\n},{\"./_object-gpo\":219,\"./_object-sap\":223,\"./_to-object\":254,\"dup\":135}],332:[function(require,module,exports){\n// 19.1.2.11 Object.isExtensible(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isExtensible', function($isExtensible){\n  return function isExtensible(it){\n    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n  };\n});\n},{\"./_is-object\":194,\"./_object-sap\":223}],333:[function(require,module,exports){\n// 19.1.2.12 Object.isFrozen(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isFrozen', function($isFrozen){\n  return function isFrozen(it){\n    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n  };\n});\n},{\"./_is-object\":194,\"./_object-sap\":223}],334:[function(require,module,exports){\n// 19.1.2.13 Object.isSealed(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isSealed', function($isSealed){\n  return function isSealed(it){\n    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n  };\n});\n},{\"./_is-object\":194,\"./_object-sap\":223}],335:[function(require,module,exports){\n// 19.1.3.10 Object.is(value1, value2)\nvar $export = require('./_export');\n$export($export.S, 'Object', {is: require('./_same-value')});\n},{\"./_export\":177,\"./_same-value\":234}],336:[function(require,module,exports){\narguments[4][136][0].apply(exports,arguments)\n},{\"./_object-keys\":221,\"./_object-sap\":223,\"./_to-object\":254,\"dup\":136}],337:[function(require,module,exports){\n// 19.1.2.15 Object.preventExtensions(O)\nvar isObject = require('./_is-object')\n  , meta     = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('preventExtensions', function($preventExtensions){\n  return function preventExtensions(it){\n    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;\n  };\n});\n},{\"./_is-object\":194,\"./_meta\":207,\"./_object-sap\":223}],338:[function(require,module,exports){\n// 19.1.2.17 Object.seal(O)\nvar isObject = require('./_is-object')\n  , meta     = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('seal', function($seal){\n  return function seal(it){\n    return $seal && isObject(it) ? $seal(meta(it)) : it;\n  };\n});\n},{\"./_is-object\":194,\"./_meta\":207,\"./_object-sap\":223}],339:[function(require,module,exports){\narguments[4][137][0].apply(exports,arguments)\n},{\"./_export\":177,\"./_set-proto\":235,\"dup\":137}],340:[function(require,module,exports){\n'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof')\n  , test    = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif(test + '' != '[object z]'){\n  require('./_redefine')(Object.prototype, 'toString', function toString(){\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n},{\"./_classof\":162,\"./_redefine\":232,\"./_wks\":262}],341:[function(require,module,exports){\nvar $export     = require('./_export')\n  , $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), {parseFloat: $parseFloat});\n},{\"./_export\":177,\"./_parse-float\":226}],342:[function(require,module,exports){\nvar $export   = require('./_export')\n  , $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), {parseInt: $parseInt});\n},{\"./_export\":177,\"./_parse-int\":227}],343:[function(require,module,exports){\narguments[4][139][0].apply(exports,arguments)\n},{\"./_a-function\":148,\"./_an-instance\":151,\"./_classof\":162,\"./_core\":168,\"./_ctx\":170,\"./_export\":177,\"./_for-of\":182,\"./_global\":183,\"./_is-object\":194,\"./_iter-detect\":199,\"./_library\":203,\"./_microtask\":209,\"./_redefine-all\":231,\"./_set-species\":236,\"./_set-to-string-tag\":237,\"./_species-constructor\":240,\"./_task\":249,\"./_wks\":262,\"dup\":139}],344:[function(require,module,exports){\n// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\nvar $export   = require('./_export')\n  , aFunction = require('./_a-function')\n  , anObject  = require('./_an-object')\n  , rApply    = (require('./_global').Reflect || {}).apply\n  , fApply    = Function.apply;\n// MS Edge argumentsList argument is optional\n$export($export.S + $export.F * !require('./_fails')(function(){\n  rApply(function(){});\n}), 'Reflect', {\n  apply: function apply(target, thisArgument, argumentsList){\n    var T = aFunction(target)\n      , L = anObject(argumentsList);\n    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);\n  }\n});\n},{\"./_a-function\":148,\"./_an-object\":152,\"./_export\":177,\"./_fails\":179,\"./_global\":183}],345:[function(require,module,exports){\n// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export    = require('./_export')\n  , create     = require('./_object-create')\n  , aFunction  = require('./_a-function')\n  , anObject   = require('./_an-object')\n  , isObject   = require('./_is-object')\n  , fails      = require('./_fails')\n  , bind       = require('./_bind')\n  , rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function(){\n  function F(){}\n  return !(rConstruct(function(){}, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function(){\n  rConstruct(function(){});\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /*, newTarget*/){\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if(ARGS_BUG && !NEW_TARGET_BUG)return rConstruct(Target, args, newTarget);\n    if(Target == newTarget){\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch(args.length){\n        case 0: return new Target;\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args));\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto    = newTarget.prototype\n      , instance = create(isObject(proto) ? proto : Object.prototype)\n      , result   = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n},{\"./_a-function\":148,\"./_an-object\":152,\"./_bind\":161,\"./_export\":177,\"./_fails\":179,\"./_global\":183,\"./_is-object\":194,\"./_object-create\":211}],346:[function(require,module,exports){\n// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\nvar dP          = require('./_object-dp')\n  , $export     = require('./_export')\n  , anObject    = require('./_an-object')\n  , toPrimitive = require('./_to-primitive');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\n$export($export.S + $export.F * require('./_fails')(function(){\n  Reflect.defineProperty(dP.f({}, 1, {value: 1}), 1, {value: 2});\n}), 'Reflect', {\n  defineProperty: function defineProperty(target, propertyKey, attributes){\n    anObject(target);\n    propertyKey = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      dP.f(target, propertyKey, attributes);\n      return true;\n    } catch(e){\n      return false;\n    }\n  }\n});\n},{\"./_an-object\":152,\"./_export\":177,\"./_fails\":179,\"./_object-dp\":212,\"./_to-primitive\":255}],347:[function(require,module,exports){\n// 26.1.4 Reflect.deleteProperty(target, propertyKey)\nvar $export  = require('./_export')\n  , gOPD     = require('./_object-gopd').f\n  , anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  deleteProperty: function deleteProperty(target, propertyKey){\n    var desc = gOPD(anObject(target), propertyKey);\n    return desc && !desc.configurable ? false : delete target[propertyKey];\n  }\n});\n},{\"./_an-object\":152,\"./_export\":177,\"./_object-gopd\":215}],348:[function(require,module,exports){\n'use strict';\n// 26.1.5 Reflect.enumerate(target)\nvar $export  = require('./_export')\n  , anObject = require('./_an-object');\nvar Enumerate = function(iterated){\n  this._t = anObject(iterated); // target\n  this._i = 0;                  // next index\n  var keys = this._k = []       // keys\n    , key;\n  for(key in iterated)keys.push(key);\n};\nrequire('./_iter-create')(Enumerate, 'Object', function(){\n  var that = this\n    , keys = that._k\n    , key;\n  do {\n    if(that._i >= keys.length)return {value: undefined, done: true};\n  } while(!((key = keys[that._i++]) in that._t));\n  return {value: key, done: false};\n});\n\n$export($export.S, 'Reflect', {\n  enumerate: function enumerate(target){\n    return new Enumerate(target);\n  }\n});\n},{\"./_an-object\":152,\"./_export\":177,\"./_iter-create\":197}],349:[function(require,module,exports){\n// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\nvar gOPD     = require('./_object-gopd')\n  , $export  = require('./_export')\n  , anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey){\n    return gOPD.f(anObject(target), propertyKey);\n  }\n});\n},{\"./_an-object\":152,\"./_export\":177,\"./_object-gopd\":215}],350:[function(require,module,exports){\n// 26.1.8 Reflect.getPrototypeOf(target)\nvar $export  = require('./_export')\n  , getProto = require('./_object-gpo')\n  , anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getPrototypeOf: function getPrototypeOf(target){\n    return getProto(anObject(target));\n  }\n});\n},{\"./_an-object\":152,\"./_export\":177,\"./_object-gpo\":219}],351:[function(require,module,exports){\n// 26.1.6 Reflect.get(target, propertyKey [, receiver])\nvar gOPD           = require('./_object-gopd')\n  , getPrototypeOf = require('./_object-gpo')\n  , has            = require('./_has')\n  , $export        = require('./_export')\n  , isObject       = require('./_is-object')\n  , anObject       = require('./_an-object');\n\nfunction get(target, propertyKey/*, receiver*/){\n  var receiver = arguments.length < 3 ? target : arguments[2]\n    , desc, proto;\n  if(anObject(target) === receiver)return target[propertyKey];\n  if(desc = gOPD.f(target, propertyKey))return has(desc, 'value')\n    ? desc.value\n    : desc.get !== undefined\n      ? desc.get.call(receiver)\n      : undefined;\n  if(isObject(proto = getPrototypeOf(target)))return get(proto, propertyKey, receiver);\n}\n\n$export($export.S, 'Reflect', {get: get});\n},{\"./_an-object\":152,\"./_export\":177,\"./_has\":184,\"./_is-object\":194,\"./_object-gopd\":215,\"./_object-gpo\":219}],352:[function(require,module,exports){\n// 26.1.9 Reflect.has(target, propertyKey)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', {\n  has: function has(target, propertyKey){\n    return propertyKey in target;\n  }\n});\n},{\"./_export\":177}],353:[function(require,module,exports){\n// 26.1.10 Reflect.isExtensible(target)\nvar $export       = require('./_export')\n  , anObject      = require('./_an-object')\n  , $isExtensible = Object.isExtensible;\n\n$export($export.S, 'Reflect', {\n  isExtensible: function isExtensible(target){\n    anObject(target);\n    return $isExtensible ? $isExtensible(target) : true;\n  }\n});\n},{\"./_an-object\":152,\"./_export\":177}],354:[function(require,module,exports){\n// 26.1.11 Reflect.ownKeys(target)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', {ownKeys: require('./_own-keys')});\n},{\"./_export\":177,\"./_own-keys\":225}],355:[function(require,module,exports){\n// 26.1.12 Reflect.preventExtensions(target)\nvar $export            = require('./_export')\n  , anObject           = require('./_an-object')\n  , $preventExtensions = Object.preventExtensions;\n\n$export($export.S, 'Reflect', {\n  preventExtensions: function preventExtensions(target){\n    anObject(target);\n    try {\n      if($preventExtensions)$preventExtensions(target);\n      return true;\n    } catch(e){\n      return false;\n    }\n  }\n});\n},{\"./_an-object\":152,\"./_export\":177}],356:[function(require,module,exports){\n// 26.1.14 Reflect.setPrototypeOf(target, proto)\nvar $export  = require('./_export')\n  , setProto = require('./_set-proto');\n\nif(setProto)$export($export.S, 'Reflect', {\n  setPrototypeOf: function setPrototypeOf(target, proto){\n    setProto.check(target, proto);\n    try {\n      setProto.set(target, proto);\n      return true;\n    } catch(e){\n      return false;\n    }\n  }\n});\n},{\"./_export\":177,\"./_set-proto\":235}],357:[function(require,module,exports){\n// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\nvar dP             = require('./_object-dp')\n  , gOPD           = require('./_object-gopd')\n  , getPrototypeOf = require('./_object-gpo')\n  , has            = require('./_has')\n  , $export        = require('./_export')\n  , createDesc     = require('./_property-desc')\n  , anObject       = require('./_an-object')\n  , isObject       = require('./_is-object');\n\nfunction set(target, propertyKey, V/*, receiver*/){\n  var receiver = arguments.length < 4 ? target : arguments[3]\n    , ownDesc  = gOPD.f(anObject(target), propertyKey)\n    , existingDescriptor, proto;\n  if(!ownDesc){\n    if(isObject(proto = getPrototypeOf(target))){\n      return set(proto, propertyKey, V, receiver);\n    }\n    ownDesc = createDesc(0);\n  }\n  if(has(ownDesc, 'value')){\n    if(ownDesc.writable === false || !isObject(receiver))return false;\n    existingDescriptor = gOPD.f(receiver, propertyKey) || createDesc(0);\n    existingDescriptor.value = V;\n    dP.f(receiver, propertyKey, existingDescriptor);\n    return true;\n  }\n  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);\n}\n\n$export($export.S, 'Reflect', {set: set});\n},{\"./_an-object\":152,\"./_export\":177,\"./_has\":184,\"./_is-object\":194,\"./_object-dp\":212,\"./_object-gopd\":215,\"./_object-gpo\":219,\"./_property-desc\":230}],358:[function(require,module,exports){\nvar global            = require('./_global')\n  , inheritIfRequired = require('./_inherit-if-required')\n  , dP                = require('./_object-dp').f\n  , gOPN              = require('./_object-gopn').f\n  , isRegExp          = require('./_is-regexp')\n  , $flags            = require('./_flags')\n  , $RegExp           = global.RegExp\n  , Base              = $RegExp\n  , proto             = $RegExp.prototype\n  , re1               = /a/g\n  , re2               = /a/g\n  // \"new\" creates a new object, old webkit buggy here\n  , CORRECT_NEW       = new $RegExp(re1) !== re1;\n\nif(require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function(){\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))){\n  $RegExp = function RegExp(p, f){\n    var tiRE = this instanceof $RegExp\n      , piRE = isRegExp(p)\n      , fiU  = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function(key){\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function(){ return Base[key]; },\n      set: function(it){ Base[key] = it; }\n    });\n  };\n  for(var keys = gOPN(Base), i = 0; keys.length > i; )proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n},{\"./_descriptors\":173,\"./_fails\":179,\"./_flags\":181,\"./_global\":183,\"./_inherit-if-required\":188,\"./_is-regexp\":195,\"./_object-dp\":212,\"./_object-gopn\":217,\"./_redefine\":232,\"./_set-species\":236,\"./_wks\":262}],359:[function(require,module,exports){\n// 21.2.5.3 get RegExp.prototype.flags()\nif(require('./_descriptors') && /./g.flags != 'g')require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n},{\"./_descriptors\":173,\"./_flags\":181,\"./_object-dp\":212}],360:[function(require,module,exports){\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function(defined, MATCH, $match){\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp){\n    'use strict';\n    var O  = defined(this)\n      , fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n},{\"./_fix-re-wks\":180}],361:[function(require,module,exports){\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function(defined, REPLACE, $replace){\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue){\n    'use strict';\n    var O  = defined(this)\n      , fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n},{\"./_fix-re-wks\":180}],362:[function(require,module,exports){\n// @@search logic\nrequire('./_fix-re-wks')('search', 1, function(defined, SEARCH, $search){\n  // 21.1.3.15 String.prototype.search(regexp)\n  return [function search(regexp){\n    'use strict';\n    var O  = defined(this)\n      , fn = regexp == undefined ? undefined : regexp[SEARCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n  }, $search];\n});\n},{\"./_fix-re-wks\":180}],363:[function(require,module,exports){\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function(defined, SPLIT, $split){\n  'use strict';\n  var isRegExp   = require('./_is-regexp')\n    , _split     = $split\n    , $push      = [].push\n    , $SPLIT     = 'split'\n    , LENGTH     = 'length'\n    , LAST_INDEX = 'lastIndex';\n  if(\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ){\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function(separator, limit){\n      var string = String(this);\n      if(separator === undefined && limit === 0)return [];\n      // If `separator` is not a regex, use native split\n      if(!isRegExp(separator))return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if(!NPCG)separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while(match = separatorCopy.exec(string)){\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if(lastIndex > lastLastIndex){\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          if(!NPCG && match[LENGTH] > 1)match[0].replace(separator2, function(){\n            for(i = 1; i < arguments[LENGTH] - 2; i++)if(arguments[i] === undefined)match[i] = undefined;\n          });\n          if(match[LENGTH] > 1 && match.index < string[LENGTH])$push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if(output[LENGTH] >= splitLimit)break;\n        }\n        if(separatorCopy[LAST_INDEX] === match.index)separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if(lastLastIndex === string[LENGTH]){\n        if(lastLength || !separatorCopy.test(''))output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if('0'[$SPLIT](undefined, 0)[LENGTH]){\n    $split = function(separator, limit){\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit){\n    var O  = defined(this)\n      , fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n},{\"./_fix-re-wks\":180,\"./_is-regexp\":195}],364:[function(require,module,exports){\n'use strict';\nrequire('./es6.regexp.flags');\nvar anObject    = require('./_an-object')\n  , $flags      = require('./_flags')\n  , DESCRIPTORS = require('./_descriptors')\n  , TO_STRING   = 'toString'\n  , $toString   = /./[TO_STRING];\n\nvar define = function(fn){\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif(require('./_fails')(function(){ return $toString.call({source: 'a', flags: 'b'}) != '/a/b'; })){\n  define(function toString(){\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if($toString.name != TO_STRING){\n  define(function toString(){\n    return $toString.call(this);\n  });\n}\n},{\"./_an-object\":152,\"./_descriptors\":173,\"./_fails\":179,\"./_flags\":181,\"./_redefine\":232,\"./es6.regexp.flags\":359}],365:[function(require,module,exports){\narguments[4][140][0].apply(exports,arguments)\n},{\"./_collection\":167,\"./_collection-strong\":164,\"dup\":140}],366:[function(require,module,exports){\n'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function(createHTML){\n  return function anchor(name){\n    return createHTML(this, 'a', 'name', name);\n  }\n});\n},{\"./_string-html\":244}],367:[function(require,module,exports){\n'use strict';\n// B.2.3.3 String.prototype.big()\nrequire('./_string-html')('big', function(createHTML){\n  return function big(){\n    return createHTML(this, 'big', '', '');\n  }\n});\n},{\"./_string-html\":244}],368:[function(require,module,exports){\n'use strict';\n// B.2.3.4 String.prototype.blink()\nrequire('./_string-html')('blink', function(createHTML){\n  return function blink(){\n    return createHTML(this, 'blink', '', '');\n  }\n});\n},{\"./_string-html\":244}],369:[function(require,module,exports){\n'use strict';\n// B.2.3.5 String.prototype.bold()\nrequire('./_string-html')('bold', function(createHTML){\n  return function bold(){\n    return createHTML(this, 'b', '', '');\n  }\n});\n},{\"./_string-html\":244}],370:[function(require,module,exports){\n'use strict';\nvar $export = require('./_export')\n  , $at     = require('./_string-at')(false);\n$export($export.P, 'String', {\n  // 21.1.3.3 String.prototype.codePointAt(pos)\n  codePointAt: function codePointAt(pos){\n    return $at(this, pos);\n  }\n});\n},{\"./_export\":177,\"./_string-at\":242}],371:[function(require,module,exports){\n// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n'use strict';\nvar $export   = require('./_export')\n  , toLength  = require('./_to-length')\n  , context   = require('./_string-context')\n  , ENDS_WITH = 'endsWith'\n  , $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /*, endPosition = @length */){\n    var that = context(this, searchString, ENDS_WITH)\n      , endPosition = arguments.length > 1 ? arguments[1] : undefined\n      , len    = toLength(that.length)\n      , end    = endPosition === undefined ? len : Math.min(toLength(endPosition), len)\n      , search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n},{\"./_export\":177,\"./_fails-is-regexp\":178,\"./_string-context\":243,\"./_to-length\":253}],372:[function(require,module,exports){\n'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function(createHTML){\n  return function fixed(){\n    return createHTML(this, 'tt', '', '');\n  }\n});\n},{\"./_string-html\":244}],373:[function(require,module,exports){\n'use strict';\n// B.2.3.7 String.prototype.fontcolor(color)\nrequire('./_string-html')('fontcolor', function(createHTML){\n  return function fontcolor(color){\n    return createHTML(this, 'font', 'color', color);\n  }\n});\n},{\"./_string-html\":244}],374:[function(require,module,exports){\n'use strict';\n// B.2.3.8 String.prototype.fontsize(size)\nrequire('./_string-html')('fontsize', function(createHTML){\n  return function fontsize(size){\n    return createHTML(this, 'font', 'size', size);\n  }\n});\n},{\"./_string-html\":244}],375:[function(require,module,exports){\nvar $export        = require('./_export')\n  , toIndex        = require('./_to-index')\n  , fromCharCode   = String.fromCharCode\n  , $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\n$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n  // 21.1.2.2 String.fromCodePoint(...codePoints)\n  fromCodePoint: function fromCodePoint(x){ // eslint-disable-line no-unused-vars\n    var res  = []\n      , aLen = arguments.length\n      , i    = 0\n      , code;\n    while(aLen > i){\n      code = +arguments[i++];\n      if(toIndex(code, 0x10ffff) !== code)throw RangeError(code + ' is not a valid code point');\n      res.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n      );\n    } return res.join('');\n  }\n});\n},{\"./_export\":177,\"./_to-index\":250}],376:[function(require,module,exports){\n// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export  = require('./_export')\n  , context  = require('./_string-context')\n  , INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /*, position = 0 */){\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n},{\"./_export\":177,\"./_fails-is-regexp\":178,\"./_string-context\":243}],377:[function(require,module,exports){\n'use strict';\n// B.2.3.9 String.prototype.italics()\nrequire('./_string-html')('italics', function(createHTML){\n  return function italics(){\n    return createHTML(this, 'i', '', '');\n  }\n});\n},{\"./_string-html\":244}],378:[function(require,module,exports){\narguments[4][141][0].apply(exports,arguments)\n},{\"./_iter-define\":198,\"./_string-at\":242,\"dup\":141}],379:[function(require,module,exports){\n'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function(createHTML){\n  return function link(url){\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n},{\"./_string-html\":244}],380:[function(require,module,exports){\nvar $export   = require('./_export')\n  , toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length');\n\n$export($export.S, 'String', {\n  // 21.1.2.4 String.raw(callSite, ...substitutions)\n  raw: function raw(callSite){\n    var tpl  = toIObject(callSite.raw)\n      , len  = toLength(tpl.length)\n      , aLen = arguments.length\n      , res  = []\n      , i    = 0;\n    while(len > i){\n      res.push(String(tpl[i++]));\n      if(i < aLen)res.push(String(arguments[i]));\n    } return res.join('');\n  }\n});\n},{\"./_export\":177,\"./_to-iobject\":252,\"./_to-length\":253}],381:[function(require,module,exports){\nvar $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n},{\"./_export\":177,\"./_string-repeat\":246}],382:[function(require,module,exports){\n'use strict';\n// B.2.3.11 String.prototype.small()\nrequire('./_string-html')('small', function(createHTML){\n  return function small(){\n    return createHTML(this, 'small', '', '');\n  }\n});\n},{\"./_string-html\":244}],383:[function(require,module,exports){\n// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export     = require('./_export')\n  , toLength    = require('./_to-length')\n  , context     = require('./_string-context')\n  , STARTS_WITH = 'startsWith'\n  , $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /*, position = 0 */){\n    var that   = context(this, searchString, STARTS_WITH)\n      , index  = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length))\n      , search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n},{\"./_export\":177,\"./_fails-is-regexp\":178,\"./_string-context\":243,\"./_to-length\":253}],384:[function(require,module,exports){\n'use strict';\n// B.2.3.12 String.prototype.strike()\nrequire('./_string-html')('strike', function(createHTML){\n  return function strike(){\n    return createHTML(this, 'strike', '', '');\n  }\n});\n},{\"./_string-html\":244}],385:[function(require,module,exports){\n'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function(createHTML){\n  return function sub(){\n    return createHTML(this, 'sub', '', '');\n  }\n});\n},{\"./_string-html\":244}],386:[function(require,module,exports){\n'use strict';\n// B.2.3.14 String.prototype.sup()\nrequire('./_string-html')('sup', function(createHTML){\n  return function sup(){\n    return createHTML(this, 'sup', '', '');\n  }\n});\n},{\"./_string-html\":244}],387:[function(require,module,exports){\n'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function($trim){\n  return function trim(){\n    return $trim(this, 3);\n  };\n});\n},{\"./_string-trim\":247}],388:[function(require,module,exports){\narguments[4][142][0].apply(exports,arguments)\n},{\"./_an-object\":152,\"./_descriptors\":173,\"./_enum-keys\":176,\"./_export\":177,\"./_fails\":179,\"./_global\":183,\"./_has\":184,\"./_hide\":185,\"./_is-array\":192,\"./_keyof\":202,\"./_library\":203,\"./_meta\":207,\"./_object-create\":211,\"./_object-dp\":212,\"./_object-gopd\":215,\"./_object-gopn\":217,\"./_object-gopn-ext\":216,\"./_object-gops\":218,\"./_object-keys\":221,\"./_object-pie\":222,\"./_property-desc\":230,\"./_redefine\":232,\"./_set-to-string-tag\":237,\"./_shared\":239,\"./_to-iobject\":252,\"./_to-primitive\":255,\"./_uid\":259,\"./_wks\":262,\"./_wks-define\":260,\"./_wks-ext\":261,\"dup\":142}],389:[function(require,module,exports){\n'use strict';\nvar $export      = require('./_export')\n  , $typed       = require('./_typed')\n  , buffer       = require('./_typed-buffer')\n  , anObject     = require('./_an-object')\n  , toIndex      = require('./_to-index')\n  , toLength     = require('./_to-length')\n  , isObject     = require('./_is-object')\n  , ArrayBuffer  = require('./_global').ArrayBuffer\n  , speciesConstructor = require('./_species-constructor')\n  , $ArrayBuffer = buffer.ArrayBuffer\n  , $DataView    = buffer.DataView\n  , $isView      = $typed.ABV && ArrayBuffer.isView\n  , $slice       = $ArrayBuffer.prototype.slice\n  , VIEW         = $typed.VIEW\n  , ARRAY_BUFFER = 'ArrayBuffer';\n\n$export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), {ArrayBuffer: $ArrayBuffer});\n\n$export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {\n  // 24.1.3.1 ArrayBuffer.isView(arg)\n  isView: function isView(it){\n    return $isView && $isView(it) || isObject(it) && VIEW in it;\n  }\n});\n\n$export($export.P + $export.U + $export.F * require('./_fails')(function(){\n  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;\n}), ARRAY_BUFFER, {\n  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)\n  slice: function slice(start, end){\n    if($slice !== undefined && end === undefined)return $slice.call(anObject(this), start); // FF fix\n    var len    = anObject(this).byteLength\n      , first  = toIndex(start, len)\n      , final  = toIndex(end === undefined ? len : end, len)\n      , result = new (speciesConstructor(this, $ArrayBuffer))(toLength(final - first))\n      , viewS  = new $DataView(this)\n      , viewT  = new $DataView(result)\n      , index  = 0;\n    while(first < final){\n      viewT.setUint8(index++, viewS.getUint8(first++));\n    } return result;\n  }\n});\n\nrequire('./_set-species')(ARRAY_BUFFER);\n},{\"./_an-object\":152,\"./_export\":177,\"./_fails\":179,\"./_global\":183,\"./_is-object\":194,\"./_set-species\":236,\"./_species-constructor\":240,\"./_to-index\":250,\"./_to-length\":253,\"./_typed\":258,\"./_typed-buffer\":257}],390:[function(require,module,exports){\nvar $export = require('./_export');\n$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {\n  DataView: require('./_typed-buffer').DataView\n});\n},{\"./_export\":177,\"./_typed\":258,\"./_typed-buffer\":257}],391:[function(require,module,exports){\nrequire('./_typed-array')('Float32', 4, function(init){\n  return function Float32Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n},{\"./_typed-array\":256}],392:[function(require,module,exports){\nrequire('./_typed-array')('Float64', 8, function(init){\n  return function Float64Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n},{\"./_typed-array\":256}],393:[function(require,module,exports){\nrequire('./_typed-array')('Int16', 2, function(init){\n  return function Int16Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n},{\"./_typed-array\":256}],394:[function(require,module,exports){\nrequire('./_typed-array')('Int32', 4, function(init){\n  return function Int32Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n},{\"./_typed-array\":256}],395:[function(require,module,exports){\nrequire('./_typed-array')('Int8', 1, function(init){\n  return function Int8Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n},{\"./_typed-array\":256}],396:[function(require,module,exports){\nrequire('./_typed-array')('Uint16', 2, function(init){\n  return function Uint16Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n},{\"./_typed-array\":256}],397:[function(require,module,exports){\nrequire('./_typed-array')('Uint32', 4, function(init){\n  return function Uint32Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n},{\"./_typed-array\":256}],398:[function(require,module,exports){\nrequire('./_typed-array')('Uint8', 1, function(init){\n  return function Uint8Array(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n});\n},{\"./_typed-array\":256}],399:[function(require,module,exports){\nrequire('./_typed-array')('Uint8', 1, function(init){\n  return function Uint8ClampedArray(data, byteOffset, length){\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n},{\"./_typed-array\":256}],400:[function(require,module,exports){\n'use strict';\nvar each         = require('./_array-methods')(0)\n  , redefine     = require('./_redefine')\n  , meta         = require('./_meta')\n  , assign       = require('./_object-assign')\n  , weak         = require('./_collection-weak')\n  , isObject     = require('./_is-object')\n  , getWeak      = meta.getWeak\n  , isExtensible = Object.isExtensible\n  , uncaughtFrozenStore = weak.ufstore\n  , tmp          = {}\n  , InternalMap;\n\nvar wrapper = function(get){\n  return function WeakMap(){\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key){\n    if(isObject(key)){\n      var data = getWeak(key);\n      if(data === true)return uncaughtFrozenStore(this).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value){\n    return weak.def(this, key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')('WeakMap', wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif(new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7){\n  InternalMap = weak.getConstructor(wrapper);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function(key){\n    var proto  = $WeakMap.prototype\n      , method = proto[key];\n    redefine(proto, key, function(a, b){\n      // store frozen objects on internal weakmap shim\n      if(isObject(a) && !isExtensible(a)){\n        if(!this._f)this._f = new InternalMap;\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n},{\"./_array-methods\":157,\"./_collection\":167,\"./_collection-weak\":166,\"./_is-object\":194,\"./_meta\":207,\"./_object-assign\":210,\"./_redefine\":232}],401:[function(require,module,exports){\n'use strict';\nvar weak = require('./_collection-weak');\n\n// 23.4 WeakSet Objects\nrequire('./_collection')('WeakSet', function(get){\n  return function WeakSet(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.4.3.1 WeakSet.prototype.add(value)\n  add: function add(value){\n    return weak.def(this, value, true);\n  }\n}, weak, false, true);\n},{\"./_collection\":167,\"./_collection-weak\":166}],402:[function(require,module,exports){\n'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export   = require('./_export')\n  , $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /*, fromIndex = 0 */){\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n},{\"./_add-to-unscopables\":150,\"./_array-includes\":156,\"./_export\":177}],403:[function(require,module,exports){\n// https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-09/sept-25.md#510-globalasap-for-enqueuing-a-microtask\nvar $export   = require('./_export')\n  , microtask = require('./_microtask')()\n  , process   = require('./_global').process\n  , isNode    = require('./_cof')(process) == 'process';\n\n$export($export.G, {\n  asap: function asap(fn){\n    var domain = isNode && process.domain;\n    microtask(domain ? domain.bind(fn) : fn);\n  }\n});\n},{\"./_cof\":163,\"./_export\":177,\"./_global\":183,\"./_microtask\":209}],404:[function(require,module,exports){\n// https://github.com/ljharb/proposal-is-error\nvar $export = require('./_export')\n  , cof     = require('./_cof');\n\n$export($export.S, 'Error', {\n  isError: function isError(it){\n    return cof(it) === 'Error';\n  }\n});\n},{\"./_cof\":163,\"./_export\":177}],405:[function(require,module,exports){\narguments[4][143][0].apply(exports,arguments)\n},{\"./_collection-to-json\":165,\"./_export\":177,\"dup\":143}],406:[function(require,module,exports){\n// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  iaddh: function iaddh(x0, x1, y0, y1){\n    var $x0 = x0 >>> 0\n      , $x1 = x1 >>> 0\n      , $y0 = y0 >>> 0;\n    return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0;\n  }\n});\n},{\"./_export\":177}],407:[function(require,module,exports){\n// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  imulh: function imulh(u, v){\n    var UINT16 = 0xffff\n      , $u = +u\n      , $v = +v\n      , u0 = $u & UINT16\n      , v0 = $v & UINT16\n      , u1 = $u >> 16\n      , v1 = $v >> 16\n      , t  = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16);\n  }\n});\n},{\"./_export\":177}],408:[function(require,module,exports){\n// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  isubh: function isubh(x0, x1, y0, y1){\n    var $x0 = x0 >>> 0\n      , $x1 = x1 >>> 0\n      , $y0 = y0 >>> 0;\n    return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0;\n  }\n});\n},{\"./_export\":177}],409:[function(require,module,exports){\n// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  umulh: function umulh(u, v){\n    var UINT16 = 0xffff\n      , $u = +u\n      , $v = +v\n      , u0 = $u & UINT16\n      , v0 = $v & UINT16\n      , u1 = $u >>> 16\n      , v1 = $v >>> 16\n      , t  = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16);\n  }\n});\n},{\"./_export\":177}],410:[function(require,module,exports){\n'use strict';\nvar $export         = require('./_export')\n  , toObject        = require('./_to-object')\n  , aFunction       = require('./_a-function')\n  , $defineProperty = require('./_object-dp');\n\n// B.2.2.2 Object.prototype.__defineGetter__(P, getter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineGetter__: function __defineGetter__(P, getter){\n    $defineProperty.f(toObject(this), P, {get: aFunction(getter), enumerable: true, configurable: true});\n  }\n});\n},{\"./_a-function\":148,\"./_descriptors\":173,\"./_export\":177,\"./_object-dp\":212,\"./_object-forced-pam\":214,\"./_to-object\":254}],411:[function(require,module,exports){\n'use strict';\nvar $export         = require('./_export')\n  , toObject        = require('./_to-object')\n  , aFunction       = require('./_a-function')\n  , $defineProperty = require('./_object-dp');\n\n// B.2.2.3 Object.prototype.__defineSetter__(P, setter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineSetter__: function __defineSetter__(P, setter){\n    $defineProperty.f(toObject(this), P, {set: aFunction(setter), enumerable: true, configurable: true});\n  }\n});\n},{\"./_a-function\":148,\"./_descriptors\":173,\"./_export\":177,\"./_object-dp\":212,\"./_object-forced-pam\":214,\"./_to-object\":254}],412:[function(require,module,exports){\n// https://github.com/tc39/proposal-object-values-entries\nvar $export  = require('./_export')\n  , $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it){\n    return $entries(it);\n  }\n});\n},{\"./_export\":177,\"./_object-to-array\":224}],413:[function(require,module,exports){\n// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export        = require('./_export')\n  , ownKeys        = require('./_own-keys')\n  , toIObject      = require('./_to-iobject')\n  , gOPD           = require('./_object-gopd')\n  , createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object){\n    var O       = toIObject(object)\n      , getDesc = gOPD.f\n      , keys    = ownKeys(O)\n      , result  = {}\n      , i       = 0\n      , key;\n    while(keys.length > i)createProperty(result, key = keys[i++], getDesc(O, key));\n    return result;\n  }\n});\n},{\"./_create-property\":169,\"./_export\":177,\"./_object-gopd\":215,\"./_own-keys\":225,\"./_to-iobject\":252}],414:[function(require,module,exports){\n'use strict';\nvar $export                  = require('./_export')\n  , toObject                 = require('./_to-object')\n  , toPrimitive              = require('./_to-primitive')\n  , getPrototypeOf           = require('./_object-gpo')\n  , getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.4 Object.prototype.__lookupGetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupGetter__: function __lookupGetter__(P){\n    var O = toObject(this)\n      , K = toPrimitive(P, true)\n      , D;\n    do {\n      if(D = getOwnPropertyDescriptor(O, K))return D.get;\n    } while(O = getPrototypeOf(O));\n  }\n});\n},{\"./_descriptors\":173,\"./_export\":177,\"./_object-forced-pam\":214,\"./_object-gopd\":215,\"./_object-gpo\":219,\"./_to-object\":254,\"./_to-primitive\":255}],415:[function(require,module,exports){\n'use strict';\nvar $export                  = require('./_export')\n  , toObject                 = require('./_to-object')\n  , toPrimitive              = require('./_to-primitive')\n  , getPrototypeOf           = require('./_object-gpo')\n  , getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.5 Object.prototype.__lookupSetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupSetter__: function __lookupSetter__(P){\n    var O = toObject(this)\n      , K = toPrimitive(P, true)\n      , D;\n    do {\n      if(D = getOwnPropertyDescriptor(O, K))return D.set;\n    } while(O = getPrototypeOf(O));\n  }\n});\n},{\"./_descriptors\":173,\"./_export\":177,\"./_object-forced-pam\":214,\"./_object-gopd\":215,\"./_object-gpo\":219,\"./_to-object\":254,\"./_to-primitive\":255}],416:[function(require,module,exports){\n// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export')\n  , $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it){\n    return $values(it);\n  }\n});\n},{\"./_export\":177,\"./_object-to-array\":224}],417:[function(require,module,exports){\n'use strict';\n// https://github.com/zenparsing/es-observable\nvar $export     = require('./_export')\n  , global      = require('./_global')\n  , core        = require('./_core')\n  , microtask   = require('./_microtask')()\n  , OBSERVABLE  = require('./_wks')('observable')\n  , aFunction   = require('./_a-function')\n  , anObject    = require('./_an-object')\n  , anInstance  = require('./_an-instance')\n  , redefineAll = require('./_redefine-all')\n  , hide        = require('./_hide')\n  , forOf       = require('./_for-of')\n  , RETURN      = forOf.RETURN;\n\nvar getMethod = function(fn){\n  return fn == null ? undefined : aFunction(fn);\n};\n\nvar cleanupSubscription = function(subscription){\n  var cleanup = subscription._c;\n  if(cleanup){\n    subscription._c = undefined;\n    cleanup();\n  }\n};\n\nvar subscriptionClosed = function(subscription){\n  return subscription._o === undefined;\n};\n\nvar closeSubscription = function(subscription){\n  if(!subscriptionClosed(subscription)){\n    subscription._o = undefined;\n    cleanupSubscription(subscription);\n  }\n};\n\nvar Subscription = function(observer, subscriber){\n  anObject(observer);\n  this._c = undefined;\n  this._o = observer;\n  observer = new SubscriptionObserver(this);\n  try {\n    var cleanup      = subscriber(observer)\n      , subscription = cleanup;\n    if(cleanup != null){\n      if(typeof cleanup.unsubscribe === 'function')cleanup = function(){ subscription.unsubscribe(); };\n      else aFunction(cleanup);\n      this._c = cleanup;\n    }\n  } catch(e){\n    observer.error(e);\n    return;\n  } if(subscriptionClosed(this))cleanupSubscription(this);\n};\n\nSubscription.prototype = redefineAll({}, {\n  unsubscribe: function unsubscribe(){ closeSubscription(this); }\n});\n\nvar SubscriptionObserver = function(subscription){\n  this._s = subscription;\n};\n\nSubscriptionObserver.prototype = redefineAll({}, {\n  next: function next(value){\n    var subscription = this._s;\n    if(!subscriptionClosed(subscription)){\n      var observer = subscription._o;\n      try {\n        var m = getMethod(observer.next);\n        if(m)return m.call(observer, value);\n      } catch(e){\n        try {\n          closeSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      }\n    }\n  },\n  error: function error(value){\n    var subscription = this._s;\n    if(subscriptionClosed(subscription))throw value;\n    var observer = subscription._o;\n    subscription._o = undefined;\n    try {\n      var m = getMethod(observer.error);\n      if(!m)throw value;\n      value = m.call(observer, value);\n    } catch(e){\n      try {\n        cleanupSubscription(subscription);\n      } finally {\n        throw e;\n      }\n    } cleanupSubscription(subscription);\n    return value;\n  },\n  complete: function complete(value){\n    var subscription = this._s;\n    if(!subscriptionClosed(subscription)){\n      var observer = subscription._o;\n      subscription._o = undefined;\n      try {\n        var m = getMethod(observer.complete);\n        value = m ? m.call(observer, value) : undefined;\n      } catch(e){\n        try {\n          cleanupSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      } cleanupSubscription(subscription);\n      return value;\n    }\n  }\n});\n\nvar $Observable = function Observable(subscriber){\n  anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber);\n};\n\nredefineAll($Observable.prototype, {\n  subscribe: function subscribe(observer){\n    return new Subscription(observer, this._f);\n  },\n  forEach: function forEach(fn){\n    var that = this;\n    return new (core.Promise || global.Promise)(function(resolve, reject){\n      aFunction(fn);\n      var subscription = that.subscribe({\n        next : function(value){\n          try {\n            return fn(value);\n          } catch(e){\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  }\n});\n\nredefineAll($Observable, {\n  from: function from(x){\n    var C = typeof this === 'function' ? this : $Observable;\n    var method = getMethod(anObject(x)[OBSERVABLE]);\n    if(method){\n      var observable = anObject(method.call(x));\n      return observable.constructor === C ? observable : new C(function(observer){\n        return observable.subscribe(observer);\n      });\n    }\n    return new C(function(observer){\n      var done = false;\n      microtask(function(){\n        if(!done){\n          try {\n            if(forOf(x, false, function(it){\n              observer.next(it);\n              if(done)return RETURN;\n            }) === RETURN)return;\n          } catch(e){\n            if(done)throw e;\n            observer.error(e);\n            return;\n          } observer.complete();\n        }\n      });\n      return function(){ done = true; };\n    });\n  },\n  of: function of(){\n    for(var i = 0, l = arguments.length, items = Array(l); i < l;)items[i] = arguments[i++];\n    return new (typeof this === 'function' ? this : $Observable)(function(observer){\n      var done = false;\n      microtask(function(){\n        if(!done){\n          for(var i = 0; i < items.length; ++i){\n            observer.next(items[i]);\n            if(done)return;\n          } observer.complete();\n        }\n      });\n      return function(){ done = true; };\n    });\n  }\n});\n\nhide($Observable.prototype, OBSERVABLE, function(){ return this; });\n\n$export($export.G, {Observable: $Observable});\n\nrequire('./_set-species')('Observable');\n},{\"./_a-function\":148,\"./_an-instance\":151,\"./_an-object\":152,\"./_core\":168,\"./_export\":177,\"./_for-of\":182,\"./_global\":183,\"./_hide\":185,\"./_microtask\":209,\"./_redefine-all\":231,\"./_set-species\":236,\"./_wks\":262}],418:[function(require,module,exports){\nvar metadata                  = require('./_metadata')\n  , anObject                  = require('./_an-object')\n  , toMetaKey                 = metadata.key\n  , ordinaryDefineOwnMetadata = metadata.set;\n\nmetadata.exp({defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey){\n  ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey));\n}});\n},{\"./_an-object\":152,\"./_metadata\":208}],419:[function(require,module,exports){\nvar metadata               = require('./_metadata')\n  , anObject               = require('./_an-object')\n  , toMetaKey              = metadata.key\n  , getOrCreateMetadataMap = metadata.map\n  , store                  = metadata.store;\n\nmetadata.exp({deleteMetadata: function deleteMetadata(metadataKey, target /*, targetKey */){\n  var targetKey   = arguments.length < 3 ? undefined : toMetaKey(arguments[2])\n    , metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false);\n  if(metadataMap === undefined || !metadataMap['delete'](metadataKey))return false;\n  if(metadataMap.size)return true;\n  var targetMetadata = store.get(target);\n  targetMetadata['delete'](targetKey);\n  return !!targetMetadata.size || store['delete'](target);\n}});\n},{\"./_an-object\":152,\"./_metadata\":208}],420:[function(require,module,exports){\nvar Set                     = require('./es6.set')\n  , from                    = require('./_array-from-iterable')\n  , metadata                = require('./_metadata')\n  , anObject                = require('./_an-object')\n  , getPrototypeOf          = require('./_object-gpo')\n  , ordinaryOwnMetadataKeys = metadata.keys\n  , toMetaKey               = metadata.key;\n\nvar ordinaryMetadataKeys = function(O, P){\n  var oKeys  = ordinaryOwnMetadataKeys(O, P)\n    , parent = getPrototypeOf(O);\n  if(parent === null)return oKeys;\n  var pKeys  = ordinaryMetadataKeys(parent, P);\n  return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys;\n};\n\nmetadata.exp({getMetadataKeys: function getMetadataKeys(target /*, targetKey */){\n  return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n}});\n},{\"./_an-object\":152,\"./_array-from-iterable\":155,\"./_metadata\":208,\"./_object-gpo\":219,\"./es6.set\":365}],421:[function(require,module,exports){\nvar metadata               = require('./_metadata')\n  , anObject               = require('./_an-object')\n  , getPrototypeOf         = require('./_object-gpo')\n  , ordinaryHasOwnMetadata = metadata.has\n  , ordinaryGetOwnMetadata = metadata.get\n  , toMetaKey              = metadata.key;\n\nvar ordinaryGetMetadata = function(MetadataKey, O, P){\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if(hasOwn)return ordinaryGetOwnMetadata(MetadataKey, O, P);\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined;\n};\n\nmetadata.exp({getMetadata: function getMetadata(metadataKey, target /*, targetKey */){\n  return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n}});\n},{\"./_an-object\":152,\"./_metadata\":208,\"./_object-gpo\":219}],422:[function(require,module,exports){\nvar metadata                = require('./_metadata')\n  , anObject                = require('./_an-object')\n  , ordinaryOwnMetadataKeys = metadata.keys\n  , toMetaKey               = metadata.key;\n\nmetadata.exp({getOwnMetadataKeys: function getOwnMetadataKeys(target /*, targetKey */){\n  return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n}});\n},{\"./_an-object\":152,\"./_metadata\":208}],423:[function(require,module,exports){\nvar metadata               = require('./_metadata')\n  , anObject               = require('./_an-object')\n  , ordinaryGetOwnMetadata = metadata.get\n  , toMetaKey              = metadata.key;\n\nmetadata.exp({getOwnMetadata: function getOwnMetadata(metadataKey, target /*, targetKey */){\n  return ordinaryGetOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n}});\n},{\"./_an-object\":152,\"./_metadata\":208}],424:[function(require,module,exports){\nvar metadata               = require('./_metadata')\n  , anObject               = require('./_an-object')\n  , getPrototypeOf         = require('./_object-gpo')\n  , ordinaryHasOwnMetadata = metadata.has\n  , toMetaKey              = metadata.key;\n\nvar ordinaryHasMetadata = function(MetadataKey, O, P){\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if(hasOwn)return true;\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false;\n};\n\nmetadata.exp({hasMetadata: function hasMetadata(metadataKey, target /*, targetKey */){\n  return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n}});\n},{\"./_an-object\":152,\"./_metadata\":208,\"./_object-gpo\":219}],425:[function(require,module,exports){\nvar metadata               = require('./_metadata')\n  , anObject               = require('./_an-object')\n  , ordinaryHasOwnMetadata = metadata.has\n  , toMetaKey              = metadata.key;\n\nmetadata.exp({hasOwnMetadata: function hasOwnMetadata(metadataKey, target /*, targetKey */){\n  return ordinaryHasOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n}});\n},{\"./_an-object\":152,\"./_metadata\":208}],426:[function(require,module,exports){\nvar metadata                  = require('./_metadata')\n  , anObject                  = require('./_an-object')\n  , aFunction                 = require('./_a-function')\n  , toMetaKey                 = metadata.key\n  , ordinaryDefineOwnMetadata = metadata.set;\n\nmetadata.exp({metadata: function metadata(metadataKey, metadataValue){\n  return function decorator(target, targetKey){\n    ordinaryDefineOwnMetadata(\n      metadataKey, metadataValue,\n      (targetKey !== undefined ? anObject : aFunction)(target),\n      toMetaKey(targetKey)\n    );\n  };\n}});\n},{\"./_a-function\":148,\"./_an-object\":152,\"./_metadata\":208}],427:[function(require,module,exports){\narguments[4][144][0].apply(exports,arguments)\n},{\"./_collection-to-json\":165,\"./_export\":177,\"dup\":144}],428:[function(require,module,exports){\n'use strict';\n// https://github.com/mathiasbynens/String.prototype.at\nvar $export = require('./_export')\n  , $at     = require('./_string-at')(true);\n\n$export($export.P, 'String', {\n  at: function at(pos){\n    return $at(this, pos);\n  }\n});\n},{\"./_export\":177,\"./_string-at\":242}],429:[function(require,module,exports){\n'use strict';\n// https://tc39.github.io/String.prototype.matchAll/\nvar $export     = require('./_export')\n  , defined     = require('./_defined')\n  , toLength    = require('./_to-length')\n  , isRegExp    = require('./_is-regexp')\n  , getFlags    = require('./_flags')\n  , RegExpProto = RegExp.prototype;\n\nvar $RegExpStringIterator = function(regexp, string){\n  this._r = regexp;\n  this._s = string;\n};\n\nrequire('./_iter-create')($RegExpStringIterator, 'RegExp String', function next(){\n  var match = this._r.exec(this._s);\n  return {value: match, done: match === null};\n});\n\n$export($export.P, 'String', {\n  matchAll: function matchAll(regexp){\n    defined(this);\n    if(!isRegExp(regexp))throw TypeError(regexp + ' is not a regexp!');\n    var S     = String(this)\n      , flags = 'flags' in RegExpProto ? String(regexp.flags) : getFlags.call(regexp)\n      , rx    = new RegExp(regexp.source, ~flags.indexOf('g') ? flags : 'g' + flags);\n    rx.lastIndex = toLength(regexp.lastIndex);\n    return new $RegExpStringIterator(rx, S);\n  }\n});\n},{\"./_defined\":172,\"./_export\":177,\"./_flags\":181,\"./_is-regexp\":195,\"./_iter-create\":197,\"./_to-length\":253}],430:[function(require,module,exports){\n'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export')\n  , $pad    = require('./_string-pad');\n\n$export($export.P, 'String', {\n  padEnd: function padEnd(maxLength /*, fillString = ' ' */){\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);\n  }\n});\n},{\"./_export\":177,\"./_string-pad\":245}],431:[function(require,module,exports){\n'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export')\n  , $pad    = require('./_string-pad');\n\n$export($export.P, 'String', {\n  padStart: function padStart(maxLength /*, fillString = ' ' */){\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n},{\"./_export\":177,\"./_string-pad\":245}],432:[function(require,module,exports){\n'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimLeft', function($trim){\n  return function trimLeft(){\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n},{\"./_string-trim\":247}],433:[function(require,module,exports){\n'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimRight', function($trim){\n  return function trimRight(){\n    return $trim(this, 2);\n  };\n}, 'trimEnd');\n},{\"./_string-trim\":247}],434:[function(require,module,exports){\narguments[4][145][0].apply(exports,arguments)\n},{\"./_wks-define\":260,\"dup\":145}],435:[function(require,module,exports){\narguments[4][146][0].apply(exports,arguments)\n},{\"./_wks-define\":260,\"dup\":146}],436:[function(require,module,exports){\n// https://github.com/ljharb/proposal-global\nvar $export = require('./_export');\n\n$export($export.S, 'System', {global: require('./_global')});\n},{\"./_export\":177,\"./_global\":183}],437:[function(require,module,exports){\nvar $iterators    = require('./es6.array.iterator')\n  , redefine      = require('./_redefine')\n  , global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , wks           = require('./_wks')\n  , ITERATOR      = wks('iterator')\n  , TO_STRING_TAG = wks('toStringTag')\n  , ArrayValues   = Iterators.Array;\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype\n    , key;\n  if(proto){\n    if(!proto[ITERATOR])hide(proto, ITERATOR, ArrayValues);\n    if(!proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    for(key in $iterators)if(!proto[key])redefine(proto, key, $iterators[key], true);\n  }\n}\n},{\"./_global\":183,\"./_hide\":185,\"./_iterators\":201,\"./_redefine\":232,\"./_wks\":262,\"./es6.array.iterator\":275}],438:[function(require,module,exports){\nvar $export = require('./_export')\n  , $task   = require('./_task');\n$export($export.G + $export.B, {\n  setImmediate:   $task.set,\n  clearImmediate: $task.clear\n});\n},{\"./_export\":177,\"./_task\":249}],439:[function(require,module,exports){\n// ie9- setTimeout & setInterval additional parameters fix\nvar global     = require('./_global')\n  , $export    = require('./_export')\n  , invoke     = require('./_invoke')\n  , partial    = require('./_partial')\n  , navigator  = global.navigator\n  , MSIE       = !!navigator && /MSIE .\\./.test(navigator.userAgent); // <- dirty ie9- check\nvar wrap = function(set){\n  return MSIE ? function(fn, time /*, ...args */){\n    return set(invoke(\n      partial,\n      [].slice.call(arguments, 2),\n      typeof fn == 'function' ? fn : Function(fn)\n    ), time);\n  } : set;\n};\n$export($export.G + $export.B + $export.F * MSIE, {\n  setTimeout:  wrap(global.setTimeout),\n  setInterval: wrap(global.setInterval)\n});\n},{\"./_export\":177,\"./_global\":183,\"./_invoke\":189,\"./_partial\":228}],440:[function(require,module,exports){\nrequire('./modules/es6.symbol');\nrequire('./modules/es6.object.create');\nrequire('./modules/es6.object.define-property');\nrequire('./modules/es6.object.define-properties');\nrequire('./modules/es6.object.get-own-property-descriptor');\nrequire('./modules/es6.object.get-prototype-of');\nrequire('./modules/es6.object.keys');\nrequire('./modules/es6.object.get-own-property-names');\nrequire('./modules/es6.object.freeze');\nrequire('./modules/es6.object.seal');\nrequire('./modules/es6.object.prevent-extensions');\nrequire('./modules/es6.object.is-frozen');\nrequire('./modules/es6.object.is-sealed');\nrequire('./modules/es6.object.is-extensible');\nrequire('./modules/es6.object.assign');\nrequire('./modules/es6.object.is');\nrequire('./modules/es6.object.set-prototype-of');\nrequire('./modules/es6.object.to-string');\nrequire('./modules/es6.function.bind');\nrequire('./modules/es6.function.name');\nrequire('./modules/es6.function.has-instance');\nrequire('./modules/es6.parse-int');\nrequire('./modules/es6.parse-float');\nrequire('./modules/es6.number.constructor');\nrequire('./modules/es6.number.to-fixed');\nrequire('./modules/es6.number.to-precision');\nrequire('./modules/es6.number.epsilon');\nrequire('./modules/es6.number.is-finite');\nrequire('./modules/es6.number.is-integer');\nrequire('./modules/es6.number.is-nan');\nrequire('./modules/es6.number.is-safe-integer');\nrequire('./modules/es6.number.max-safe-integer');\nrequire('./modules/es6.number.min-safe-integer');\nrequire('./modules/es6.number.parse-float');\nrequire('./modules/es6.number.parse-int');\nrequire('./modules/es6.math.acosh');\nrequire('./modules/es6.math.asinh');\nrequire('./modules/es6.math.atanh');\nrequire('./modules/es6.math.cbrt');\nrequire('./modules/es6.math.clz32');\nrequire('./modules/es6.math.cosh');\nrequire('./modules/es6.math.expm1');\nrequire('./modules/es6.math.fround');\nrequire('./modules/es6.math.hypot');\nrequire('./modules/es6.math.imul');\nrequire('./modules/es6.math.log10');\nrequire('./modules/es6.math.log1p');\nrequire('./modules/es6.math.log2');\nrequire('./modules/es6.math.sign');\nrequire('./modules/es6.math.sinh');\nrequire('./modules/es6.math.tanh');\nrequire('./modules/es6.math.trunc');\nrequire('./modules/es6.string.from-code-point');\nrequire('./modules/es6.string.raw');\nrequire('./modules/es6.string.trim');\nrequire('./modules/es6.string.iterator');\nrequire('./modules/es6.string.code-point-at');\nrequire('./modules/es6.string.ends-with');\nrequire('./modules/es6.string.includes');\nrequire('./modules/es6.string.repeat');\nrequire('./modules/es6.string.starts-with');\nrequire('./modules/es6.string.anchor');\nrequire('./modules/es6.string.big');\nrequire('./modules/es6.string.blink');\nrequire('./modules/es6.string.bold');\nrequire('./modules/es6.string.fixed');\nrequire('./modules/es6.string.fontcolor');\nrequire('./modules/es6.string.fontsize');\nrequire('./modules/es6.string.italics');\nrequire('./modules/es6.string.link');\nrequire('./modules/es6.string.small');\nrequire('./modules/es6.string.strike');\nrequire('./modules/es6.string.sub');\nrequire('./modules/es6.string.sup');\nrequire('./modules/es6.date.now');\nrequire('./modules/es6.date.to-json');\nrequire('./modules/es6.date.to-iso-string');\nrequire('./modules/es6.date.to-string');\nrequire('./modules/es6.date.to-primitive');\nrequire('./modules/es6.array.is-array');\nrequire('./modules/es6.array.from');\nrequire('./modules/es6.array.of');\nrequire('./modules/es6.array.join');\nrequire('./modules/es6.array.slice');\nrequire('./modules/es6.array.sort');\nrequire('./modules/es6.array.for-each');\nrequire('./modules/es6.array.map');\nrequire('./modules/es6.array.filter');\nrequire('./modules/es6.array.some');\nrequire('./modules/es6.array.every');\nrequire('./modules/es6.array.reduce');\nrequire('./modules/es6.array.reduce-right');\nrequire('./modules/es6.array.index-of');\nrequire('./modules/es6.array.last-index-of');\nrequire('./modules/es6.array.copy-within');\nrequire('./modules/es6.array.fill');\nrequire('./modules/es6.array.find');\nrequire('./modules/es6.array.find-index');\nrequire('./modules/es6.array.species');\nrequire('./modules/es6.array.iterator');\nrequire('./modules/es6.regexp.constructor');\nrequire('./modules/es6.regexp.to-string');\nrequire('./modules/es6.regexp.flags');\nrequire('./modules/es6.regexp.match');\nrequire('./modules/es6.regexp.replace');\nrequire('./modules/es6.regexp.search');\nrequire('./modules/es6.regexp.split');\nrequire('./modules/es6.promise');\nrequire('./modules/es6.map');\nrequire('./modules/es6.set');\nrequire('./modules/es6.weak-map');\nrequire('./modules/es6.weak-set');\nrequire('./modules/es6.typed.array-buffer');\nrequire('./modules/es6.typed.data-view');\nrequire('./modules/es6.typed.int8-array');\nrequire('./modules/es6.typed.uint8-array');\nrequire('./modules/es6.typed.uint8-clamped-array');\nrequire('./modules/es6.typed.int16-array');\nrequire('./modules/es6.typed.uint16-array');\nrequire('./modules/es6.typed.int32-array');\nrequire('./modules/es6.typed.uint32-array');\nrequire('./modules/es6.typed.float32-array');\nrequire('./modules/es6.typed.float64-array');\nrequire('./modules/es6.reflect.apply');\nrequire('./modules/es6.reflect.construct');\nrequire('./modules/es6.reflect.define-property');\nrequire('./modules/es6.reflect.delete-property');\nrequire('./modules/es6.reflect.enumerate');\nrequire('./modules/es6.reflect.get');\nrequire('./modules/es6.reflect.get-own-property-descriptor');\nrequire('./modules/es6.reflect.get-prototype-of');\nrequire('./modules/es6.reflect.has');\nrequire('./modules/es6.reflect.is-extensible');\nrequire('./modules/es6.reflect.own-keys');\nrequire('./modules/es6.reflect.prevent-extensions');\nrequire('./modules/es6.reflect.set');\nrequire('./modules/es6.reflect.set-prototype-of');\nrequire('./modules/es7.array.includes');\nrequire('./modules/es7.string.at');\nrequire('./modules/es7.string.pad-start');\nrequire('./modules/es7.string.pad-end');\nrequire('./modules/es7.string.trim-left');\nrequire('./modules/es7.string.trim-right');\nrequire('./modules/es7.string.match-all');\nrequire('./modules/es7.symbol.async-iterator');\nrequire('./modules/es7.symbol.observable');\nrequire('./modules/es7.object.get-own-property-descriptors');\nrequire('./modules/es7.object.values');\nrequire('./modules/es7.object.entries');\nrequire('./modules/es7.object.define-getter');\nrequire('./modules/es7.object.define-setter');\nrequire('./modules/es7.object.lookup-getter');\nrequire('./modules/es7.object.lookup-setter');\nrequire('./modules/es7.map.to-json');\nrequire('./modules/es7.set.to-json');\nrequire('./modules/es7.system.global');\nrequire('./modules/es7.error.is-error');\nrequire('./modules/es7.math.iaddh');\nrequire('./modules/es7.math.isubh');\nrequire('./modules/es7.math.imulh');\nrequire('./modules/es7.math.umulh');\nrequire('./modules/es7.reflect.define-metadata');\nrequire('./modules/es7.reflect.delete-metadata');\nrequire('./modules/es7.reflect.get-metadata');\nrequire('./modules/es7.reflect.get-metadata-keys');\nrequire('./modules/es7.reflect.get-own-metadata');\nrequire('./modules/es7.reflect.get-own-metadata-keys');\nrequire('./modules/es7.reflect.has-metadata');\nrequire('./modules/es7.reflect.has-own-metadata');\nrequire('./modules/es7.reflect.metadata');\nrequire('./modules/es7.asap');\nrequire('./modules/es7.observable');\nrequire('./modules/web.timers');\nrequire('./modules/web.immediate');\nrequire('./modules/web.dom.iterable');\nmodule.exports = require('./modules/_core');\n},{\"./modules/_core\":168,\"./modules/es6.array.copy-within\":265,\"./modules/es6.array.every\":266,\"./modules/es6.array.fill\":267,\"./modules/es6.array.filter\":268,\"./modules/es6.array.find\":270,\"./modules/es6.array.find-index\":269,\"./modules/es6.array.for-each\":271,\"./modules/es6.array.from\":272,\"./modules/es6.array.index-of\":273,\"./modules/es6.array.is-array\":274,\"./modules/es6.array.iterator\":275,\"./modules/es6.array.join\":276,\"./modules/es6.array.last-index-of\":277,\"./modules/es6.array.map\":278,\"./modules/es6.array.of\":279,\"./modules/es6.array.reduce\":281,\"./modules/es6.array.reduce-right\":280,\"./modules/es6.array.slice\":282,\"./modules/es6.array.some\":283,\"./modules/es6.array.sort\":284,\"./modules/es6.array.species\":285,\"./modules/es6.date.now\":286,\"./modules/es6.date.to-iso-string\":287,\"./modules/es6.date.to-json\":288,\"./modules/es6.date.to-primitive\":289,\"./modules/es6.date.to-string\":290,\"./modules/es6.function.bind\":291,\"./modules/es6.function.has-instance\":292,\"./modules/es6.function.name\":293,\"./modules/es6.map\":294,\"./modules/es6.math.acosh\":295,\"./modules/es6.math.asinh\":296,\"./modules/es6.math.atanh\":297,\"./modules/es6.math.cbrt\":298,\"./modules/es6.math.clz32\":299,\"./modules/es6.math.cosh\":300,\"./modules/es6.math.expm1\":301,\"./modules/es6.math.fround\":302,\"./modules/es6.math.hypot\":303,\"./modules/es6.math.imul\":304,\"./modules/es6.math.log10\":305,\"./modules/es6.math.log1p\":306,\"./modules/es6.math.log2\":307,\"./modules/es6.math.sign\":308,\"./modules/es6.math.sinh\":309,\"./modules/es6.math.tanh\":310,\"./modules/es6.math.trunc\":311,\"./modules/es6.number.constructor\":312,\"./modules/es6.number.epsilon\":313,\"./modules/es6.number.is-finite\":314,\"./modules/es6.number.is-integer\":315,\"./modules/es6.number.is-nan\":316,\"./modules/es6.number.is-safe-integer\":317,\"./modules/es6.number.max-safe-integer\":318,\"./modules/es6.number.min-safe-integer\":319,\"./modules/es6.number.parse-float\":320,\"./modules/es6.number.parse-int\":321,\"./modules/es6.number.to-fixed\":322,\"./modules/es6.number.to-precision\":323,\"./modules/es6.object.assign\":324,\"./modules/es6.object.create\":325,\"./modules/es6.object.define-properties\":326,\"./modules/es6.object.define-property\":327,\"./modules/es6.object.freeze\":328,\"./modules/es6.object.get-own-property-descriptor\":329,\"./modules/es6.object.get-own-property-names\":330,\"./modules/es6.object.get-prototype-of\":331,\"./modules/es6.object.is\":335,\"./modules/es6.object.is-extensible\":332,\"./modules/es6.object.is-frozen\":333,\"./modules/es6.object.is-sealed\":334,\"./modules/es6.object.keys\":336,\"./modules/es6.object.prevent-extensions\":337,\"./modules/es6.object.seal\":338,\"./modules/es6.object.set-prototype-of\":339,\"./modules/es6.object.to-string\":340,\"./modules/es6.parse-float\":341,\"./modules/es6.parse-int\":342,\"./modules/es6.promise\":343,\"./modules/es6.reflect.apply\":344,\"./modules/es6.reflect.construct\":345,\"./modules/es6.reflect.define-property\":346,\"./modules/es6.reflect.delete-property\":347,\"./modules/es6.reflect.enumerate\":348,\"./modules/es6.reflect.get\":351,\"./modules/es6.reflect.get-own-property-descriptor\":349,\"./modules/es6.reflect.get-prototype-of\":350,\"./modules/es6.reflect.has\":352,\"./modules/es6.reflect.is-extensible\":353,\"./modules/es6.reflect.own-keys\":354,\"./modules/es6.reflect.prevent-extensions\":355,\"./modules/es6.reflect.set\":357,\"./modules/es6.reflect.set-prototype-of\":356,\"./modules/es6.regexp.constructor\":358,\"./modules/es6.regexp.flags\":359,\"./modules/es6.regexp.match\":360,\"./modules/es6.regexp.replace\":361,\"./modules/es6.regexp.search\":362,\"./modules/es6.regexp.split\":363,\"./modules/es6.regexp.to-string\":364,\"./modules/es6.set\":365,\"./modules/es6.string.anchor\":366,\"./modules/es6.string.big\":367,\"./modules/es6.string.blink\":368,\"./modules/es6.string.bold\":369,\"./modules/es6.string.code-point-at\":370,\"./modules/es6.string.ends-with\":371,\"./modules/es6.string.fixed\":372,\"./modules/es6.string.fontcolor\":373,\"./modules/es6.string.fontsize\":374,\"./modules/es6.string.from-code-point\":375,\"./modules/es6.string.includes\":376,\"./modules/es6.string.italics\":377,\"./modules/es6.string.iterator\":378,\"./modules/es6.string.link\":379,\"./modules/es6.string.raw\":380,\"./modules/es6.string.repeat\":381,\"./modules/es6.string.small\":382,\"./modules/es6.string.starts-with\":383,\"./modules/es6.string.strike\":384,\"./modules/es6.string.sub\":385,\"./modules/es6.string.sup\":386,\"./modules/es6.string.trim\":387,\"./modules/es6.symbol\":388,\"./modules/es6.typed.array-buffer\":389,\"./modules/es6.typed.data-view\":390,\"./modules/es6.typed.float32-array\":391,\"./modules/es6.typed.float64-array\":392,\"./modules/es6.typed.int16-array\":393,\"./modules/es6.typed.int32-array\":394,\"./modules/es6.typed.int8-array\":395,\"./modules/es6.typed.uint16-array\":396,\"./modules/es6.typed.uint32-array\":397,\"./modules/es6.typed.uint8-array\":398,\"./modules/es6.typed.uint8-clamped-array\":399,\"./modules/es6.weak-map\":400,\"./modules/es6.weak-set\":401,\"./modules/es7.array.includes\":402,\"./modules/es7.asap\":403,\"./modules/es7.error.is-error\":404,\"./modules/es7.map.to-json\":405,\"./modules/es7.math.iaddh\":406,\"./modules/es7.math.imulh\":407,\"./modules/es7.math.isubh\":408,\"./modules/es7.math.umulh\":409,\"./modules/es7.object.define-getter\":410,\"./modules/es7.object.define-setter\":411,\"./modules/es7.object.entries\":412,\"./modules/es7.object.get-own-property-descriptors\":413,\"./modules/es7.object.lookup-getter\":414,\"./modules/es7.object.lookup-setter\":415,\"./modules/es7.object.values\":416,\"./modules/es7.observable\":417,\"./modules/es7.reflect.define-metadata\":418,\"./modules/es7.reflect.delete-metadata\":419,\"./modules/es7.reflect.get-metadata\":421,\"./modules/es7.reflect.get-metadata-keys\":420,\"./modules/es7.reflect.get-own-metadata\":423,\"./modules/es7.reflect.get-own-metadata-keys\":422,\"./modules/es7.reflect.has-metadata\":424,\"./modules/es7.reflect.has-own-metadata\":425,\"./modules/es7.reflect.metadata\":426,\"./modules/es7.set.to-json\":427,\"./modules/es7.string.at\":428,\"./modules/es7.string.match-all\":429,\"./modules/es7.string.pad-end\":430,\"./modules/es7.string.pad-start\":431,\"./modules/es7.string.trim-left\":432,\"./modules/es7.string.trim-right\":433,\"./modules/es7.symbol.async-iterator\":434,\"./modules/es7.symbol.observable\":435,\"./modules/es7.system.global\":436,\"./modules/web.dom.iterable\":437,\"./modules/web.immediate\":438,\"./modules/web.timers\":439}],441:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.SUPPORTED_PROTOCOL_VERSION = undefined;\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _desc, _value, _class;\n\nvar _utils = require(\"./utils\");\n\nvar _http = require(\"./http\");\n\nvar _http2 = _interopRequireDefault(_http);\n\nvar _endpoint = require(\"./endpoint\");\n\nvar _endpoint2 = _interopRequireDefault(_endpoint);\n\nvar _requests = require(\"./requests\");\n\nvar requests = _interopRequireWildcard(_requests);\n\nvar _batch = require(\"./batch\");\n\nvar _bucket = require(\"./bucket\");\n\nvar _bucket2 = _interopRequireDefault(_bucket);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/**\n * Currently supported protocol version.\n * @type {String}\n */\nvar SUPPORTED_PROTOCOL_VERSION = exports.SUPPORTED_PROTOCOL_VERSION = \"v1\";\n\n/**\n * High level HTTP client for the Kinto API.\n *\n * @example\n * const client = new KintoClient(\"https://kinto.dev.mozaws.net/v1\");\n * client.bucket(\"default\")\n *    .collection(\"my-blog\")\n *    .createRecord({title: \"First article\"})\n *   .then(console.log.bind(console))\n *   .catch(console.error.bind(console));\n */\nvar KintoClientBase = (_dec = (0, _utils.nobatch)(\"This operation is not supported within a batch operation.\"), _dec2 = (0, _utils.nobatch)(\"This operation is not supported within a batch operation.\"), _dec3 = (0, _utils.nobatch)(\"This operation is not supported within a batch operation.\"), _dec4 = (0, _utils.nobatch)(\"This operation is not supported within a batch operation.\"), _dec5 = (0, _utils.nobatch)(\"Can't use batch within a batch!\"), _dec6 = (0, _utils.capable)([\"permissions_endpoint\"]), _dec7 = (0, _utils.support)(\"1.4\", \"2.0\"), (_class = function () {\n  /**\n   * Constructor.\n   *\n   * @param  {String}       remote  The remote URL.\n   * @param  {Object}       [options={}]                  The options object.\n   * @param  {Boolean}      [options.safe=true]           Adds concurrency headers to every requests.\n   * @param  {EventEmitter} [options.events=EventEmitter] The events handler instance.\n   * @param  {Object}       [options.headers={}]          The key-value headers to pass to each request.\n   * @param  {Object}       [options.retry=0]             Number of retries when request fails (default: 0)\n   * @param  {String}       [options.bucket=\"default\"]    The default bucket to use.\n   * @param  {String}       [options.requestMode=\"cors\"]  The HTTP request mode (from ES6 fetch spec).\n   * @param  {Number}       [options.timeout=null]        The request timeout in ms, if any.\n   */\n  function KintoClientBase(remote) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, KintoClientBase);\n\n    if (typeof remote !== \"string\" || !remote.length) {\n      throw new Error(\"Invalid remote URL: \" + remote);\n    }\n    if (remote[remote.length - 1] === \"/\") {\n      remote = remote.slice(0, -1);\n    }\n    this._backoffReleaseTime = null;\n\n    this._requests = [];\n    this._isBatch = !!options.batch;\n    this._retry = options.retry || 0;\n    this._safe = !!options.safe;\n    this._headers = options.headers || {};\n\n    // public properties\n    /**\n     * The remote server base URL.\n     * @type {String}\n     */\n    this.remote = remote;\n    /**\n     * Current server information.\n     * @ignore\n     * @type {Object|null}\n     */\n    this.serverInfo = null;\n    /**\n     * The event emitter instance. Should comply with the `EventEmitter`\n     * interface.\n     * @ignore\n     * @type {Class}\n     */\n    this.events = options.events;\n\n    var requestMode = options.requestMode,\n        timeout = options.timeout;\n    /**\n     * The HTTP instance.\n     * @ignore\n     * @type {HTTP}\n     */\n\n    this.http = new _http2.default(this.events, { requestMode: requestMode, timeout: timeout });\n    this._registerHTTPEvents();\n  }\n\n  /**\n   * The remote endpoint base URL. Setting the value will also extract and\n   * validate the version.\n   * @type {String}\n   */\n\n\n  (0, _createClass3.default)(KintoClientBase, [{\n    key: \"_registerHTTPEvents\",\n\n\n    /**\n     * Registers HTTP events.\n     * @private\n     */\n    value: function _registerHTTPEvents() {\n      var _this = this;\n\n      // Prevent registering event from a batch client instance\n      if (!this._isBatch) {\n        this.events.on(\"backoff\", function (backoffMs) {\n          _this._backoffReleaseTime = backoffMs;\n        });\n      }\n    }\n\n    /**\n     * Retrieve a bucket object to perform operations on it.\n     *\n     * @param  {String}  name              The bucket name.\n     * @param  {Object}  [options={}]      The request options.\n     * @param  {Boolean} [options.safe]    The resulting safe option.\n     * @param  {Number}  [options.retry]   The resulting retry option.\n     * @param  {Object}  [options.headers] The extended headers object option.\n     * @return {Bucket}\n     */\n\n  }, {\n    key: \"bucket\",\n    value: function bucket(name) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return new _bucket2.default(this, name, {\n        batch: this._isBatch,\n        headers: this._getHeaders(options),\n        safe: this._getSafe(options),\n        retry: this._getRetry(options)\n      });\n    }\n\n    /**\n     * Set client \"headers\" for every request, updating previous headers (if any).\n     *\n     * @param {Object} headers The headers to merge with existing ones.\n     */\n\n  }, {\n    key: \"setHeaders\",\n    value: function setHeaders(headers) {\n      this._headers = (0, _extends3.default)({}, this._headers, headers);\n      this.serverInfo = null;\n    }\n\n    /**\n     * Get the value of \"headers\" for a given request, merging the\n     * per-request headers with our own \"default\" headers.\n     *\n     * Note that unlike other options, headers aren't overridden, but\n     * merged instead.\n     *\n     * @private\n     * @param {Object} options The options for a request.\n     * @returns {Object}\n     */\n\n  }, {\n    key: \"_getHeaders\",\n    value: function _getHeaders(options) {\n      return (0, _extends3.default)({}, this._headers, options.headers);\n    }\n\n    /**\n     * Get the value of \"safe\" for a given request, using the\n     * per-request option if present or falling back to our default\n     * otherwise.\n     *\n     * @private\n     * @param {Object} options The options for a request.\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"_getSafe\",\n    value: function _getSafe(options) {\n      return (0, _extends3.default)({ safe: this._safe }, options).safe;\n    }\n\n    /**\n     * As _getSafe, but for \"retry\".\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_getRetry\",\n    value: function _getRetry(options) {\n      return (0, _extends3.default)({ retry: this._retry }, options).retry;\n    }\n\n    /**\n     * Retrieves the server's \"hello\" endpoint. This endpoint reveals\n     * server capabilities and settings as well as telling the client\n     * \"who they are\" according to their given authorization headers.\n     *\n     * @private\n     * @param  {Object}  [options={}] The request options.\n     * @param  {Object}  [options.headers={}] Headers to use when making\n     *     this request.\n     * @param  {Number}  [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"_getHello\",\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var path, _ref2, json;\n\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                path = this.remote + (0, _endpoint2.default)(\"root\");\n                _context.next = 3;\n                return this.http.request(path, { headers: this._getHeaders(options) }, { retry: this._getRetry(options) });\n\n              case 3:\n                _ref2 = _context.sent;\n                json = _ref2.json;\n                return _context.abrupt(\"return\", json);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _getHello() {\n        return _ref.apply(this, arguments);\n      }\n\n      return _getHello;\n    }()\n\n    /**\n     * Retrieves server information and persist them locally. This operation is\n     * usually performed a single time during the instance lifecycle.\n     *\n     * @param  {Object}  [options={}] The request options.\n     * @param  {Number}  [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"fetchServerInfo\",\n    value: function () {\n      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.serverInfo) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", this.serverInfo);\n\n              case 2:\n                _context2.next = 4;\n                return this._getHello({ retry: this._getRetry(options) });\n\n              case 4:\n                this.serverInfo = _context2.sent;\n                return _context2.abrupt(\"return\", this.serverInfo);\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function fetchServerInfo() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return fetchServerInfo;\n    }()\n\n    /**\n     * Retrieves Kinto server settings.\n     *\n     * @param  {Object}  [options={}] The request options.\n     * @param  {Number}  [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"fetchServerSettings\",\n    value: function () {\n      var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(options) {\n        var _ref5, settings;\n\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.fetchServerInfo(options);\n\n              case 2:\n                _ref5 = _context3.sent;\n                settings = _ref5.settings;\n                return _context3.abrupt(\"return\", settings);\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function fetchServerSettings(_x5) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return fetchServerSettings;\n    }()\n\n    /**\n     * Retrieve server capabilities information.\n     *\n     * @param  {Object}  [options={}] The request options.\n     * @param  {Number}  [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"fetchServerCapabilities\",\n    value: function () {\n      var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var _ref7, capabilities;\n\n        return _regenerator2.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.fetchServerInfo(options);\n\n              case 2:\n                _ref7 = _context4.sent;\n                capabilities = _ref7.capabilities;\n                return _context4.abrupt(\"return\", capabilities);\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function fetchServerCapabilities() {\n        return _ref6.apply(this, arguments);\n      }\n\n      return fetchServerCapabilities;\n    }()\n\n    /**\n     * Retrieve authenticated user information.\n     *\n     * @param  {Object}  [options={}] The request options.\n     * @param  {Object}  [options.headers={}] Headers to use when making\n     *     this request.\n     * @param  {Number}  [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"fetchUser\",\n    value: function () {\n      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var _ref9, user;\n\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this._getHello(options);\n\n              case 2:\n                _ref9 = _context5.sent;\n                user = _ref9.user;\n                return _context5.abrupt(\"return\", user);\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function fetchUser() {\n        return _ref8.apply(this, arguments);\n      }\n\n      return fetchUser;\n    }()\n\n    /**\n     * Retrieve authenticated user information.\n     *\n     * @param  {Object}  [options={}] The request options.\n     * @param  {Number}  [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"fetchHTTPApiVersion\",\n    value: function () {\n      var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var _ref11, http_api_version;\n\n        return _regenerator2.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.fetchServerInfo(options);\n\n              case 2:\n                _ref11 = _context6.sent;\n                http_api_version = _ref11.http_api_version;\n                return _context6.abrupt(\"return\", http_api_version);\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function fetchHTTPApiVersion() {\n        return _ref10.apply(this, arguments);\n      }\n\n      return fetchHTTPApiVersion;\n    }()\n\n    /**\n     * Process batch requests, chunking them according to the batch_max_requests\n     * server setting when needed.\n     *\n     * @param  {Array}  requests     The list of batch subrequests to perform.\n     * @param  {Object} [options={}] The options object.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"_batchRequests\",\n    value: function () {\n      var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(requests) {\n        var _this2 = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var headers, serverSettings, maxRequests, chunks, _ref13, responses;\n\n        return _regenerator2.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                headers = this._getHeaders(options);\n\n                if (requests.length) {\n                  _context7.next = 3;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", []);\n\n              case 3:\n                _context7.next = 5;\n                return this.fetchServerSettings({\n                  retry: this._getRetry(options)\n                });\n\n              case 5:\n                serverSettings = _context7.sent;\n                maxRequests = serverSettings[\"batch_max_requests\"];\n\n                if (!(maxRequests && requests.length > maxRequests)) {\n                  _context7.next = 10;\n                  break;\n                }\n\n                chunks = (0, _utils.partition)(requests, maxRequests);\n                return _context7.abrupt(\"return\", (0, _utils.pMap)(chunks, function (chunk) {\n                  return _this2._batchRequests(chunk, options);\n                }));\n\n              case 10:\n                _context7.next = 12;\n                return this.execute({\n                  // FIXME: is this really necessary, since it's also present in\n                  // the \"defaults\"?\n                  headers: headers,\n                  path: (0, _endpoint2.default)(\"batch\"),\n                  method: \"POST\",\n                  body: {\n                    defaults: { headers: headers },\n                    requests: requests\n                  }\n                }, { retry: this._getRetry(options) });\n\n              case 12:\n                _ref13 = _context7.sent;\n                responses = _ref13.responses;\n                return _context7.abrupt(\"return\", responses);\n\n              case 15:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function _batchRequests(_x9) {\n        return _ref12.apply(this, arguments);\n      }\n\n      return _batchRequests;\n    }()\n\n    /**\n     * Sends batch requests to the remote server.\n     *\n     * Note: Reserved for internal use only.\n     *\n     * @ignore\n     * @param  {Function} fn                        The function to use for describing batch ops.\n     * @param  {Object}   [options={}]              The options object.\n     * @param  {Boolean}  [options.safe]            The safe option.\n     * @param  {Number}   [options.retry]           The retry option.\n     * @param  {String}   [options.bucket]          The bucket name option.\n     * @param  {String}   [options.collection]      The collection name option.\n     * @param  {Object}   [options.headers]         The headers object option.\n     * @param  {Boolean}  [options.aggregate=false] Produces an aggregated result object.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"batch\",\n    value: function () {\n      var _ref14 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(fn) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var rootBatch, bucketBatch, collBatch, batchClient, responses;\n        return _regenerator2.default.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                rootBatch = new KintoClientBase(this.remote, {\n                  events: this.events,\n                  batch: true,\n                  safe: this._getSafe(options),\n                  retry: this._getRetry(options)\n                });\n                bucketBatch = void 0, collBatch = void 0;\n\n                if (options.bucket) {\n                  bucketBatch = rootBatch.bucket(options.bucket);\n                  if (options.collection) {\n                    collBatch = bucketBatch.collection(options.collection);\n                  }\n                }\n                batchClient = collBatch || bucketBatch || rootBatch;\n\n                fn(batchClient);\n                _context8.next = 7;\n                return this._batchRequests(rootBatch._requests, options);\n\n              case 7:\n                responses = _context8.sent;\n\n                if (!options.aggregate) {\n                  _context8.next = 12;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", (0, _batch.aggregate)(responses, rootBatch._requests));\n\n              case 12:\n                return _context8.abrupt(\"return\", responses);\n\n              case 13:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function batch(_x11) {\n        return _ref14.apply(this, arguments);\n      }\n\n      return batch;\n    }()\n\n    /**\n     * Executes an atomic HTTP request.\n     *\n     * @private\n     * @param  {Object}  request             The request object.\n     * @param  {String}  request.path        The path to fetch, relative\n     *     to the Kinto server root.\n     * @param  {String}  [request.method=\"GET\"] The method to use in the\n     *     request.\n     * @param  {Body}    [request.body]      The request body.\n     * @param  {Object}  [request.headers={}] The request headers.\n     * @param  {Object}  [options={}]        The options object.\n     * @param  {Boolean} [options.raw=false] If true, resolve with full response\n     * @param  {Boolean} [options.stringify=true] If true, serialize body data to\n     * @param  {Number}  [options.retry=0]   The number of times to\n     *     retry a request if the server responds with Retry-After.\n     * JSON.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"execute\",\n    value: function () {\n      var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(request) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var _options$raw, raw, _options$stringify, stringify, msg, result;\n\n        return _regenerator2.default.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, _options$stringify = options.stringify, stringify = _options$stringify === undefined ? true : _options$stringify;\n                // If we're within a batch, add the request to the stack to send at once.\n\n                if (!this._isBatch) {\n                  _context9.next = 5;\n                  break;\n                }\n\n                this._requests.push(request);\n                // Resolve with a message in case people attempt at consuming the result\n                // from within a batch operation.\n                msg = \"This result is generated from within a batch \" + \"operation and should not be consumed.\";\n                return _context9.abrupt(\"return\", raw ? { json: msg, headers: {\n                    get: function get() {}\n                  } } : msg);\n\n              case 5:\n                _context9.next = 7;\n                return this.http.request(this.remote + request.path, (0, _utils.cleanUndefinedProperties)({\n                  // Limit requests to only those parts that would be allowed in\n                  // a batch request -- don't pass through other fancy fetch()\n                  // options like integrity, redirect, mode because they will\n                  // break on a batch request.  A batch request only allows\n                  // headers, method, path (above), and body.\n                  method: request.method,\n                  headers: request.headers,\n                  body: stringify ? JSON.stringify(request.body) : request.body\n                }), { retry: this._getRetry(options) });\n\n              case 7:\n                result = _context9.sent;\n                return _context9.abrupt(\"return\", raw ? result : result.json);\n\n              case 9:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function execute(_x13) {\n        return _ref15.apply(this, arguments);\n      }\n\n      return execute;\n    }()\n\n    /**\n     * Fetch some pages from a paginated list, following the `next-page`\n     * header automatically until we have fetched the requested number\n     * of pages. Return a response with a `.next()` method that can be\n     * called to fetch more results.\n     *\n     * @private\n     * @param  {String}  path\n     *     The path to make the request to.\n     * @param  {Object}  params\n     *     The parameters to use when making the request.\n     * @param  {String}  [params.sort=\"-last_modified\"]\n     *     The sorting order to use when fetching.\n     * @param  {Object}  [params.filters={}]\n     *     The filters to send in the request.\n     * @param  {Number}  [params.limit=undefined]\n     *     The limit to send in the request. Undefined means no limit.\n     * @param  {Number}  [params.pages=undefined]\n     *     The number of pages to fetch. Undefined means one page. Pass\n     *     Infinity to fetch everything.\n     * @param  {String}  [params.since=undefined]\n     *     The ETag from which to start fetching.\n     * @param  {Object}  [options={}]\n     *     Additional request-level parameters to use in all requests.\n     * @param  {Object}  [options.headers={}]\n     *     Headers to use during all requests.\n     * @param  {Number}  [options.retry=0]\n     *     Number of times to retry each request if the server responds\n     *     with Retry-After.\n     */\n\n  }, {\n    key: \"paginatedList\",\n    value: function () {\n      var _ref16 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee13(path, params) {\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        var _sort$params, sort, filters, limit, pages, since, querystring, results, current, next, processNextPage, pageResults, handleResponse;\n\n        return _regenerator2.default.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                // FIXME: this is called even in batch requests, which doesn't\n                // make any sense (since all batch requests get a \"dummy\"\n                // response; see execute() above).\n                _sort$params = (0, _extends3.default)({\n                  sort: \"-last_modified\"\n                }, params), sort = _sort$params.sort, filters = _sort$params.filters, limit = _sort$params.limit, pages = _sort$params.pages, since = _sort$params.since;\n                // Safety/Consistency check on ETag value.\n\n                if (!(since && typeof since !== \"string\")) {\n                  _context13.next = 3;\n                  break;\n                }\n\n                throw new Error(\"Invalid value for since (\" + since + \"), should be ETag value.\");\n\n              case 3:\n                querystring = (0, _utils.qsify)((0, _extends3.default)({}, filters, {\n                  _sort: sort,\n                  _limit: limit,\n                  _since: since\n                }));\n                results = [], current = 0;\n\n                next = function () {\n                  var _ref17 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10(nextPage) {\n                    return _regenerator2.default.wrap(function _callee10$(_context10) {\n                      while (1) {\n                        switch (_context10.prev = _context10.next) {\n                          case 0:\n                            if (nextPage) {\n                              _context10.next = 2;\n                              break;\n                            }\n\n                            throw new Error(\"Pagination exhausted.\");\n\n                          case 2:\n                            return _context10.abrupt(\"return\", processNextPage(nextPage));\n\n                          case 3:\n                          case \"end\":\n                            return _context10.stop();\n                        }\n                      }\n                    }, _callee10, this);\n                  }));\n\n                  return function next(_x18) {\n                    return _ref17.apply(this, arguments);\n                  };\n                }();\n\n                processNextPage = function () {\n                  var _ref18 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11(nextPage) {\n                    var headers;\n                    return _regenerator2.default.wrap(function _callee11$(_context11) {\n                      while (1) {\n                        switch (_context11.prev = _context11.next) {\n                          case 0:\n                            headers = options.headers;\n                            _context11.t0 = handleResponse;\n                            _context11.next = 4;\n                            return this.http.request(nextPage, { headers: headers });\n\n                          case 4:\n                            _context11.t1 = _context11.sent;\n                            return _context11.abrupt(\"return\", (0, _context11.t0)(_context11.t1));\n\n                          case 6:\n                          case \"end\":\n                            return _context11.stop();\n                        }\n                      }\n                    }, _callee11, this);\n                  }));\n\n                  return function (_x19) {\n                    return _ref18.apply(this, arguments);\n                  };\n                }().bind(this);\n\n                pageResults = function pageResults(results, nextPage, etag, totalRecords) {\n                  // ETag string is supposed to be opaque and stored as-is.\n                  // ETag header values are quoted (because of * and W/\"foo\").\n                  return {\n                    last_modified: etag ? etag.replace(/\"/g, \"\") : etag,\n                    data: results,\n                    next: next.bind(null, nextPage),\n                    hasNextPage: !!nextPage,\n                    totalRecords: totalRecords\n                  };\n                };\n\n                handleResponse = function () {\n                  var _ref19 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee12(_ref20) {\n                    var headers = _ref20.headers,\n                        json = _ref20.json;\n                    var nextPage, etag, totalRecords;\n                    return _regenerator2.default.wrap(function _callee12$(_context12) {\n                      while (1) {\n                        switch (_context12.prev = _context12.next) {\n                          case 0:\n                            nextPage = headers.get(\"Next-Page\");\n                            etag = headers.get(\"ETag\");\n                            totalRecords = parseInt(headers.get(\"Total-Records\"), 10);\n\n                            if (pages) {\n                              _context12.next = 5;\n                              break;\n                            }\n\n                            return _context12.abrupt(\"return\", pageResults(json.data, nextPage, etag, totalRecords));\n\n                          case 5:\n                            // Aggregate new results with previous ones\n                            results = results.concat(json.data);\n                            current += 1;\n\n                            if (!(current >= pages || !nextPage)) {\n                              _context12.next = 9;\n                              break;\n                            }\n\n                            return _context12.abrupt(\"return\", pageResults(results, nextPage, etag, totalRecords));\n\n                          case 9:\n                            return _context12.abrupt(\"return\", processNextPage(nextPage));\n\n                          case 10:\n                          case \"end\":\n                            return _context12.stop();\n                        }\n                      }\n                    }, _callee12, this);\n                  }));\n\n                  return function handleResponse(_x20) {\n                    return _ref19.apply(this, arguments);\n                  };\n                }();\n\n                _context13.t0 = handleResponse;\n                _context13.next = 12;\n                return this.execute(\n                // N.B.: This doesn't use _getHeaders, because all calls to\n                // `paginatedList` are assumed to come from calls that already\n                // have headers merged at e.g. the bucket or collection level.\n                { headers: options.headers, path: path + \"?\" + querystring },\n                // N.B. This doesn't use _getRetry, because all calls to\n                // `paginatedList` are assumed to come from calls that already\n                // used `_getRetry` at e.g. the bucket or collection level.\n                { raw: true, retry: options.retry || 0 });\n\n              case 12:\n                _context13.t1 = _context13.sent;\n                return _context13.abrupt(\"return\", (0, _context13.t0)(_context13.t1));\n\n              case 14:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function paginatedList(_x15, _x16) {\n        return _ref16.apply(this, arguments);\n      }\n\n      return paginatedList;\n    }()\n\n    /**\n     * Lists all permissions.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers={}] Headers to use when making\n     *     this request.\n     * @param  {Number} [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object[], Error>}\n     */\n\n  }, {\n    key: \"listPermissions\",\n    value: function () {\n      var _ref21 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee14() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path, paginationOptions;\n        return _regenerator2.default.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"permissions\");\n                // Ensure the default sort parameter is something that exists in permissions\n                // entries, as `last_modified` doesn't; here, we pick \"id\".\n\n                paginationOptions = (0, _extends3.default)({ sort: \"id\" }, options);\n                return _context14.abrupt(\"return\", this.paginatedList(path, paginationOptions, {\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options)\n                }));\n\n              case 3:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function listPermissions() {\n        return _ref21.apply(this, arguments);\n      }\n\n      return listPermissions;\n    }()\n\n    /**\n     * Retrieves the list of buckets.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers={}] Headers to use when making\n     *     this request.\n     * @param  {Number} [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object[], Error>}\n     */\n\n  }, {\n    key: \"listBuckets\",\n    value: function () {\n      var _ref22 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee15() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path;\n        return _regenerator2.default.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"bucket\");\n                return _context15.abrupt(\"return\", this.paginatedList(path, options, {\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options)\n                }));\n\n              case 2:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function listBuckets() {\n        return _ref22.apply(this, arguments);\n      }\n\n      return listBuckets;\n    }()\n\n    /**\n     * Creates a new bucket on the server.\n     *\n     * @param  {String|null}  id                The bucket name (optional).\n     * @param  {Object}       [options={}]      The options object.\n     * @param  {Boolean}      [options.data]    The bucket data option.\n     * @param  {Boolean}      [options.safe]    The safe option.\n     * @param  {Object}       [options.headers] The headers object option.\n     * @param  {Number}       [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"createBucket\",\n    value: function () {\n      var _ref23 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee16(id) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var _options$data, data, permissions, path;\n\n        return _regenerator2.default.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _options$data = options.data, data = _options$data === undefined ? {} : _options$data, permissions = options.permissions;\n\n                if (id != null) {\n                  data.id = id;\n                }\n                path = data.id ? (0, _endpoint2.default)(\"bucket\", data.id) : (0, _endpoint2.default)(\"bucket\");\n                return _context16.abrupt(\"return\", this.execute(requests.createRequest(path, { data: data, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                }), { retry: this._getRetry(options) }));\n\n              case 4:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function createBucket(_x23) {\n        return _ref23.apply(this, arguments);\n      }\n\n      return createBucket;\n    }()\n\n    /**\n     * Deletes a bucket from the server.\n     *\n     * @ignore\n     * @param  {Object|String} bucket                  The bucket to delete.\n     * @param  {Object}        [options={}]            The options object.\n     * @param  {Boolean}       [options.safe]          The safe option.\n     * @param  {Object}        [options.headers]       The headers object option.\n     * @param  {Number}        [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Number}        [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"deleteBucket\",\n    value: function () {\n      var _ref24 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee17(bucket) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var bucketObj, path, _bucketObj$options, last_modified;\n\n        return _regenerator2.default.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                bucketObj = (0, _utils.toDataBody)(bucket);\n\n                if (bucketObj.id) {\n                  _context17.next = 3;\n                  break;\n                }\n\n                throw new Error(\"A bucket id is required.\");\n\n              case 3:\n                path = (0, _endpoint2.default)(\"bucket\", bucketObj.id);\n                _bucketObj$options = (0, _extends3.default)({}, bucketObj, options), last_modified = _bucketObj$options.last_modified;\n                return _context17.abrupt(\"return\", this.execute(requests.deleteRequest(path, {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                }), { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this);\n      }));\n\n      function deleteBucket(_x25) {\n        return _ref24.apply(this, arguments);\n      }\n\n      return deleteBucket;\n    }()\n\n    /**\n     * Deletes all buckets on the server.\n     *\n     * @ignore\n     * @param  {Object}  [options={}]            The options object.\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"deleteBuckets\",\n    value: function () {\n      var _ref25 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee18() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path;\n        return _regenerator2.default.wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"bucket\");\n                return _context18.abrupt(\"return\", this.execute(requests.deleteRequest(path, {\n                  last_modified: options.last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                }), { retry: this._getRetry(options) }));\n\n              case 2:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this);\n      }));\n\n      function deleteBuckets() {\n        return _ref25.apply(this, arguments);\n      }\n\n      return deleteBuckets;\n    }()\n  }, {\n    key: \"remote\",\n    get: function get() {\n      return this._remote;\n    }\n\n    /**\n     * @ignore\n     */\n    ,\n    set: function set(url) {\n      var version = void 0;\n      try {\n        version = url.match(/\\/(v\\d+)\\/?$/)[1];\n      } catch (err) {\n        throw new Error(\"The remote URL must contain the version: \" + url);\n      }\n      if (version !== SUPPORTED_PROTOCOL_VERSION) {\n        throw new Error(\"Unsupported protocol version: \" + version);\n      }\n      this._remote = url;\n      this._version = version;\n    }\n\n    /**\n     * The current server protocol version, eg. `v1`.\n     * @type {String}\n     */\n\n  }, {\n    key: \"version\",\n    get: function get() {\n      return this._version;\n    }\n\n    /**\n     * Backoff remaining time, in milliseconds. Defaults to zero if no backoff is\n     * ongoing.\n     *\n     * @type {Number}\n     */\n\n  }, {\n    key: \"backoff\",\n    get: function get() {\n      var currentTime = new Date().getTime();\n      if (this._backoffReleaseTime && currentTime < this._backoffReleaseTime) {\n        return this._backoffReleaseTime - currentTime;\n      }\n      return 0;\n    }\n  }]);\n  return KintoClientBase;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"fetchServerSettings\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchServerSettings\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"fetchServerCapabilities\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchServerCapabilities\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"fetchUser\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchUser\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"fetchHTTPApiVersion\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchHTTPApiVersion\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"batch\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"batch\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"listPermissions\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"listPermissions\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"deleteBuckets\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteBuckets\"), _class.prototype)), _class));\nexports.default = KintoClientBase;\n},{\"./batch\":442,\"./bucket\":443,\"./endpoint\":445,\"./http\":447,\"./requests\":449,\"./utils\":450,\"babel-runtime/helpers/asyncToGenerator\":17,\"babel-runtime/helpers/classCallCheck\":18,\"babel-runtime/helpers/createClass\":19,\"babel-runtime/helpers/extends\":21,\"babel-runtime/regenerator\":28}],442:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.aggregate = aggregate;\n/**\n * Exports batch responses as a result object.\n *\n * @private\n * @param  {Array} responses The batch subrequest responses.\n * @param  {Array} requests  The initial issued requests.\n * @return {Object}\n */\nfunction aggregate() {\n  var responses = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var requests = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (responses.length !== requests.length) {\n    throw new Error(\"Responses length should match requests one.\");\n  }\n  var results = {\n    errors: [],\n    published: [],\n    conflicts: [],\n    skipped: []\n  };\n  return responses.reduce(function (acc, response, index) {\n    var status = response.status;\n\n    var request = requests[index];\n    if (status >= 200 && status < 400) {\n      acc.published.push(response.body);\n    } else if (status === 404) {\n      // Extract the id manually from request path while waiting for Kinto/kinto#818\n      var regex = /(buckets|groups|collections|records)\\/([^/]+)$/;\n      var extracts = request.path.match(regex);\n      var id = extracts.length === 3 ? extracts[2] : undefined;\n      acc.skipped.push({\n        id: id,\n        path: request.path,\n        error: response.body\n      });\n    } else if (status === 412) {\n      acc.conflicts.push({\n        // XXX: specifying the type is probably superfluous\n        type: \"outgoing\",\n        local: request.body,\n        remote: response.body.details && response.body.details.existing || null\n      });\n    } else {\n      acc.errors.push({\n        path: request.path,\n        sent: request,\n        error: response.body\n      });\n    }\n    return acc;\n  }, results);\n}\n},{}],443:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _dec, _desc, _value, _class;\n\nvar _utils = require(\"./utils\");\n\nvar _collection = require(\"./collection\");\n\nvar _collection2 = _interopRequireDefault(_collection);\n\nvar _requests = require(\"./requests\");\n\nvar requests = _interopRequireWildcard(_requests);\n\nvar _endpoint = require(\"./endpoint\");\n\nvar _endpoint2 = _interopRequireDefault(_endpoint);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/**\n * Abstract representation of a selected bucket.\n *\n */\nvar Bucket = (_dec = (0, _utils.capable)([\"history\"]), (_class = function () {\n  /**\n   * Constructor.\n   *\n   * @param  {KintoClient} client            The client instance.\n   * @param  {String}      name              The bucket name.\n   * @param  {Object}      [options={}]      The headers object option.\n   * @param  {Object}      [options.headers] The headers object option.\n   * @param  {Boolean}     [options.safe]    The safe option.\n   * @param  {Number}      [options.retry]   The retry option.\n   */\n  function Bucket(client, name) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    (0, _classCallCheck3.default)(this, Bucket);\n\n    /**\n     * @ignore\n     */\n    this.client = client;\n    /**\n     * The bucket name.\n     * @type {String}\n     */\n    this.name = name;\n    /**\n     * @ignore\n     */\n    this._isBatch = !!options.batch;\n    /**\n     * @ignore\n     */\n    this._headers = options.headers || {};\n    this._retry = options.retry || 0;\n    this._safe = !!options.safe;\n  }\n\n  /**\n   * Get the value of \"headers\" for a given request, merging the\n   * per-request headers with our own \"default\" headers.\n   *\n   * @private\n   */\n\n\n  (0, _createClass3.default)(Bucket, [{\n    key: \"_getHeaders\",\n    value: function _getHeaders(options) {\n      return (0, _extends3.default)({}, this._headers, options.headers);\n    }\n\n    /**\n     * Get the value of \"safe\" for a given request, using the\n     * per-request option if present or falling back to our default\n     * otherwise.\n     *\n     * @private\n     * @param {Object} options The options for a request.\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"_getSafe\",\n    value: function _getSafe(options) {\n      return (0, _extends3.default)({ safe: this._safe }, options).safe;\n    }\n\n    /**\n     * As _getSafe, but for \"retry\".\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_getRetry\",\n    value: function _getRetry(options) {\n      return (0, _extends3.default)({ retry: this._retry }, options).retry;\n    }\n\n    /**\n     * Selects a collection.\n     *\n     * @param  {String}  name              The collection name.\n     * @param  {Object}  [options={}]      The options object.\n     * @param  {Object}  [options.headers] The headers object option.\n     * @param  {Boolean} [options.safe]    The safe option.\n     * @return {Collection}\n     */\n\n  }, {\n    key: \"collection\",\n    value: function collection(name) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return new _collection2.default(this.client, this, name, {\n        batch: this._isBatch,\n        headers: this._getHeaders(options),\n        retry: this._getRetry(options),\n        safe: this._getSafe(options)\n      });\n    }\n\n    /**\n     * Retrieves bucket data.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var request, _ref2, data;\n\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                request = {\n                  headers: this._getHeaders(options),\n                  path: (0, _endpoint2.default)(\"bucket\", this.name)\n                };\n                _context.next = 3;\n                return this.client.execute(request, {\n                  retry: this._getRetry(options)\n                });\n\n              case 3:\n                _ref2 = _context.sent;\n                data = _ref2.data;\n                return _context.abrupt(\"return\", data);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getData() {\n        return _ref.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n\n    /**\n     * Set bucket data.\n     * @param  {Object}  data                    The bucket data object.\n     * @param  {Object}  [options={}]            The options object.\n     * @param  {Object}  [options.headers={}]    The headers object option.\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean} [options.patch]         The patch option.\n     * @param  {Number}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"setData\",\n    value: function () {\n      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(data) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var bucket, bucketId, path, patch, permissions, _data$options, last_modified, request;\n\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if ((0, _utils.isObject)(data)) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A bucket object is required.\");\n\n              case 2:\n                bucket = (0, _extends3.default)({}, data, { id: this.name });\n\n                // For default bucket, we need to drop the id from the data object.\n                // Bug in Kinto < 3.1.1\n\n                bucketId = bucket.id;\n\n                if (bucket.id === \"default\") {\n                  delete bucket.id;\n                }\n\n                path = (0, _endpoint2.default)(\"bucket\", bucketId);\n                patch = options.patch, permissions = options.permissions;\n                _data$options = (0, _extends3.default)({}, data, options), last_modified = _data$options.last_modified;\n                request = requests.updateRequest(path, { data: bucket, permissions: permissions }, {\n                  last_modified: last_modified,\n                  patch: patch,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context2.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function setData(_x4) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return setData;\n    }()\n\n    /**\n     * Retrieves the list of history entries in the current bucket.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Array<Object>, Error>}\n     */\n\n  }, {\n    key: \"listHistory\",\n    value: function () {\n      var _ref4 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path;\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"history\", this.name);\n                return _context3.abrupt(\"return\", this.client.paginatedList(path, options, {\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options)\n                }));\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function listHistory() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return listHistory;\n    }()\n\n    /**\n     * Retrieves the list of collections in the current bucket.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Array<Object>, Error>}\n     */\n\n  }, {\n    key: \"listCollections\",\n    value: function () {\n      var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path;\n        return _regenerator2.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"collection\", this.name);\n                return _context4.abrupt(\"return\", this.client.paginatedList(path, options, {\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options)\n                }));\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function listCollections() {\n        return _ref5.apply(this, arguments);\n      }\n\n      return listCollections;\n    }()\n\n    /**\n     * Creates a new collection in current bucket.\n     *\n     * @param  {String|undefined}  id          The collection id.\n     * @param  {Object}  [options={}]          The options object.\n     * @param  {Boolean} [options.safe]        The safe option.\n     * @param  {Object}  [options.headers]     The headers object option.\n     * @param  {Number}  [options.retry=0]     Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}  [options.permissions] The permissions object.\n     * @param  {Object}  [options.data]        The data object.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"createCollection\",\n    value: function () {\n      var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(id) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var permissions, _options$data, data, path, request;\n\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                permissions = options.permissions, _options$data = options.data, data = _options$data === undefined ? {} : _options$data;\n\n                data.id = id;\n                path = (0, _endpoint2.default)(\"collection\", this.name, id);\n                request = requests.createRequest(path, { data: data, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context5.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function createCollection(_x8) {\n        return _ref6.apply(this, arguments);\n      }\n\n      return createCollection;\n    }()\n\n    /**\n     * Deletes a collection from the current bucket.\n     *\n     * @param  {Object|String} collection              The collection to delete.\n     * @param  {Object}        [options={}]            The options object.\n     * @param  {Object}        [options.headers]       The headers object option.\n     * @param  {Number}        [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean}       [options.safe]          The safe option.\n     * @param  {Number}        [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"deleteCollection\",\n    value: function () {\n      var _ref7 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(collection) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var collectionObj, id, _collectionObj$option, last_modified, path, request;\n\n        return _regenerator2.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                collectionObj = (0, _utils.toDataBody)(collection);\n\n                if (collectionObj.id) {\n                  _context6.next = 3;\n                  break;\n                }\n\n                throw new Error(\"A collection id is required.\");\n\n              case 3:\n                id = collectionObj.id;\n                _collectionObj$option = (0, _extends3.default)({}, collectionObj, options), last_modified = _collectionObj$option.last_modified;\n                path = (0, _endpoint2.default)(\"collection\", this.name, id);\n                request = requests.deleteRequest(path, {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context6.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function deleteCollection(_x10) {\n        return _ref7.apply(this, arguments);\n      }\n\n      return deleteCollection;\n    }()\n\n    /**\n     * Retrieves the list of groups in the current bucket.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Array<Object>, Error>}\n     */\n\n  }, {\n    key: \"listGroups\",\n    value: function () {\n      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path;\n        return _regenerator2.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"group\", this.name);\n                return _context7.abrupt(\"return\", this.client.paginatedList(path, options, {\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options)\n                }));\n\n              case 2:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function listGroups() {\n        return _ref8.apply(this, arguments);\n      }\n\n      return listGroups;\n    }()\n\n    /**\n     * Creates a new group in current bucket.\n     *\n     * @param  {String} id                The group id.\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"getGroup\",\n    value: function () {\n      var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(id) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var request;\n        return _regenerator2.default.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                request = {\n                  headers: this._getHeaders(options),\n                  path: (0, _endpoint2.default)(\"group\", this.name, id)\n                };\n                return _context8.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 2:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function getGroup(_x13) {\n        return _ref9.apply(this, arguments);\n      }\n\n      return getGroup;\n    }()\n\n    /**\n     * Creates a new group in current bucket.\n     *\n     * @param  {String|undefined}  id                    The group id.\n     * @param  {Array<String>}     [members=[]]          The list of principals.\n     * @param  {Object}            [options={}]          The options object.\n     * @param  {Object}            [options.data]        The data object.\n     * @param  {Object}            [options.permissions] The permissions object.\n     * @param  {Boolean}           [options.safe]        The safe option.\n     * @param  {Object}            [options.headers]     The headers object option.\n     * @param  {Number}            [options.retry=0]     Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"createGroup\",\n    value: function () {\n      var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(id) {\n        var members = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        var data, path, permissions, request;\n        return _regenerator2.default.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                data = (0, _extends3.default)({}, options.data, {\n                  id: id,\n                  members: members\n                });\n                path = (0, _endpoint2.default)(\"group\", this.name, id);\n                permissions = options.permissions;\n                request = requests.createRequest(path, { data: data, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context9.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 5:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function createGroup(_x15) {\n        return _ref10.apply(this, arguments);\n      }\n\n      return createGroup;\n    }()\n\n    /**\n     * Updates an existing group in current bucket.\n     *\n     * @param  {Object}  group                   The group object.\n     * @param  {Object}  [options={}]            The options object.\n     * @param  {Object}  [options.data]          The data object.\n     * @param  {Object}  [options.permissions]   The permissions object.\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Number}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"updateGroup\",\n    value: function () {\n      var _ref11 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10(group) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var data, path, patch, permissions, _data$options2, last_modified, request;\n\n        return _regenerator2.default.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                if ((0, _utils.isObject)(group)) {\n                  _context10.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A group object is required.\");\n\n              case 2:\n                if (group.id) {\n                  _context10.next = 4;\n                  break;\n                }\n\n                throw new Error(\"A group id is required.\");\n\n              case 4:\n                data = (0, _extends3.default)({}, options.data, group);\n                path = (0, _endpoint2.default)(\"group\", this.name, group.id);\n                patch = options.patch, permissions = options.permissions;\n                _data$options2 = (0, _extends3.default)({}, data, options), last_modified = _data$options2.last_modified;\n                request = requests.updateRequest(path, { data: data, permissions: permissions }, {\n                  last_modified: last_modified,\n                  patch: patch,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context10.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 10:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function updateGroup(_x18) {\n        return _ref11.apply(this, arguments);\n      }\n\n      return updateGroup;\n    }()\n\n    /**\n     * Deletes a group from the current bucket.\n     *\n     * @param  {Object|String} group                   The group to delete.\n     * @param  {Object}        [options={}]            The options object.\n     * @param  {Object}        [options.headers]       The headers object option.\n     * @param  {Number}        [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean}       [options.safe]          The safe option.\n     * @param  {Number}        [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"deleteGroup\",\n    value: function () {\n      var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11(group) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var groupObj, id, _groupObj$options, last_modified, path, request;\n\n        return _regenerator2.default.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                groupObj = (0, _utils.toDataBody)(group);\n                id = groupObj.id;\n                _groupObj$options = (0, _extends3.default)({}, groupObj, options), last_modified = _groupObj$options.last_modified;\n                path = (0, _endpoint2.default)(\"group\", this.name, id);\n                request = requests.deleteRequest(path, {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context11.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function deleteGroup(_x20) {\n        return _ref12.apply(this, arguments);\n      }\n\n      return deleteGroup;\n    }()\n\n    /**\n     * Retrieves the list of permissions for this bucket.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"getPermissions\",\n    value: function () {\n      var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee12() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var request, _ref14, permissions;\n\n        return _regenerator2.default.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                request = {\n                  headers: this._getHeaders(options),\n                  path: (0, _endpoint2.default)(\"bucket\", this.name)\n                };\n                _context12.next = 3;\n                return this.client.execute(request, {\n                  retry: this._getRetry(options)\n                });\n\n              case 3:\n                _ref14 = _context12.sent;\n                permissions = _ref14.permissions;\n                return _context12.abrupt(\"return\", permissions);\n\n              case 6:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function getPermissions() {\n        return _ref13.apply(this, arguments);\n      }\n\n      return getPermissions;\n    }()\n\n    /**\n     * Replaces all existing bucket permissions with the ones provided.\n     *\n     * @param  {Object}  permissions             The permissions object.\n     * @param  {Object}  [options={}]            The options object\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers={}]    The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"setPermissions\",\n    value: function () {\n      var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee13(permissions) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, last_modified, data, request;\n        return _regenerator2.default.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                if ((0, _utils.isObject)(permissions)) {\n                  _context13.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A permissions object is required.\");\n\n              case 2:\n                path = (0, _endpoint2.default)(\"bucket\", this.name);\n                last_modified = options.last_modified;\n                data = { last_modified: last_modified };\n                request = requests.updateRequest(path, { data: data, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context13.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 7:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function setPermissions(_x23) {\n        return _ref15.apply(this, arguments);\n      }\n\n      return setPermissions;\n    }()\n\n    /**\n     * Append principals to the bucket permissions.\n     *\n     * @param  {Object}  permissions             The permissions object.\n     * @param  {Object}  [options={}]            The options object\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"addPermissions\",\n    value: function () {\n      var _ref16 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee14(permissions) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, last_modified, request;\n        return _regenerator2.default.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                if ((0, _utils.isObject)(permissions)) {\n                  _context14.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A permissions object is required.\");\n\n              case 2:\n                path = (0, _endpoint2.default)(\"bucket\", this.name);\n                last_modified = options.last_modified;\n                request = requests.jsonPatchPermissionsRequest(path, permissions, \"add\", {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context14.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function addPermissions(_x25) {\n        return _ref16.apply(this, arguments);\n      }\n\n      return addPermissions;\n    }()\n\n    /**\n     * Remove principals from the bucket permissions.\n     *\n     * @param  {Object}  permissions             The permissions object.\n     * @param  {Object}  [options={}]            The options object\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"removePermissions\",\n    value: function () {\n      var _ref17 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee15(permissions) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, last_modified, request;\n        return _regenerator2.default.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                if ((0, _utils.isObject)(permissions)) {\n                  _context15.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A permissions object is required.\");\n\n              case 2:\n                path = (0, _endpoint2.default)(\"bucket\", this.name);\n                last_modified = options.last_modified;\n                request = requests.jsonPatchPermissionsRequest(path, permissions, \"remove\", {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context15.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function removePermissions(_x27) {\n        return _ref17.apply(this, arguments);\n      }\n\n      return removePermissions;\n    }()\n\n    /**\n     * Performs batch operations at the current bucket level.\n     *\n     * @param  {Function} fn                   The batch operation function.\n     * @param  {Object}   [options={}]         The options object.\n     * @param  {Object}   [options.headers]    The headers object option.\n     * @param  {Boolean}  [options.safe]       The safe option.\n     * @param  {Number}   [options.retry=0]    The retry option.\n     * @param  {Boolean}  [options.aggregate]  Produces a grouped result object.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"batch\",\n    value: function () {\n      var _ref18 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee16(fn) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return _regenerator2.default.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                return _context16.abrupt(\"return\", this.client.batch(fn, {\n                  bucket: this.name,\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options),\n                  safe: this._getSafe(options),\n                  aggregate: !!options.aggregate\n                }));\n\n              case 1:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function batch(_x29) {\n        return _ref18.apply(this, arguments);\n      }\n\n      return batch;\n    }()\n  }]);\n  return Bucket;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"listHistory\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"listHistory\"), _class.prototype)), _class));\nexports.default = Bucket;\n},{\"./collection\":444,\"./endpoint\":445,\"./requests\":449,\"./utils\":450,\"babel-runtime/helpers/asyncToGenerator\":17,\"babel-runtime/helpers/classCallCheck\":18,\"babel-runtime/helpers/createClass\":19,\"babel-runtime/helpers/extends\":21,\"babel-runtime/regenerator\":28}],444:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _slicedToArray2 = require(\"babel-runtime/helpers/slicedToArray\");\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _dec, _dec2, _dec3, _desc, _value, _class;\n\nvar _uuid = require(\"uuid\");\n\nvar _utils = require(\"./utils\");\n\nvar _requests = require(\"./requests\");\n\nvar requests = _interopRequireWildcard(_requests);\n\nvar _endpoint = require(\"./endpoint\");\n\nvar _endpoint2 = _interopRequireDefault(_endpoint);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/**\n * Abstract representation of a selected collection.\n *\n */\nvar Collection = (_dec = (0, _utils.capable)([\"attachments\"]), _dec2 = (0, _utils.capable)([\"attachments\"]), _dec3 = (0, _utils.capable)([\"history\"]), (_class = function () {\n  /**\n   * Constructor.\n   *\n   * @param  {KintoClient}  client            The client instance.\n   * @param  {Bucket}       bucket            The bucket instance.\n   * @param  {String}       name              The collection name.\n   * @param  {Object}       [options={}]      The options object.\n   * @param  {Object}       [options.headers] The headers object option.\n   * @param  {Boolean}      [options.safe]    The safe option.\n   * @param  {Number}       [options.retry]   The retry option.\n   * @param  {Boolean}      [options.batch]   (Private) Whether this\n   *     Collection is operating as part of a batch.\n   */\n  function Collection(client, bucket, name) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    (0, _classCallCheck3.default)(this, Collection);\n\n    /**\n     * @ignore\n     */\n    this.client = client;\n    /**\n     * @ignore\n     */\n    this.bucket = bucket;\n    /**\n     * The collection name.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * @ignore\n     */\n    this._isBatch = !!options.batch;\n\n    /**\n     * @ignore\n     */\n    this._retry = options.retry || 0;\n    this._safe = !!options.safe;\n    // FIXME: This is kind of ugly; shouldn't the bucket be responsible\n    // for doing the merge?\n    this._headers = (0, _extends3.default)({}, this.bucket._headers, options.headers);\n  }\n\n  /**\n   * Get the value of \"headers\" for a given request, merging the\n   * per-request headers with our own \"default\" headers.\n   *\n   * @private\n   */\n\n\n  (0, _createClass3.default)(Collection, [{\n    key: \"_getHeaders\",\n    value: function _getHeaders(options) {\n      return (0, _extends3.default)({}, this._headers, options.headers);\n    }\n\n    /**\n     * Get the value of \"safe\" for a given request, using the\n     * per-request option if present or falling back to our default\n     * otherwise.\n     *\n     * @private\n     * @param {Object} options The options for a request.\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"_getSafe\",\n    value: function _getSafe(options) {\n      return (0, _extends3.default)({ safe: this._safe }, options).safe;\n    }\n\n    /**\n     * As _getSafe, but for \"retry\".\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_getRetry\",\n    value: function _getRetry(options) {\n      return (0, _extends3.default)({ retry: this._retry }, options).retry;\n    }\n\n    /**\n     * Retrieves the total number of records in this collection.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Number, Error>}\n     */\n\n  }, {\n    key: \"getTotalRecords\",\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var path, request, _ref2, headers;\n\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"record\", this.bucket.name, this.name);\n                request = {\n                  headers: this._getHeaders(options),\n                  path: path,\n                  method: \"HEAD\"\n                };\n                _context.next = 4;\n                return this.client.execute(request, {\n                  raw: true,\n                  retry: this._getRetry(options)\n                });\n\n              case 4:\n                _ref2 = _context.sent;\n                headers = _ref2.headers;\n                return _context.abrupt(\"return\", parseInt(headers.get(\"Total-Records\"), 10));\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getTotalRecords() {\n        return _ref.apply(this, arguments);\n      }\n\n      return getTotalRecords;\n    }()\n\n    /**\n     * Retrieves collection data.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var path, request, _ref4, data;\n\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"collection\", this.bucket.name, this.name);\n                request = { headers: this._getHeaders(options), path: path };\n                _context2.next = 4;\n                return this.client.execute(request, {\n                  retry: this._getRetry(options)\n                });\n\n              case 4:\n                _ref4 = _context2.sent;\n                data = _ref4.data;\n                return _context2.abrupt(\"return\", data);\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getData() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n\n    /**\n     * Set collection data.\n     * @param  {Object}   data                    The collection data object.\n     * @param  {Object}   [options={}]            The options object.\n     * @param  {Object}   [options.headers]       The headers object option.\n     * @param  {Number}   [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean}  [options.safe]          The safe option.\n     * @param  {Boolean}  [options.patch]         The patch option.\n     * @param  {Number}   [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"setData\",\n    value: function () {\n      var _ref5 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(data) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var patch, permissions, _data$options, last_modified, path, request;\n\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if ((0, _utils.isObject)(data)) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A collection object is required.\");\n\n              case 2:\n                patch = options.patch, permissions = options.permissions;\n                _data$options = (0, _extends3.default)({}, data, options), last_modified = _data$options.last_modified;\n                path = (0, _endpoint2.default)(\"collection\", this.bucket.name, this.name);\n                request = requests.updateRequest(path, { data: data, permissions: permissions }, {\n                  last_modified: last_modified,\n                  patch: patch,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context3.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function setData(_x4) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return setData;\n    }()\n\n    /**\n     * Retrieves the list of permissions for this collection.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"getPermissions\",\n    value: function () {\n      var _ref6 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee4() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var path, request, _ref7, permissions;\n\n        return _regenerator2.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"collection\", this.bucket.name, this.name);\n                request = { headers: this._getHeaders(options), path: path };\n                _context4.next = 4;\n                return this.client.execute(request, {\n                  retry: this._getRetry(options)\n                });\n\n              case 4:\n                _ref7 = _context4.sent;\n                permissions = _ref7.permissions;\n                return _context4.abrupt(\"return\", permissions);\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getPermissions() {\n        return _ref6.apply(this, arguments);\n      }\n\n      return getPermissions;\n    }()\n\n    /**\n     * Replaces all existing collection permissions with the ones provided.\n     *\n     * @param  {Object}   permissions             The permissions object.\n     * @param  {Object}   [options={}]            The options object\n     * @param  {Object}   [options.headers]       The headers object option.\n     * @param  {Number}   [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean}  [options.safe]          The safe option.\n     * @param  {Number}   [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"setPermissions\",\n    value: function () {\n      var _ref8 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee5(permissions) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, data, request;\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if ((0, _utils.isObject)(permissions)) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A permissions object is required.\");\n\n              case 2:\n                path = (0, _endpoint2.default)(\"collection\", this.bucket.name, this.name);\n                data = { last_modified: options.last_modified };\n                request = requests.updateRequest(path, { data: data, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context5.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function setPermissions(_x7) {\n        return _ref8.apply(this, arguments);\n      }\n\n      return setPermissions;\n    }()\n\n    /**\n     * Append principals to the collection permissions.\n     *\n     * @param  {Object}  permissions             The permissions object.\n     * @param  {Object}  [options={}]            The options object\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"addPermissions\",\n    value: function () {\n      var _ref9 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee6(permissions) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, last_modified, request;\n        return _regenerator2.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if ((0, _utils.isObject)(permissions)) {\n                  _context6.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A permissions object is required.\");\n\n              case 2:\n                path = (0, _endpoint2.default)(\"collection\", this.bucket.name, this.name);\n                last_modified = options.last_modified;\n                request = requests.jsonPatchPermissionsRequest(path, permissions, \"add\", {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context6.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function addPermissions(_x9) {\n        return _ref9.apply(this, arguments);\n      }\n\n      return addPermissions;\n    }()\n\n    /**\n     * Remove principals from the collection permissions.\n     *\n     * @param  {Object}  permissions             The permissions object.\n     * @param  {Object}  [options={}]            The options object\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"removePermissions\",\n    value: function () {\n      var _ref10 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee7(permissions) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, last_modified, request;\n        return _regenerator2.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if ((0, _utils.isObject)(permissions)) {\n                  _context7.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A permissions object is required.\");\n\n              case 2:\n                path = (0, _endpoint2.default)(\"collection\", this.bucket.name, this.name);\n                last_modified = options.last_modified;\n                request = requests.jsonPatchPermissionsRequest(path, permissions, \"remove\", {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context7.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function removePermissions(_x11) {\n        return _ref10.apply(this, arguments);\n      }\n\n      return removePermissions;\n    }()\n\n    /**\n     * Creates a record in current collection.\n     *\n     * @param  {Object}  record                The record to create.\n     * @param  {Object}  [options={}]          The options object.\n     * @param  {Object}  [options.headers]     The headers object option.\n     * @param  {Number}  [options.retry=0]     Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean} [options.safe]        The safe option.\n     * @param  {Object}  [options.permissions] The permissions option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"createRecord\",\n    value: function () {\n      var _ref11 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee8(record) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var permissions, path, request;\n        return _regenerator2.default.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                permissions = options.permissions;\n                path = (0, _endpoint2.default)(\"record\", this.bucket.name, this.name, record.id);\n                request = requests.createRequest(path, { data: record, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context8.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 4:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function createRecord(_x13) {\n        return _ref11.apply(this, arguments);\n      }\n\n      return createRecord;\n    }()\n\n    /**\n     * Adds an attachment to a record, creating the record when it doesn't exist.\n     *\n     * @param  {String}  dataURL                 The data url.\n     * @param  {Object}  [record={}]             The record data.\n     * @param  {Object}  [options={}]            The options object.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Number}  [options.last_modified] The last_modified option.\n     * @param  {Object}  [options.permissions]   The permissions option.\n     * @param  {String}  [options.filename]      Force the attachment filename.\n     * @param  {String}  [options.gzipped]       Force the attachment to be gzipped or not.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"addAttachment\",\n    value: function () {\n      var _ref12 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee9(dataURI) {\n        var record = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        var permissions, id, path, _record$options, last_modified, addAttachmentRequest;\n\n        return _regenerator2.default.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                permissions = options.permissions;\n                id = record.id || _uuid.v4.v4();\n                path = (0, _endpoint2.default)(\"attachment\", this.bucket.name, this.name, id);\n                _record$options = (0, _extends3.default)({}, record, options), last_modified = _record$options.last_modified;\n                addAttachmentRequest = requests.addAttachmentRequest(path, dataURI, { data: record, permissions: permissions }, {\n                  last_modified: last_modified,\n                  filename: options.filename,\n                  gzipped: options.gzipped,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                _context9.next = 7;\n                return this.client.execute(addAttachmentRequest, {\n                  stringify: false,\n                  retry: this._getRetry(options)\n                });\n\n              case 7:\n                return _context9.abrupt(\"return\", this.getRecord(id));\n\n              case 8:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function addAttachment(_x15) {\n        return _ref12.apply(this, arguments);\n      }\n\n      return addAttachment;\n    }()\n\n    /**\n     * Removes an attachment from a given record.\n     *\n     * @param  {Object}  recordId                The record id.\n     * @param  {Object}  [options={}]            The options object.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Number}  [options.last_modified] The last_modified option.\n     */\n\n  }, {\n    key: \"removeAttachment\",\n    value: function () {\n      var _ref13 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee10(recordId) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var last_modified, path, request;\n        return _regenerator2.default.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                last_modified = options.last_modified;\n                path = (0, _endpoint2.default)(\"attachment\", this.bucket.name, this.name, recordId);\n                request = requests.deleteRequest(path, {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context10.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 4:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function removeAttachment(_x18) {\n        return _ref13.apply(this, arguments);\n      }\n\n      return removeAttachment;\n    }()\n\n    /**\n     * Updates a record in current collection.\n     *\n     * @param  {Object}  record                  The record to update.\n     * @param  {Object}  [options={}]            The options object.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Number}  [options.last_modified] The last_modified option.\n     * @param  {Object}  [options.permissions]   The permissions option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"updateRecord\",\n    value: function () {\n      var _ref14 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee11(record) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var permissions, _record$options2, last_modified, path, request;\n\n        return _regenerator2.default.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if ((0, _utils.isObject)(record)) {\n                  _context11.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A record object is required.\");\n\n              case 2:\n                if (record.id) {\n                  _context11.next = 4;\n                  break;\n                }\n\n                throw new Error(\"A record id is required.\");\n\n              case 4:\n                permissions = options.permissions;\n                _record$options2 = (0, _extends3.default)({}, record, options), last_modified = _record$options2.last_modified;\n                path = (0, _endpoint2.default)(\"record\", this.bucket.name, this.name, record.id);\n                request = requests.updateRequest(path, { data: record, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options),\n                  last_modified: last_modified,\n                  patch: !!options.patch\n                });\n                return _context11.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 9:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function updateRecord(_x20) {\n        return _ref14.apply(this, arguments);\n      }\n\n      return updateRecord;\n    }()\n\n    /**\n     * Deletes a record from the current collection.\n     *\n     * @param  {Object|String} record                  The record to delete.\n     * @param  {Object}        [options={}]            The options object.\n     * @param  {Object}        [options.headers]       The headers object option.\n     * @param  {Number}        [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean}       [options.safe]          The safe option.\n     * @param  {Number}        [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"deleteRecord\",\n    value: function () {\n      var _ref15 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee12(record) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var recordObj, id, _recordObj$options, last_modified, path, request;\n\n        return _regenerator2.default.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                recordObj = (0, _utils.toDataBody)(record);\n\n                if (recordObj.id) {\n                  _context12.next = 3;\n                  break;\n                }\n\n                throw new Error(\"A record id is required.\");\n\n              case 3:\n                id = recordObj.id;\n                _recordObj$options = (0, _extends3.default)({}, recordObj, options), last_modified = _recordObj$options.last_modified;\n                path = (0, _endpoint2.default)(\"record\", this.bucket.name, this.name, id);\n                request = requests.deleteRequest(path, {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context12.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 8:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function deleteRecord(_x22) {\n        return _ref15.apply(this, arguments);\n      }\n\n      return deleteRecord;\n    }()\n\n    /**\n     * Retrieves a record from the current collection.\n     *\n     * @param  {String} id                The record id to retrieve.\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"getRecord\",\n    value: function () {\n      var _ref16 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee13(id) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, request;\n        return _regenerator2.default.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"record\", this.bucket.name, this.name, id);\n                request = { headers: this._getHeaders(options), path: path };\n                return _context13.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 3:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function getRecord(_x24) {\n        return _ref16.apply(this, arguments);\n      }\n\n      return getRecord;\n    }()\n\n    /**\n     * Lists records from the current collection.\n     *\n     * Sorting is done by passing a `sort` string option:\n     *\n     * - The field to order the results by, prefixed with `-` for descending.\n     * Default: `-last_modified`.\n     *\n     * @see http://kinto.readthedocs.io/en/stable/api/1.x/sorting.html\n     *\n     * Filtering is done by passing a `filters` option object:\n     *\n     * - `{fieldname: \"value\"}`\n     * - `{min_fieldname: 4000}`\n     * - `{in_fieldname: \"1,2,3\"}`\n     * - `{not_fieldname: 0}`\n     * - `{exclude_fieldname: \"0,1\"}`\n     *\n     * @see http://kinto.readthedocs.io/en/stable/api/1.x/filtering.html\n     *\n     * Paginating is done by passing a `limit` option, then calling the `next()`\n     * method from the resolved result object to fetch the next page, if any.\n     *\n     * @param  {Object}   [options={}]                    The options object.\n     * @param  {Object}   [options.headers]               The headers object option.\n     * @param  {Number}   [options.retry=0]               Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}   [options.filters=[]]            The filters object.\n     * @param  {String}   [options.sort=\"-last_modified\"] The sort field.\n     * @param  {String}   [options.at]                    The timestamp to get a snapshot at.\n     * @param  {String}   [options.limit=null]            The limit field.\n     * @param  {String}   [options.pages=1]               The number of result pages to aggregate.\n     * @param  {Number}   [options.since=null]            Only retrieve records modified since the provided timestamp.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"listRecords\",\n    value: function () {\n      var _ref17 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee14() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path;\n        return _regenerator2.default.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"record\", this.bucket.name, this.name);\n\n                if (!options.hasOwnProperty(\"at\")) {\n                  _context14.next = 5;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\", this.getSnapshot(options.at));\n\n              case 5:\n                return _context14.abrupt(\"return\", this.client.paginatedList(path, options, {\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options)\n                }));\n\n              case 6:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function listRecords() {\n        return _ref17.apply(this, arguments);\n      }\n\n      return listRecords;\n    }()\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"isHistoryComplete\",\n    value: function () {\n      var _ref18 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee15() {\n        var _ref19, _ref19$data, oldestHistoryEntry;\n\n        return _regenerator2.default.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _context15.next = 2;\n                return this.bucket.listHistory({\n                  limit: 1,\n                  filters: {\n                    action: \"create\",\n                    resource_name: \"collection\",\n                    collection_id: this.name\n                  }\n                });\n\n              case 2:\n                _ref19 = _context15.sent;\n                _ref19$data = (0, _slicedToArray3.default)(_ref19.data, 1);\n                oldestHistoryEntry = _ref19$data[0];\n                return _context15.abrupt(\"return\", !!oldestHistoryEntry);\n\n              case 6:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function isHistoryComplete() {\n        return _ref18.apply(this, arguments);\n      }\n\n      return isHistoryComplete;\n    }()\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"listChangesBackTo\",\n    value: function () {\n      var _ref20 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee16(at) {\n        var _ref21, changes;\n\n        return _regenerator2.default.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _context16.next = 2;\n                return this.isHistoryComplete();\n\n              case 2:\n                if (_context16.sent) {\n                  _context16.next = 4;\n                  break;\n                }\n\n                throw new Error(\"Computing a snapshot is only possible when the full history for a \" + \"collection is available. Here, the history plugin seems to have \" + \"been enabled after the creation of the collection.\");\n\n              case 4:\n                _context16.next = 6;\n                return this.bucket.listHistory({\n                  pages: Infinity, // all pages up to target timestamp are required\n                  sort: \"-target.data.last_modified\",\n                  filters: {\n                    resource_name: \"record\",\n                    collection_id: this.name,\n                    \"max_target.data.last_modified\": String(at) // eq. to <=\n                  }\n                });\n\n              case 6:\n                _ref21 = _context16.sent;\n                changes = _ref21.data;\n                return _context16.abrupt(\"return\", changes);\n\n              case 9:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function listChangesBackTo(_x27) {\n        return _ref20.apply(this, arguments);\n      }\n\n      return listChangesBackTo;\n    }()\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"getSnapshot\",\n    value: function () {\n      var _ref22 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee17(at) {\n        var changes, seenIds, snapshot, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _loop, _iterator, _step;\n\n        return _regenerator2.default.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                if (!(!Number.isInteger(at) || at <= 0)) {\n                  _context17.next = 2;\n                  break;\n                }\n\n                throw new Error(\"Invalid argument, expected a positive integer.\");\n\n              case 2:\n                _context17.next = 4;\n                return this.listChangesBackTo(at);\n\n              case 4:\n                changes = _context17.sent;\n\n                // Replay changes to compute the requested snapshot.\n                seenIds = new Set();\n                snapshot = [];\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context17.prev = 10;\n\n                _loop = function _loop() {\n                  var _ref23 = _step.value;\n                  var action = _ref23.action,\n                      record = _ref23.target.data;\n\n                  if (action == \"delete\") {\n                    seenIds.add(record.id); // ensure not reprocessing deleted entries\n                    snapshot = snapshot.filter(function (r) {\n                      return r.id !== record.id;\n                    });\n                  } else if (!seenIds.has(record.id)) {\n                    seenIds.add(record.id);\n                    snapshot.push(record);\n                  }\n                };\n\n                for (_iterator = changes[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  _loop();\n                }\n                _context17.next = 19;\n                break;\n\n              case 15:\n                _context17.prev = 15;\n                _context17.t0 = _context17[\"catch\"](10);\n                _didIteratorError = true;\n                _iteratorError = _context17.t0;\n\n              case 19:\n                _context17.prev = 19;\n                _context17.prev = 20;\n\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n\n              case 22:\n                _context17.prev = 22;\n\n                if (!_didIteratorError) {\n                  _context17.next = 25;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 25:\n                return _context17.finish(22);\n\n              case 26:\n                return _context17.finish(19);\n\n              case 27:\n                return _context17.abrupt(\"return\", {\n                  last_modified: String(at),\n                  data: snapshot.sort(function (a, b) {\n                    return b.last_modified - a.last_modified;\n                  }),\n                  next: function next() {\n                    throw new Error(\"Snapshots don't support pagination\");\n                  },\n                  hasNextPage: false,\n                  totalRecords: snapshot.length\n                });\n\n              case 28:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this, [[10, 15, 19, 27], [20,, 22, 26]]);\n      }));\n\n      function getSnapshot(_x28) {\n        return _ref22.apply(this, arguments);\n      }\n\n      return getSnapshot;\n    }()\n\n    /**\n     * Performs batch operations at the current collection level.\n     *\n     * @param  {Function} fn                   The batch operation function.\n     * @param  {Object}   [options={}]         The options object.\n     * @param  {Object}   [options.headers]    The headers object option.\n     * @param  {Boolean}  [options.safe]       The safe option.\n     * @param  {Number}   [options.retry]      The retry option.\n     * @param  {Boolean}  [options.aggregate]  Produces a grouped result object.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"batch\",\n    value: function () {\n      var _ref24 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee18(fn) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return _regenerator2.default.wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                return _context18.abrupt(\"return\", this.client.batch(fn, {\n                  bucket: this.bucket.name,\n                  collection: this.name,\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options),\n                  safe: this._getSafe(options),\n                  aggregate: !!options.aggregate\n                }));\n\n              case 1:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this);\n      }));\n\n      function batch(_x29) {\n        return _ref24.apply(this, arguments);\n      }\n\n      return batch;\n    }()\n  }]);\n  return Collection;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"addAttachment\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"addAttachment\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removeAttachment\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"removeAttachment\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"getSnapshot\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"getSnapshot\"), _class.prototype)), _class));\nexports.default = Collection;\n},{\"./endpoint\":445,\"./requests\":449,\"./utils\":450,\"babel-runtime/helpers/asyncToGenerator\":17,\"babel-runtime/helpers/classCallCheck\":18,\"babel-runtime/helpers/createClass\":19,\"babel-runtime/helpers/extends\":21,\"babel-runtime/helpers/slicedToArray\":24,\"babel-runtime/regenerator\":28,\"uuid\":453}],445:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = endpoint;\n/**\n * Endpoints templates.\n * @type {Object}\n */\nvar ENDPOINTS = {\n  root: function root() {\n    return \"/\";\n  },\n  batch: function batch() {\n    return \"/batch\";\n  },\n  permissions: function permissions() {\n    return \"/permissions\";\n  },\n  bucket: function bucket(_bucket) {\n    return \"/buckets\" + (_bucket ? \"/\" + _bucket : \"\");\n  },\n  history: function history(bucket) {\n    return ENDPOINTS.bucket(bucket) + \"/history\";\n  },\n  collection: function collection(bucket, coll) {\n    return ENDPOINTS.bucket(bucket) + \"/collections\" + (coll ? \"/\" + coll : \"\");\n  },\n  group: function group(bucket, _group) {\n    return ENDPOINTS.bucket(bucket) + \"/groups\" + (_group ? \"/\" + _group : \"\");\n  },\n  record: function record(bucket, coll, id) {\n    return ENDPOINTS.collection(bucket, coll) + \"/records\" + (id ? \"/\" + id : \"\");\n  },\n  attachment: function attachment(bucket, coll, id) {\n    return ENDPOINTS.record(bucket, coll, id) + \"/attachment\";\n  }\n};\n\n/**\n * Retrieves a server enpoint by its name.\n *\n * @private\n * @param  {String}    name The endpoint name.\n * @param  {...string} args The endpoint parameters.\n * @return {String}\n */\nfunction endpoint(name) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return ENDPOINTS[name].apply(ENDPOINTS, args);\n}\n},{}],446:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnparseableResponseError = exports.ServerResponse = exports.NetworkTimeoutError = undefined;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extendableBuiltin5(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\nfunction _extendableBuiltin3(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\nfunction _extendableBuiltin(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\n/**\n * Kinto server error code descriptors.\n * @type {Object}\n */\nvar ERROR_CODES = {\n  104: \"Missing Authorization Token\",\n  105: \"Invalid Authorization Token\",\n  106: \"Request body was not valid JSON\",\n  107: \"Invalid request parameter\",\n  108: \"Missing request parameter\",\n  109: \"Invalid posted data\",\n  110: \"Invalid Token / id\",\n  111: \"Missing Token / id\",\n  112: \"Content-Length header was not provided\",\n  113: \"Request body too large\",\n  114: \"Resource was created, updated or deleted meanwhile\",\n  115: \"Method not allowed on this end point (hint: server may be readonly)\",\n  116: \"Requested version not available on this server\",\n  117: \"Client has sent too many requests\",\n  121: \"Resource access is forbidden for this user\",\n  122: \"Another resource violates constraint\",\n  201: \"Service Temporary unavailable due to high load\",\n  202: \"Service deprecated\",\n  999: \"Internal Server Error\"\n};\n\nexports.default = ERROR_CODES;\n\nvar NetworkTimeoutError = function (_extendableBuiltin2) {\n  (0, _inherits3.default)(NetworkTimeoutError, _extendableBuiltin2);\n\n  function NetworkTimeoutError(url, options) {\n    (0, _classCallCheck3.default)(this, NetworkTimeoutError);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (NetworkTimeoutError.__proto__ || Object.getPrototypeOf(NetworkTimeoutError)).call(this, \"Timeout while trying to access \" + url + \" with \" + JSON.stringify(options)));\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_this, NetworkTimeoutError);\n    }\n\n    _this.url = url;\n    _this.options = options;\n    return _this;\n  }\n\n  return NetworkTimeoutError;\n}(_extendableBuiltin(Error));\n\nvar UnparseableResponseError = function (_extendableBuiltin4) {\n  (0, _inherits3.default)(UnparseableResponseError, _extendableBuiltin4);\n\n  function UnparseableResponseError(response, body, error) {\n    (0, _classCallCheck3.default)(this, UnparseableResponseError);\n    var status = response.status;\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (UnparseableResponseError.__proto__ || Object.getPrototypeOf(UnparseableResponseError)).call(this, \"Response from server unparseable (HTTP \" + (status || 0) + \"; \" + error + \"): \" + body));\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_this2, UnparseableResponseError);\n    }\n\n    _this2.status = status;\n    _this2.response = response;\n    _this2.stack = error.stack;\n    _this2.error = error;\n    return _this2;\n  }\n\n  return UnparseableResponseError;\n}(_extendableBuiltin3(Error));\n\n/**\n * \"Error\" subclass representing a >=400 response from the server.\n *\n * Whether or not this is an error depends on your application.\n *\n * The `json` field can be undefined if the server responded with an\n * empty response body. This shouldn't generally happen. Most \"bad\"\n * responses come with a JSON error description, or (if they're\n * fronted by a CDN or nginx or something) occasionally non-JSON\n * responses (which become UnparseableResponseErrors, above).\n */\n\n\nvar ServerResponse = function (_extendableBuiltin6) {\n  (0, _inherits3.default)(ServerResponse, _extendableBuiltin6);\n\n  function ServerResponse(response, json) {\n    (0, _classCallCheck3.default)(this, ServerResponse);\n    var status = response.status;\n    var statusText = response.statusText;\n\n    var errnoMsg = void 0;\n\n    if (json) {\n      // Try to fill in information from the JSON error.\n      statusText = json.error || statusText;\n\n      // Take errnoMsg from either ERROR_CODES or json.message.\n      if (json.errno && json.errno in ERROR_CODES) {\n        errnoMsg = ERROR_CODES[json.errno];\n      } else if (json.message) {\n        errnoMsg = json.message;\n      }\n\n      // If we had both ERROR_CODES and json.message, and they differ,\n      // combine them.\n      if (errnoMsg && json.message && json.message !== errnoMsg) {\n        errnoMsg += \" (\" + json.message + \")\";\n      }\n    }\n\n    var message = \"HTTP \" + status + \" \" + statusText;\n    if (errnoMsg) {\n      message += \": \" + errnoMsg;\n    }\n\n    var _this3 = (0, _possibleConstructorReturn3.default)(this, (ServerResponse.__proto__ || Object.getPrototypeOf(ServerResponse)).call(this, message.trim()));\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_this3, ServerResponse);\n    }\n\n    _this3.response = response;\n    _this3.data = json;\n    return _this3;\n  }\n\n  return ServerResponse;\n}(_extendableBuiltin5(Error));\n\nexports.NetworkTimeoutError = NetworkTimeoutError;\nexports.ServerResponse = ServerResponse;\nexports.UnparseableResponseError = UnparseableResponseError;\n},{\"babel-runtime/helpers/classCallCheck\":18,\"babel-runtime/helpers/inherits\":22,\"babel-runtime/helpers/possibleConstructorReturn\":23}],447:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _utils = require(\"./utils\");\n\nvar _errors = require(\"./errors\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Enhanced HTTP client for the Kinto protocol.\n * @private\n */\nvar HTTP = function () {\n  (0, _createClass3.default)(HTTP, null, [{\n    key: \"DEFAULT_REQUEST_HEADERS\",\n\n    /**\n     * Default HTTP request headers applied to each outgoing request.\n     *\n     * @type {Object}\n     */\n    get: function get() {\n      return {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      };\n    }\n\n    /**\n     * Default options.\n     *\n     * @type {Object}\n     */\n\n  }, {\n    key: \"defaultOptions\",\n    get: function get() {\n      return { timeout: null, requestMode: \"cors\" };\n    }\n\n    /**\n     * Constructor.\n     *\n     * @param {EventEmitter} events                       The event handler.\n     * @param {Object}       [options={}}                 The options object.\n     * @param {Number}       [options.timeout=null]       The request timeout in ms, if any (default: `null`).\n     * @param {String}       [options.requestMode=\"cors\"] The HTTP request mode (default: `\"cors\"`).\n     */\n\n  }]);\n\n  function HTTP(events) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, HTTP);\n\n    // public properties\n    /**\n     * The event emitter instance.\n     * @type {EventEmitter}\n     */\n    if (!events) {\n      throw new Error(\"No events handler provided\");\n    }\n    this.events = events;\n\n    /**\n     * The request mode.\n     * @see  https://fetch.spec.whatwg.org/#requestmode\n     * @type {String}\n     */\n    this.requestMode = options.requestMode || HTTP.defaultOptions.requestMode;\n\n    /**\n     * The request timeout.\n     * @type {Number}\n     */\n    this.timeout = options.timeout || HTTP.defaultOptions.timeout;\n  }\n\n  /**\n   * @private\n   */\n\n\n  (0, _createClass3.default)(HTTP, [{\n    key: \"timedFetch\",\n    value: function timedFetch(url, options) {\n      var _this = this;\n\n      var hasTimedout = false;\n      return new Promise(function (resolve, reject) {\n        // Detect if a request has timed out.\n        var _timeoutId = void 0;\n        if (_this.timeout) {\n          _timeoutId = setTimeout(function () {\n            hasTimedout = true;\n            reject(new _errors.NetworkTimeoutError(url, options));\n          }, _this.timeout);\n        }\n        function proceedWithHandler(fn) {\n          return function (arg) {\n            if (!hasTimedout) {\n              if (_timeoutId) {\n                clearTimeout(_timeoutId);\n              }\n              fn(arg);\n            }\n          };\n        }\n        fetch(url, options).then(proceedWithHandler(resolve)).catch(proceedWithHandler(reject));\n      });\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"processResponse\",\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(response) {\n        var status, headers, text, json;\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                status = response.status, headers = response.headers;\n                _context.next = 3;\n                return response.text();\n\n              case 3:\n                text = _context.sent;\n\n                // Check if we have a body; if so parse it as JSON.\n                json = void 0;\n\n                if (!(text.length !== 0)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                _context.prev = 6;\n\n                json = JSON.parse(text);\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](6);\n                throw new _errors.UnparseableResponseError(response, text, _context.t0);\n\n              case 13:\n                if (!(status >= 400)) {\n                  _context.next = 15;\n                  break;\n                }\n\n                throw new _errors.ServerResponse(response, json);\n\n              case 15:\n                return _context.abrupt(\"return\", { status: status, json: json, headers: headers });\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[6, 10]]);\n      }));\n\n      function processResponse(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return processResponse;\n    }()\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"retry\",\n    value: function () {\n      var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(url, retryAfter, request, options) {\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return (0, _utils.delay)(retryAfter);\n\n              case 2:\n                return _context2.abrupt(\"return\", this.request(url, request, (0, _extends3.default)({}, options, { retry: options.retry - 1 })));\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function retry(_x3, _x4, _x5, _x6) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return retry;\n    }()\n\n    /**\n     * Performs an HTTP request to the Kinto server.\n     *\n     * Resolves with an objet containing the following HTTP response properties:\n     * - `{Number}  status`  The HTTP status code.\n     * - `{Object}  json`    The JSON response body.\n     * - `{Headers} headers` The response headers object; see the ES6 fetch() spec.\n     *\n     * @param  {String} url               The URL.\n     * @param  {Object} [request={}]      The request object, passed to\n     *     fetch() as its options object.\n     * @param  {Object} [request.headers] The request headers object (default: {})\n     * @param  {Object} [options={}]      Options for making the\n     *     request\n     * @param  {Number} [options.retry]   Number of retries (default: 0)\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"request\",\n    value: function () {\n      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(url) {\n        var _request = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { headers: {} };\n\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { retry: 0 };\n        var response, status, headers, retryAfter;\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                // Ensure default request headers are always set\n                _request.headers = (0, _extends3.default)({}, HTTP.DEFAULT_REQUEST_HEADERS, _request.headers);\n                // If a multipart body is provided, remove any custom Content-Type header as\n                // the fetch() implementation will add the correct one for us.\n                if (_request.body && typeof _request.body.append === \"function\") {\n                  delete _request.headers[\"Content-Type\"];\n                }\n                _request.mode = this.requestMode;\n\n                _context3.next = 5;\n                return this.timedFetch(url, _request);\n\n              case 5:\n                response = _context3.sent;\n                status = response.status, headers = response.headers;\n\n\n                this._checkForDeprecationHeader(headers);\n                this._checkForBackoffHeader(status, headers);\n\n                // Check if the server summons the client to retry after a while.\n                retryAfter = this._checkForRetryAfterHeader(status, headers);\n                // If number of allowed of retries is not exhausted, retry the same request.\n\n                if (!(retryAfter && options.retry > 0)) {\n                  _context3.next = 14;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", this.retry(url, retryAfter, _request, options));\n\n              case 14:\n                return _context3.abrupt(\"return\", this.processResponse(response));\n\n              case 15:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function request(_x7) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return request;\n    }()\n  }, {\n    key: \"_checkForDeprecationHeader\",\n    value: function _checkForDeprecationHeader(headers) {\n      var alertHeader = headers.get(\"Alert\");\n      if (!alertHeader) {\n        return;\n      }\n      var alert = void 0;\n      try {\n        alert = JSON.parse(alertHeader);\n      } catch (err) {\n        console.warn(\"Unable to parse Alert header message\", alertHeader);\n        return;\n      }\n      console.warn(alert.message, alert.url);\n      this.events.emit(\"deprecated\", alert);\n    }\n  }, {\n    key: \"_checkForBackoffHeader\",\n    value: function _checkForBackoffHeader(status, headers) {\n      var backoffMs = void 0;\n      var backoffSeconds = parseInt(headers.get(\"Backoff\"), 10);\n      if (backoffSeconds > 0) {\n        backoffMs = new Date().getTime() + backoffSeconds * 1000;\n      } else {\n        backoffMs = 0;\n      }\n      this.events.emit(\"backoff\", backoffMs);\n    }\n  }, {\n    key: \"_checkForRetryAfterHeader\",\n    value: function _checkForRetryAfterHeader(status, headers) {\n      var retryAfter = headers.get(\"Retry-After\");\n      if (!retryAfter) {\n        return;\n      }\n      var delay = parseInt(retryAfter, 10) * 1000;\n      retryAfter = new Date().getTime() + delay;\n      this.events.emit(\"retry-after\", retryAfter);\n      return delay;\n    }\n  }]);\n  return HTTP;\n}();\n\nexports.default = HTTP;\n},{\"./errors\":446,\"./utils\":450,\"babel-runtime/helpers/asyncToGenerator\":17,\"babel-runtime/helpers/classCallCheck\":18,\"babel-runtime/helpers/createClass\":19,\"babel-runtime/helpers/extends\":21,\"babel-runtime/regenerator\":28}],448:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _events = require(\"events\");\n\nvar _base = require(\"./base\");\n\nvar _base2 = _interopRequireDefault(_base);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar KintoClient = function (_KintoClientBase) {\n  (0, _inherits3.default)(KintoClient, _KintoClientBase);\n\n  function KintoClient(remote) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, KintoClient);\n\n    var events = options.events || new _events.EventEmitter();\n\n    return (0, _possibleConstructorReturn3.default)(this, (KintoClient.__proto__ || Object.getPrototypeOf(KintoClient)).call(this, remote, Object.assign({ events: events }, options)));\n  }\n\n  return KintoClient;\n}(_base2.default);\n\n// This is a hack to avoid Browserify to expose the above class\n// at `new KintoClient()` instead of `new KintoClient.default()`.\n// See https://github.com/Kinto/kinto-http.js/issues/77\n\n\nexports.default = KintoClient;\nif ((typeof module === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(module)) === \"object\") {\n  module.exports = KintoClient;\n}\n},{\"./base\":441,\"babel-runtime/helpers/classCallCheck\":18,\"babel-runtime/helpers/inherits\":22,\"babel-runtime/helpers/possibleConstructorReturn\":23,\"babel-runtime/helpers/typeof\":27,\"events\":30}],449:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray2 = require(\"babel-runtime/helpers/slicedToArray\");\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nexports.createRequest = createRequest;\nexports.updateRequest = updateRequest;\nexports.jsonPatchPermissionsRequest = jsonPatchPermissionsRequest;\nexports.deleteRequest = deleteRequest;\nexports.addAttachmentRequest = addAttachmentRequest;\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar requestDefaults = {\n  safe: false,\n  // check if we should set default content type here\n  headers: {},\n  permissions: undefined,\n  data: undefined,\n  patch: false\n};\n\n/**\n * @private\n */\nfunction safeHeader(safe, last_modified) {\n  if (!safe) {\n    return {};\n  }\n  if (last_modified) {\n    return { \"If-Match\": \"\\\"\" + last_modified + \"\\\"\" };\n  }\n  return { \"If-None-Match\": \"*\" };\n}\n\n/**\n * @private\n */\nfunction createRequest(path, _ref) {\n  var data = _ref.data,\n      permissions = _ref.permissions;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var _requestDefaults$opti = (0, _extends3.default)({}, requestDefaults, options),\n      headers = _requestDefaults$opti.headers,\n      safe = _requestDefaults$opti.safe;\n\n  return {\n    method: data && data.id ? \"PUT\" : \"POST\",\n    path: path,\n    headers: (0, _extends3.default)({}, headers, safeHeader(safe)),\n    body: { data: data, permissions: permissions }\n  };\n}\n\n/**\n * @private\n */\nfunction updateRequest(path, _ref2) {\n  var data = _ref2.data,\n      permissions = _ref2.permissions;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var _requestDefaults$opti2 = (0, _extends3.default)({}, requestDefaults, options),\n      headers = _requestDefaults$opti2.headers,\n      safe = _requestDefaults$opti2.safe,\n      patch = _requestDefaults$opti2.patch;\n\n  var _data$options = (0, _extends3.default)({}, data, options),\n      last_modified = _data$options.last_modified;\n\n  if (Object.keys((0, _utils.omit)(data, \"id\", \"last_modified\")).length === 0) {\n    data = undefined;\n  }\n\n  return {\n    method: patch ? \"PATCH\" : \"PUT\",\n    path: path,\n    headers: (0, _extends3.default)({}, headers, safeHeader(safe, last_modified)),\n    body: { data: data, permissions: permissions }\n  };\n}\n\n/**\n * @private\n */\nfunction jsonPatchPermissionsRequest(path, permissions, opType) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var _requestDefaults$opti3 = (0, _extends3.default)({}, requestDefaults, options),\n      headers = _requestDefaults$opti3.headers,\n      safe = _requestDefaults$opti3.safe,\n      last_modified = _requestDefaults$opti3.last_modified;\n\n  var ops = [];\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = Object.entries(permissions)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = (0, _slicedToArray3.default)(_step.value, 2),\n          type = _step$value[0],\n          principals = _step$value[1];\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = principals[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var principal = _step2.value;\n\n          ops.push({\n            op: opType,\n            path: \"/permissions/\" + type + \"/\" + principal\n          });\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return {\n    method: \"PATCH\",\n    path: path,\n    headers: (0, _extends3.default)({}, headers, safeHeader(safe, last_modified), {\n      \"Content-Type\": \"application/json-patch+json\"\n    }),\n    body: ops\n  };\n}\n\n/**\n * @private\n */\nfunction deleteRequest(path) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _requestDefaults$opti4 = (0, _extends3.default)({}, requestDefaults, options),\n      headers = _requestDefaults$opti4.headers,\n      safe = _requestDefaults$opti4.safe,\n      last_modified = _requestDefaults$opti4.last_modified;\n\n  if (safe && !last_modified) {\n    throw new Error(\"Safe concurrency check requires a last_modified value.\");\n  }\n  return {\n    method: \"DELETE\",\n    path: path,\n    headers: (0, _extends3.default)({}, headers, safeHeader(safe, last_modified))\n  };\n}\n\n/**\n * @private\n */\nfunction addAttachmentRequest(path, dataURI) {\n  var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      data = _ref3.data,\n      permissions = _ref3.permissions;\n\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var _requestDefaults$opti5 = (0, _extends3.default)({}, requestDefaults, options),\n      headers = _requestDefaults$opti5.headers,\n      safe = _requestDefaults$opti5.safe,\n      gzipped = _requestDefaults$opti5.gzipped;\n\n  var _data$options2 = (0, _extends3.default)({}, data, options),\n      last_modified = _data$options2.last_modified;\n\n  var body = { data: data, permissions: permissions };\n  var formData = (0, _utils.createFormData)(dataURI, body, options);\n\n  var customPath = gzipped != null ? customPath = path + \"?gzipped=\" + (gzipped ? \"true\" : \"false\") : path;\n\n  return {\n    method: \"POST\",\n    path: customPath,\n    headers: (0, _extends3.default)({}, headers, safeHeader(safe, last_modified)),\n    body: formData\n  };\n}\n},{\"./utils\":450,\"babel-runtime/helpers/extends\":21,\"babel-runtime/helpers/slicedToArray\":24}],450:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pMap = undefined;\n\nvar _defineProperty2 = require(\"babel-runtime/helpers/defineProperty\");\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends3 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends4 = _interopRequireDefault(_extends3);\n\nvar _toArray2 = require(\"babel-runtime/helpers/toArray\");\n\nvar _toArray3 = _interopRequireDefault(_toArray2);\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _slicedToArray2 = require(\"babel-runtime/helpers/slicedToArray\");\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\n/**\n * Maps a list to promises using the provided mapping function, executes them\n * sequentially then returns a Promise resolving with ordered results obtained.\n * Think of this as a sequential Promise.all.\n *\n * @private\n * @param  {Array}    list The list to map.\n * @param  {Function} fn   The mapping function.\n * @return {Promise}\n */\nvar pMap = exports.pMap = function () {\n  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(list, fn) {\n    var results;\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            results = [];\n            _context2.next = 3;\n            return list.reduce(function () {\n              var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(promise, entry) {\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return promise;\n\n                      case 2:\n                        _context.t0 = results;\n                        _context.next = 5;\n                        return fn(entry);\n\n                      case 5:\n                        _context.t1 = _context.sent;\n                        results = _context.t0.concat.call(_context.t0, _context.t1);\n\n                      case 7:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, this);\n              }));\n\n              return function (_x3, _x4) {\n                return _ref2.apply(this, arguments);\n              };\n            }(), Promise.resolve());\n\n          case 3:\n            return _context2.abrupt(\"return\", results);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function pMap(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/**\n * Takes an object and returns a copy of it with the provided keys omitted.\n *\n * @private\n * @param  {Object}    obj  The source object.\n * @param  {...String} keys The keys to omit.\n * @return {Object}\n */\n\n\nexports.partition = partition;\nexports.delay = delay;\nexports.omit = omit;\nexports.toDataBody = toDataBody;\nexports.qsify = qsify;\nexports.checkVersion = checkVersion;\nexports.support = support;\nexports.capable = capable;\nexports.nobatch = nobatch;\nexports.isObject = isObject;\nexports.parseDataURL = parseDataURL;\nexports.extractFileInfo = extractFileInfo;\nexports.createFormData = createFormData;\nexports.cleanUndefinedProperties = cleanUndefinedProperties;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Chunks an array into n pieces.\n *\n * @private\n * @param  {Array}  array\n * @param  {Number} n\n * @return {Array}\n */\nfunction partition(array, n) {\n  if (n <= 0) {\n    return array;\n  }\n  return array.reduce(function (acc, x, i) {\n    if (i === 0 || i % n === 0) {\n      acc.push([x]);\n    } else {\n      acc[acc.length - 1].push(x);\n    }\n    return acc;\n  }, []);\n}\n\n/**\n * Returns a Promise always resolving after the specified amount in milliseconds.\n *\n * @return Promise<void>\n */\nfunction delay(ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n}function omit(obj) {\n  for (var _len = arguments.length, keys = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    keys[_key - 1] = arguments[_key];\n  }\n\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (keys.indexOf(key) === -1) {\n      acc[key] = obj[key];\n    }\n    return acc;\n  }, {});\n}\n\n/**\n * Always returns a resource data object from the provided argument.\n *\n * @private\n * @param  {Object|String} resource\n * @return {Object}\n */\nfunction toDataBody(resource) {\n  if (isObject(resource)) {\n    return resource;\n  }\n  if (typeof resource === \"string\") {\n    return { id: resource };\n  }\n  throw new Error(\"Invalid argument.\");\n}\n\n/**\n * Transforms an object into an URL query string, stripping out any undefined\n * values.\n *\n * @param  {Object} obj\n * @return {String}\n */\nfunction qsify(obj) {\n  var encode = function encode(v) {\n    return encodeURIComponent(typeof v === \"boolean\" ? String(v) : v);\n  };\n  var stripUndefined = function stripUndefined(o) {\n    return JSON.parse(JSON.stringify(o));\n  };\n  var stripped = stripUndefined(obj);\n  return Object.keys(stripped).map(function (k) {\n    var ks = encode(k) + \"=\";\n    if (Array.isArray(stripped[k])) {\n      return ks + stripped[k].map(function (v) {\n        return encode(v);\n      }).join(\",\");\n    } else {\n      return ks + encode(stripped[k]);\n    }\n  }).join(\"&\");\n}\n\n/**\n * Checks if a version is within the provided range.\n *\n * @param  {String} version    The version to check.\n * @param  {String} minVersion The minimum supported version (inclusive).\n * @param  {String} maxVersion The minimum supported version (exclusive).\n * @throws {Error} If the version is outside of the provided range.\n */\nfunction checkVersion(version, minVersion, maxVersion) {\n  var extract = function extract(str) {\n    return str.split(\".\").map(function (x) {\n      return parseInt(x, 10);\n    });\n  };\n\n  var _extract = extract(version),\n      _extract2 = (0, _slicedToArray3.default)(_extract, 2),\n      verMajor = _extract2[0],\n      verMinor = _extract2[1];\n\n  var _extract3 = extract(minVersion),\n      _extract4 = (0, _slicedToArray3.default)(_extract3, 2),\n      minMajor = _extract4[0],\n      minMinor = _extract4[1];\n\n  var _extract5 = extract(maxVersion),\n      _extract6 = (0, _slicedToArray3.default)(_extract5, 2),\n      maxMajor = _extract6[0],\n      maxMinor = _extract6[1];\n\n  var checks = [verMajor < minMajor, verMajor === minMajor && verMinor < minMinor, verMajor > maxMajor, verMajor === maxMajor && verMinor >= maxMinor];\n  if (checks.some(function (x) {\n    return x;\n  })) {\n    throw new Error(\"Version \" + version + \" doesn't satisfy \" + minVersion + \" <= x < \" + maxVersion);\n  }\n}\n\n/**\n * Generates a decorator function ensuring a version check is performed against\n * the provided requirements before executing it.\n *\n * @param  {String} min The required min version (inclusive).\n * @param  {String} max The required max version (inclusive).\n * @return {Function}\n */\nfunction support(min, max) {\n  return function (target, key, descriptor) {\n    var fn = descriptor.value;\n    return {\n      configurable: true,\n      get: function get() {\n        var _this = this;\n\n        var wrappedMethod = function wrappedMethod() {\n          for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          // \"this\" is the current instance which its method is decorated.\n          var client = \"client\" in _this ? _this.client : _this;\n          return client.fetchHTTPApiVersion().then(function (version) {\n            return checkVersion(version, min, max);\n          }).then(function () {\n            return fn.apply(_this, args);\n          });\n        };\n        Object.defineProperty(this, key, {\n          value: wrappedMethod,\n          configurable: true,\n          writable: true\n        });\n        return wrappedMethod;\n      }\n    };\n  };\n}\n\n/**\n * Generates a decorator function ensuring that the specified capabilities are\n * available on the server before executing it.\n *\n * @param  {Array<String>} capabilities The required capabilities.\n * @return {Function}\n */\nfunction capable(capabilities) {\n  return function (target, key, descriptor) {\n    var fn = descriptor.value;\n    return {\n      configurable: true,\n      get: function get() {\n        var _this2 = this;\n\n        var wrappedMethod = function wrappedMethod() {\n          for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n\n          // \"this\" is the current instance which its method is decorated.\n          var client = \"client\" in _this2 ? _this2.client : _this2;\n          return client.fetchServerCapabilities().then(function (available) {\n            var missing = capabilities.filter(function (c) {\n              return !(c in available);\n            });\n            if (missing.length > 0) {\n              var missingStr = missing.join(\", \");\n              throw new Error(\"Required capabilities \" + missingStr + \" not present on server\");\n            }\n          }).then(function () {\n            return fn.apply(_this2, args);\n          });\n        };\n        Object.defineProperty(this, key, {\n          value: wrappedMethod,\n          configurable: true,\n          writable: true\n        });\n        return wrappedMethod;\n      }\n    };\n  };\n}\n\n/**\n * Generates a decorator function ensuring an operation is not performed from\n * within a batch request.\n *\n * @param  {String} message The error message to throw.\n * @return {Function}\n */\nfunction nobatch(message) {\n  return function (target, key, descriptor) {\n    var fn = descriptor.value;\n    return {\n      configurable: true,\n      get: function get() {\n        var _this3 = this;\n\n        var wrappedMethod = function wrappedMethod() {\n          for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n\n          // \"this\" is the current instance which its method is decorated.\n          if (_this3._isBatch) {\n            throw new Error(message);\n          }\n          return fn.apply(_this3, args);\n        };\n        Object.defineProperty(this, key, {\n          value: wrappedMethod,\n          configurable: true,\n          writable: true\n        });\n        return wrappedMethod;\n      }\n    };\n  };\n}\n\n/**\n * Returns true if the specified value is an object (i.e. not an array nor null).\n * @param  {Object} thing The value to inspect.\n * @return {bool}\n */\nfunction isObject(thing) {\n  return (typeof thing === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(thing)) === \"object\" && thing !== null && !Array.isArray(thing);\n}\n\n/**\n * Parses a data url.\n * @param  {String} dataURL The data url.\n * @return {Object}\n */\nfunction parseDataURL(dataURL) {\n  var regex = /^data:(.*);base64,(.*)/;\n  var match = dataURL.match(regex);\n  if (!match) {\n    throw new Error(\"Invalid data-url: \" + String(dataURL).substr(0, 32) + \"...\");\n  }\n  var props = match[1];\n  var base64 = match[2];\n\n  var _props$split = props.split(\";\"),\n      _props$split2 = (0, _toArray3.default)(_props$split),\n      type = _props$split2[0],\n      rawParams = _props$split2.slice(1);\n\n  var params = rawParams.reduce(function (acc, param) {\n    var _param$split = param.split(\"=\"),\n        _param$split2 = (0, _slicedToArray3.default)(_param$split, 2),\n        key = _param$split2[0],\n        value = _param$split2[1];\n\n    return (0, _extends4.default)({}, acc, (0, _defineProperty3.default)({}, key, value));\n  }, {});\n  return (0, _extends4.default)({}, params, { type: type, base64: base64 });\n}\n\n/**\n * Extracts file information from a data url.\n * @param  {String} dataURL The data url.\n * @return {Object}\n */\nfunction extractFileInfo(dataURL) {\n  var _parseDataURL = parseDataURL(dataURL),\n      name = _parseDataURL.name,\n      type = _parseDataURL.type,\n      base64 = _parseDataURL.base64;\n\n  var binary = atob(base64);\n  var array = [];\n  for (var i = 0; i < binary.length; i++) {\n    array.push(binary.charCodeAt(i));\n  }\n  var blob = new Blob([new Uint8Array(array)], { type: type });\n  return { blob: blob, name: name };\n}\n\n/**\n * Creates a FormData instance from a data url and an existing JSON response\n * body.\n * @param  {String} dataURL            The data url.\n * @param  {Object} body               The response body.\n * @param  {Object} [options={}]       The options object.\n * @param  {Object} [options.filename] Force attachment file name.\n * @return {FormData}\n */\nfunction createFormData(dataURL, body) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _options$filename = options.filename,\n      filename = _options$filename === undefined ? \"untitled\" : _options$filename;\n\n  var _extractFileInfo = extractFileInfo(dataURL),\n      blob = _extractFileInfo.blob,\n      name = _extractFileInfo.name;\n\n  var formData = new FormData();\n  formData.append(\"attachment\", blob, name || filename);\n  for (var property in body) {\n    if (typeof body[property] !== \"undefined\") {\n      formData.append(property, JSON.stringify(body[property]));\n    }\n  }\n  return formData;\n}\n\n/**\n * Clones an object with all its undefined keys removed.\n * @private\n */\nfunction cleanUndefinedProperties(obj) {\n  var result = {};\n  for (var key in obj) {\n    if (typeof obj[key] !== \"undefined\") {\n      result[key] = obj[key];\n    }\n  }\n  return result;\n}\n},{\"babel-runtime/helpers/asyncToGenerator\":17,\"babel-runtime/helpers/defineProperty\":20,\"babel-runtime/helpers/extends\":21,\"babel-runtime/helpers/slicedToArray\":24,\"babel-runtime/helpers/toArray\":25,\"babel-runtime/helpers/typeof\":27,\"babel-runtime/regenerator\":28}],451:[function(require,module,exports){\n(function (global){\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g =\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this;\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./runtime\":452}],452:[function(require,module,exports){\n(function (process,global){\n/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof process === \"object\" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === \"return\" ||\n              (method === \"throw\" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator[\"return\"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === \"throw\") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = \"throw\";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === \"return\") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === \"throw\") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = \"throw\";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // \"next\" with an undefined arg.\n          method = \"next\";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = arg;\n\n        } else if (method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = \"next\";\n            arg = undefined;\n          }\n\n        } else if (method === \"return\") {\n          context.abrupt(\"return\", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === \"next\") {\n              // Deliberately forget the last sent value so that we don't\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = \"throw\";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = record.arg;\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"_process\":29}],453:[function(require,module,exports){\nvar v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n\n},{\"./v1\":456,\"./v4\":457}],454:[function(require,module,exports){\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n},{}],455:[function(require,module,exports){\n(function (global){\n// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],456:[function(require,module,exports){\n// Unique ID creation requires a high quality random # generator.  We feature\n// detect to determine the best RNG source, normalizing to a function that\n// returns 128-bits of randomness, since that's what's usually required\nvar rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [\n  _seedBytes[0] | 0x01,\n  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0, _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n\n},{\"./lib/bytesToUuid\":454,\"./lib/rng\":455}],457:[function(require,module,exports){\nvar rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n},{\"./lib/bytesToUuid\":454,\"./lib/rng\":455}],458:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _collection = require(\"./collection\");\n\nvar _collection2 = _interopRequireDefault(_collection);\n\nvar _base = require(\"./adapters/base\");\n\nvar _base2 = _interopRequireDefault(_base);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DEFAULT_BUCKET_NAME = \"default\";\nvar DEFAULT_REMOTE = \"http://localhost:8888/v1\";\nvar DEFAULT_RETRY = 1;\n\n/**\n * KintoBase class.\n */\n\nvar KintoBase = function () {\n  (0, _createClass3.default)(KintoBase, null, [{\n    key: \"adapters\",\n\n    /**\n     * Provides a public access to the base adapter class. Users can create a\n     * custom DB adapter by extending {@link BaseAdapter}.\n     *\n     * @type {Object}\n     */\n    get: function get() {\n      return {\n        BaseAdapter: _base2.default\n      };\n    }\n\n    /**\n     * Synchronization strategies. Available strategies are:\n     *\n     * - `MANUAL`: Conflicts will be reported in a dedicated array.\n     * - `SERVER_WINS`: Conflicts are resolved using remote data.\n     * - `CLIENT_WINS`: Conflicts are resolved using local data.\n     *\n     * @type {Object}\n     */\n\n  }, {\n    key: \"syncStrategy\",\n    get: function get() {\n      return _collection2.default.strategy;\n    }\n\n    /**\n     * Constructor.\n     *\n     * Options:\n     * - `{String}`       `remote`         The server URL to use.\n     * - `{String}`       `bucket`         The collection bucket name.\n     * - `{EventEmitter}` `events`         Events handler.\n     * - `{BaseAdapter}`  `adapter`        The base DB adapter class.\n     * - `{Object}`       `adapterOptions` Options given to the adapter.\n     * - `{String}`       `dbPrefix`       The DB name prefix.\n     * - `{Object}`       `headers`        The HTTP headers to use.\n     * - `{Object}`       `retry`          Number of retries when the server fails to process the request (default: `1`)\n     * - `{String}`       `requestMode`    The HTTP CORS mode to use.\n     * - `{Number}`       `timeout`        The requests timeout in ms (default: `5000`).\n     *\n     * @param  {Object} options The options object.\n     */\n\n  }]);\n\n  function KintoBase() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck3.default)(this, KintoBase);\n\n    var defaults = {\n      bucket: DEFAULT_BUCKET_NAME,\n      remote: DEFAULT_REMOTE,\n      retry: DEFAULT_RETRY\n    };\n    this._options = (0, _extends3.default)({}, defaults, options);\n    if (!this._options.adapter) {\n      throw new Error(\"No adapter provided\");\n    }\n\n    var _options = this._options,\n        ApiClass = _options.ApiClass,\n        events = _options.events,\n        headers = _options.headers,\n        remote = _options.remote,\n        requestMode = _options.requestMode,\n        retry = _options.retry,\n        timeout = _options.timeout;\n\n    // public properties\n\n    /**\n     * The kinto HTTP client instance.\n     * @type {KintoClient}\n     */\n\n    this.api = new ApiClass(remote, {\n      events: events,\n      headers: headers,\n      requestMode: requestMode,\n      retry: retry,\n      timeout: timeout\n    });\n    /**\n     * The event emitter instance.\n     * @type {EventEmitter}\n     */\n    this.events = this._options.events;\n  }\n\n  /**\n   * Creates a {@link Collection} instance. The second (optional) parameter\n   * will set collection-level options like e.g. `remoteTransformers`.\n   *\n   * @param  {String} collName The collection name.\n   * @param  {Object} [options={}]                 Extra options or override client's options.\n   * @param  {Object} [options.idSchema]           IdSchema instance (default: UUID)\n   * @param  {Object} [options.remoteTransformers] Array<RemoteTransformer> (default: `[]`])\n   * @param  {Object} [options.hooks]              Array<Hook> (default: `[]`])\n   * @param  {Object} [options.localFields]        Array<Field> (default: `[]`])\n   * @return {Collection}\n   */\n\n\n  (0, _createClass3.default)(KintoBase, [{\n    key: \"collection\",\n    value: function collection(collName) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!collName) {\n        throw new Error(\"missing collection name\");\n      }\n\n      var _options$options = (0, _extends3.default)({}, this._options, options),\n          bucket = _options$options.bucket,\n          events = _options$options.events,\n          adapter = _options$options.adapter,\n          adapterOptions = _options$options.adapterOptions,\n          dbPrefix = _options$options.dbPrefix;\n\n      var idSchema = options.idSchema,\n          remoteTransformers = options.remoteTransformers,\n          hooks = options.hooks,\n          localFields = options.localFields;\n\n\n      return new _collection2.default(bucket, collName, this.api, {\n        events: events,\n        adapter: adapter,\n        adapterOptions: adapterOptions,\n        dbPrefix: dbPrefix,\n        idSchema: idSchema,\n        remoteTransformers: remoteTransformers,\n        hooks: hooks,\n        localFields: localFields\n      });\n    }\n  }]);\n  return KintoBase;\n}();\n\nexports.default = KintoBase;\n\n},{\"./adapters/base\":460,\"./collection\":461,\"babel-runtime/helpers/classCallCheck\":18,\"babel-runtime/helpers/createClass\":19,\"babel-runtime/helpers/extends\":21}],459:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toConsumableArray2 = require(\"babel-runtime/helpers/toConsumableArray\");\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _keys = require(\"babel-runtime/core-js/object/keys\");\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _base = require(\"./base.js\");\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar INDEXED_FIELDS = [\"id\", \"_status\", \"last_modified\"];\n\n/**\n * IDB cursor handlers.\n * @type {Object}\n */\nvar cursorHandlers = {\n  all: function all(filters, done) {\n    var results = [];\n    return function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        if ((0, _utils.filterObject)(filters, cursor.value)) {\n          results.push(cursor.value);\n        }\n        cursor.continue();\n      } else {\n        done(results);\n      }\n    };\n  },\n  in: function _in(values, done) {\n    if (values.length === 0) {\n      return done([]);\n    }\n    var sortedValues = [].slice.call(values).sort();\n    var results = [];\n    return function (event) {\n      var cursor = event.target.result;\n      if (!cursor) {\n        done(results);\n        return;\n      }\n      var key = cursor.key,\n          value = cursor.value;\n\n      var i = 0;\n      while (key > sortedValues[i]) {\n        // The cursor has passed beyond this key. Check next.\n        ++i;\n        if (i === sortedValues.length) {\n          done(results); // There is no next. Stop searching.\n          return;\n        }\n      }\n      if (key === sortedValues[i]) {\n        results.push(value);\n        cursor.continue();\n      } else {\n        cursor.continue(sortedValues[i]);\n      }\n    };\n  }\n};\n\n/**\n * Extract from filters definition the first indexed field. Since indexes were\n * created on single-columns, extracting a single one makes sense.\n *\n * @param  {Object} filters The filters object.\n * @return {String|undefined}\n */\nfunction findIndexedField(filters) {\n  var filteredFields = (0, _keys2.default)(filters);\n  var indexedFields = filteredFields.filter(function (field) {\n    return INDEXED_FIELDS.includes(field);\n  });\n  return indexedFields[0];\n}\n\n/**\n * Creates an IDB request and attach it the appropriate cursor event handler to\n * perform a list query.\n *\n * Multiple matching values are handled by passing an array.\n *\n * @param  {IDBStore}         store      The IDB store.\n * @param  {String|undefined} indexField The indexed field to query, if any.\n * @param  {Any}              value      The value to filter, if any.\n * @param  {Object}           filters    More filters.\n * @param  {Function}         done       The operation completion handler.\n * @return {IDBRequest}\n */\nfunction createListRequest(store, indexField, value, filters, done) {\n  if (!indexField) {\n    // Get all records.\n    var _request = store.openCursor();\n    _request.onsuccess = cursorHandlers.all(filters, done);\n    return _request;\n  }\n\n  // WHERE IN equivalent clause\n  if (Array.isArray(value)) {\n    var _request2 = store.index(indexField).openCursor();\n    _request2.onsuccess = cursorHandlers.in(value, done);\n    return _request2;\n  }\n\n  // WHERE field = value clause\n  var request = store.index(indexField).openCursor(IDBKeyRange.only(value));\n  request.onsuccess = cursorHandlers.all(filters, done);\n  return request;\n}\n\n/**\n * IndexedDB adapter.\n *\n * This adapter doesn't support any options.\n */\n\nvar IDB = function (_BaseAdapter) {\n  (0, _inherits3.default)(IDB, _BaseAdapter);\n\n  /**\n   * Constructor.\n   *\n   * @param  {String} store The store name.\n   * @param  {Object} options Adapter options.\n   * @param  {String} options.dbname The IndexedDB name (default: same as store).\n   */\n  function IDB(storeName) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, IDB);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (IDB.__proto__ || (0, _getPrototypeOf2.default)(IDB)).call(this));\n\n    _this._db = null;\n    // public properties\n    /**\n     * The database name.\n     * @type {String}\n     */\n    _this.storeName = storeName;\n    var _options$dbname = options.dbname,\n        dbname = _options$dbname === undefined ? storeName : _options$dbname;\n\n    _this.dbname = dbname;\n    return _this;\n  }\n\n  (0, _createClass3.default)(IDB, [{\n    key: \"_handleError\",\n    value: function _handleError(method, err) {\n      var error = new Error(method + \"() \" + err.message);\n      error.stack = err.stack;\n      throw error;\n    }\n\n    /**\n     * Ensures a connection to the IndexedDB database has been opened.\n     *\n     * @override\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _this2 = this;\n\n      if (this._db) {\n        return _promise2.default.resolve(this);\n      }\n      return new _promise2.default(function (resolve, reject) {\n        var request = indexedDB.open(_this2.dbname, 1);\n        request.onupgradeneeded = function (event) {\n          // DB object\n          var db = event.target.result;\n          // Main collection store\n          var collStore = db.createObjectStore(_this2.storeName, {\n            keyPath: \"id\"\n          });\n          // Primary key (generated by IdSchema, UUID by default)\n          collStore.createIndex(\"id\", \"id\", { unique: true });\n          // Local record status (\"synced\", \"created\", \"updated\", \"deleted\")\n          collStore.createIndex(\"_status\", \"_status\");\n          // Last modified field\n          collStore.createIndex(\"last_modified\", \"last_modified\");\n\n          // Metadata store\n          var metaStore = db.createObjectStore(\"__meta__\", {\n            keyPath: \"name\"\n          });\n          metaStore.createIndex(\"name\", \"name\", { unique: true });\n        };\n        request.onerror = function (event) {\n          return reject(event.target.error);\n        };\n        request.onsuccess = function (event) {\n          _this2._db = event.target.result;\n          resolve(_this2);\n        };\n      });\n    }\n\n    /**\n     * Closes current connection to the database.\n     *\n     * @override\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this._db) {\n        this._db.close(); // indexedDB.close is synchronous\n        this._db = null;\n      }\n      return _promise2.default.resolve();\n    }\n\n    /**\n     * Returns a transaction and an object store for this collection.\n     *\n     * To determine if a transaction has completed successfully, we should rather\n     * listen to the transactions complete event rather than the IDBObjectStore\n     * requests success event, because the transaction may still fail after the\n     * success event fires.\n     *\n     * @param  {String}      mode  Transaction mode (\"readwrite\" or undefined)\n     * @param  {String|null} name  Store name (defaults to coll name)\n     * @return {Object}\n     */\n\n  }, {\n    key: \"prepare\",\n    value: function prepare() {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      var storeName = name || this.storeName;\n      // On Safari, calling IDBDatabase.transaction with mode == undefined raises\n      // a TypeError.\n      var transaction = mode ? this._db.transaction([storeName], mode) : this._db.transaction([storeName]);\n      var store = transaction.objectStore(storeName);\n      return { transaction: transaction, store: store };\n    }\n\n    /**\n     * Deletes every records in the current collection.\n     *\n     * @override\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"clear\",\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n        var _this3 = this;\n\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return this.open();\n\n              case 3:\n                return _context.abrupt(\"return\", new _promise2.default(function (resolve, reject) {\n                  var _prepare = _this3.prepare(\"readwrite\"),\n                      transaction = _prepare.transaction,\n                      store = _prepare.store;\n\n                  store.clear();\n                  transaction.onerror = function (event) {\n                    return reject(new Error(event.target.error));\n                  };\n                  transaction.oncomplete = function () {\n                    return resolve();\n                  };\n                }));\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n\n                this._handleError(\"clear\", _context.t0);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function clear() {\n        return _ref.apply(this, arguments);\n      }\n\n      return clear;\n    }()\n\n    /**\n     * Executes the set of synchronous CRUD operations described in the provided\n     * callback within an IndexedDB transaction, for current db store.\n     *\n     * The callback will be provided an object exposing the following synchronous\n     * CRUD operation methods: get, create, update, delete.\n     *\n     * Important note: because limitations in IndexedDB implementations, no\n     * asynchronous code should be performed within the provided callback; the\n     * promise will therefore be rejected if the callback returns a Promise.\n     *\n     * Options:\n     * - {Array} preload: The list of record IDs to fetch and make available to\n     *   the transaction object get() method (default: [])\n     *\n     * @example\n     * const db = new IDB(\"example\");\n     * db.execute(transaction => {\n     *   transaction.create({id: 1, title: \"foo\"});\n     *   transaction.update({id: 2, title: \"bar\"});\n     *   transaction.delete(3);\n     *   return \"foo\";\n     * })\n     *   .catch(console.error.bind(console));\n     *   .then(console.log.bind(console)); // => \"foo\"\n     *\n     * @override\n     * @param  {Function} callback The operation description callback.\n     * @param  {Object}   options  The options object.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"execute\",\n    value: function () {\n      var _ref2 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(callback) {\n        var _this4 = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { preload: [] };\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.open();\n\n              case 2:\n                return _context2.abrupt(\"return\", new _promise2.default(function (resolve, reject) {\n                  // Start transaction.\n                  var _prepare2 = _this4.prepare(\"readwrite\"),\n                      transaction = _prepare2.transaction,\n                      store = _prepare2.store;\n                  // Preload specified records using index.\n\n\n                  var ids = options.preload;\n                  store.index(\"id\").openCursor().onsuccess = cursorHandlers.in(ids, function (records) {\n                    // Store obtained records by id.\n                    var preloaded = records.reduce(function (acc, record) {\n                      acc[record.id] = record;\n                      return acc;\n                    }, {});\n                    // Expose a consistent API for every adapter instead of raw store methods.\n                    var proxy = transactionProxy(store, preloaded);\n                    // The callback is executed synchronously within the same transaction.\n                    var result = void 0;\n                    try {\n                      result = callback(proxy);\n                    } catch (e) {\n                      transaction.abort();\n                      reject(e);\n                    }\n                    if (result instanceof _promise2.default) {\n                      // XXX: investigate how to provide documentation details in error.\n                      reject(new Error(\"execute() callback should not return a Promise.\"));\n                    }\n                    // XXX unsure if we should manually abort the transaction on error\n                    transaction.onerror = function (event) {\n                      return reject(new Error(event.target.error));\n                    };\n                    transaction.oncomplete = function (event) {\n                      return resolve(result);\n                    };\n                  });\n                }));\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function execute(_x4) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return execute;\n    }()\n\n    /**\n     * Retrieve a record by its primary key from the IndexedDB database.\n     *\n     * @override\n     * @param  {String} id The record id.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"get\",\n    value: function () {\n      var _ref3 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(id) {\n        var _this5 = this;\n\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return this.open();\n\n              case 3:\n                return _context3.abrupt(\"return\", new _promise2.default(function (resolve, reject) {\n                  var _prepare3 = _this5.prepare(),\n                      transaction = _prepare3.transaction,\n                      store = _prepare3.store;\n\n                  var request = store.get(id);\n                  transaction.onerror = function (event) {\n                    return reject(new Error(event.target.error));\n                  };\n                  transaction.oncomplete = function () {\n                    return resolve(request.result);\n                  };\n                }));\n\n              case 6:\n                _context3.prev = 6;\n                _context3.t0 = _context3[\"catch\"](0);\n\n                this._handleError(\"get\", _context3.t0);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 6]]);\n      }));\n\n      function get(_x6) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return get;\n    }()\n\n    /**\n     * Lists all records from the IndexedDB database.\n     *\n     * @override\n     * @param  {Object} params  The filters and order to apply to the results.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"list\",\n    value: function () {\n      var _ref4 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4() {\n        var _this6 = this;\n\n        var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { filters: {} };\n        var filters, indexField, value, results;\n        return _regenerator2.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                filters = params.filters;\n                indexField = findIndexedField(filters);\n                value = filters[indexField];\n                _context4.prev = 3;\n                _context4.next = 6;\n                return this.open();\n\n              case 6:\n                _context4.next = 8;\n                return new _promise2.default(function (resolve, reject) {\n                  var results = [];\n                  // If `indexField` was used already, don't filter again.\n                  var remainingFilters = (0, _utils.omitKeys)(filters, indexField);\n\n                  var _prepare4 = _this6.prepare(),\n                      transaction = _prepare4.transaction,\n                      store = _prepare4.store;\n\n                  createListRequest(store, indexField, value, remainingFilters, function (_results) {\n                    // we have received all requested records, parking them within\n                    // current scope\n                    results = _results;\n                  });\n                  transaction.onerror = function (event) {\n                    return reject(new Error(event.target.error));\n                  };\n                  transaction.oncomplete = function (event) {\n                    return resolve(results);\n                  };\n                });\n\n              case 8:\n                results = _context4.sent;\n                return _context4.abrupt(\"return\", params.order ? (0, _utils.sortObjects)(params.order, results) : results);\n\n              case 12:\n                _context4.prev = 12;\n                _context4.t0 = _context4[\"catch\"](3);\n\n                this._handleError(\"list\", _context4.t0);\n\n              case 15:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[3, 12]]);\n      }));\n\n      function list() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return list;\n    }()\n\n    /**\n     * Store the lastModified value into metadata store.\n     *\n     * @override\n     * @param  {Number}  lastModified\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"saveLastModified\",\n    value: function () {\n      var _ref5 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(lastModified) {\n        var _this7 = this;\n\n        var value;\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                value = parseInt(lastModified, 10) || null;\n                _context5.next = 3;\n                return this.open();\n\n              case 3:\n                return _context5.abrupt(\"return\", new _promise2.default(function (resolve, reject) {\n                  var _prepare5 = _this7.prepare(\"readwrite\", \"__meta__\"),\n                      transaction = _prepare5.transaction,\n                      store = _prepare5.store;\n\n                  store.put({ name: _this7.storeName + \"-lastModified\", value: value });\n                  transaction.onerror = function (event) {\n                    return reject(event.target.error);\n                  };\n                  transaction.oncomplete = function (event) {\n                    return resolve(value);\n                  };\n                }));\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function saveLastModified(_x8) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return saveLastModified;\n    }()\n\n    /**\n     * Retrieve saved lastModified value.\n     *\n     * @override\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"getLastModified\",\n    value: function () {\n      var _ref6 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6() {\n        var _this8 = this;\n\n        return _regenerator2.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.open();\n\n              case 2:\n                return _context6.abrupt(\"return\", new _promise2.default(function (resolve, reject) {\n                  var _prepare6 = _this8.prepare(undefined, \"__meta__\"),\n                      transaction = _prepare6.transaction,\n                      store = _prepare6.store;\n\n                  var request = store.get(_this8.storeName + \"-lastModified\");\n                  transaction.onerror = function (event) {\n                    return reject(event.target.error);\n                  };\n                  transaction.oncomplete = function (event) {\n                    resolve(request.result && request.result.value || null);\n                  };\n                }));\n\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getLastModified() {\n        return _ref6.apply(this, arguments);\n      }\n\n      return getLastModified;\n    }()\n\n    /**\n     * Load a dump of records exported from a server.\n     *\n     * @abstract\n     * @param  {Array} records The records to load.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"loadDump\",\n    value: function () {\n      var _ref7 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7(records) {\n        var previousLastModified, lastModified;\n        return _regenerator2.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.prev = 0;\n                _context7.next = 3;\n                return this.execute(function (transaction) {\n                  records.forEach(function (record) {\n                    return transaction.update(record);\n                  });\n                });\n\n              case 3:\n                _context7.next = 5;\n                return this.getLastModified();\n\n              case 5:\n                previousLastModified = _context7.sent;\n                lastModified = Math.max.apply(Math, (0, _toConsumableArray3.default)(records.map(function (record) {\n                  return record.last_modified;\n                })));\n\n                if (!(lastModified > previousLastModified)) {\n                  _context7.next = 10;\n                  break;\n                }\n\n                _context7.next = 10;\n                return this.saveLastModified(lastModified);\n\n              case 10:\n                return _context7.abrupt(\"return\", records);\n\n              case 13:\n                _context7.prev = 13;\n                _context7.t0 = _context7[\"catch\"](0);\n\n                this._handleError(\"loadDump\", _context7.t0);\n\n              case 16:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[0, 13]]);\n      }));\n\n      function loadDump(_x9) {\n        return _ref7.apply(this, arguments);\n      }\n\n      return loadDump;\n    }()\n  }]);\n  return IDB;\n}(_base2.default);\n\n/**\n * IDB transaction proxy.\n *\n * @param  {IDBStore} store     The IndexedDB database store.\n * @param  {Array}    preloaded The list of records to make available to\n *                              get() (default: []).\n * @return {Object}\n */\n\n\nexports.default = IDB;\nfunction transactionProxy(store) {\n  var preloaded = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  return {\n    create: function create(record) {\n      store.add(record);\n    },\n    update: function update(record) {\n      store.put(record);\n    },\n    delete: function _delete(id) {\n      store.delete(id);\n    },\n    get: function get(id) {\n      return preloaded[id];\n    }\n  };\n}\n\n},{\"../utils\":463,\"./base.js\":460,\"babel-runtime/core-js/object/get-prototype-of\":10,\"babel-runtime/core-js/object/keys\":11,\"babel-runtime/core-js/promise\":13,\"babel-runtime/helpers/asyncToGenerator\":17,\"babel-runtime/helpers/classCallCheck\":18,\"babel-runtime/helpers/createClass\":19,\"babel-runtime/helpers/inherits\":22,\"babel-runtime/helpers/possibleConstructorReturn\":23,\"babel-runtime/helpers/toConsumableArray\":26,\"babel-runtime/regenerator\":28}],460:[function(require,module,exports){\n\"use strict\";\n\n/**\n * Base db adapter.\n *\n * @abstract\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BaseAdapter = function () {\n  function BaseAdapter() {\n    (0, _classCallCheck3.default)(this, BaseAdapter);\n  }\n\n  (0, _createClass3.default)(BaseAdapter, [{\n    key: \"clear\",\n\n    /**\n     * Deletes every records present in the database.\n     *\n     * @abstract\n     * @return {Promise}\n     */\n    value: function clear() {\n      throw new Error(\"Not Implemented.\");\n    }\n\n    /**\n     * Executes a batch of operations within a single transaction.\n     *\n     * @abstract\n     * @param  {Function} callback The operation callback.\n     * @param  {Object}   options  The options object.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"execute\",\n    value: function execute(callback) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { preload: [] };\n\n      throw new Error(\"Not Implemented.\");\n    }\n\n    /**\n     * Retrieve a record by its primary key from the database.\n     *\n     * @abstract\n     * @param  {String} id The record id.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(id) {\n      throw new Error(\"Not Implemented.\");\n    }\n\n    /**\n     * Lists all records from the database.\n     *\n     * @abstract\n     * @param  {Object} params  The filters and order to apply to the results.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"list\",\n    value: function list() {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { filters: {}, order: \"\" };\n\n      throw new Error(\"Not Implemented.\");\n    }\n\n    /**\n     * Store the lastModified value.\n     *\n     * @abstract\n     * @param  {Number}  lastModified\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"saveLastModified\",\n    value: function saveLastModified(lastModified) {\n      throw new Error(\"Not Implemented.\");\n    }\n\n    /**\n     * Retrieve saved lastModified value.\n     *\n     * @abstract\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"getLastModified\",\n    value: function getLastModified() {\n      throw new Error(\"Not Implemented.\");\n    }\n\n    /**\n     * Load a dump of records exported from a server.\n     *\n     * @abstract\n     * @param  {Array} records The records to load.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"loadDump\",\n    value: function loadDump(records) {\n      throw new Error(\"Not Implemented.\");\n    }\n  }]);\n  return BaseAdapter;\n}();\n\nexports.default = BaseAdapter;\n\n},{\"babel-runtime/helpers/classCallCheck\":18,\"babel-runtime/helpers/createClass\":19}],461:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CollectionTransaction = exports.SyncResultObject = undefined;\n\nvar _stringify = require(\"babel-runtime/core-js/json/stringify\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _from = require(\"babel-runtime/core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nvar _map = require(\"babel-runtime/core-js/map\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _set = require(\"babel-runtime/core-js/set\");\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _assign = require(\"babel-runtime/core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nexports.recordsEqual = recordsEqual;\n\nvar _base = require(\"./adapters/base\");\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _IDB = require(\"./adapters/IDB\");\n\nvar _IDB2 = _interopRequireDefault(_IDB);\n\nvar _utils = require(\"./utils\");\n\nvar _uuid = require(\"uuid\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RECORD_FIELDS_TO_CLEAN = [\"_status\"];\nvar AVAILABLE_HOOKS = [\"incoming-changes\"];\n\n/**\n * Compare two records omitting local fields and synchronization\n * attributes (like _status and last_modified)\n * @param {Object} a    A record to compare.\n * @param {Object} b    A record to compare.\n * @param {Array} localFields Additional fields to ignore during the comparison\n * @return {boolean}\n */\nfunction recordsEqual(a, b) {\n  var localFields = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  var fieldsToClean = RECORD_FIELDS_TO_CLEAN.concat([\"last_modified\"]).concat(localFields);\n  var cleanLocal = function cleanLocal(r) {\n    return (0, _utils.omitKeys)(r, fieldsToClean);\n  };\n  return (0, _utils.deepEqual)(cleanLocal(a), cleanLocal(b));\n}\n\n/**\n * Synchronization result object.\n */\n\nvar SyncResultObject = exports.SyncResultObject = function () {\n  (0, _createClass3.default)(SyncResultObject, null, [{\n    key: \"defaults\",\n\n    /**\n     * Object default values.\n     * @type {Object}\n     */\n    get: function get() {\n      return {\n        ok: true,\n        lastModified: null,\n        errors: [],\n        created: [],\n        updated: [],\n        deleted: [],\n        published: [],\n        conflicts: [],\n        skipped: [],\n        resolved: []\n      };\n    }\n\n    /**\n     * Public constructor.\n     */\n\n  }]);\n\n  function SyncResultObject() {\n    (0, _classCallCheck3.default)(this, SyncResultObject);\n\n    /**\n     * Current synchronization result status; becomes `false` when conflicts or\n     * errors are registered.\n     * @type {Boolean}\n     */\n    this.ok = true;\n    (0, _assign2.default)(this, SyncResultObject.defaults);\n  }\n\n  /**\n   * Adds entries for a given result type.\n   *\n   * @param {String} type    The result type.\n   * @param {Array}  entries The result entries.\n   * @return {SyncResultObject}\n   */\n\n\n  (0, _createClass3.default)(SyncResultObject, [{\n    key: \"add\",\n    value: function add(type, entries) {\n      if (!Array.isArray(this[type])) {\n        return;\n      }\n      if (!Array.isArray(entries)) {\n        entries = [entries];\n      }\n      // Deduplicate entries by id. If the values don't have `id` attribute, just\n      // keep all.\n      var recordsWithoutId = new _set2.default();\n      var recordsById = new _map2.default();\n      function addOneRecord(record) {\n        if (!record.id) {\n          recordsWithoutId.add(record);\n        } else {\n          recordsById.set(record.id, record);\n        }\n      }\n      this[type].forEach(addOneRecord);\n      entries.forEach(addOneRecord);\n\n      this[type] = (0, _from2.default)(recordsById.values()).concat((0, _from2.default)(recordsWithoutId));\n      this.ok = this.errors.length + this.conflicts.length === 0;\n      return this;\n    }\n\n    /**\n     * Reinitializes result entries for a given result type.\n     *\n     * @param  {String} type The result type.\n     * @return {SyncResultObject}\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset(type) {\n      this[type] = SyncResultObject.defaults[type];\n      this.ok = this.errors.length + this.conflicts.length === 0;\n      return this;\n    }\n  }]);\n  return SyncResultObject;\n}();\n\nfunction createUUIDSchema() {\n  return {\n    generate: function generate() {\n      return (0, _uuid.v4)();\n    },\n    validate: function validate(id) {\n      return (0, _utils.isUUID)(id);\n    }\n  };\n}\n\nfunction markStatus(record, status) {\n  return (0, _extends3.default)({}, record, { _status: status });\n}\n\nfunction markDeleted(record) {\n  return markStatus(record, \"deleted\");\n}\n\nfunction markSynced(record) {\n  return markStatus(record, \"synced\");\n}\n\n/**\n * Import a remote change into the local database.\n *\n * @param  {IDBTransactionProxy} transaction The transaction handler.\n * @param  {Object}              remote      The remote change object to import.\n * @param  {Array<String>}       localFields The list of fields that remain local.\n * @return {Object}\n */\nfunction importChange(transaction, remote, localFields) {\n  var local = transaction.get(remote.id);\n  if (!local) {\n    // Not found locally but remote change is marked as deleted; skip to\n    // avoid recreation.\n    if (remote.deleted) {\n      return { type: \"skipped\", data: remote };\n    }\n    var _synced = markSynced(remote);\n    transaction.create(_synced);\n    return { type: \"created\", data: _synced };\n  }\n  // Compare local and remote, ignoring local fields.\n  var isIdentical = recordsEqual(local, remote, localFields);\n  // Apply remote changes on local record.\n  var synced = (0, _extends3.default)({}, local, markSynced(remote));\n  // Detect or ignore conflicts if record has also been modified locally.\n  if (local._status !== \"synced\") {\n    // Locally deleted, unsynced: scheduled for remote deletion.\n    if (local._status === \"deleted\") {\n      return { type: \"skipped\", data: local };\n    }\n    if (isIdentical) {\n      // If records are identical, import anyway, so we bump the\n      // local last_modified value from the server and set record\n      // status to \"synced\".\n      transaction.update(synced);\n      return { type: \"updated\", data: { old: local, new: synced } };\n    }\n    if (local.last_modified !== undefined && local.last_modified === remote.last_modified) {\n      // If our local version has the same last_modified as the remote\n      // one, this represents an object that corresponds to a resolved\n      // conflict. Our local version represents the final output, so\n      // we keep that one. (No transaction operation to do.)\n      // But if our last_modified is undefined,\n      // that means we've created the same object locally as one on\n      // the server, which *must* be a conflict.\n      return { type: \"void\" };\n    }\n    return {\n      type: \"conflicts\",\n      data: { type: \"incoming\", local: local, remote: remote }\n    };\n  }\n  // Local record was synced.\n  if (remote.deleted) {\n    transaction.delete(remote.id);\n    return { type: \"deleted\", data: local };\n  }\n  // Import locally.\n  transaction.update(synced);\n  // if identical, simply exclude it from all SyncResultObject lists\n  var type = isIdentical ? \"void\" : \"updated\";\n  return { type: type, data: { old: local, new: synced } };\n}\n\n/**\n * Abstracts a collection of records stored in the local database, providing\n * CRUD operations and synchronization helpers.\n */\n\nvar Collection = function () {\n  /**\n   * Constructor.\n   *\n   * Options:\n   * - `{BaseAdapter} adapter` The DB adapter (default: `IDB`)\n   * - `{String} dbPrefix`     The DB name prefix (default: `\"\"`)\n   *\n   * @param  {String} bucket  The bucket identifier.\n   * @param  {String} name    The collection name.\n   * @param  {Api}    api     The Api instance.\n   * @param  {Object} options The options object.\n   */\n  function Collection(bucket, name, api) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    (0, _classCallCheck3.default)(this, Collection);\n\n    this._bucket = bucket;\n    this._name = name;\n    this._lastModified = null;\n\n    var DBAdapter = options.adapter || _IDB2.default;\n    if (!DBAdapter) {\n      throw new Error(\"No adapter provided\");\n    }\n    var dbPrefix = options.dbPrefix || \"\";\n    var db = new DBAdapter(\"\" + dbPrefix + bucket + \"/\" + name, options.adapterOptions);\n    if (!(db instanceof _base2.default)) {\n      throw new Error(\"Unsupported adapter.\");\n    }\n    // public properties\n    /**\n     * The db adapter instance\n     * @type {BaseAdapter}\n     */\n    this.db = db;\n    /**\n     * The Api instance.\n     * @type {KintoClient}\n     */\n    this.api = api;\n    /**\n     * The event emitter instance.\n     * @type {EventEmitter}\n     */\n    this.events = options.events;\n    /**\n     * The IdSchema instance.\n     * @type {Object}\n     */\n    this.idSchema = this._validateIdSchema(options.idSchema);\n    /**\n     * The list of remote transformers.\n     * @type {Array}\n     */\n    this.remoteTransformers = this._validateRemoteTransformers(options.remoteTransformers);\n    /**\n     * The list of hooks.\n     * @type {Object}\n     */\n    this.hooks = this._validateHooks(options.hooks);\n    /**\n     * The list of fields names that will remain local.\n     * @type {Array}\n     */\n    this.localFields = options.localFields || [];\n  }\n\n  /**\n   * The collection name.\n   * @type {String}\n   */\n\n\n  (0, _createClass3.default)(Collection, [{\n    key: \"_validateIdSchema\",\n\n\n    /**\n     * Validates an idSchema.\n     *\n     * @param  {Object|undefined} idSchema\n     * @return {Object}\n     */\n    value: function _validateIdSchema(idSchema) {\n      if (typeof idSchema === \"undefined\") {\n        return createUUIDSchema();\n      }\n      if ((typeof idSchema === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(idSchema)) !== \"object\") {\n        throw new Error(\"idSchema must be an object.\");\n      } else if (typeof idSchema.generate !== \"function\") {\n        throw new Error(\"idSchema must provide a generate function.\");\n      } else if (typeof idSchema.validate !== \"function\") {\n        throw new Error(\"idSchema must provide a validate function.\");\n      }\n      return idSchema;\n    }\n\n    /**\n     * Validates a list of remote transformers.\n     *\n     * @param  {Array|undefined} remoteTransformers\n     * @return {Array}\n     */\n\n  }, {\n    key: \"_validateRemoteTransformers\",\n    value: function _validateRemoteTransformers(remoteTransformers) {\n      if (typeof remoteTransformers === \"undefined\") {\n        return [];\n      }\n      if (!Array.isArray(remoteTransformers)) {\n        throw new Error(\"remoteTransformers should be an array.\");\n      }\n      return remoteTransformers.map(function (transformer) {\n        if ((typeof transformer === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(transformer)) !== \"object\") {\n          throw new Error(\"A transformer must be an object.\");\n        } else if (typeof transformer.encode !== \"function\") {\n          throw new Error(\"A transformer must provide an encode function.\");\n        } else if (typeof transformer.decode !== \"function\") {\n          throw new Error(\"A transformer must provide a decode function.\");\n        }\n        return transformer;\n      });\n    }\n\n    /**\n     * Validate the passed hook is correct.\n     *\n     * @param {Array|undefined} hook.\n     * @return {Array}\n     **/\n\n  }, {\n    key: \"_validateHook\",\n    value: function _validateHook(hook) {\n      if (!Array.isArray(hook)) {\n        throw new Error(\"A hook definition should be an array of functions.\");\n      }\n      return hook.map(function (fn) {\n        if (typeof fn !== \"function\") {\n          throw new Error(\"A hook definition should be an array of functions.\");\n        }\n        return fn;\n      });\n    }\n\n    /**\n     * Validates a list of hooks.\n     *\n     * @param  {Object|undefined} hooks\n     * @return {Object}\n     */\n\n  }, {\n    key: \"_validateHooks\",\n    value: function _validateHooks(hooks) {\n      if (typeof hooks === \"undefined\") {\n        return {};\n      }\n      if (Array.isArray(hooks)) {\n        throw new Error(\"hooks should be an object, not an array.\");\n      }\n      if ((typeof hooks === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(hooks)) !== \"object\") {\n        throw new Error(\"hooks should be an object.\");\n      }\n\n      var validatedHooks = {};\n\n      for (var hook in hooks) {\n        if (!AVAILABLE_HOOKS.includes(hook)) {\n          throw new Error(\"The hook should be one of \" + AVAILABLE_HOOKS.join(\", \"));\n        }\n        validatedHooks[hook] = this._validateHook(hooks[hook]);\n      }\n      return validatedHooks;\n    }\n\n    /**\n     * Deletes every records in the current collection and marks the collection as\n     * never synced.\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"clear\",\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.db.clear();\n\n              case 2:\n                _context.next = 4;\n                return this.db.saveLastModified(null);\n\n              case 4:\n                return _context.abrupt(\"return\", { data: [], permissions: {} });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function clear() {\n        return _ref.apply(this, arguments);\n      }\n\n      return clear;\n    }()\n\n    /**\n     * Encodes a record.\n     *\n     * @param  {String} type   Either \"remote\" or \"local\".\n     * @param  {Object} record The record object to encode.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"_encodeRecord\",\n    value: function _encodeRecord(type, record) {\n      if (!this[type + \"Transformers\"].length) {\n        return _promise2.default.resolve(record);\n      }\n      return (0, _utils.waterfall)(this[type + \"Transformers\"].map(function (transformer) {\n        return function (record) {\n          return transformer.encode(record);\n        };\n      }), record);\n    }\n\n    /**\n     * Decodes a record.\n     *\n     * @param  {String} type   Either \"remote\" or \"local\".\n     * @param  {Object} record The record object to decode.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"_decodeRecord\",\n    value: function _decodeRecord(type, record) {\n      if (!this[type + \"Transformers\"].length) {\n        return _promise2.default.resolve(record);\n      }\n      return (0, _utils.waterfall)(this[type + \"Transformers\"].reverse().map(function (transformer) {\n        return function (record) {\n          return transformer.decode(record);\n        };\n      }), record);\n    }\n\n    /**\n     * Adds a record to the local database, asserting that none\n     * already exist with this ID.\n     *\n     * Note: If either the `useRecordId` or `synced` options are true, then the\n     * record object must contain the id field to be validated. If none of these\n     * options are true, an id is generated using the current IdSchema; in this\n     * case, the record passed must not have an id.\n     *\n     * Options:\n     * - {Boolean} synced       Sets record status to \"synced\" (default: `false`).\n     * - {Boolean} useRecordId  Forces the `id` field from the record to be used,\n     *                          instead of one that is generated automatically\n     *                          (default: `false`).\n     *\n     * @param  {Object} record\n     * @param  {Object} options\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"create\",\n    value: function create(record) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { useRecordId: false, synced: false };\n\n      // Validate the record and its ID (if any), even though this\n      // validation is also done in the CollectionTransaction method,\n      // because we need to pass the ID to preloadIds.\n      var reject = function reject(msg) {\n        return _promise2.default.reject(new Error(msg));\n      };\n      if ((typeof record === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(record)) !== \"object\") {\n        return reject(\"Record is not an object.\");\n      }\n      if ((options.synced || options.useRecordId) && !record.hasOwnProperty(\"id\")) {\n        return reject(\"Missing required Id; synced and useRecordId options require one\");\n      }\n      if (!options.synced && !options.useRecordId && record.hasOwnProperty(\"id\")) {\n        return reject(\"Extraneous Id; can't create a record having one set.\");\n      }\n      var newRecord = (0, _extends3.default)({}, record, {\n        id: options.synced || options.useRecordId ? record.id : this.idSchema.generate(record),\n        _status: options.synced ? \"synced\" : \"created\"\n      });\n      if (!this.idSchema.validate(newRecord.id)) {\n        return reject(\"Invalid Id: \" + newRecord.id);\n      }\n      return this.execute(function (txn) {\n        return txn.create(newRecord);\n      }, {\n        preloadIds: [newRecord.id]\n      }).catch(function (err) {\n        if (options.useRecordId) {\n          throw new Error(\"Couldn't create record. It may have been virtually deleted.\");\n        }\n        throw err;\n      });\n    }\n\n    /**\n     * Like {@link CollectionTransaction#update}, but wrapped in its own transaction.\n     *\n     * Options:\n     * - {Boolean} synced: Sets record status to \"synced\" (default: false)\n     * - {Boolean} patch:  Extends the existing record instead of overwriting it\n     *   (default: false)\n     *\n     * @param  {Object} record\n     * @param  {Object} options\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"update\",\n    value: function update(record) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { synced: false, patch: false };\n\n      // Validate the record and its ID, even though this validation is\n      // also done in the CollectionTransaction method, because we need\n      // to pass the ID to preloadIds.\n      if ((typeof record === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(record)) !== \"object\") {\n        return _promise2.default.reject(new Error(\"Record is not an object.\"));\n      }\n      if (!record.hasOwnProperty(\"id\")) {\n        return _promise2.default.reject(new Error(\"Cannot update a record missing id.\"));\n      }\n      if (!this.idSchema.validate(record.id)) {\n        return _promise2.default.reject(new Error(\"Invalid Id: \" + record.id));\n      }\n\n      return this.execute(function (txn) {\n        return txn.update(record, options);\n      }, {\n        preloadIds: [record.id]\n      });\n    }\n\n    /**\n     * Like {@link CollectionTransaction#upsert}, but wrapped in its own transaction.\n     *\n     * @param  {Object} record\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"upsert\",\n    value: function upsert(record) {\n      // Validate the record and its ID, even though this validation is\n      // also done in the CollectionTransaction method, because we need\n      // to pass the ID to preloadIds.\n      if ((typeof record === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(record)) !== \"object\") {\n        return _promise2.default.reject(new Error(\"Record is not an object.\"));\n      }\n      if (!record.hasOwnProperty(\"id\")) {\n        return _promise2.default.reject(new Error(\"Cannot update a record missing id.\"));\n      }\n      if (!this.idSchema.validate(record.id)) {\n        return _promise2.default.reject(new Error(\"Invalid Id: \" + record.id));\n      }\n\n      return this.execute(function (txn) {\n        return txn.upsert(record);\n      }, { preloadIds: [record.id] });\n    }\n\n    /**\n     * Like {@link CollectionTransaction#get}, but wrapped in its own transaction.\n     *\n     * Options:\n     * - {Boolean} includeDeleted: Include virtually deleted records.\n     *\n     * @param  {String} id\n     * @param  {Object} options\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(id) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { includeDeleted: false };\n\n      return this.execute(function (txn) {\n        return txn.get(id, options);\n      }, { preloadIds: [id] });\n    }\n\n    /**\n     * Like {@link CollectionTransaction#getAny}, but wrapped in its own transaction.\n     *\n     * @param  {String} id\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"getAny\",\n    value: function getAny(id) {\n      return this.execute(function (txn) {\n        return txn.getAny(id);\n      }, { preloadIds: [id] });\n    }\n\n    /**\n     * Same as {@link Collection#delete}, but wrapped in its own transaction.\n     *\n     * Options:\n     * - {Boolean} virtual: When set to `true`, doesn't actually delete the record,\n     *   update its `_status` attribute to `deleted` instead (default: true)\n     *\n     * @param  {String} id       The record's Id.\n     * @param  {Object} options  The options object.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"delete\",\n    value: function _delete(id) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { virtual: true };\n\n      return this.execute(function (transaction) {\n        return transaction.delete(id, options);\n      }, { preloadIds: [id] });\n    }\n\n    /**\n     * Same as {@link Collection#deleteAll}, but wrapped in its own transaction, execulding the parameter.\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"deleteAll\",\n    value: function () {\n      var _ref2 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2() {\n        var _ref3, data, recordIds;\n\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.list({}, { includeDeleted: false });\n\n              case 2:\n                _ref3 = _context2.sent;\n                data = _ref3.data;\n                recordIds = data.map(function (record) {\n                  return record.id;\n                });\n                return _context2.abrupt(\"return\", this.execute(function (transaction) {\n                  return transaction.deleteAll(recordIds);\n                }, { preloadIds: recordIds }));\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function deleteAll() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return deleteAll;\n    }()\n\n    /**\n     * The same as {@link CollectionTransaction#deleteAny}, but wrapped\n     * in its own transaction.\n     *\n     * @param  {String} id       The record's Id.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"deleteAny\",\n    value: function deleteAny(id) {\n      return this.execute(function (txn) {\n        return txn.deleteAny(id);\n      }, { preloadIds: [id] });\n    }\n\n    /**\n     * Lists records from the local database.\n     *\n     * Params:\n     * - {Object} filters Filter the results (default: `{}`).\n     * - {String} order   The order to apply   (default: `-last_modified`).\n     *\n     * Options:\n     * - {Boolean} includeDeleted: Include virtually deleted records.\n     *\n     * @param  {Object} params  The filters and order to apply to the results.\n     * @param  {Object} options The options object.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"list\",\n    value: function () {\n      var _ref4 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3() {\n        var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { includeDeleted: false };\n        var results, data;\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                params = (0, _extends3.default)({ order: \"-last_modified\", filters: {} }, params);\n                _context3.next = 3;\n                return this.db.list(params);\n\n              case 3:\n                results = _context3.sent;\n                data = results;\n\n                if (!options.includeDeleted) {\n                  data = results.filter(function (record) {\n                    return record._status !== \"deleted\";\n                  });\n                }\n                return _context3.abrupt(\"return\", { data: data, permissions: {} });\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function list() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return list;\n    }()\n\n    /**\n     * Imports remote changes into the local database.\n     * This method is in charge of detecting the conflicts, and resolve them\n     * according to the specified strategy.\n     * @param  {SyncResultObject} syncResultObject The sync result object.\n     * @param  {Array}            decodedChanges   The list of changes to import in the local database.\n     * @param  {String}           strategy         The {@link Collection.strategy} (default: MANUAL)\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"importChanges\",\n    value: function () {\n      var _ref5 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(syncResultObject, decodedChanges) {\n        var _this = this;\n\n        var strategy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Collection.strategy.MANUAL;\n\n        var _ref6, imports, resolved, data;\n\n        return _regenerator2.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return this.db.execute(function (transaction) {\n                  var imports = decodedChanges.map(function (remote) {\n                    // Store remote change into local database.\n                    return importChange(transaction, remote, _this.localFields);\n                  });\n                  var conflicts = imports.filter(function (i) {\n                    return i.type === \"conflicts\";\n                  }).map(function (i) {\n                    return i.data;\n                  });\n                  var resolved = _this._handleConflicts(transaction, conflicts, strategy);\n                  return { imports: imports, resolved: resolved };\n                }, { preload: decodedChanges.map(function (record) {\n                    return record.id;\n                  }) });\n\n              case 3:\n                _ref6 = _context4.sent;\n                imports = _ref6.imports;\n                resolved = _ref6.resolved;\n\n\n                // Lists of created/updated/deleted records\n                imports.forEach(function (_ref7) {\n                  var type = _ref7.type,\n                      data = _ref7.data;\n                  return syncResultObject.add(type, data);\n                });\n\n                // Automatically resolved conflicts (if not manual)\n                if (resolved.length > 0) {\n                  syncResultObject.reset(\"conflicts\").add(\"resolved\", resolved);\n                }\n                _context4.next = 14;\n                break;\n\n              case 10:\n                _context4.prev = 10;\n                _context4.t0 = _context4[\"catch\"](0);\n                data = {\n                  type: \"incoming\",\n                  message: _context4.t0.message,\n                  stack: _context4.t0.stack\n                };\n                // XXX one error of the whole transaction instead of per atomic op\n\n                syncResultObject.add(\"errors\", data);\n\n              case 14:\n                return _context4.abrupt(\"return\", syncResultObject);\n\n              case 15:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 10]]);\n      }));\n\n      function importChanges(_x9, _x10) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return importChanges;\n    }()\n\n    /**\n     * Imports the responses of pushed changes into the local database.\n     * Basically it stores the timestamp assigned by the server into the local\n     * database.\n     * @param  {SyncResultObject} syncResultObject The sync result object.\n     * @param  {Array}            toApplyLocally   The list of changes to import in the local database.\n     * @param  {Array}            conflicts        The list of conflicts that have to be resolved.\n     * @param  {String}           strategy         The {@link Collection.strategy}.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"_applyPushedResults\",\n    value: function () {\n      var _ref8 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(syncResultObject, toApplyLocally, conflicts) {\n        var _this2 = this;\n\n        var strategy = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Collection.strategy.MANUAL;\n\n        var toDeleteLocally, toUpdateLocally, _ref9, published, resolved;\n\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                toDeleteLocally = toApplyLocally.filter(function (r) {\n                  return r.deleted;\n                });\n                toUpdateLocally = toApplyLocally.filter(function (r) {\n                  return !r.deleted;\n                });\n                _context5.next = 4;\n                return this.db.execute(function (transaction) {\n                  var updated = toUpdateLocally.map(function (record) {\n                    var synced = markSynced(record);\n                    transaction.update(synced);\n                    return synced;\n                  });\n                  var deleted = toDeleteLocally.map(function (record) {\n                    transaction.delete(record.id);\n                    // Amend result data with the deleted attribute set\n                    return { id: record.id, deleted: true };\n                  });\n                  var published = updated.concat(deleted);\n                  // Handle conflicts, if any\n                  var resolved = _this2._handleConflicts(transaction, conflicts, strategy);\n                  return { published: published, resolved: resolved };\n                });\n\n              case 4:\n                _ref9 = _context5.sent;\n                published = _ref9.published;\n                resolved = _ref9.resolved;\n\n\n                syncResultObject.add(\"published\", published);\n\n                if (resolved.length > 0) {\n                  syncResultObject.reset(\"conflicts\").reset(\"resolved\").add(\"resolved\", resolved);\n                }\n                return _context5.abrupt(\"return\", syncResultObject);\n\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function _applyPushedResults(_x12, _x13, _x14) {\n        return _ref8.apply(this, arguments);\n      }\n\n      return _applyPushedResults;\n    }()\n\n    /**\n     * Handles synchronization conflicts according to specified strategy.\n     *\n     * @param  {SyncResultObject} result    The sync result object.\n     * @param  {String}           strategy  The {@link Collection.strategy}.\n     * @return {Promise<Array<Object>>} The resolved conflicts, as an\n     *    array of {accepted, rejected} objects\n     */\n\n  }, {\n    key: \"_handleConflicts\",\n    value: function _handleConflicts(transaction, conflicts, strategy) {\n      var _this3 = this;\n\n      if (strategy === Collection.strategy.MANUAL) {\n        return [];\n      }\n      return conflicts.map(function (conflict) {\n        var resolution = strategy === Collection.strategy.CLIENT_WINS ? conflict.local : conflict.remote;\n        var rejected = strategy === Collection.strategy.CLIENT_WINS ? conflict.remote : conflict.local;\n        var accepted = void 0,\n            status = void 0,\n            id = void 0;\n        if (resolution === null) {\n          // We \"resolved\" with the server-side deletion. Delete locally.\n          // This only happens during SERVER_WINS because the local\n          // version of a record can never be null.\n          // We can get \"null\" from the remote side if we got a conflict\n          // and there is no remote version available; see kinto-http.js\n          // batch.js:aggregate.\n          transaction.delete(conflict.local.id);\n          accepted = null;\n          // The record was deleted, but that status is \"synced\" with\n          // the server, so we don't need to push the change.\n          status = \"synced\";\n          id = conflict.local.id;\n        } else {\n          var updated = _this3._resolveRaw(conflict, resolution);\n          transaction.update(updated);\n          accepted = updated;\n          status = updated._status;\n          id = updated.id;\n        }\n        return { rejected: rejected, accepted: accepted, id: id, _status: status };\n      });\n    }\n\n    /**\n     * Execute a bunch of operations in a transaction.\n     *\n     * This transaction should be atomic -- either all of its operations\n     * will succeed, or none will.\n     *\n     * The argument to this function is itself a function which will be\n     * called with a {@link CollectionTransaction}. Collection methods\n     * are available on this transaction, but instead of returning\n     * promises, they are synchronous. execute() returns a Promise whose\n     * value will be the return value of the provided function.\n     *\n     * Most operations will require access to the record itself, which\n     * must be preloaded by passing its ID in the preloadIds option.\n     *\n     * Options:\n     * - {Array} preloadIds: list of IDs to fetch at the beginning of\n     *   the transaction\n     *\n     * @return {Promise} Resolves with the result of the given function\n     *    when the transaction commits.\n     */\n\n  }, {\n    key: \"execute\",\n    value: function execute(doOperations) {\n      var _this4 = this;\n\n      var _ref10 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref10$preloadIds = _ref10.preloadIds,\n          preloadIds = _ref10$preloadIds === undefined ? [] : _ref10$preloadIds;\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = (0, _getIterator3.default)(preloadIds), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var id = _step.value;\n\n          if (!this.idSchema.validate(id)) {\n            return _promise2.default.reject(Error(\"Invalid Id: \" + id));\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return this.db.execute(function (transaction) {\n        var txn = new CollectionTransaction(_this4, transaction);\n        var result = doOperations(txn);\n        txn.emitEvents();\n        return result;\n      }, { preload: preloadIds });\n    }\n\n    /**\n     * Resets the local records as if they were never synced; existing records are\n     * marked as newly created, deleted records are dropped.\n     *\n     * A next call to {@link Collection.sync} will thus republish the whole\n     * content of the local collection to the server.\n     *\n     * @return {Promise} Resolves with the number of processed records.\n     */\n\n  }, {\n    key: \"resetSyncStatus\",\n    value: function () {\n      var _ref11 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6() {\n        var unsynced;\n        return _regenerator2.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.list({ filters: { _status: [\"deleted\", \"synced\"] }, order: \"\" }, { includeDeleted: true });\n\n              case 2:\n                unsynced = _context6.sent;\n                _context6.next = 5;\n                return this.db.execute(function (transaction) {\n                  unsynced.data.forEach(function (record) {\n                    if (record._status === \"deleted\") {\n                      // Garbage collect deleted records.\n                      transaction.delete(record.id);\n                    } else {\n                      // Records that were synced become created.\n                      transaction.update((0, _extends3.default)({}, record, {\n                        last_modified: undefined,\n                        _status: \"created\"\n                      }));\n                    }\n                  });\n                });\n\n              case 5:\n                this._lastModified = null;\n                _context6.next = 8;\n                return this.db.saveLastModified(null);\n\n              case 8:\n                return _context6.abrupt(\"return\", unsynced.data.length);\n\n              case 9:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function resetSyncStatus() {\n        return _ref11.apply(this, arguments);\n      }\n\n      return resetSyncStatus;\n    }()\n\n    /**\n     * Returns an object containing two lists:\n     *\n     * - `toDelete`: unsynced deleted records we can safely delete;\n     * - `toSync`: local updates to send to the server.\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"gatherLocalChanges\",\n    value: function () {\n      var _ref12 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7() {\n        var unsynced, deleted;\n        return _regenerator2.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.list({\n                  filters: { _status: [\"created\", \"updated\"] },\n                  order: \"\"\n                });\n\n              case 2:\n                unsynced = _context7.sent;\n                _context7.next = 5;\n                return this.list({ filters: { _status: \"deleted\" }, order: \"\" }, { includeDeleted: true });\n\n              case 5:\n                deleted = _context7.sent;\n                _context7.next = 8;\n                return _promise2.default.all(unsynced.data.concat(deleted.data).map(this._encodeRecord.bind(this, \"remote\")));\n\n              case 8:\n                return _context7.abrupt(\"return\", _context7.sent);\n\n              case 9:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function gatherLocalChanges() {\n        return _ref12.apply(this, arguments);\n      }\n\n      return gatherLocalChanges;\n    }()\n\n    /**\n     * Fetch remote changes, import them to the local database, and handle\n     * conflicts according to `options.strategy`. Then, updates the passed\n     * {@link SyncResultObject} with import results.\n     *\n     * Options:\n     * - {String} strategy: The selected sync strategy.\n     *\n     * @param  {KintoClient.Collection} client           Kinto client Collection instance.\n     * @param  {SyncResultObject}       syncResultObject The sync result object.\n     * @param  {Object}                 options\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"pullChanges\",\n    value: function () {\n      var _ref13 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee8(client, syncResultObject) {\n        var _this5 = this;\n\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        var since, filters, exclude_id, _ref14, data, last_modified, unquoted, localSynced, serverChanged, emptyCollection, decodedChanges, payload, afterHooks;\n\n        return _regenerator2.default.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                if (syncResultObject.ok) {\n                  _context8.next = 2;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", syncResultObject);\n\n              case 2:\n                if (!this.lastModified) {\n                  _context8.next = 6;\n                  break;\n                }\n\n                _context8.t0 = this.lastModified;\n                _context8.next = 9;\n                break;\n\n              case 6:\n                _context8.next = 8;\n                return this.db.getLastModified();\n\n              case 8:\n                _context8.t0 = _context8.sent;\n\n              case 9:\n                since = _context8.t0;\n\n\n                options = (0, _extends3.default)({\n                  strategy: Collection.strategy.MANUAL,\n                  lastModified: since,\n                  headers: {}\n                }, options);\n\n                // Optionally ignore some records when pulling for changes.\n                // (avoid redownloading our own changes on last step of #sync())\n                filters = void 0;\n\n                if (options.exclude) {\n                  // Limit the list of excluded records to the first 50 records in order\n                  // to remain under de-facto URL size limit (~2000 chars).\n                  // http://stackoverflow.com/questions/417142/what-is-the-maximum-length-of-a-url-in-different-browsers/417184#417184\n                  exclude_id = options.exclude.slice(0, 50).map(function (r) {\n                    return r.id;\n                  }).join(\",\");\n\n                  filters = { exclude_id: exclude_id };\n                }\n                // First fetch remote changes from the server\n                _context8.next = 15;\n                return client.listRecords({\n                  // Since should be ETag (see https://github.com/Kinto/kinto.js/issues/356)\n                  since: options.lastModified ? \"\" + options.lastModified : undefined,\n                  headers: options.headers,\n                  retry: options.retry,\n                  // Fetch every page by default (FIXME: option to limit pages, see #277)\n                  pages: Infinity,\n                  filters: filters\n                });\n\n              case 15:\n                _ref14 = _context8.sent;\n                data = _ref14.data;\n                last_modified = _ref14.last_modified;\n\n                // last_modified is the ETag header value (string).\n                // For retro-compatibility with first kinto.js versions\n                // parse it to integer.\n                unquoted = last_modified ? parseInt(last_modified, 10) : undefined;\n\n                // Check if server was flushed.\n                // This is relevant for the Kinto demo server\n                // (and thus for many new comers).\n\n                localSynced = options.lastModified;\n                serverChanged = unquoted > options.lastModified;\n                emptyCollection = data.length === 0;\n\n                if (!(!options.exclude && localSynced && serverChanged && emptyCollection)) {\n                  _context8.next = 24;\n                  break;\n                }\n\n                throw Error(\"Server has been flushed.\");\n\n              case 24:\n\n                syncResultObject.lastModified = unquoted;\n\n                // Decode incoming changes.\n                _context8.next = 27;\n                return _promise2.default.all(data.map(function (change) {\n                  return _this5._decodeRecord(\"remote\", change);\n                }));\n\n              case 27:\n                decodedChanges = _context8.sent;\n\n                // Hook receives decoded records.\n                payload = { lastModified: unquoted, changes: decodedChanges };\n                _context8.next = 31;\n                return this.applyHook(\"incoming-changes\", payload);\n\n              case 31:\n                afterHooks = _context8.sent;\n\n                if (!(afterHooks.changes.length > 0)) {\n                  _context8.next = 35;\n                  break;\n                }\n\n                _context8.next = 35;\n                return this.importChanges(syncResultObject, afterHooks.changes, options.strategy);\n\n              case 35:\n                return _context8.abrupt(\"return\", syncResultObject);\n\n              case 36:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function pullChanges(_x17, _x18) {\n        return _ref13.apply(this, arguments);\n      }\n\n      return pullChanges;\n    }()\n  }, {\n    key: \"applyHook\",\n    value: function applyHook(hookName, payload) {\n      var _this6 = this;\n\n      if (typeof this.hooks[hookName] == \"undefined\") {\n        return _promise2.default.resolve(payload);\n      }\n      return (0, _utils.waterfall)(this.hooks[hookName].map(function (hook) {\n        return function (record) {\n          var result = hook(payload, _this6);\n          var resultThenable = result && typeof result.then === \"function\";\n          var resultChanges = result && result.hasOwnProperty(\"changes\");\n          if (!(resultThenable || resultChanges)) {\n            throw new Error(\"Invalid return value for hook: \" + (0, _stringify2.default)(result) + \" has no 'then()' or 'changes' properties\");\n          }\n          return result;\n        };\n      }), payload);\n    }\n\n    /**\n     * Publish local changes to the remote server and updates the passed\n     * {@link SyncResultObject} with publication results.\n     *\n     * @param  {KintoClient.Collection} client           Kinto client Collection instance.\n     * @param  {SyncResultObject}       syncResultObject The sync result object.\n     * @param  {Object}                 changes          The change object.\n     * @param  {Array}                  changes.toDelete The list of records to delete.\n     * @param  {Array}                  changes.toSync   The list of records to create/update.\n     * @param  {Object}                 options          The options object.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"pushChanges\",\n    value: function () {\n      var _ref15 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee9(client, changes, syncResultObject) {\n        var _this7 = this;\n\n        var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n        var safe, toDelete, toSync, synced, conflicts, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, _ref17, type, local, remote, safeLocal, realLocal, realRemote, conflict, missingRemotely, published, toApplyLocally, decoded;\n\n        return _regenerator2.default.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (syncResultObject.ok) {\n                  _context9.next = 2;\n                  break;\n                }\n\n                return _context9.abrupt(\"return\", syncResultObject);\n\n              case 2:\n                safe = !options.strategy || options.strategy !== Collection.CLIENT_WINS;\n                toDelete = changes.filter(function (r) {\n                  return r._status == \"deleted\";\n                });\n                toSync = changes.filter(function (r) {\n                  return r._status != \"deleted\";\n                });\n\n                // Perform a batch request with every changes.\n\n                _context9.next = 7;\n                return client.batch(function (batch) {\n                  toDelete.forEach(function (r) {\n                    // never published locally deleted records should not be pusblished\n                    if (r.last_modified) {\n                      batch.deleteRecord(r);\n                    }\n                  });\n                  toSync.forEach(function (r) {\n                    // Clean local fields (like _status) before sending to server.\n                    var published = _this7.cleanLocalFields(r);\n                    if (r._status === \"created\") {\n                      batch.createRecord(published);\n                    } else {\n                      batch.updateRecord(published);\n                    }\n                  });\n                }, {\n                  headers: options.headers,\n                  retry: options.retry,\n                  safe: safe,\n                  aggregate: true\n                });\n\n              case 7:\n                synced = _context9.sent;\n\n\n                // Store outgoing errors into sync result object\n                syncResultObject.add(\"errors\", synced.errors.map(function (e) {\n                  return (0, _extends3.default)({}, e, { type: \"outgoing\" });\n                }));\n\n                // Store outgoing conflicts into sync result object\n                conflicts = [];\n                _iteratorNormalCompletion2 = true;\n                _didIteratorError2 = false;\n                _iteratorError2 = undefined;\n                _context9.prev = 13;\n                _iterator2 = (0, _getIterator3.default)(synced.conflicts);\n\n              case 15:\n                if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {\n                  _context9.next = 33;\n                  break;\n                }\n\n                _ref17 = _step2.value;\n                type = _ref17.type, local = _ref17.local, remote = _ref17.remote;\n\n                // Note: we ensure that local data are actually available, as they may\n                // be missing in the case of a published deletion.\n                safeLocal = local && local.data || { id: remote.id };\n                _context9.next = 21;\n                return this._decodeRecord(\"remote\", safeLocal);\n\n              case 21:\n                realLocal = _context9.sent;\n                _context9.t0 = remote;\n\n                if (!_context9.t0) {\n                  _context9.next = 27;\n                  break;\n                }\n\n                _context9.next = 26;\n                return this._decodeRecord(\"remote\", remote);\n\n              case 26:\n                _context9.t0 = _context9.sent;\n\n              case 27:\n                realRemote = _context9.t0;\n                conflict = { type: type, local: realLocal, remote: realRemote };\n\n                conflicts.push(conflict);\n\n              case 30:\n                _iteratorNormalCompletion2 = true;\n                _context9.next = 15;\n                break;\n\n              case 33:\n                _context9.next = 39;\n                break;\n\n              case 35:\n                _context9.prev = 35;\n                _context9.t1 = _context9[\"catch\"](13);\n                _didIteratorError2 = true;\n                _iteratorError2 = _context9.t1;\n\n              case 39:\n                _context9.prev = 39;\n                _context9.prev = 40;\n\n                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                  _iterator2.return();\n                }\n\n              case 42:\n                _context9.prev = 42;\n\n                if (!_didIteratorError2) {\n                  _context9.next = 45;\n                  break;\n                }\n\n                throw _iteratorError2;\n\n              case 45:\n                return _context9.finish(42);\n\n              case 46:\n                return _context9.finish(39);\n\n              case 47:\n                syncResultObject.add(\"conflicts\", conflicts);\n\n                // Records that must be deleted are either deletions that were pushed\n                // to server (published) or deleted records that were never pushed (skipped).\n                missingRemotely = synced.skipped.map(function (r) {\n                  return (0, _extends3.default)({}, r, { deleted: true });\n                });\n\n                // For created and updated records, the last_modified coming from server\n                // will be stored locally.\n                // Reflect publication results locally using the response from\n                // the batch request.\n\n                published = synced.published.map(function (c) {\n                  return c.data;\n                });\n                toApplyLocally = published.concat(missingRemotely);\n\n                // Apply the decode transformers, if any\n\n                _context9.next = 53;\n                return _promise2.default.all(toApplyLocally.map(function (record) {\n                  return _this7._decodeRecord(\"remote\", record);\n                }));\n\n              case 53:\n                decoded = _context9.sent;\n\n                if (!(decoded.length > 0 || conflicts.length > 0)) {\n                  _context9.next = 57;\n                  break;\n                }\n\n                _context9.next = 57;\n                return this._applyPushedResults(syncResultObject, decoded, conflicts, options.strategy);\n\n              case 57:\n                return _context9.abrupt(\"return\", syncResultObject);\n\n              case 58:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this, [[13, 35, 39, 47], [40,, 42, 46]]);\n      }));\n\n      function pushChanges(_x20, _x21, _x22) {\n        return _ref15.apply(this, arguments);\n      }\n\n      return pushChanges;\n    }()\n\n    /**\n     * Return a copy of the specified record without the local fields.\n     *\n     * @param  {Object} record  A record with potential local fields.\n     * @return {Object}\n     */\n\n  }, {\n    key: \"cleanLocalFields\",\n    value: function cleanLocalFields(record) {\n      var localKeys = RECORD_FIELDS_TO_CLEAN.concat(this.localFields);\n      return (0, _utils.omitKeys)(record, localKeys);\n    }\n\n    /**\n     * Resolves a conflict, updating local record according to proposed\n     * resolution  keeping remote record `last_modified` value as a reference for\n     * further batch sending.\n     *\n     * @param  {Object} conflict   The conflict object.\n     * @param  {Object} resolution The proposed record.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"resolve\",\n    value: function resolve(conflict, resolution) {\n      var _this8 = this;\n\n      return this.db.execute(function (transaction) {\n        var updated = _this8._resolveRaw(conflict, resolution);\n        transaction.update(updated);\n        return { data: updated, permissions: {} };\n      });\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"_resolveRaw\",\n    value: function _resolveRaw(conflict, resolution) {\n      var resolved = (0, _extends3.default)({}, resolution, {\n        // Ensure local record has the latest authoritative timestamp\n        last_modified: conflict.remote && conflict.remote.last_modified\n      });\n      // If the resolution object is strictly equal to the\n      // remote record, then we can mark it as synced locally.\n      // Otherwise, mark it as updated (so that the resolution is pushed).\n      var synced = (0, _utils.deepEqual)(resolved, conflict.remote);\n      return markStatus(resolved, synced ? \"synced\" : \"updated\");\n    }\n\n    /**\n     * Synchronize remote and local data. The promise will resolve with a\n     * {@link SyncResultObject}, though will reject:\n     *\n     * - if the server is currently backed off;\n     * - if the server has been detected flushed.\n     *\n     * Options:\n     * - {Object} headers: HTTP headers to attach to outgoing requests.\n     * - {Number} retry: Number of retries when server fails to process the request (default: 1).\n     * - {Collection.strategy} strategy: See {@link Collection.strategy}.\n     * - {Boolean} ignoreBackoff: Force synchronization even if server is currently\n     *   backed off.\n     * - {String} bucket: The remove bucket id to use (default: null)\n     * - {String} collection: The remove collection id to use (default: null)\n     * - {String} remote The remote Kinto server endpoint to use (default: null).\n     *\n     * @param  {Object} options Options.\n     * @return {Promise}\n     * @throws {Error} If an invalid remote option is passed.\n     */\n\n  }, {\n    key: \"sync\",\n    value: function () {\n      var _ref18 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee10() {\n        var _this9 = this;\n\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n          strategy: Collection.strategy.MANUAL,\n          headers: {},\n          retry: 1,\n          ignoreBackoff: false,\n          bucket: null,\n          collection: null,\n          remote: null\n        };\n        var previousRemote, seconds, client, result, lastModified, toSync, resolvedUnsynced, resolvedEncoded, pullOpts;\n        return _regenerator2.default.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                options = (0, _extends3.default)({}, options, {\n                  bucket: options.bucket || this.bucket,\n                  collection: options.collection || this.name\n                });\n\n                previousRemote = this.api.remote;\n\n                if (options.remote) {\n                  // Note: setting the remote ensures it's valid, throws when invalid.\n                  this.api.remote = options.remote;\n                }\n\n                if (!(!options.ignoreBackoff && this.api.backoff > 0)) {\n                  _context10.next = 6;\n                  break;\n                }\n\n                seconds = Math.ceil(this.api.backoff / 1000);\n                return _context10.abrupt(\"return\", _promise2.default.reject(new Error(\"Server is asking clients to back off; retry in \" + seconds + \"s or use the ignoreBackoff option.\")));\n\n              case 6:\n                client = this.api.bucket(options.bucket).collection(options.collection);\n                result = new SyncResultObject();\n                _context10.prev = 8;\n                _context10.next = 11;\n                return this.pullChanges(client, result, options);\n\n              case 11:\n                lastModified = result.lastModified;\n\n                // Fetch local changes\n\n                _context10.next = 14;\n                return this.gatherLocalChanges();\n\n              case 14:\n                toSync = _context10.sent;\n                _context10.next = 17;\n                return this.pushChanges(client, toSync, result, options);\n\n              case 17:\n\n                // Publish local resolution of push conflicts to server (on CLIENT_WINS)\n                resolvedUnsynced = result.resolved.filter(function (r) {\n                  return r._status !== \"synced\";\n                });\n\n                if (!(resolvedUnsynced.length > 0)) {\n                  _context10.next = 24;\n                  break;\n                }\n\n                _context10.next = 21;\n                return _promise2.default.all(resolvedUnsynced.map(function (resolution) {\n                  var record = resolution.accepted;\n                  if (record === null) {\n                    record = { id: resolution.id, _status: resolution._status };\n                  }\n                  return _this9._encodeRecord(\"remote\", record);\n                }));\n\n              case 21:\n                resolvedEncoded = _context10.sent;\n                _context10.next = 24;\n                return this.pushChanges(client, resolvedEncoded, result, options);\n\n              case 24:\n                if (!(result.published.length > 0)) {\n                  _context10.next = 28;\n                  break;\n                }\n\n                // Avoid redownloading our own changes during the last pull.\n                pullOpts = (0, _extends3.default)({}, options, {\n                  lastModified: lastModified,\n                  exclude: result.published\n                });\n                _context10.next = 28;\n                return this.pullChanges(client, result, pullOpts);\n\n              case 28:\n                if (!result.ok) {\n                  _context10.next = 32;\n                  break;\n                }\n\n                _context10.next = 31;\n                return this.db.saveLastModified(result.lastModified);\n\n              case 31:\n                this._lastModified = _context10.sent;\n\n              case 32:\n                _context10.next = 38;\n                break;\n\n              case 34:\n                _context10.prev = 34;\n                _context10.t0 = _context10[\"catch\"](8);\n\n                this.events.emit(\"sync:error\", (0, _extends3.default)({}, options, { error: _context10.t0 }));\n                throw _context10.t0;\n\n              case 38:\n                _context10.prev = 38;\n\n                // Ensure API default remote is reverted if a custom one's been used\n                this.api.remote = previousRemote;\n                return _context10.finish(38);\n\n              case 41:\n                this.events.emit(\"sync:success\", (0, _extends3.default)({}, options, { result: result }));\n                return _context10.abrupt(\"return\", result);\n\n              case 43:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this, [[8, 34, 38, 41]]);\n      }));\n\n      function sync() {\n        return _ref18.apply(this, arguments);\n      }\n\n      return sync;\n    }()\n\n    /**\n     * Load a list of records already synced with the remote server.\n     *\n     * The local records which are unsynced or whose timestamp is either missing\n     * or superior to those being loaded will be ignored.\n     *\n     * @param  {Array} records The previously exported list of records to load.\n     * @return {Promise} with the effectively imported records.\n     */\n\n  }, {\n    key: \"loadDump\",\n    value: function () {\n      var _ref19 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee11(records) {\n        var _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, record, _ref20, data, existingById, newRecords;\n\n        return _regenerator2.default.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if (Array.isArray(records)) {\n                  _context11.next = 2;\n                  break;\n                }\n\n                throw new Error(\"Records is not an array.\");\n\n              case 2:\n                _iteratorNormalCompletion3 = true;\n                _didIteratorError3 = false;\n                _iteratorError3 = undefined;\n                _context11.prev = 5;\n                _iterator3 = (0, _getIterator3.default)(records);\n\n              case 7:\n                if (_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done) {\n                  _context11.next = 16;\n                  break;\n                }\n\n                record = _step3.value;\n\n                if (!(!record.hasOwnProperty(\"id\") || !this.idSchema.validate(record.id))) {\n                  _context11.next = 11;\n                  break;\n                }\n\n                throw new Error(\"Record has invalid ID: \" + (0, _stringify2.default)(record));\n\n              case 11:\n                if (record.last_modified) {\n                  _context11.next = 13;\n                  break;\n                }\n\n                throw new Error(\"Record has no last_modified value: \" + (0, _stringify2.default)(record));\n\n              case 13:\n                _iteratorNormalCompletion3 = true;\n                _context11.next = 7;\n                break;\n\n              case 16:\n                _context11.next = 22;\n                break;\n\n              case 18:\n                _context11.prev = 18;\n                _context11.t0 = _context11[\"catch\"](5);\n                _didIteratorError3 = true;\n                _iteratorError3 = _context11.t0;\n\n              case 22:\n                _context11.prev = 22;\n                _context11.prev = 23;\n\n                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                  _iterator3.return();\n                }\n\n              case 25:\n                _context11.prev = 25;\n\n                if (!_didIteratorError3) {\n                  _context11.next = 28;\n                  break;\n                }\n\n                throw _iteratorError3;\n\n              case 28:\n                return _context11.finish(25);\n\n              case 29:\n                return _context11.finish(22);\n\n              case 30:\n                _context11.next = 32;\n                return this.list({}, { includeDeleted: true });\n\n              case 32:\n                _ref20 = _context11.sent;\n                data = _ref20.data;\n                existingById = data.reduce(function (acc, record) {\n                  acc[record.id] = record;\n                  return acc;\n                }, {});\n                newRecords = records.filter(function (record) {\n                  var localRecord = existingById[record.id];\n                  var shouldKeep =\n                  // No local record with this id.\n                  localRecord === undefined ||\n                  // Or local record is synced\n                  localRecord._status === \"synced\" &&\n                  // And was synced from server\n                  localRecord.last_modified !== undefined &&\n                  // And is older than imported one.\n                  record.last_modified > localRecord.last_modified;\n                  return shouldKeep;\n                });\n                _context11.next = 38;\n                return this.db.loadDump(newRecords.map(markSynced));\n\n              case 38:\n                return _context11.abrupt(\"return\", _context11.sent);\n\n              case 39:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this, [[5, 18, 22, 30], [23,, 25, 29]]);\n      }));\n\n      function loadDump(_x25) {\n        return _ref19.apply(this, arguments);\n      }\n\n      return loadDump;\n    }()\n  }, {\n    key: \"name\",\n    get: function get() {\n      return this._name;\n    }\n\n    /**\n     * The bucket name.\n     * @type {String}\n     */\n\n  }, {\n    key: \"bucket\",\n    get: function get() {\n      return this._bucket;\n    }\n\n    /**\n     * The last modified timestamp.\n     * @type {Number}\n     */\n\n  }, {\n    key: \"lastModified\",\n    get: function get() {\n      return this._lastModified;\n    }\n\n    /**\n     * Synchronization strategies. Available strategies are:\n     *\n     * - `MANUAL`: Conflicts will be reported in a dedicated array.\n     * - `SERVER_WINS`: Conflicts are resolved using remote data.\n     * - `CLIENT_WINS`: Conflicts are resolved using local data.\n     *\n     * @type {Object}\n     */\n\n  }], [{\n    key: \"strategy\",\n    get: function get() {\n      return {\n        CLIENT_WINS: \"client_wins\",\n        SERVER_WINS: \"server_wins\",\n        MANUAL: \"manual\"\n      };\n    }\n  }]);\n  return Collection;\n}();\n\n/**\n * A Collection-oriented wrapper for an adapter's transaction.\n *\n * This defines the high-level functions available on a collection.\n * The collection itself offers functions of the same name. These will\n * perform just one operation in its own transaction.\n */\n\n\nexports.default = Collection;\n\nvar CollectionTransaction = exports.CollectionTransaction = function () {\n  function CollectionTransaction(collection, adapterTransaction) {\n    (0, _classCallCheck3.default)(this, CollectionTransaction);\n\n    this.collection = collection;\n    this.adapterTransaction = adapterTransaction;\n\n    this._events = [];\n  }\n\n  (0, _createClass3.default)(CollectionTransaction, [{\n    key: \"_queueEvent\",\n    value: function _queueEvent(action, payload) {\n      this._events.push({ action: action, payload: payload });\n    }\n\n    /**\n     * Emit queued events, to be called once every transaction operations have\n     * been executed successfully.\n     */\n\n  }, {\n    key: \"emitEvents\",\n    value: function emitEvents() {\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = (0, _getIterator3.default)(this._events), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var _ref23 = _step4.value;\n          var action = _ref23.action,\n              payload = _ref23.payload;\n\n          this.collection.events.emit(action, payload);\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      if (this._events.length > 0) {\n        var targets = this._events.map(function (_ref22) {\n          var action = _ref22.action,\n              payload = _ref22.payload;\n          return (0, _extends3.default)({\n            action: action\n          }, payload);\n        });\n        this.collection.events.emit(\"change\", { targets: targets });\n      }\n      this._events = [];\n    }\n\n    /**\n     * Retrieve a record by its id from the local database, or\n     * undefined if none exists.\n     *\n     * This will also return virtually deleted records.\n     *\n     * @param  {String} id\n     * @return {Object}\n     */\n\n  }, {\n    key: \"getAny\",\n    value: function getAny(id) {\n      var record = this.adapterTransaction.get(id);\n      return { data: record, permissions: {} };\n    }\n\n    /**\n     * Retrieve a record by its id from the local database.\n     *\n     * Options:\n     * - {Boolean} includeDeleted: Include virtually deleted records.\n     *\n     * @param  {String} id\n     * @param  {Object} options\n     * @return {Object}\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(id) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { includeDeleted: false };\n\n      var res = this.getAny(id);\n      if (!res.data || !options.includeDeleted && res.data._status === \"deleted\") {\n        throw new Error(\"Record with id=\" + id + \" not found.\");\n      }\n\n      return res;\n    }\n\n    /**\n     * Deletes a record from the local database.\n     *\n     * Options:\n     * - {Boolean} virtual: When set to `true`, doesn't actually delete the record,\n     *   update its `_status` attribute to `deleted` instead (default: true)\n     *\n     * @param  {String} id       The record's Id.\n     * @param  {Object} options  The options object.\n     * @return {Object}\n     */\n\n  }, {\n    key: \"delete\",\n    value: function _delete(id) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { virtual: true };\n\n      // Ensure the record actually exists.\n      var existing = this.adapterTransaction.get(id);\n      var alreadyDeleted = existing && existing._status == \"deleted\";\n      if (!existing || alreadyDeleted && options.virtual) {\n        throw new Error(\"Record with id=\" + id + \" not found.\");\n      }\n      // Virtual updates status.\n      if (options.virtual) {\n        this.adapterTransaction.update(markDeleted(existing));\n      } else {\n        // Delete for real.\n        this.adapterTransaction.delete(id);\n      }\n      this._queueEvent(\"delete\", { data: existing });\n      return { data: existing, permissions: {} };\n    }\n\n    /**\n     * Soft delete all records from the local database.\n     *\n     * @param  {Array} ids        Array of non-deleted Record Ids.\n     * @return {Object}\n     */\n\n  }, {\n    key: \"deleteAll\",\n    value: function deleteAll(ids) {\n      var _this10 = this;\n\n      var existingRecords = [];\n      ids.forEach(function (id) {\n        existingRecords.push(_this10.adapterTransaction.get(id));\n        _this10.delete(id);\n      });\n\n      this._queueEvent(\"deleteAll\", { data: existingRecords });\n      return { data: existingRecords, permissions: {} };\n    }\n\n    /**\n     * Deletes a record from the local database, if any exists.\n     * Otherwise, do nothing.\n     *\n     * @param  {String} id       The record's Id.\n     * @return {Object}\n     */\n\n  }, {\n    key: \"deleteAny\",\n    value: function deleteAny(id) {\n      var existing = this.adapterTransaction.get(id);\n      if (existing) {\n        this.adapterTransaction.update(markDeleted(existing));\n        this._queueEvent(\"delete\", { data: existing });\n      }\n      return { data: (0, _extends3.default)({ id: id }, existing), deleted: !!existing, permissions: {} };\n    }\n\n    /**\n     * Adds a record to the local database, asserting that none\n     * already exist with this ID.\n     *\n     * @param  {Object} record, which must contain an ID\n     * @return {Object}\n     */\n\n  }, {\n    key: \"create\",\n    value: function create(record) {\n      if ((typeof record === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(record)) !== \"object\") {\n        throw new Error(\"Record is not an object.\");\n      }\n      if (!record.hasOwnProperty(\"id\")) {\n        throw new Error(\"Cannot create a record missing id\");\n      }\n      if (!this.collection.idSchema.validate(record.id)) {\n        throw new Error(\"Invalid Id: \" + record.id);\n      }\n\n      this.adapterTransaction.create(record);\n      this._queueEvent(\"create\", { data: record });\n      return { data: record, permissions: {} };\n    }\n\n    /**\n     * Updates a record from the local database.\n     *\n     * Options:\n     * - {Boolean} synced: Sets record status to \"synced\" (default: false)\n     * - {Boolean} patch:  Extends the existing record instead of overwriting it\n     *   (default: false)\n     *\n     * @param  {Object} record\n     * @param  {Object} options\n     * @return {Object}\n     */\n\n  }, {\n    key: \"update\",\n    value: function update(record) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { synced: false, patch: false };\n\n      if ((typeof record === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(record)) !== \"object\") {\n        throw new Error(\"Record is not an object.\");\n      }\n      if (!record.hasOwnProperty(\"id\")) {\n        throw new Error(\"Cannot update a record missing id.\");\n      }\n      if (!this.collection.idSchema.validate(record.id)) {\n        throw new Error(\"Invalid Id: \" + record.id);\n      }\n\n      var oldRecord = this.adapterTransaction.get(record.id);\n      if (!oldRecord) {\n        throw new Error(\"Record with id=\" + record.id + \" not found.\");\n      }\n      var newRecord = options.patch ? (0, _extends3.default)({}, oldRecord, record) : record;\n      var updated = this._updateRaw(oldRecord, newRecord, options);\n      this.adapterTransaction.update(updated);\n      this._queueEvent(\"update\", { data: updated, oldRecord: oldRecord });\n      return { data: updated, oldRecord: oldRecord, permissions: {} };\n    }\n\n    /**\n     * Lower-level primitive for updating a record while respecting\n     * _status and last_modified.\n     *\n     * @param  {Object} oldRecord: the record retrieved from the DB\n     * @param  {Object} newRecord: the record to replace it with\n     * @return {Object}\n     */\n\n  }, {\n    key: \"_updateRaw\",\n    value: function _updateRaw(oldRecord, newRecord) {\n      var _ref24 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          _ref24$synced = _ref24.synced,\n          synced = _ref24$synced === undefined ? false : _ref24$synced;\n\n      var updated = (0, _extends3.default)({}, newRecord);\n      // Make sure to never loose the existing timestamp.\n      if (oldRecord && oldRecord.last_modified && !updated.last_modified) {\n        updated.last_modified = oldRecord.last_modified;\n      }\n      // If only local fields have changed, then keep record as synced.\n      // If status is created, keep record as created.\n      // If status is deleted, mark as updated.\n      var isIdentical = oldRecord && recordsEqual(oldRecord, updated, this.localFields);\n      var keepSynced = isIdentical && oldRecord._status == \"synced\";\n      var neverSynced = !oldRecord || oldRecord && oldRecord._status == \"created\";\n      var newStatus = keepSynced || synced ? \"synced\" : neverSynced ? \"created\" : \"updated\";\n      return markStatus(updated, newStatus);\n    }\n\n    /**\n     * Upsert a record into the local database.\n     *\n     * This record must have an ID.\n     *\n     * If a record with this ID already exists, it will be replaced.\n     * Otherwise, this record will be inserted.\n     *\n     * @param  {Object} record\n     * @return {Object}\n     */\n\n  }, {\n    key: \"upsert\",\n    value: function upsert(record) {\n      if ((typeof record === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(record)) !== \"object\") {\n        throw new Error(\"Record is not an object.\");\n      }\n      if (!record.hasOwnProperty(\"id\")) {\n        throw new Error(\"Cannot update a record missing id.\");\n      }\n      if (!this.collection.idSchema.validate(record.id)) {\n        throw new Error(\"Invalid Id: \" + record.id);\n      }\n      var oldRecord = this.adapterTransaction.get(record.id);\n      var updated = this._updateRaw(oldRecord, record);\n      this.adapterTransaction.update(updated);\n      // Don't return deleted records -- pretend they are gone\n      if (oldRecord && oldRecord._status == \"deleted\") {\n        oldRecord = undefined;\n      }\n      if (oldRecord) {\n        this._queueEvent(\"update\", { data: updated, oldRecord: oldRecord });\n      } else {\n        this._queueEvent(\"create\", { data: updated });\n      }\n      return { data: updated, oldRecord: oldRecord, permissions: {} };\n    }\n  }]);\n  return CollectionTransaction;\n}();\n\n},{\"./adapters/IDB\":459,\"./adapters/base\":460,\"./utils\":463,\"babel-runtime/core-js/array/from\":2,\"babel-runtime/core-js/get-iterator\":3,\"babel-runtime/core-js/json/stringify\":5,\"babel-runtime/core-js/map\":6,\"babel-runtime/core-js/object/assign\":7,\"babel-runtime/core-js/promise\":13,\"babel-runtime/core-js/set\":14,\"babel-runtime/helpers/asyncToGenerator\":17,\"babel-runtime/helpers/classCallCheck\":18,\"babel-runtime/helpers/createClass\":19,\"babel-runtime/helpers/extends\":21,\"babel-runtime/helpers/typeof\":27,\"babel-runtime/regenerator\":28,\"uuid\":453}],462:[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _events = require(\"events\");\n\nvar _kintoHttp = require(\"kinto-http\");\n\nvar _kintoHttp2 = _interopRequireDefault(_kintoHttp);\n\nvar _base = require(\"./adapters/base\");\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _IDB = require(\"./adapters/IDB\");\n\nvar _IDB2 = _interopRequireDefault(_IDB);\n\nvar _KintoBase2 = require(\"./KintoBase\");\n\nvar _KintoBase3 = _interopRequireDefault(_KintoBase2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// babel-polyfill can only be imported once\nif (!global._babelPolyfill) {\n  require(\"babel-polyfill\");\n}\n\nvar Kinto = function (_KintoBase) {\n  (0, _inherits3.default)(Kinto, _KintoBase);\n  (0, _createClass3.default)(Kinto, null, [{\n    key: \"adapters\",\n\n    /**\n     * Provides a public access to the base adapter classes. Users can create\n     * a custom DB adapter by extending BaseAdapter.\n     *\n     * @type {Object}\n     */\n    get: function get() {\n      return {\n        BaseAdapter: _base2.default,\n        IDB: _IDB2.default\n      };\n    }\n  }]);\n\n  function Kinto() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck3.default)(this, Kinto);\n\n    var defaults = {\n      adapter: Kinto.adapters.IDB,\n      events: new _events.EventEmitter(),\n      ApiClass: _kintoHttp2.default\n    };\n\n    return (0, _possibleConstructorReturn3.default)(this, (Kinto.__proto__ || (0, _getPrototypeOf2.default)(Kinto)).call(this, (0, _extends3.default)({}, defaults, options)));\n  }\n\n  return Kinto;\n}(_KintoBase3.default);\n\n// This fixes compatibility with CommonJS required by browserify.\n// See http://stackoverflow.com/questions/33505992/babel-6-changes-how-it-exports-default/33683495#33683495\n\n\nexports.default = Kinto;\nif ((typeof module === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(module)) === \"object\") {\n  module.exports = Kinto;\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./KintoBase\":458,\"./adapters/IDB\":459,\"./adapters/base\":460,\"babel-polyfill\":1,\"babel-runtime/core-js/object/get-prototype-of\":10,\"babel-runtime/helpers/classCallCheck\":18,\"babel-runtime/helpers/createClass\":19,\"babel-runtime/helpers/extends\":21,\"babel-runtime/helpers/inherits\":22,\"babel-runtime/helpers/possibleConstructorReturn\":23,\"babel-runtime/helpers/typeof\":27,\"events\":30,\"kinto-http\":448}],463:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RE_UUID = undefined;\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _keys = require(\"babel-runtime/core-js/object/keys\");\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nexports.sortObjects = sortObjects;\nexports.filterObject = filterObject;\nexports.filterObjects = filterObjects;\nexports.isUUID = isUUID;\nexports.waterfall = waterfall;\nexports.deepEqual = deepEqual;\nexports.omitKeys = omitKeys;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RE_UUID = exports.RE_UUID = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n\n/**\n * Checks if a value is undefined.\n * @param  {Any}  value\n * @return {Boolean}\n */\nfunction _isUndefined(value) {\n  return typeof value === \"undefined\";\n}\n\n/**\n * Sorts records in a list according to a given ordering.\n *\n * @param  {String} order The ordering, eg. `-last_modified`.\n * @param  {Array}  list  The collection to order.\n * @return {Array}\n */\nfunction sortObjects(order, list) {\n  var hasDash = order[0] === \"-\";\n  var field = hasDash ? order.slice(1) : order;\n  var direction = hasDash ? -1 : 1;\n  return list.slice().sort(function (a, b) {\n    if (a[field] && _isUndefined(b[field])) {\n      return direction;\n    }\n    if (b[field] && _isUndefined(a[field])) {\n      return -direction;\n    }\n    if (_isUndefined(a[field]) && _isUndefined(b[field])) {\n      return 0;\n    }\n    return a[field] > b[field] ? direction : -direction;\n  });\n}\n\n/**\n * Test if a single object matches all given filters.\n *\n * @param  {Object} filters  The filters object.\n * @param  {Object} entry    The object to filter.\n * @return {Boolean}\n */\nfunction filterObject(filters, entry) {\n  return (0, _keys2.default)(filters).every(function (filter) {\n    var value = filters[filter];\n    if (Array.isArray(value)) {\n      return value.some(function (candidate) {\n        return candidate === entry[filter];\n      });\n    }\n    return entry[filter] === value;\n  });\n}\n\n/**\n * Filters records in a list matching all given filters.\n *\n * @param  {Object} filters  The filters object.\n * @param  {Array}  list     The collection to filter.\n * @return {Array}\n */\nfunction filterObjects(filters, list) {\n  return list.filter(function (entry) {\n    return filterObject(filters, entry);\n  });\n}\n\n/**\n * Checks if a string is an UUID.\n *\n * @param  {String} uuid The uuid to validate.\n * @return {Boolean}\n */\nfunction isUUID(uuid) {\n  return RE_UUID.test(uuid);\n}\n\n/**\n * Resolves a list of functions sequentially, which can be sync or async; in\n * case of async, functions must return a promise.\n *\n * @param  {Array} fns  The list of functions.\n * @param  {Any}   init The initial value.\n * @return {Promise}\n */\nfunction waterfall(fns, init) {\n  if (!fns.length) {\n    return _promise2.default.resolve(init);\n  }\n  return fns.reduce(function (promise, nextFn) {\n    return promise.then(nextFn);\n  }, _promise2.default.resolve(init));\n}\n\n/**\n * Simple deep object comparison function. This only supports comparison of\n * serializable JavaScript objects.\n *\n * @param  {Object} a The source object.\n * @param  {Object} b The compared object.\n * @return {Boolean}\n */\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if ((typeof a === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(a)) !== (typeof b === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(b))) {\n    return false;\n  }\n  if (!(a && (typeof a === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(a)) == \"object\") || !(b && (typeof b === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(b)) == \"object\")) {\n    return false;\n  }\n  if ((0, _keys2.default)(a).length !== (0, _keys2.default)(b).length) {\n    return false;\n  }\n  for (var k in a) {\n    if (!deepEqual(a[k], b[k])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Return an object without the specified keys.\n *\n * @param  {Object} obj        The original object.\n * @param  {Array}  keys       The list of keys to exclude.\n * @return {Object}            A copy without the specified keys.\n */\nfunction omitKeys(obj) {\n  var keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  return (0, _keys2.default)(obj).reduce(function (acc, key) {\n    if (!keys.includes(key)) {\n      acc[key] = obj[key];\n    }\n    return acc;\n  }, {});\n}\n\n},{\"babel-runtime/core-js/object/keys\":11,\"babel-runtime/core-js/promise\":13,\"babel-runtime/helpers/typeof\":27}]},{},[462])(462)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcG9seWZpbGwvbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9hcnJheS9mcm9tLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9nZXQtaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2lzLWl0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvbWFwLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zZXQuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9BcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbGliL19lbXB0eS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvZm4vcmVnZXhwL2VzY2FwZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vYXJyYXkvZnJvbS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vZ2V0LWl0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9pcy1pdGVyYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL21hcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc2V0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1pbnN0YW5jZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4tb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1mcm9tLWl0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktbWV0aG9kcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktc3BlY2llcy1jb25zdHJ1Y3Rvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktc3BlY2llcy1jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29sbGVjdGlvbi1zdHJvbmcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvbGxlY3Rpb24tdG8tanNvbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29sbGVjdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3JlYXRlLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pbnZva2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LWl0ZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRldGVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2tleW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19saWJyYXJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19taWNyb3Rhc2suanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1hc3NpZ24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLWFsbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1wcm90by5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXNwZWNpZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NwZWNpZXMtY29uc3RydWN0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdGFzay5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW5kZXguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWxlbmd0aC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWRlZmluZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWV4dC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmlzLWl0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5mcm9tLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYubWFwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5wcm9taXNlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zZXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5tYXAudG8tanNvbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc2V0LnRvLWpzb24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2EtbnVtYmVyLXZhbHVlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYXJyYXktY29weS13aXRoaW4uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19hcnJheS1maWxsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYXJyYXktcmVkdWNlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYmluZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2NvbGxlY3Rpb24td2Vhay5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2NvbGxlY3Rpb24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19kYXRlLXRvLXByaW1pdGl2ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2V4cG9ydC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2ZhaWxzLWlzLXJlZ2V4cC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2ZpeC1yZS13a3MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19mbGFncy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2luaGVyaXQtaWYtcmVxdWlyZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19pcy1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXMtcmVnZXhwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fbGlicmFyeS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX21hdGgtZXhwbTEuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19tYXRoLWxvZzFwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fbWF0aC1zaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fbWV0YWRhdGEuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19vYmplY3QtZm9yY2VkLXBhbS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX29iamVjdC10by1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX293bi1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fcGFyc2UtZmxvYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19wYXJzZS1pbnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19wYXJ0aWFsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fcGF0aC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3JlZGVmaW5lLWFsbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3JlZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fcmVwbGFjZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zYW1lLXZhbHVlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc2V0LXNwZWNpZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zdHJpY3QtbWV0aG9kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc3RyaW5nLWNvbnRleHQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zdHJpbmctaHRtbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3N0cmluZy1wYWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zdHJpbmctcmVwZWF0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc3RyaW5nLXRyaW0uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19zdHJpbmctd3MuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL190eXBlZC1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3R5cGVkLWJ1ZmZlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3R5cGVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9jb3JlLnJlZ2V4cC5lc2NhcGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5jb3B5LXdpdGhpbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmV2ZXJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZmlsbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbHRlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbmQtaW5kZXguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5maW5kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZm9yLWVhY2guanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5pbmRleC1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmlzLWFycmF5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuam9pbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5Lmxhc3QtaW5kZXgtb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5tYXAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LnJlZHVjZS1yaWdodC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LnJlZHVjZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LnNsaWNlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuc29tZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LnNvcnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5zcGVjaWVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuZGF0ZS5ub3cuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5kYXRlLnRvLWlzby1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5kYXRlLnRvLWpzb24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5kYXRlLnRvLXByaW1pdGl2ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmRhdGUudG8tc3RyaW5nLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuZnVuY3Rpb24uYmluZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLmhhcy1pbnN0YW5jZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5tYXRoLmFjb3NoLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5hc2luaC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm1hdGguYXRhbmguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5tYXRoLmNicnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5tYXRoLmNsejMyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5jb3NoLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5leHBtMS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm1hdGguZnJvdW5kLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5oeXBvdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm1hdGguaW11bC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm1hdGgubG9nMTAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5tYXRoLmxvZzFwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5sb2cyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5zaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC5zaW5oLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC50YW5oLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubWF0aC50cnVuYy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci5jb25zdHJ1Y3Rvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci5lcHNpbG9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubnVtYmVyLmlzLWZpbml0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci5pcy1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubnVtYmVyLmlzLW5hbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci5pcy1zYWZlLWludGVnZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5udW1iZXIubWF4LXNhZmUtaW50ZWdlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci5taW4tc2FmZS1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubnVtYmVyLnBhcnNlLWZsb2F0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYubnVtYmVyLnBhcnNlLWludC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci50by1maXhlZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm51bWJlci50by1wcmVjaXNpb24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnRpZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3QuZnJlZXplLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LW5hbWVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmlzLWV4dGVuc2libGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3QuaXMtZnJvemVuLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmlzLXNlYWxlZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5pcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5wcmV2ZW50LWV4dGVuc2lvbnMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Quc2VhbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5wYXJzZS1mbG9hdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnBhcnNlLWludC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZmxlY3QuYXBwbHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWZsZWN0LmNvbnN0cnVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZmxlY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVmbGVjdC5kZWxldGUtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWZsZWN0LmVudW1lcmF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZmxlY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVmbGVjdC5nZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVmbGVjdC5nZXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWZsZWN0Lmhhcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZmxlY3QuaXMtZXh0ZW5zaWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZmxlY3Qub3duLWtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWZsZWN0LnByZXZlbnQtZXh0ZW5zaW9ucy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZmxlY3Quc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnJlZmxlY3Quc2V0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLmNvbnN0cnVjdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLmZsYWdzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLm1hdGNoLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnJlcGxhY2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc2VhcmNoLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnNwbGl0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnRvLXN0cmluZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5hbmNob3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuYmlnLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLmJsaW5rLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLmJvbGQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuY29kZS1wb2ludC1hdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5lbmRzLXdpdGguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuZml4ZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuZm9udGNvbG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLmZvbnRzaXplLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLmZyb20tY29kZS1wb2ludC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pbmNsdWRlcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pdGFsaWNzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLmxpbmsuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcucmF3LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLnJlcGVhdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5zbWFsbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5zdGFydHMtd2l0aC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5zdHJpa2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuc3ViLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLnN1cC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy50cmltLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYudHlwZWQuYXJyYXktYnVmZmVyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYudHlwZWQuZGF0YS12aWV3LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYudHlwZWQuZmxvYXQzMi1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnR5cGVkLmZsb2F0NjQtYXJyYXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi50eXBlZC5pbnQxNi1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnR5cGVkLmludDMyLWFycmF5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYudHlwZWQuaW50OC1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnR5cGVkLnVpbnQxNi1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnR5cGVkLnVpbnQzMi1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnR5cGVkLnVpbnQ4LWFycmF5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYudHlwZWQudWludDgtY2xhbXBlZC1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LndlYWstbWFwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczYud2Vhay1zZXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNy5hcnJheS5pbmNsdWRlcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3LmFzYXAuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNy5lcnJvci5pcy1lcnJvci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3Lm1hdGguaWFkZGguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNy5tYXRoLmltdWxoLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczcubWF0aC5pc3ViaC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3Lm1hdGgudW11bGguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNy5vYmplY3QuZGVmaW5lLWdldHRlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5kZWZpbmUtc2V0dGVyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczcub2JqZWN0LmVudHJpZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5sb29rdXAtZ2V0dGVyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczcub2JqZWN0Lmxvb2t1cC1zZXR0ZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNy5vYmplY3QudmFsdWVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczcub2JzZXJ2YWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3LnJlZmxlY3QuZGVmaW5lLW1ldGFkYXRhLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczcucmVmbGVjdC5kZWxldGUtbWV0YWRhdGEuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNy5yZWZsZWN0LmdldC1tZXRhZGF0YS1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczcucmVmbGVjdC5nZXQtbWV0YWRhdGEuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNy5yZWZsZWN0LmdldC1vd24tbWV0YWRhdGEta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3LnJlZmxlY3QuZ2V0LW93bi1tZXRhZGF0YS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3LnJlZmxlY3QuaGFzLW1ldGFkYXRhLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczcucmVmbGVjdC5oYXMtb3duLW1ldGFkYXRhLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczcucmVmbGVjdC5tZXRhZGF0YS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3LnN0cmluZy5hdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3LnN0cmluZy5tYXRjaC1hbGwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNy5zdHJpbmcucGFkLWVuZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM3LnN0cmluZy5wYWQtc3RhcnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNy5zdHJpbmcudHJpbS1sZWZ0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lczcuc3RyaW5nLnRyaW0tcmlnaHQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNy5zeXN0ZW0uZ2xvYmFsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy93ZWIuaW1tZWRpYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvc2hpbS5qcyIsIm5vZGVfbW9kdWxlcy9raW50by1odHRwL2xpYi9iYXNlLmpzIiwibm9kZV9tb2R1bGVzL2tpbnRvLWh0dHAvbGliL2JhdGNoLmpzIiwibm9kZV9tb2R1bGVzL2tpbnRvLWh0dHAvbGliL2J1Y2tldC5qcyIsIm5vZGVfbW9kdWxlcy9raW50by1odHRwL2xpYi9jb2xsZWN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2tpbnRvLWh0dHAvbGliL2VuZHBvaW50LmpzIiwibm9kZV9tb2R1bGVzL2tpbnRvLWh0dHAvbGliL2Vycm9ycy5qcyIsIm5vZGVfbW9kdWxlcy9raW50by1odHRwL2xpYi9odHRwLmpzIiwibm9kZV9tb2R1bGVzL2tpbnRvLWh0dHAvbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2tpbnRvLWh0dHAvbGliL3JlcXVlc3RzLmpzIiwibm9kZV9tb2R1bGVzL2tpbnRvLWh0dHAvbGliL3V0aWxzLmpzIiwibm9kZV9tb2R1bGVzL3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS1tb2R1bGUuanMiLCJub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwibm9kZV9tb2R1bGVzL3V1aWQvaW5kZXguanMiLCJub2RlX21vZHVsZXMvdXVpZC9saWIvYnl0ZXNUb1V1aWQuanMiLCJub2RlX21vZHVsZXMvdXVpZC9saWIvcm5nLWJyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvdXVpZC92MS5qcyIsIm5vZGVfbW9kdWxlcy91dWlkL3Y0LmpzIiwic3JjL0tpbnRvQmFzZS5qcyIsInNyYy9hZGFwdGVycy9JREIuanMiLCJzcmMvYWRhcHRlcnMvYmFzZS5qcyIsInNyYy9jb2xsZWN0aW9uLmpzIiwic3JjL2luZGV4LmpzIiwic3JjL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDM0JBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBOztBQ0RBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZnQkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxREE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTs7QUNBQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7O0FDRkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7Ozs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMU9BO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUMzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQ3BGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUNQQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDbERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBOzs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaFJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BFQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQ2pCQTtBQUNBO0FBQ0E7Ozs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBOzs7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0TUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNOQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0tBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDanhDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3QvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNXJDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1TkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDM2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzNxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc31yZXR1cm4gZX0pKCkiLCJcInVzZSBzdHJpY3RcIjtcblxucmVxdWlyZShcImNvcmUtanMvc2hpbVwiKTtcblxucmVxdWlyZShcInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZVwiKTtcblxucmVxdWlyZShcImNvcmUtanMvZm4vcmVnZXhwL2VzY2FwZVwiKTtcblxuaWYgKGdsb2JhbC5fYmFiZWxQb2x5ZmlsbCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJvbmx5IG9uZSBpbnN0YW5jZSBvZiBiYWJlbC1wb2x5ZmlsbCBpcyBhbGxvd2VkXCIpO1xufVxuZ2xvYmFsLl9iYWJlbFBvbHlmaWxsID0gdHJ1ZTtcblxudmFyIERFRklORV9QUk9QRVJUWSA9IFwiZGVmaW5lUHJvcGVydHlcIjtcbmZ1bmN0aW9uIGRlZmluZShPLCBrZXksIHZhbHVlKSB7XG4gIE9ba2V5XSB8fCBPYmplY3RbREVGSU5FX1BST1BFUlRZXShPLCBrZXksIHtcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgdmFsdWU6IHZhbHVlXG4gIH0pO1xufVxuXG5kZWZpbmUoU3RyaW5nLnByb3RvdHlwZSwgXCJwYWRMZWZ0XCIsIFwiXCIucGFkU3RhcnQpO1xuZGVmaW5lKFN0cmluZy5wcm90b3R5cGUsIFwicGFkUmlnaHRcIiwgXCJcIi5wYWRFbmQpO1xuXG5cInBvcCxyZXZlcnNlLHNoaWZ0LGtleXMsdmFsdWVzLGVudHJpZXMsaW5kZXhPZixldmVyeSxzb21lLGZvckVhY2gsbWFwLGZpbHRlcixmaW5kLGZpbmRJbmRleCxpbmNsdWRlcyxqb2luLHNsaWNlLGNvbmNhdCxwdXNoLHNwbGljZSx1bnNoaWZ0LHNvcnQsbGFzdEluZGV4T2YscmVkdWNlLHJlZHVjZVJpZ2h0LGNvcHlXaXRoaW4sZmlsbFwiLnNwbGl0KFwiLFwiKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgW11ba2V5XSAmJiBkZWZpbmUoQXJyYXksIGtleSwgRnVuY3Rpb24uY2FsbC5iaW5kKFtdW2tleV0pKTtcbn0pOyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2dldC1pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9pcy1pdGVyYWJsZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9tYXBcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2Fzc2lnblwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXNcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zZXRcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3Byb21pc2UgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9wcm9taXNlXCIpO1xuXG52YXIgX3Byb21pc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvbWlzZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBnZW4gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiBuZXcgX3Byb21pc2UyLmRlZmF1bHQoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gc3RlcChrZXksIGFyZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBfcHJvbWlzZTIuZGVmYXVsdC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc3RlcChcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHN0ZXAoXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdGVwKFwibmV4dFwiKTtcbiAgICB9KTtcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2Fzc2lnbiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9hc3NpZ25cIik7XG5cbnZhciBfYXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2lnbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9hc3NpZ24yLmRlZmF1bHQgfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3NldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIik7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9jcmVhdGVcIik7XG5cbnZhciBfY3JlYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZSk7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyAodHlwZW9mIHN1cGVyQ2xhc3MgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKHN1cGVyQ2xhc3MpKSk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSAoMCwgX2NyZWF0ZTIuZGVmYXVsdCkoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCA/ICgwLCBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXNJdGVyYWJsZTIgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9pcy1pdGVyYWJsZVwiKTtcblxudmFyIF9pc0l0ZXJhYmxlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSXRlcmFibGUyKTtcblxudmFyIF9nZXRJdGVyYXRvcjIgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9nZXQtaXRlcmF0b3JcIik7XG5cbnZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkge1xuICAgIHZhciBfYXJyID0gW107XG4gICAgdmFyIF9uID0gdHJ1ZTtcbiAgICB2YXIgX2QgPSBmYWxzZTtcbiAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2kgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShhcnIpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gdHJ1ZTtcbiAgICAgIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgcmV0dXJuIGFycjtcbiAgICB9IGVsc2UgaWYgKCgwLCBfaXNJdGVyYWJsZTMuZGVmYXVsdCkoT2JqZWN0KGFycikpKSB7XG4gICAgICByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbiAgICB9XG4gIH07XG59KCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZnJvbSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL2FycmF5L2Zyb21cIik7XG5cbnZhciBfZnJvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mcm9tKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpID8gYXJyIDogKDAsIF9mcm9tMi5kZWZhdWx0KShhcnIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9mcm9tID0gcmVxdWlyZShcIi4uL2NvcmUtanMvYXJyYXkvZnJvbVwiKTtcblxudmFyIF9mcm9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Zyb20pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnIyW2ldID0gYXJyW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBhcnIyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoMCwgX2Zyb20yLmRlZmF1bHQpKGFycik7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXRlcmF0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIik7XG5cbnZhciBfaXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3IpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbFwiKTtcblxudmFyIF9zeW1ib2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sKTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgJiYgb2JqICE9PSBfc3ltYm9sMi5kZWZhdWx0LnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVnZW5lcmF0b3ItcnVudGltZVwiKTtcbiIsIiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSB8fCBvYmplY3RDcmVhdGVQb2x5ZmlsbFxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBvYmplY3RLZXlzUG9seWZpbGxcbnZhciBiaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgfHwgZnVuY3Rpb25CaW5kUG9seWZpbGxcblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMsICdfZXZlbnRzJykpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxudmFyIGhhc0RlZmluZVByb3BlcnR5O1xudHJ5IHtcbiAgdmFyIG8gPSB7fTtcbiAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sICd4JywgeyB2YWx1ZTogMCB9KTtcbiAgaGFzRGVmaW5lUHJvcGVydHkgPSBvLnggPT09IDA7XG59IGNhdGNoIChlcnIpIHsgaGFzRGVmaW5lUHJvcGVydHkgPSBmYWxzZSB9XG5pZiAoaGFzRGVmaW5lUHJvcGVydHkpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKGFyZykge1xuICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGUgaW5wdXQgaXMgYSBwb3NpdGl2ZSBudW1iZXIgKHdob3NlIHZhbHVlIGlzIHplcm8gb3JcbiAgICAgIC8vIGdyZWF0ZXIgYW5kIG5vdCBhIE5hTikuXG4gICAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBhcmcgIT09IGFyZylcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICAgICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSBkZWZhdWx0TWF4TGlzdGVuZXJzO1xufVxuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiblwiIGFyZ3VtZW50IG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiAkZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiAkZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuLy8gVGhlc2Ugc3RhbmRhbG9uZSBlbWl0KiBmdW5jdGlvbnMgYXJlIHVzZWQgdG8gb3B0aW1pemUgY2FsbGluZyBvZiBldmVudFxuLy8gaGFuZGxlcnMgZm9yIGZhc3QgY2FzZXMgYmVjYXVzZSBlbWl0KCkgaXRzZWxmIG9mdGVuIGhhcyBhIHZhcmlhYmxlIG51bWJlciBvZlxuLy8gYXJndW1lbnRzIGFuZCBjYW4gYmUgZGVvcHRpbWl6ZWQgYmVjYXVzZSBvZiB0aGF0LiBUaGVzZSBmdW5jdGlvbnMgYWx3YXlzIGhhdmVcbi8vIHRoZSBzYW1lIG51bWJlciBvZiBhcmd1bWVudHMgYW5kIHRodXMgZG8gbm90IGdldCBkZW9wdGltaXplZCwgc28gdGhlIGNvZGVcbi8vIGluc2lkZSB0aGVtIGNhbiBleGVjdXRlIGZhc3Rlci5cbmZ1bmN0aW9uIGVtaXROb25lKGhhbmRsZXIsIGlzRm4sIHNlbGYpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5jYWxsKHNlbGYpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmNhbGwoc2VsZik7XG4gIH1cbn1cbmZ1bmN0aW9uIGVtaXRPbmUoaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJnMSkge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmNhbGwoc2VsZiwgYXJnMSk7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uY2FsbChzZWxmLCBhcmcxKTtcbiAgfVxufVxuZnVuY3Rpb24gZW1pdFR3byhoYW5kbGVyLCBpc0ZuLCBzZWxmLCBhcmcxLCBhcmcyKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuY2FsbChzZWxmLCBhcmcxLCBhcmcyKTtcbiAgZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIGxpc3RlbmVyc1tpXS5jYWxsKHNlbGYsIGFyZzEsIGFyZzIpO1xuICB9XG59XG5mdW5jdGlvbiBlbWl0VGhyZWUoaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJnMSwgYXJnMiwgYXJnMykge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmNhbGwoc2VsZiwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uY2FsbChzZWxmLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0TWFueShoYW5kbGVyLCBpc0ZuLCBzZWxmLCBhcmdzKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuYXBwbHkoc2VsZiwgYXJncyk7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkoc2VsZiwgYXJncyk7XG4gIH1cbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBldmVudHM7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cylcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09IG51bGwpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSlcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIFwiZXJyb3JcIiBldmVudC4gKCcgKyBlciArICcpJyk7XG4gICAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuXG4gIGlmICghaGFuZGxlcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGlzRm4gPSB0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJztcbiAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgc3dpdGNoIChsZW4pIHtcbiAgICAgIC8vIGZhc3QgY2FzZXNcbiAgICBjYXNlIDE6XG4gICAgICBlbWl0Tm9uZShoYW5kbGVyLCBpc0ZuLCB0aGlzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIGVtaXRPbmUoaGFuZGxlciwgaXNGbiwgdGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzpcbiAgICAgIGVtaXRUd28oaGFuZGxlciwgaXNGbiwgdGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA0OlxuICAgICAgZW1pdFRocmVlKGhhbmRsZXIsIGlzRm4sIHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdLCBhcmd1bWVudHNbM10pO1xuICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICBkZWZhdWx0OlxuICAgICAgYXJncyA9IG5ldyBBcnJheShsZW4gLSAxKTtcbiAgICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICBlbWl0TWFueShoYW5kbGVyLCBpc0ZuLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKCFldmVudHMpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IG9iamVjdENyZWF0ZShudWxsKTtcbiAgICB0YXJnZXQuX2V2ZW50c0NvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgICBpZiAoZXZlbnRzLm5ld0xpc3RlbmVyKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmICghZXhpc3RpbmcpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgICBwcmVwZW5kID8gW2xpc3RlbmVyLCBleGlzdGluZ10gOiBbZXhpc3RpbmcsIGxpc3RlbmVyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgICAgaWYgKHByZXBlbmQpIHtcbiAgICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleGlzdGluZy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICAgIGlmICghZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBtID0gJGdldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgICAgaWYgKG0gJiYgbSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSkge1xuICAgICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgXCInICsgU3RyaW5nKHR5cGUpICsgJ1wiIGxpc3RlbmVycyAnICtcbiAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQuJyk7XG4gICAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICAgIHcudHlwZSA9IHR5cGU7XG4gICAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICAgIGlmICh0eXBlb2YgY29uc29sZSA9PT0gJ29iamVjdCcgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCclczogJXMnLCB3Lm5hbWUsIHcubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQsIGFyZ3VtZW50c1swXSk7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQsIGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKTtcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCwgYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICBhcmd1bWVudHNbMl0pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSlcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gX29uY2VXcmFwKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIHN0YXRlID0geyBmaXJlZDogZmFsc2UsIHdyYXBGbjogdW5kZWZpbmVkLCB0YXJnZXQ6IHRhcmdldCwgdHlwZTogdHlwZSwgbGlzdGVuZXI6IGxpc3RlbmVyIH07XG4gIHZhciB3cmFwcGVkID0gYmluZC5jYWxsKG9uY2VXcmFwcGVyLCBzdGF0ZSk7XG4gIHdyYXBwZWQubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgc3RhdGUud3JhcEZuID0gd3JhcHBlZDtcbiAgcmV0dXJuIHdyYXBwZWQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UodHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIHRoaXMub24odHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kT25jZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKCFldmVudHMpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKCFsaXN0KVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8IGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IG9iamVjdENyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBzcGxpY2VPbmUobGlzdCwgcG9zaXRpb24pO1xuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMsIGV2ZW50cywgaTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKCFldmVudHMpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoIWV2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IG9iamVjdENyZWF0ZShudWxsKTtcbiAgICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzW3R5cGVdKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBvYmplY3RDcmVhdGUobnVsbCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB2YXIga2V5cyA9IG9iamVjdEtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IG9iamVjdENyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHZhciBldmxpc3RlbmVyO1xuICB2YXIgcmV0O1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmICghZXZlbnRzKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIHtcbiAgICBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICAgIGlmICghZXZsaXN0ZW5lcilcbiAgICAgIHJldCA9IFtdO1xuICAgIGVsc2UgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKVxuICAgICAgcmV0ID0gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl07XG4gICAgZWxzZVxuICAgICAgcmV0ID0gdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHJldHVybiB0aGlzLl9ldmVudHNDb3VudCA+IDAgPyBSZWZsZWN0Lm93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuLy8gQWJvdXQgMS41eCBmYXN0ZXIgdGhhbiB0aGUgdHdvLWFyZyB2ZXJzaW9uIG9mIEFycmF5I3NwbGljZSgpLlxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAodmFyIGkgPSBpbmRleCwgayA9IGkgKyAxLCBuID0gbGlzdC5sZW5ndGg7IGsgPCBuOyBpICs9IDEsIGsgKz0gMSlcbiAgICBsaXN0W2ldID0gbGlzdFtrXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvYmplY3RDcmVhdGVQb2x5ZmlsbChwcm90bykge1xuICB2YXIgRiA9IGZ1bmN0aW9uKCkge307XG4gIEYucHJvdG90eXBlID0gcHJvdG87XG4gIHJldHVybiBuZXcgRjtcbn1cbmZ1bmN0aW9uIG9iamVjdEtleXNQb2x5ZmlsbChvYmopIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIgayBpbiBvYmopIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrKSkge1xuICAgIGtleXMucHVzaChrKTtcbiAgfVxuICByZXR1cm4gaztcbn1cbmZ1bmN0aW9uIGZ1bmN0aW9uQmluZFBvbHlmaWxsKGNvbnRleHQpIHtcbiAgdmFyIGZuID0gdGhpcztcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvY29yZS5yZWdleHAuZXNjYXBlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5SZWdFeHAuZXNjYXBlOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuYXJyYXkuZnJvbScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuQXJyYXkuZnJvbTsiLCJyZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yJyk7IiwicmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9jb3JlLmlzLWl0ZXJhYmxlJyk7IiwidmFyIGNvcmUgID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpXG4gICwgJEpTT04gPSBjb3JlLkpTT04gfHwgKGNvcmUuSlNPTiA9IHtzdHJpbmdpZnk6IEpTT04uc3RyaW5naWZ5fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgcmV0dXJuICRKU09OLnN0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJndW1lbnRzKTtcbn07IiwicmVxdWlyZSgnLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZycpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2Lm1hcCcpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczcubWFwLnRvLWpzb24nKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9fY29yZScpLk1hcDsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuYXNzaWduOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUnKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpe1xuICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG59OyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHknKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LmdldFByb3RvdHlwZU9mOyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Qua2V5czsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LnNldFByb3RvdHlwZU9mOyIsInJlcXVpcmUoJy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5wcm9taXNlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvX2NvcmUnKS5Qcm9taXNlOyIsInJlcXVpcmUoJy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zZXQnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM3LnNldC50by1qc29uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvX2NvcmUnKS5TZXQ7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5TeW1ib2w7IiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCcpLmYoJ2l0ZXJhdG9yJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIENvbnN0cnVjdG9yLCBuYW1lLCBmb3JiaWRkZW5GaWVsZCl7XG4gIGlmKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikgfHwgKGZvcmJpZGRlbkZpZWxkICE9PSB1bmRlZmluZWQgJiYgZm9yYmlkZGVuRmllbGQgaW4gaXQpKXtcbiAgICB0aHJvdyBUeXBlRXJyb3IobmFtZSArICc6IGluY29ycmVjdCBpbnZvY2F0aW9uIScpO1xuICB9IHJldHVybiBpdDtcbn07IiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07IiwidmFyIGZvck9mID0gcmVxdWlyZSgnLi9fZm9yLW9mJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlciwgSVRFUkFUT1Ipe1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvck9mKGl0ZXIsIGZhbHNlLCByZXN1bHQucHVzaCwgcmVzdWx0LCBJVEVSQVRPUik7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwiLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b0xlbmd0aCAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIHRvSW5kZXggICA9IHJlcXVpcmUoJy4vX3RvLWluZGV4Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKElTX0lOQ0xVREVTKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKCR0aGlzLCBlbCwgZnJvbUluZGV4KXtcbiAgICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KCR0aGlzKVxuICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcbiAgICAgICwgaW5kZXggID0gdG9JbmRleChmcm9tSW5kZXgsIGxlbmd0aClcbiAgICAgICwgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIGlmKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKXdoaWxlKGxlbmd0aCA+IGluZGV4KXtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIGlmKHZhbHVlICE9IHZhbHVlKXJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I3RvSW5kZXggaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKXtcbiAgICAgIGlmKE9baW5kZXhdID09PSBlbClyZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59OyIsIi8vIDAgLT4gQXJyYXkjZm9yRWFjaFxuLy8gMSAtPiBBcnJheSNtYXBcbi8vIDIgLT4gQXJyYXkjZmlsdGVyXG4vLyAzIC0+IEFycmF5I3NvbWVcbi8vIDQgLT4gQXJyYXkjZXZlcnlcbi8vIDUgLT4gQXJyYXkjZmluZFxuLy8gNiAtPiBBcnJheSNmaW5kSW5kZXhcbnZhciBjdHggICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgSU9iamVjdCAgPSByZXF1aXJlKCcuL19pb2JqZWN0JylcbiAgLCB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIGFzYyAgICAgID0gcmVxdWlyZSgnLi9fYXJyYXktc3BlY2llcy1jcmVhdGUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVFlQRSwgJGNyZWF0ZSl7XG4gIHZhciBJU19NQVAgICAgICAgID0gVFlQRSA9PSAxXG4gICAgLCBJU19GSUxURVIgICAgID0gVFlQRSA9PSAyXG4gICAgLCBJU19TT01FICAgICAgID0gVFlQRSA9PSAzXG4gICAgLCBJU19FVkVSWSAgICAgID0gVFlQRSA9PSA0XG4gICAgLCBJU19GSU5EX0lOREVYID0gVFlQRSA9PSA2XG4gICAgLCBOT19IT0xFUyAgICAgID0gVFlQRSA9PSA1IHx8IElTX0ZJTkRfSU5ERVhcbiAgICAsIGNyZWF0ZSAgICAgICAgPSAkY3JlYXRlIHx8IGFzYztcbiAgcmV0dXJuIGZ1bmN0aW9uKCR0aGlzLCBjYWxsYmFja2ZuLCB0aGF0KXtcbiAgICB2YXIgTyAgICAgID0gdG9PYmplY3QoJHRoaXMpXG4gICAgICAsIHNlbGYgICA9IElPYmplY3QoTylcbiAgICAgICwgZiAgICAgID0gY3R4KGNhbGxiYWNrZm4sIHRoYXQsIDMpXG4gICAgICAsIGxlbmd0aCA9IHRvTGVuZ3RoKHNlbGYubGVuZ3RoKVxuICAgICAgLCBpbmRleCAgPSAwXG4gICAgICAsIHJlc3VsdCA9IElTX01BUCA/IGNyZWF0ZSgkdGhpcywgbGVuZ3RoKSA6IElTX0ZJTFRFUiA/IGNyZWF0ZSgkdGhpcywgMCkgOiB1bmRlZmluZWRcbiAgICAgICwgdmFsLCByZXM7XG4gICAgZm9yKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKylpZihOT19IT0xFUyB8fCBpbmRleCBpbiBzZWxmKXtcbiAgICAgIHZhbCA9IHNlbGZbaW5kZXhdO1xuICAgICAgcmVzID0gZih2YWwsIGluZGV4LCBPKTtcbiAgICAgIGlmKFRZUEUpe1xuICAgICAgICBpZihJU19NQVApcmVzdWx0W2luZGV4XSA9IHJlczsgICAgICAgICAgICAvLyBtYXBcbiAgICAgICAgZWxzZSBpZihyZXMpc3dpdGNoKFRZUEUpe1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuIHRydWU7ICAgICAgICAgICAgICAgICAgICAvLyBzb21lXG4gICAgICAgICAgY2FzZSA1OiByZXR1cm4gdmFsOyAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmRcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBpbmRleDsgICAgICAgICAgICAgICAgICAgLy8gZmluZEluZGV4XG4gICAgICAgICAgY2FzZSAyOiByZXN1bHQucHVzaCh2YWwpOyAgICAgICAgICAgICAgIC8vIGZpbHRlclxuICAgICAgICB9IGVsc2UgaWYoSVNfRVZFUlkpcmV0dXJuIGZhbHNlOyAgICAgICAgICAvLyBldmVyeVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gSVNfRklORF9JTkRFWCA/IC0xIDogSVNfU09NRSB8fCBJU19FVkVSWSA/IElTX0VWRVJZIDogcmVzdWx0O1xuICB9O1xufTsiLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGlzQXJyYXkgID0gcmVxdWlyZSgnLi9faXMtYXJyYXknKVxuICAsIFNQRUNJRVMgID0gcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcmlnaW5hbCl7XG4gIHZhciBDO1xuICBpZihpc0FycmF5KG9yaWdpbmFsKSl7XG4gICAgQyA9IG9yaWdpbmFsLmNvbnN0cnVjdG9yO1xuICAgIC8vIGNyb3NzLXJlYWxtIGZhbGxiYWNrXG4gICAgaWYodHlwZW9mIEMgPT0gJ2Z1bmN0aW9uJyAmJiAoQyA9PT0gQXJyYXkgfHwgaXNBcnJheShDLnByb3RvdHlwZSkpKUMgPSB1bmRlZmluZWQ7XG4gICAgaWYoaXNPYmplY3QoQykpe1xuICAgICAgQyA9IENbU1BFQ0lFU107XG4gICAgICBpZihDID09PSBudWxsKUMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9IHJldHVybiBDID09PSB1bmRlZmluZWQgPyBBcnJheSA6IEM7XG59OyIsIi8vIDkuNC4yLjMgQXJyYXlTcGVjaWVzQ3JlYXRlKG9yaWdpbmFsQXJyYXksIGxlbmd0aClcbnZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL19hcnJheS1zcGVjaWVzLWNvbnN0cnVjdG9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3JpZ2luYWwsIGxlbmd0aCl7XG4gIHJldHVybiBuZXcgKHNwZWNpZXNDb25zdHJ1Y3RvcihvcmlnaW5hbCkpKGxlbmd0aCk7XG59OyIsIi8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKVxuICAvLyBFUzMgd3JvbmcgaGVyZVxuICAsIEFSRyA9IGNvZihmdW5jdGlvbigpeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxudmFyIHRyeUdldCA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIE8sIFQsIEI7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IEFSRyA/IGNvZihPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07IiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgZFAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgY3JlYXRlICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJylcbiAgLCByZWRlZmluZUFsbCA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lLWFsbCcpXG4gICwgY3R4ICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGFuSW5zdGFuY2UgID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKVxuICAsIGRlZmluZWQgICAgID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpXG4gICwgZm9yT2YgICAgICAgPSByZXF1aXJlKCcuL19mb3Itb2YnKVxuICAsICRpdGVyRGVmaW5lID0gcmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKVxuICAsIHN0ZXAgICAgICAgID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJylcbiAgLCBzZXRTcGVjaWVzICA9IHJlcXVpcmUoJy4vX3NldC1zcGVjaWVzJylcbiAgLCBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJylcbiAgLCBmYXN0S2V5ICAgICA9IHJlcXVpcmUoJy4vX21ldGEnKS5mYXN0S2V5XG4gICwgU0laRSAgICAgICAgPSBERVNDUklQVE9SUyA/ICdfcycgOiAnc2l6ZSc7XG5cbnZhciBnZXRFbnRyeSA9IGZ1bmN0aW9uKHRoYXQsIGtleSl7XG4gIC8vIGZhc3QgY2FzZVxuICB2YXIgaW5kZXggPSBmYXN0S2V5KGtleSksIGVudHJ5O1xuICBpZihpbmRleCAhPT0gJ0YnKXJldHVybiB0aGF0Ll9pW2luZGV4XTtcbiAgLy8gZnJvemVuIG9iamVjdCBjYXNlXG4gIGZvcihlbnRyeSA9IHRoYXQuX2Y7IGVudHJ5OyBlbnRyeSA9IGVudHJ5Lm4pe1xuICAgIGlmKGVudHJ5LmsgPT0ga2V5KXJldHVybiBlbnRyeTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldENvbnN0cnVjdG9yOiBmdW5jdGlvbih3cmFwcGVyLCBOQU1FLCBJU19NQVAsIEFEREVSKXtcbiAgICB2YXIgQyA9IHdyYXBwZXIoZnVuY3Rpb24odGhhdCwgaXRlcmFibGUpe1xuICAgICAgYW5JbnN0YW5jZSh0aGF0LCBDLCBOQU1FLCAnX2knKTtcbiAgICAgIHRoYXQuX2kgPSBjcmVhdGUobnVsbCk7IC8vIGluZGV4XG4gICAgICB0aGF0Ll9mID0gdW5kZWZpbmVkOyAgICAvLyBmaXJzdCBlbnRyeVxuICAgICAgdGhhdC5fbCA9IHVuZGVmaW5lZDsgICAgLy8gbGFzdCBlbnRyeVxuICAgICAgdGhhdFtTSVpFXSA9IDA7ICAgICAgICAgLy8gc2l6ZVxuICAgICAgaWYoaXRlcmFibGUgIT0gdW5kZWZpbmVkKWZvck9mKGl0ZXJhYmxlLCBJU19NQVAsIHRoYXRbQURERVJdLCB0aGF0KTtcbiAgICB9KTtcbiAgICByZWRlZmluZUFsbChDLnByb3RvdHlwZSwge1xuICAgICAgLy8gMjMuMS4zLjEgTWFwLnByb3RvdHlwZS5jbGVhcigpXG4gICAgICAvLyAyMy4yLjMuMiBTZXQucHJvdG90eXBlLmNsZWFyKClcbiAgICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpe1xuICAgICAgICBmb3IodmFyIHRoYXQgPSB0aGlzLCBkYXRhID0gdGhhdC5faSwgZW50cnkgPSB0aGF0Ll9mOyBlbnRyeTsgZW50cnkgPSBlbnRyeS5uKXtcbiAgICAgICAgICBlbnRyeS5yID0gdHJ1ZTtcbiAgICAgICAgICBpZihlbnRyeS5wKWVudHJ5LnAgPSBlbnRyeS5wLm4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgZGVsZXRlIGRhdGFbZW50cnkuaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhhdC5fZiA9IHRoYXQuX2wgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoYXRbU0laRV0gPSAwO1xuICAgICAgfSxcbiAgICAgIC8vIDIzLjEuMy4zIE1hcC5wcm90b3R5cGUuZGVsZXRlKGtleSlcbiAgICAgIC8vIDIzLjIuMy40IFNldC5wcm90b3R5cGUuZGVsZXRlKHZhbHVlKVxuICAgICAgJ2RlbGV0ZSc6IGZ1bmN0aW9uKGtleSl7XG4gICAgICAgIHZhciB0aGF0ICA9IHRoaXNcbiAgICAgICAgICAsIGVudHJ5ID0gZ2V0RW50cnkodGhhdCwga2V5KTtcbiAgICAgICAgaWYoZW50cnkpe1xuICAgICAgICAgIHZhciBuZXh0ID0gZW50cnkublxuICAgICAgICAgICAgLCBwcmV2ID0gZW50cnkucDtcbiAgICAgICAgICBkZWxldGUgdGhhdC5faVtlbnRyeS5pXTtcbiAgICAgICAgICBlbnRyeS5yID0gdHJ1ZTtcbiAgICAgICAgICBpZihwcmV2KXByZXYubiA9IG5leHQ7XG4gICAgICAgICAgaWYobmV4dCluZXh0LnAgPSBwcmV2O1xuICAgICAgICAgIGlmKHRoYXQuX2YgPT0gZW50cnkpdGhhdC5fZiA9IG5leHQ7XG4gICAgICAgICAgaWYodGhhdC5fbCA9PSBlbnRyeSl0aGF0Ll9sID0gcHJldjtcbiAgICAgICAgICB0aGF0W1NJWkVdLS07XG4gICAgICAgIH0gcmV0dXJuICEhZW50cnk7XG4gICAgICB9LFxuICAgICAgLy8gMjMuMi4zLjYgU2V0LnByb3RvdHlwZS5mb3JFYWNoKGNhbGxiYWNrZm4sIHRoaXNBcmcgPSB1bmRlZmluZWQpXG4gICAgICAvLyAyMy4xLjMuNSBNYXAucHJvdG90eXBlLmZvckVhY2goY2FsbGJhY2tmbiwgdGhpc0FyZyA9IHVuZGVmaW5lZClcbiAgICAgIGZvckVhY2g6IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2tmbiAvKiwgdGhhdCA9IHVuZGVmaW5lZCAqLyl7XG4gICAgICAgIGFuSW5zdGFuY2UodGhpcywgQywgJ2ZvckVhY2gnKTtcbiAgICAgICAgdmFyIGYgPSBjdHgoY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQsIDMpXG4gICAgICAgICAgLCBlbnRyeTtcbiAgICAgICAgd2hpbGUoZW50cnkgPSBlbnRyeSA/IGVudHJ5Lm4gOiB0aGlzLl9mKXtcbiAgICAgICAgICBmKGVudHJ5LnYsIGVudHJ5LmssIHRoaXMpO1xuICAgICAgICAgIC8vIHJldmVydCB0byB0aGUgbGFzdCBleGlzdGluZyBlbnRyeVxuICAgICAgICAgIHdoaWxlKGVudHJ5ICYmIGVudHJ5LnIpZW50cnkgPSBlbnRyeS5wO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gMjMuMS4zLjcgTWFwLnByb3RvdHlwZS5oYXMoa2V5KVxuICAgICAgLy8gMjMuMi4zLjcgU2V0LnByb3RvdHlwZS5oYXModmFsdWUpXG4gICAgICBoYXM6IGZ1bmN0aW9uIGhhcyhrZXkpe1xuICAgICAgICByZXR1cm4gISFnZXRFbnRyeSh0aGlzLCBrZXkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmKERFU0NSSVBUT1JTKWRQKEMucHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIGRlZmluZWQodGhpc1tTSVpFXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEM7XG4gIH0sXG4gIGRlZjogZnVuY3Rpb24odGhhdCwga2V5LCB2YWx1ZSl7XG4gICAgdmFyIGVudHJ5ID0gZ2V0RW50cnkodGhhdCwga2V5KVxuICAgICAgLCBwcmV2LCBpbmRleDtcbiAgICAvLyBjaGFuZ2UgZXhpc3RpbmcgZW50cnlcbiAgICBpZihlbnRyeSl7XG4gICAgICBlbnRyeS52ID0gdmFsdWU7XG4gICAgLy8gY3JlYXRlIG5ldyBlbnRyeVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGF0Ll9sID0gZW50cnkgPSB7XG4gICAgICAgIGk6IGluZGV4ID0gZmFzdEtleShrZXksIHRydWUpLCAvLyA8LSBpbmRleFxuICAgICAgICBrOiBrZXksICAgICAgICAgICAgICAgICAgICAgICAgLy8gPC0ga2V5XG4gICAgICAgIHY6IHZhbHVlLCAgICAgICAgICAgICAgICAgICAgICAvLyA8LSB2YWx1ZVxuICAgICAgICBwOiBwcmV2ID0gdGhhdC5fbCwgICAgICAgICAgICAgLy8gPC0gcHJldmlvdXMgZW50cnlcbiAgICAgICAgbjogdW5kZWZpbmVkLCAgICAgICAgICAgICAgICAgIC8vIDwtIG5leHQgZW50cnlcbiAgICAgICAgcjogZmFsc2UgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtIHJlbW92ZWRcbiAgICAgIH07XG4gICAgICBpZighdGhhdC5fZil0aGF0Ll9mID0gZW50cnk7XG4gICAgICBpZihwcmV2KXByZXYubiA9IGVudHJ5O1xuICAgICAgdGhhdFtTSVpFXSsrO1xuICAgICAgLy8gYWRkIHRvIGluZGV4XG4gICAgICBpZihpbmRleCAhPT0gJ0YnKXRoYXQuX2lbaW5kZXhdID0gZW50cnk7XG4gICAgfSByZXR1cm4gdGhhdDtcbiAgfSxcbiAgZ2V0RW50cnk6IGdldEVudHJ5LFxuICBzZXRTdHJvbmc6IGZ1bmN0aW9uKEMsIE5BTUUsIElTX01BUCl7XG4gICAgLy8gYWRkIC5rZXlzLCAudmFsdWVzLCAuZW50cmllcywgW0BAaXRlcmF0b3JdXG4gICAgLy8gMjMuMS4zLjQsIDIzLjEuMy44LCAyMy4xLjMuMTEsIDIzLjEuMy4xMiwgMjMuMi4zLjUsIDIzLjIuMy44LCAyMy4yLjMuMTAsIDIzLjIuMy4xMVxuICAgICRpdGVyRGVmaW5lKEMsIE5BTUUsIGZ1bmN0aW9uKGl0ZXJhdGVkLCBraW5kKXtcbiAgICAgIHRoaXMuX3QgPSBpdGVyYXRlZDsgIC8vIHRhcmdldFxuICAgICAgdGhpcy5fayA9IGtpbmQ7ICAgICAgLy8ga2luZFxuICAgICAgdGhpcy5fbCA9IHVuZGVmaW5lZDsgLy8gcHJldmlvdXNcbiAgICB9LCBmdW5jdGlvbigpe1xuICAgICAgdmFyIHRoYXQgID0gdGhpc1xuICAgICAgICAsIGtpbmQgID0gdGhhdC5fa1xuICAgICAgICAsIGVudHJ5ID0gdGhhdC5fbDtcbiAgICAgIC8vIHJldmVydCB0byB0aGUgbGFzdCBleGlzdGluZyBlbnRyeVxuICAgICAgd2hpbGUoZW50cnkgJiYgZW50cnkucillbnRyeSA9IGVudHJ5LnA7XG4gICAgICAvLyBnZXQgbmV4dCBlbnRyeVxuICAgICAgaWYoIXRoYXQuX3QgfHwgISh0aGF0Ll9sID0gZW50cnkgPSBlbnRyeSA/IGVudHJ5Lm4gOiB0aGF0Ll90Ll9mKSl7XG4gICAgICAgIC8vIG9yIGZpbmlzaCB0aGUgaXRlcmF0aW9uXG4gICAgICAgIHRoYXQuX3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzdGVwKDEpO1xuICAgICAgfVxuICAgICAgLy8gcmV0dXJuIHN0ZXAgYnkga2luZFxuICAgICAgaWYoa2luZCA9PSAna2V5cycgIClyZXR1cm4gc3RlcCgwLCBlbnRyeS5rKTtcbiAgICAgIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgZW50cnkudik7XG4gICAgICByZXR1cm4gc3RlcCgwLCBbZW50cnkuaywgZW50cnkudl0pO1xuICAgIH0sIElTX01BUCA/ICdlbnRyaWVzJyA6ICd2YWx1ZXMnICwgIUlTX01BUCwgdHJ1ZSk7XG5cbiAgICAvLyBhZGQgW0BAc3BlY2llc10sIDIzLjEuMi4yLCAyMy4yLjIuMlxuICAgIHNldFNwZWNpZXMoTkFNRSk7XG4gIH1cbn07IiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL0RhdmlkQnJ1YW50L01hcC1TZXQucHJvdG90eXBlLnRvSlNPTlxudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuL19jbGFzc29mJylcbiAgLCBmcm9tICAgID0gcmVxdWlyZSgnLi9fYXJyYXktZnJvbS1pdGVyYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihOQU1FKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIHRvSlNPTigpe1xuICAgIGlmKGNsYXNzb2YodGhpcykgIT0gTkFNRSl0aHJvdyBUeXBlRXJyb3IoTkFNRSArIFwiI3RvSlNPTiBpc24ndCBnZW5lcmljXCIpO1xuICAgIHJldHVybiBmcm9tKHRoaXMpO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBtZXRhICAgICAgICAgICA9IHJlcXVpcmUoJy4vX21ldGEnKVxuICAsIGZhaWxzICAgICAgICAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKVxuICAsIGhpZGUgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgcmVkZWZpbmVBbGwgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKVxuICAsIGZvck9mICAgICAgICAgID0gcmVxdWlyZSgnLi9fZm9yLW9mJylcbiAgLCBhbkluc3RhbmNlICAgICA9IHJlcXVpcmUoJy4vX2FuLWluc3RhbmNlJylcbiAgLCBpc09iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpXG4gICwgZFAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgZWFjaCAgICAgICAgICAgPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJykoMClcbiAgLCBERVNDUklQVE9SUyAgICA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oTkFNRSwgd3JhcHBlciwgbWV0aG9kcywgY29tbW9uLCBJU19NQVAsIElTX1dFQUspe1xuICB2YXIgQmFzZSAgPSBnbG9iYWxbTkFNRV1cbiAgICAsIEMgICAgID0gQmFzZVxuICAgICwgQURERVIgPSBJU19NQVAgPyAnc2V0JyA6ICdhZGQnXG4gICAgLCBwcm90byA9IEMgJiYgQy5wcm90b3R5cGVcbiAgICAsIE8gICAgID0ge307XG4gIGlmKCFERVNDUklQVE9SUyB8fCB0eXBlb2YgQyAhPSAnZnVuY3Rpb24nIHx8ICEoSVNfV0VBSyB8fCBwcm90by5mb3JFYWNoICYmICFmYWlscyhmdW5jdGlvbigpe1xuICAgIG5ldyBDKCkuZW50cmllcygpLm5leHQoKTtcbiAgfSkpKXtcbiAgICAvLyBjcmVhdGUgY29sbGVjdGlvbiBjb25zdHJ1Y3RvclxuICAgIEMgPSBjb21tb24uZ2V0Q29uc3RydWN0b3Iod3JhcHBlciwgTkFNRSwgSVNfTUFQLCBBRERFUik7XG4gICAgcmVkZWZpbmVBbGwoQy5wcm90b3R5cGUsIG1ldGhvZHMpO1xuICAgIG1ldGEuTkVFRCA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgQyA9IHdyYXBwZXIoZnVuY3Rpb24odGFyZ2V0LCBpdGVyYWJsZSl7XG4gICAgICBhbkluc3RhbmNlKHRhcmdldCwgQywgTkFNRSwgJ19jJyk7XG4gICAgICB0YXJnZXQuX2MgPSBuZXcgQmFzZTtcbiAgICAgIGlmKGl0ZXJhYmxlICE9IHVuZGVmaW5lZClmb3JPZihpdGVyYWJsZSwgSVNfTUFQLCB0YXJnZXRbQURERVJdLCB0YXJnZXQpO1xuICAgIH0pO1xuICAgIGVhY2goJ2FkZCxjbGVhcixkZWxldGUsZm9yRWFjaCxnZXQsaGFzLHNldCxrZXlzLHZhbHVlcyxlbnRyaWVzLHRvSlNPTicuc3BsaXQoJywnKSxmdW5jdGlvbihLRVkpe1xuICAgICAgdmFyIElTX0FEREVSID0gS0VZID09ICdhZGQnIHx8IEtFWSA9PSAnc2V0JztcbiAgICAgIGlmKEtFWSBpbiBwcm90byAmJiAhKElTX1dFQUsgJiYgS0VZID09ICdjbGVhcicpKWhpZGUoQy5wcm90b3R5cGUsIEtFWSwgZnVuY3Rpb24oYSwgYil7XG4gICAgICAgIGFuSW5zdGFuY2UodGhpcywgQywgS0VZKTtcbiAgICAgICAgaWYoIUlTX0FEREVSICYmIElTX1dFQUsgJiYgIWlzT2JqZWN0KGEpKXJldHVybiBLRVkgPT0gJ2dldCcgPyB1bmRlZmluZWQgOiBmYWxzZTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2NbS0VZXShhID09PSAwID8gMCA6IGEsIGIpO1xuICAgICAgICByZXR1cm4gSVNfQURERVIgPyB0aGlzIDogcmVzdWx0O1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYoJ3NpemUnIGluIHByb3RvKWRQKEMucHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Muc2l6ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNldFRvU3RyaW5nVGFnKEMsIE5BTUUpO1xuXG4gIE9bTkFNRV0gPSBDO1xuICAkZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiwgTyk7XG5cbiAgaWYoIUlTX1dFQUspY29tbW9uLnNldFN0cm9uZyhDLCBOQU1FLCBJU19NQVApO1xuXG4gIHJldHVybiBDO1xufTsiLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcyLjQuMCd9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgY3JlYXRlRGVzYyAgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgaW5kZXgsIHZhbHVlKXtcbiAgaWYoaW5kZXggaW4gb2JqZWN0KSRkZWZpbmVQcm9wZXJ0eS5mKG9iamVjdCwgaW5kZXgsIGNyZWF0ZURlc2MoMCwgdmFsdWUpKTtcbiAgZWxzZSBvYmplY3RbaW5kZXhdID0gdmFsdWU7XG59OyIsIi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIHRoYXQsIGxlbmd0aCl7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmKHRoYXQgPT09IHVuZGVmaW5lZClyZXR1cm4gZm47XG4gIHN3aXRjaChsZW5ndGgpe1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKGEpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbigvKiAuLi5hcmdzICovKXtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07IiwiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59OyIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcbn0pOyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudFxuICAvLyBpbiBvbGQgSUUgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCdcbiAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTsiLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTsiLCIvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QUyAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJylcbiAgLCBwSUUgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciByZXN1bHQgICAgID0gZ2V0S2V5cyhpdClcbiAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIGlmKGdldFN5bWJvbHMpe1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdClcbiAgICAgICwgaXNFbnVtICA9IHBJRS5mXG4gICAgICAsIGkgICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTsiLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBjdHggICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGhpZGUgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GXG4gICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG4gICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG4gICAgLCBJU19QUk9UTyAgPSB0eXBlICYgJGV4cG9ydC5QXG4gICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG4gICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG4gICAgLCBleHBvcnRzICAgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KVxuICAgICwgZXhwUHJvdG8gID0gZXhwb3J0c1tQUk9UT1RZUEVdXG4gICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBrZXksIG93biwgb3V0O1xuICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgICBpZih0aGlzIGluc3RhbmNlb2YgQyl7XG4gICAgICAgICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEM7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQyhhKTtcbiAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuICAgICAgICB9IHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5tZXRob2RzLiVOQU1FJVxuICAgIGlmKElTX1BST1RPKXtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZih0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKWhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59OyIsInZhciBjdHggICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgY2FsbCAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyLWNhbGwnKVxuICAsIGlzQXJyYXlJdGVyID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpXG4gICwgYW5PYmplY3QgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIHRvTGVuZ3RoICAgID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCBnZXRJdGVyRm4gICA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJylcbiAgLCBCUkVBSyAgICAgICA9IHt9XG4gICwgUkVUVVJOICAgICAgPSB7fTtcbnZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYWJsZSwgZW50cmllcywgZm4sIHRoYXQsIElURVJBVE9SKXtcbiAgdmFyIGl0ZXJGbiA9IElURVJBVE9SID8gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXJhYmxlOyB9IDogZ2V0SXRlckZuKGl0ZXJhYmxlKVxuICAgICwgZiAgICAgID0gY3R4KGZuLCB0aGF0LCBlbnRyaWVzID8gMiA6IDEpXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBsZW5ndGgsIHN0ZXAsIGl0ZXJhdG9yLCByZXN1bHQ7XG4gIGlmKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgLy8gZmFzdCBjYXNlIGZvciBhcnJheXMgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yXG4gIGlmKGlzQXJyYXlJdGVyKGl0ZXJGbikpZm9yKGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKXtcbiAgICByZXN1bHQgPSBlbnRyaWVzID8gZihhbk9iamVjdChzdGVwID0gaXRlcmFibGVbaW5kZXhdKVswXSwgc3RlcFsxXSkgOiBmKGl0ZXJhYmxlW2luZGV4XSk7XG4gICAgaWYocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTilyZXR1cm4gcmVzdWx0O1xuICB9IGVsc2UgZm9yKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoaXRlcmFibGUpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7ICl7XG4gICAgcmVzdWx0ID0gY2FsbChpdGVyYXRvciwgZiwgc3RlcC52YWx1ZSwgZW50cmllcyk7XG4gICAgaWYocmVzdWx0ID09PSBCUkVBSyB8fCByZXN1bHQgPT09IFJFVFVSTilyZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuZXhwb3J0cy5CUkVBSyAgPSBCUkVBSztcbmV4cG9ydHMuUkVUVVJOID0gUkVUVVJOOyIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYodHlwZW9mIF9fZyA9PSAnbnVtYmVyJylfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWYiLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIGtleSl7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTsiLCJ2YXIgZFAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7IiwibW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTsiLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIGFyZ3MsIHRoYXQpe1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaChhcmdzLmxlbmd0aCl7XG4gICAgY2FzZSAwOiByZXR1cm4gdW4gPyBmbigpXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQpO1xuICAgIGNhc2UgMTogcmV0dXJuIHVuID8gZm4oYXJnc1swXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIGNhc2UgNDogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gIH0gcmV0dXJuICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07IiwiLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07IiwiLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIEl0ZXJhdG9ycyAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsIElURVJBVE9SICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgIT09IHVuZGVmaW5lZCAmJiAoSXRlcmF0b3JzLkFycmF5ID09PSBpdCB8fCBBcnJheVByb3RvW0lURVJBVE9SXSA9PT0gaXQpO1xufTsiLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKXtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTsiLCIvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaChlKXtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTsiLCIndXNlIHN0cmljdCc7XG52YXIgY3JlYXRlICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJylcbiAgLCBkZXNjcmlwdG9yICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpe1xuICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgaGlkZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgSXRlcmF0b3JzICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsICRpdGVyQ3JlYXRlICAgID0gcmVxdWlyZSgnLi9faXRlci1jcmVhdGUnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICwgSVRFUkFUT1IgICAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEJVR0dZICAgICAgICAgID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpIC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuICAsIEtFWVMgICAgICAgICAgID0gJ2tleXMnXG4gICwgVkFMVUVTICAgICAgICAgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKXtcbiAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoKGtpbmQpe1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG4gICAgLCBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVNcbiAgICAsIFZBTFVFU19CVUcgPSBmYWxzZVxuICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG4gICAgLCAkbmF0aXZlICAgID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG4gICAgLCAkZGVmYXVsdCAgID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVClcbiAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG4gICAgLCAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZVxuICAgICwgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZigkYW55TmF0aXZlKXtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSkpO1xuICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZighTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUyl7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpe1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcbiAgaWYoREVGQVVMVCl7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogICAgSVNfU0VUICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmKEZPUkNFRClmb3Ioa2V5IGluIG1ldGhvZHMpe1xuICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKXJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07IiwidmFyIElURVJBVE9SICAgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cbnRyeSB7XG4gIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTtcbiAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24oKXsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTtcbiAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7XG59IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYywgc2tpcENsb3Npbmcpe1xuICBpZighc2tpcENsb3NpbmcgJiYgIVNBRkVfQ0xPU0lORylyZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciAgPSBbN11cbiAgICAgICwgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpeyByZXR1cm4ge2RvbmU6IHNhZmUgPSB0cnVlfTsgfTtcbiAgICBhcnJbSVRFUkFUT1JdID0gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXI7IH07XG4gICAgZXhlYyhhcnIpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBzYWZlO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcbiAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge307IiwidmFyIGdldEtleXMgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJylcbiAgLCB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgZWwpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGtleXMgICA9IGdldEtleXMoTylcbiAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgLCBpbmRleCAgPSAwXG4gICAgLCBrZXk7XG4gIHdoaWxlKGxlbmd0aCA+IGluZGV4KWlmKE9ba2V5ID0ga2V5c1tpbmRleCsrXV0gPT09IGVsKXJldHVybiBrZXk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTsiLCJ2YXIgTUVUQSAgICAgPSByZXF1aXJlKCcuL191aWQnKSgnbWV0YScpXG4gICwgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGhhcyAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBzZXREZXNjICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZcbiAgLCBpZCAgICAgICA9IDA7XG52YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZSB8fCBmdW5jdGlvbigpe1xuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgRlJFRVpFID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbihpdCl7XG4gIHNldERlc2MoaXQsIE1FVEEsIHt2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH19KTtcbn07XG52YXIgZmFzdEtleSA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcbiAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmKCFjcmVhdGUpcmV0dXJuICdFJztcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gb2JqZWN0IElEXG4gIH0gcmV0dXJuIGl0W01FVEFdLmk7XG59O1xudmFyIGdldFdlYWsgPSBmdW5jdGlvbihpdCwgY3JlYXRlKXtcbiAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuIHRydWU7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZighY3JlYXRlKXJldHVybiBmYWxzZTtcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IHJldHVybiBpdFtNRVRBXS53O1xufTtcbi8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xudmFyIG9uRnJlZXplID0gZnVuY3Rpb24oaXQpe1xuICBpZihGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpc2V0TWV0YShpdCk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgbWV0YSA9IG1vZHVsZS5leHBvcnRzID0ge1xuICBLRVk6ICAgICAgTUVUQSxcbiAgTkVFRDogICAgIGZhbHNlLFxuICBmYXN0S2V5OiAgZmFzdEtleSxcbiAgZ2V0V2VhazogIGdldFdlYWssXG4gIG9uRnJlZXplOiBvbkZyZWV6ZVxufTsiLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBtYWNyb3Rhc2sgPSByZXF1aXJlKCcuL190YXNrJykuc2V0XG4gICwgT2JzZXJ2ZXIgID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXJcbiAgLCBwcm9jZXNzICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIFByb21pc2UgICA9IGdsb2JhbC5Qcm9taXNlXG4gICwgaXNOb2RlICAgID0gcmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7XG4gIHZhciBoZWFkLCBsYXN0LCBub3RpZnk7XG5cbiAgdmFyIGZsdXNoID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcGFyZW50LCBmbjtcbiAgICBpZihpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSlwYXJlbnQuZXhpdCgpO1xuICAgIHdoaWxlKGhlYWQpe1xuICAgICAgZm4gICA9IGhlYWQuZm47XG4gICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIGlmKGhlYWQpbm90aWZ5KCk7XG4gICAgICAgIGVsc2UgbGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9IGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgaWYocGFyZW50KXBhcmVudC5lbnRlcigpO1xuICB9O1xuXG4gIC8vIE5vZGUuanNcbiAgaWYoaXNOb2RlKXtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gICAgfTtcbiAgLy8gYnJvd3NlcnMgd2l0aCBNdXRhdGlvbk9ic2VydmVyXG4gIH0gZWxzZSBpZihPYnNlcnZlcil7XG4gICAgdmFyIHRvZ2dsZSA9IHRydWVcbiAgICAgICwgbm9kZSAgID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgIG5ldyBPYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7Y2hhcmFjdGVyRGF0YTogdHJ1ZX0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAhdG9nZ2xlO1xuICAgIH07XG4gIC8vIGVudmlyb25tZW50cyB3aXRoIG1heWJlIG5vbi1jb21wbGV0ZWx5IGNvcnJlY3QsIGJ1dCBleGlzdGVudCBQcm9taXNlXG4gIH0gZWxzZSBpZihQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSl7XG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgcHJvbWlzZS50aGVuKGZsdXNoKTtcbiAgICB9O1xuICAvLyBmb3Igb3RoZXIgZW52aXJvbm1lbnRzIC0gbWFjcm90YXNrIGJhc2VkIG9uOlxuICAvLyAtIHNldEltbWVkaWF0ZVxuICAvLyAtIE1lc3NhZ2VDaGFubmVsXG4gIC8vIC0gd2luZG93LnBvc3RNZXNzYWdcbiAgLy8gLSBvbnJlYWR5c3RhdGVjaGFuZ2VcbiAgLy8gLSBzZXRUaW1lb3V0XG4gIH0gZWxzZSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5jYWxsKGdsb2JhbClcbiAgICAgIG1hY3JvdGFzay5jYWxsKGdsb2JhbCwgZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24oZm4pe1xuICAgIHZhciB0YXNrID0ge2ZuOiBmbiwgbmV4dDogdW5kZWZpbmVkfTtcbiAgICBpZihsYXN0KWxhc3QubmV4dCA9IHRhc2s7XG4gICAgaWYoIWhlYWQpe1xuICAgICAgaGVhZCA9IHRhc2s7XG4gICAgICBub3RpZnkoKTtcbiAgICB9IGxhc3QgPSB0YXNrO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG4vLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pXG52YXIgZ2V0S2V5cyAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QUyAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpXG4gICwgcElFICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJylcbiAgLCB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgSU9iamVjdCAgPSByZXF1aXJlKCcuL19pb2JqZWN0JylcbiAgLCAkYXNzaWduICA9IE9iamVjdC5hc3NpZ247XG5cbi8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxubW9kdWxlLmV4cG9ydHMgPSAhJGFzc2lnbiB8fCByZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHZhciBBID0ge31cbiAgICAsIEIgPSB7fVxuICAgICwgUyA9IFN5bWJvbCgpXG4gICAgLCBLID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgQVtTXSA9IDc7XG4gIEsuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24oayl7IEJba10gPSBrOyB9KTtcbiAgcmV0dXJuICRhc3NpZ24oe30sIEEpW1NdICE9IDcgfHwgT2JqZWN0LmtleXMoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9IEs7XG59KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgdmFyIFQgICAgID0gdG9PYmplY3QodGFyZ2V0KVxuICAgICwgYUxlbiAgPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBpbmRleCA9IDFcbiAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmZcbiAgICAsIGlzRW51bSAgICAgPSBwSUUuZjtcbiAgd2hpbGUoYUxlbiA+IGluZGV4KXtcbiAgICB2YXIgUyAgICAgID0gSU9iamVjdChhcmd1bWVudHNbaW5kZXgrK10pXG4gICAgICAsIGtleXMgICA9IGdldFN5bWJvbHMgPyBnZXRLZXlzKFMpLmNvbmNhdChnZXRTeW1ib2xzKFMpKSA6IGdldEtleXMoUylcbiAgICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAgICwgaiAgICAgID0gMFxuICAgICAgLCBrZXk7XG4gICAgd2hpbGUobGVuZ3RoID4gailpZihpc0VudW0uY2FsbChTLCBrZXkgPSBrZXlzW2orK10pKVRba2V5XSA9IFNba2V5XTtcbiAgfSByZXR1cm4gVDtcbn0gOiAkYXNzaWduOyIsIi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxudmFyIGFuT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBkUHMgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKVxuICAsIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpXG4gICwgSUVfUFJPVE8gICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJylcbiAgLCBFbXB0eSAgICAgICA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH1cbiAgLCBQUk9UT1RZUEUgICA9ICdwcm90b3R5cGUnO1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uKCl7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpXG4gICAgLCBpICAgICAgPSBlbnVtQnVnS2V5cy5sZW5ndGhcbiAgICAsIGx0ICAgICA9ICc8J1xuICAgICwgZ3QgICAgID0gJz4nXG4gICAgLCBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZShpLS0pZGVsZXRlIGNyZWF0ZURpY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tpXV07XG4gIHJldHVybiBjcmVhdGVEaWN0KCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpe1xuICB2YXIgcmVzdWx0O1xuICBpZihPICE9PSBudWxsKXtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG4gICAgcmVzdWx0ID0gbmV3IEVtcHR5O1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcbiIsInZhciBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZignZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07IiwidmFyIGRQICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgZ2V0S2V5cyAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcyl7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5cyAgID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKVxuICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAsIGkgPSAwXG4gICAgLCBQO1xuICB3aGlsZShsZW5ndGggPiBpKWRQLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7XG4gIHJldHVybiBPO1xufTsiLCJ2YXIgcElFICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJylcbiAgLCBjcmVhdGVEZXNjICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIHRvSU9iamVjdCAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJylcbiAgLCBnT1BEICAgICAgICAgICA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBnT1BEIDogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApe1xuICBPID0gdG9JT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGdPUEQoTywgUCk7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgaWYoaGFzKE8sIFApKXJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07IiwiLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIGdPUE4gICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZlxuICAsIHRvU3RyaW5nICA9IHt9LnRvU3RyaW5nO1xuXG52YXIgd2luZG93TmFtZXMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHdpbmRvdyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblxudmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24oaXQpe1xuICB0cnkge1xuICAgIHJldHVybiBnT1BOKGl0KTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScgPyBnZXRXaW5kb3dOYW1lcyhpdCkgOiBnT1BOKHRvSU9iamVjdChpdCkpO1xufTtcbiIsIi8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnZhciAka2V5cyAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKVxuICAsIGhpZGRlbktleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJykuY29uY2F0KCdsZW5ndGgnLCAncHJvdG90eXBlJyk7XG5cbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTyl7XG4gIHJldHVybiAka2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07IiwiZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczsiLCIvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIGhhcyAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCB0b09iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgSUVfUFJPVE8gICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJylcbiAgLCBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uKE8pe1xuICBPID0gdG9PYmplY3QoTyk7XG4gIGlmKGhhcyhPLCBJRV9QUk9UTykpcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZih0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKXtcbiAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG59OyIsInZhciBoYXMgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIHRvSU9iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpXG4gICwgSUVfUFJPVE8gICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZXMpe1xuICB2YXIgTyAgICAgID0gdG9JT2JqZWN0KG9iamVjdClcbiAgICAsIGkgICAgICA9IDBcbiAgICAsIHJlc3VsdCA9IFtdXG4gICAgLCBrZXk7XG4gIGZvcihrZXkgaW4gTylpZihrZXkgIT0gSUVfUFJPVE8paGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKWlmKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSl7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTsiLCIvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcbnZhciAka2V5cyAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJylcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pe1xuICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xufTsiLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTsiLCIvLyBtb3N0IE9iamVjdCBtZXRob2RzIGJ5IEVTNiBzaG91bGQgYWNjZXB0IHByaW1pdGl2ZXNcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBjb3JlICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgZmFpbHMgICA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSwgZXhlYyl7XG4gIHZhciBmbiAgPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV1cbiAgICAsIGV4cCA9IHt9O1xuICBleHBbS0VZXSA9IGV4ZWMoZm4pO1xuICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIGZhaWxzKGZ1bmN0aW9uKCl7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYml0bWFwLCB2YWx1ZSl7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZSAgOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZSAgICA6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWUgICAgICAgOiB2YWx1ZVxuICB9O1xufTsiLCJ2YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGFyZ2V0LCBzcmMsIHNhZmUpe1xuICBmb3IodmFyIGtleSBpbiBzcmMpe1xuICAgIGlmKHNhZmUgJiYgdGFyZ2V0W2tleV0pdGFyZ2V0W2tleV0gPSBzcmNba2V5XTtcbiAgICBlbHNlIGhpZGUodGFyZ2V0LCBrZXksIHNyY1trZXldKTtcbiAgfSByZXR1cm4gdGFyZ2V0O1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2hpZGUnKTsiLCIvLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgY2hlY2sgPSBmdW5jdGlvbihPLCBwcm90byl7XG4gIGFuT2JqZWN0KE8pO1xuICBpZighaXNPYmplY3QocHJvdG8pICYmIHByb3RvICE9PSBudWxsKXRocm93IFR5cGVFcnJvcihwcm90byArIFwiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlIVwiKTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKCdfX3Byb3RvX18nIGluIHt9ID8gLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZ1bmN0aW9uKHRlc3QsIGJ1Z2d5LCBzZXQpe1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0ID0gcmVxdWlyZSgnLi9fY3R4JykoRnVuY3Rpb24uY2FsbCwgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKS5mKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQsIDIpO1xuICAgICAgICBzZXQodGVzdCwgW10pO1xuICAgICAgICBidWdneSA9ICEodGVzdCBpbnN0YW5jZW9mIEFycmF5KTtcbiAgICAgIH0gY2F0Y2goZSl7IGJ1Z2d5ID0gdHJ1ZTsgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKXtcbiAgICAgICAgY2hlY2soTywgcHJvdG8pO1xuICAgICAgICBpZihidWdneSlPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgICBlbHNlIHNldChPLCBwcm90byk7XG4gICAgICAgIHJldHVybiBPO1xuICAgICAgfTtcbiAgICB9KHt9LCBmYWxzZSkgOiB1bmRlZmluZWQpLFxuICBjaGVjazogY2hlY2tcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGRQICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJylcbiAgLCBTUEVDSUVTICAgICA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZKXtcbiAgdmFyIEMgPSB0eXBlb2YgY29yZVtLRVldID09ICdmdW5jdGlvbicgPyBjb3JlW0tFWV0gOiBnbG9iYWxbS0VZXTtcbiAgaWYoREVTQ1JJUFRPUlMgJiYgQyAmJiAhQ1tTUEVDSUVTXSlkUC5mKEMsIFNQRUNJRVMsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfVxuICB9KTtcbn07IiwidmFyIGRlZiA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZcbiAgLCBoYXMgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCB0YWcsIHN0YXQpe1xuICBpZihpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKWRlZihpdCwgVEFHLCB7Y29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnfSk7XG59OyIsInZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgna2V5cycpXG4gICwgdWlkICAgID0gcmVxdWlyZSgnLi9fdWlkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG59OyIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nXG4gICwgc3RvcmUgID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcbn07IiwiLy8gNy4zLjIwIFNwZWNpZXNDb25zdHJ1Y3RvcihPLCBkZWZhdWx0Q29uc3RydWN0b3IpXG52YXIgYW5PYmplY3QgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJylcbiAgLCBTUEVDSUVTICAgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihPLCBEKXtcbiAgdmFyIEMgPSBhbk9iamVjdChPKS5jb25zdHJ1Y3RvciwgUztcbiAgcmV0dXJuIEMgPT09IHVuZGVmaW5lZCB8fCAoUyA9IGFuT2JqZWN0KEMpW1NQRUNJRVNdKSA9PSB1bmRlZmluZWQgPyBEIDogYUZ1bmN0aW9uKFMpO1xufTsiLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgZGVmaW5lZCAgID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVE9fU1RSSU5HKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSlcbiAgICAgICwgaSA9IHRvSW50ZWdlcihwb3MpXG4gICAgICAsIGwgPSBzLmxlbmd0aFxuICAgICAgLCBhLCBiO1xuICAgIGlmKGkgPCAwIHx8IGkgPj0gbClyZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTsiLCJ2YXIgY3R4ICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fY3R4JylcbiAgLCBpbnZva2UgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19pbnZva2UnKVxuICAsIGh0bWwgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2h0bWwnKVxuICAsIGNlbCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKVxuICAsIGdsb2JhbCAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgcHJvY2VzcyAgICAgICAgICAgID0gZ2xvYmFsLnByb2Nlc3NcbiAgLCBzZXRUYXNrICAgICAgICAgICAgPSBnbG9iYWwuc2V0SW1tZWRpYXRlXG4gICwgY2xlYXJUYXNrICAgICAgICAgID0gZ2xvYmFsLmNsZWFySW1tZWRpYXRlXG4gICwgTWVzc2FnZUNoYW5uZWwgICAgID0gZ2xvYmFsLk1lc3NhZ2VDaGFubmVsXG4gICwgY291bnRlciAgICAgICAgICAgID0gMFxuICAsIHF1ZXVlICAgICAgICAgICAgICA9IHt9XG4gICwgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZSdcbiAgLCBkZWZlciwgY2hhbm5lbCwgcG9ydDtcbnZhciBydW4gPSBmdW5jdGlvbigpe1xuICB2YXIgaWQgPSArdGhpcztcbiAgaWYocXVldWUuaGFzT3duUHJvcGVydHkoaWQpKXtcbiAgICB2YXIgZm4gPSBxdWV1ZVtpZF07XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgICBmbigpO1xuICB9XG59O1xudmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQpe1xuICBydW4uY2FsbChldmVudC5kYXRhKTtcbn07XG4vLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6XG5pZighc2V0VGFzayB8fCAhY2xlYXJUYXNrKXtcbiAgc2V0VGFzayA9IGZ1bmN0aW9uIHNldEltbWVkaWF0ZShmbil7XG4gICAgdmFyIGFyZ3MgPSBbXSwgaSA9IDE7XG4gICAgd2hpbGUoYXJndW1lbnRzLmxlbmd0aCA+IGkpYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICBxdWV1ZVsrK2NvdW50ZXJdID0gZnVuY3Rpb24oKXtcbiAgICAgIGludm9rZSh0eXBlb2YgZm4gPT0gJ2Z1bmN0aW9uJyA/IGZuIDogRnVuY3Rpb24oZm4pLCBhcmdzKTtcbiAgICB9O1xuICAgIGRlZmVyKGNvdW50ZXIpO1xuICAgIHJldHVybiBjb3VudGVyO1xuICB9O1xuICBjbGVhclRhc2sgPSBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShpZCl7XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgfTtcbiAgLy8gTm9kZS5qcyAwLjgtXG4gIGlmKHJlcXVpcmUoJy4vX2NvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJyl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGN0eChydW4sIGlkLCAxKSk7XG4gICAgfTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBNZXNzYWdlQ2hhbm5lbCwgaW5jbHVkZXMgV2ViV29ya2Vyc1xuICB9IGVsc2UgaWYoTWVzc2FnZUNoYW5uZWwpe1xuICAgIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWw7XG4gICAgcG9ydCAgICA9IGNoYW5uZWwucG9ydDI7XG4gICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaXN0ZW5lcjtcbiAgICBkZWZlciA9IGN0eChwb3J0LnBvc3RNZXNzYWdlLCBwb3J0LCAxKTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBwb3N0TWVzc2FnZSwgc2tpcCBXZWJXb3JrZXJzXG4gIC8vIElFOCBoYXMgcG9zdE1lc3NhZ2UsIGJ1dCBpdCdzIHN5bmMgJiB0eXBlb2YgaXRzIHBvc3RNZXNzYWdlIGlzICdvYmplY3QnXG4gIH0gZWxzZSBpZihnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lciAmJiB0eXBlb2YgcG9zdE1lc3NhZ2UgPT0gJ2Z1bmN0aW9uJyAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKGlkICsgJycsICcqJyk7XG4gICAgfTtcbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RlbmVyLCBmYWxzZSk7XG4gIC8vIElFOC1cbiAgfSBlbHNlIGlmKE9OUkVBRFlTVEFURUNIQU5HRSBpbiBjZWwoJ3NjcmlwdCcpKXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoY2VsKCdzY3JpcHQnKSlbT05SRUFEWVNUQVRFQ0hBTkdFXSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIHJ1bi5jYWxsKGlkKTtcbiAgICAgIH07XG4gICAgfTtcbiAgLy8gUmVzdCBvbGQgYnJvd3NlcnNcbiAgfSBlbHNlIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIHNldFRpbWVvdXQoY3R4KHJ1biwgaWQsIDEpLCAwKTtcbiAgICB9O1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiAgIHNldFRhc2ssXG4gIGNsZWFyOiBjbGVhclRhc2tcbn07IiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1heCAgICAgICA9IE1hdGgubWF4XG4gICwgbWluICAgICAgID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGluZGV4LCBsZW5ndGgpe1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTsiLCIvLyA3LjEuNCBUb0ludGVnZXJcbnZhciBjZWlsICA9IE1hdGguY2VpbFxuICAsIGZsb29yID0gTWF0aC5mbG9vcjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07IiwiLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKVxuICAsIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xufTsiLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTsiLCIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07IiwiLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgUyl7XG4gIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZih0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIGlmKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07IiwidmFyIGlkID0gMFxuICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07IiwidmFyIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIExJQlJBUlkgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICwgd2tzRXh0ICAgICAgICAgPSByZXF1aXJlKCcuL193a3MtZXh0JylcbiAgLCBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuICB2YXIgJFN5bWJvbCA9IGNvcmUuU3ltYm9sIHx8IChjb3JlLlN5bWJvbCA9IExJQlJBUlkgPyB7fSA6IGdsb2JhbC5TeW1ib2wgfHwge30pO1xuICBpZihuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKWRlZmluZVByb3BlcnR5KCRTeW1ib2wsIG5hbWUsIHt2YWx1ZTogd2tzRXh0LmYobmFtZSl9KTtcbn07IiwiZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fd2tzJyk7IiwidmFyIHN0b3JlICAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJylcbiAgLCB1aWQgICAgICAgID0gcmVxdWlyZSgnLi9fdWlkJylcbiAgLCBTeW1ib2wgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sXG4gICwgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7IiwidmFyIGNsYXNzb2YgICA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKVxuICAsIElURVJBVE9SICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgIT0gdW5kZWZpbmVkKXJldHVybiBpdFtJVEVSQVRPUl1cbiAgICB8fCBpdFsnQEBpdGVyYXRvciddXG4gICAgfHwgSXRlcmF0b3JzW2NsYXNzb2YoaXQpXTtcbn07IiwidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBnZXQgICAgICA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5nZXRJdGVyYXRvciA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIGl0ZXJGbiA9IGdldChpdCk7XG4gIGlmKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgcmV0dXJuIGFuT2JqZWN0KGl0ZXJGbi5jYWxsKGl0KSk7XG59OyIsInZhciBjbGFzc29mICAgPSByZXF1aXJlKCcuL19jbGFzc29mJylcbiAgLCBJVEVSQVRPUiAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuaXNJdGVyYWJsZSA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIE8gPSBPYmplY3QoaXQpO1xuICByZXR1cm4gT1tJVEVSQVRPUl0gIT09IHVuZGVmaW5lZFxuICAgIHx8ICdAQGl0ZXJhdG9yJyBpbiBPXG4gICAgfHwgSXRlcmF0b3JzLmhhc093blByb3BlcnR5KGNsYXNzb2YoTykpO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgY3R4ICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCB0b09iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgY2FsbCAgICAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyLWNhbGwnKVxuICAsIGlzQXJyYXlJdGVyICAgID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpXG4gICwgdG9MZW5ndGggICAgICAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIGNyZWF0ZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fY3JlYXRlLXByb3BlcnR5JylcbiAgLCBnZXRJdGVyRm4gICAgICA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2l0ZXItZGV0ZWN0JykoZnVuY3Rpb24oaXRlcil7IEFycmF5LmZyb20oaXRlcik7IH0pLCAnQXJyYXknLCB7XG4gIC8vIDIyLjEuMi4xIEFycmF5LmZyb20oYXJyYXlMaWtlLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZClcbiAgZnJvbTogZnVuY3Rpb24gZnJvbShhcnJheUxpa2UvKiwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQqLyl7XG4gICAgdmFyIE8gICAgICAgPSB0b09iamVjdChhcnJheUxpa2UpXG4gICAgICAsIEMgICAgICAgPSB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nID8gdGhpcyA6IEFycmF5XG4gICAgICAsIGFMZW4gICAgPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAsIG1hcGZuICAgPSBhTGVuID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZFxuICAgICAgLCBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZFxuICAgICAgLCBpbmRleCAgID0gMFxuICAgICAgLCBpdGVyRm4gID0gZ2V0SXRlckZuKE8pXG4gICAgICAsIGxlbmd0aCwgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcbiAgICBpZihtYXBwaW5nKW1hcGZuID0gY3R4KG1hcGZuLCBhTGVuID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCwgMik7XG4gICAgLy8gaWYgb2JqZWN0IGlzbid0IGl0ZXJhYmxlIG9yIGl0J3MgYXJyYXkgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIHNpbXBsZSBjYXNlXG4gICAgaWYoaXRlckZuICE9IHVuZGVmaW5lZCAmJiAhKEMgPT0gQXJyYXkgJiYgaXNBcnJheUl0ZXIoaXRlckZuKSkpe1xuICAgICAgZm9yKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoTyksIHJlc3VsdCA9IG5ldyBDOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7IGluZGV4Kyspe1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gY2FsbChpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICAgIGZvcihyZXN1bHQgPSBuZXcgQyhsZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKyl7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgaW5kZXgsIG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQubGVuZ3RoID0gaW5kZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgYWRkVG9VbnNjb3BhYmxlcyA9IHJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpXG4gICwgc3RlcCAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItc3RlcCcpXG4gICwgSXRlcmF0b3JzICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgdG9JT2JqZWN0ICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbihpdGVyYXRlZCwga2luZCl7XG4gIHRoaXMuX3QgPSB0b0lPYmplY3QoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdGhpcy5fayA9IGtpbmQ7ICAgICAgICAgICAgICAgIC8vIGtpbmRcbi8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwga2luZCAgPSB0aGlzLl9rXG4gICAgLCBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYoIU8gfHwgaW5kZXggPj0gTy5sZW5ndGgpe1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYoa2luZCA9PSAna2V5cycgIClyZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmKGtpbmQgPT0gJ3ZhbHVlcycpcmV0dXJuIHN0ZXAoMCwgT1tpbmRleF0pO1xuICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7XG59LCAndmFsdWVzJyk7XG5cbi8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJSAoOS40LjQuNiwgOS40LjQuNylcbkl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpOyIsIid1c2Ugc3RyaWN0JztcbnZhciBzdHJvbmcgPSByZXF1aXJlKCcuL19jb2xsZWN0aW9uLXN0cm9uZycpO1xuXG4vLyAyMy4xIE1hcCBPYmplY3RzXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvbGxlY3Rpb24nKSgnTWFwJywgZnVuY3Rpb24oZ2V0KXtcbiAgcmV0dXJuIGZ1bmN0aW9uIE1hcCgpeyByZXR1cm4gZ2V0KHRoaXMsIGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTsgfTtcbn0sIHtcbiAgLy8gMjMuMS4zLjYgTWFwLnByb3RvdHlwZS5nZXQoa2V5KVxuICBnZXQ6IGZ1bmN0aW9uIGdldChrZXkpe1xuICAgIHZhciBlbnRyeSA9IHN0cm9uZy5nZXRFbnRyeSh0aGlzLCBrZXkpO1xuICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeS52O1xuICB9LFxuICAvLyAyMy4xLjMuOSBNYXAucHJvdG90eXBlLnNldChrZXksIHZhbHVlKVxuICBzZXQ6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKXtcbiAgICByZXR1cm4gc3Ryb25nLmRlZih0aGlzLCBrZXkgPT09IDAgPyAwIDoga2V5LCB2YWx1ZSk7XG4gIH1cbn0sIHN0cm9uZywgdHJ1ZSk7IiwiLy8gMTkuMS4zLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GLCAnT2JqZWN0Jywge2Fzc2lnbjogcmVxdWlyZSgnLi9fb2JqZWN0LWFzc2lnbicpfSk7IiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtjcmVhdGU6IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKX0pOyIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSwgJ09iamVjdCcsIHtkZWZpbmVQcm9wZXJ0eTogcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZn0pOyIsIi8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIHRvT2JqZWN0ICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgJGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2dldFByb3RvdHlwZU9mJywgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGdldFByb3RvdHlwZU9mKGl0KXtcbiAgICByZXR1cm4gJGdldFByb3RvdHlwZU9mKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTsiLCIvLyAxOS4xLjIuMTQgT2JqZWN0LmtleXMoTylcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgJGtleXMgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2tleXMnLCBmdW5jdGlvbigpe1xuICByZXR1cm4gZnVuY3Rpb24ga2V5cyhpdCl7XG4gICAgcmV0dXJuICRrZXlzKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTsiLCIvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge3NldFByb3RvdHlwZU9mOiByZXF1aXJlKCcuL19zZXQtcHJvdG8nKS5zZXR9KTsiLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICwgZ2xvYmFsICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjdHggICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGNsYXNzb2YgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKVxuICAsICRleHBvcnQgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgaXNPYmplY3QgICAgICAgICAgID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBhRnVuY3Rpb24gICAgICAgICAgPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJylcbiAgLCBhbkluc3RhbmNlICAgICAgICAgPSByZXF1aXJlKCcuL19hbi1pbnN0YW5jZScpXG4gICwgZm9yT2YgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZm9yLW9mJylcbiAgLCBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL19zcGVjaWVzLWNvbnN0cnVjdG9yJylcbiAgLCB0YXNrICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL190YXNrJykuc2V0XG4gICwgbWljcm90YXNrICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWljcm90YXNrJykoKVxuICAsIFBST01JU0UgICAgICAgICAgICA9ICdQcm9taXNlJ1xuICAsIFR5cGVFcnJvciAgICAgICAgICA9IGdsb2JhbC5UeXBlRXJyb3JcbiAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsICRQcm9taXNlICAgICAgICAgICA9IGdsb2JhbFtQUk9NSVNFXVxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgaXNOb2RlICAgICAgICAgICAgID0gY2xhc3NvZihwcm9jZXNzKSA9PSAncHJvY2VzcydcbiAgLCBlbXB0eSAgICAgICAgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG4gICwgSW50ZXJuYWwsIEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSwgV3JhcHBlcjtcblxudmFyIFVTRV9OQVRJVkUgPSAhIWZ1bmN0aW9uKCl7XG4gIHRyeSB7XG4gICAgLy8gY29ycmVjdCBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0XG4gICAgdmFyIHByb21pc2UgICAgID0gJFByb21pc2UucmVzb2x2ZSgxKVxuICAgICAgLCBGYWtlUHJvbWlzZSA9IChwcm9taXNlLmNvbnN0cnVjdG9yID0ge30pW3JlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyldID0gZnVuY3Rpb24oZXhlYyl7IGV4ZWMoZW1wdHksIGVtcHR5KTsgfTtcbiAgICAvLyB1bmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0XG4gICAgcmV0dXJuIChpc05vZGUgfHwgdHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCA9PSAnZnVuY3Rpb24nKSAmJiBwcm9taXNlLnRoZW4oZW1wdHkpIGluc3RhbmNlb2YgRmFrZVByb21pc2U7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbn0oKTtcblxuLy8gaGVscGVyc1xudmFyIHNhbWVDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKGEsIGIpe1xuICAvLyB3aXRoIGxpYnJhcnkgd3JhcHBlciBzcGVjaWFsIGNhc2VcbiAgcmV0dXJuIGEgPT09IGIgfHwgYSA9PT0gJFByb21pc2UgJiYgYiA9PT0gV3JhcHBlcjtcbn07XG52YXIgaXNUaGVuYWJsZSA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgdHlwZW9mICh0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbn07XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbihDKXtcbiAgcmV0dXJuIHNhbWVDb25zdHJ1Y3RvcigkUHJvbWlzZSwgQylcbiAgICA/IG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgIDogbmV3IEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eShDKTtcbn07XG52YXIgUHJvbWlzZUNhcGFiaWxpdHkgPSBHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbihDKXtcbiAgdmFyIHJlc29sdmUsIHJlamVjdDtcbiAgdGhpcy5wcm9taXNlID0gbmV3IEMoZnVuY3Rpb24oJCRyZXNvbHZlLCAkJHJlamVjdCl7XG4gICAgaWYocmVzb2x2ZSAhPT0gdW5kZWZpbmVkIHx8IHJlamVjdCAhPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcignQmFkIFByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgIHJlamVjdCAgPSAkJHJlamVjdDtcbiAgfSk7XG4gIHRoaXMucmVzb2x2ZSA9IGFGdW5jdGlvbihyZXNvbHZlKTtcbiAgdGhpcy5yZWplY3QgID0gYUZ1bmN0aW9uKHJlamVjdCk7XG59O1xudmFyIHBlcmZvcm0gPSBmdW5jdGlvbihleGVjKXtcbiAgdHJ5IHtcbiAgICBleGVjKCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHtlcnJvcjogZX07XG4gIH1cbn07XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24ocHJvbWlzZSwgaXNSZWplY3Qpe1xuICBpZihwcm9taXNlLl9uKXJldHVybjtcbiAgcHJvbWlzZS5fbiA9IHRydWU7XG4gIHZhciBjaGFpbiA9IHByb21pc2UuX2M7XG4gIG1pY3JvdGFzayhmdW5jdGlvbigpe1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3ZcbiAgICAgICwgb2sgICAgPSBwcm9taXNlLl9zID09IDFcbiAgICAgICwgaSAgICAgPSAwO1xuICAgIHZhciBydW4gPSBmdW5jdGlvbihyZWFjdGlvbil7XG4gICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsXG4gICAgICAgICwgcmVzb2x2ZSA9IHJlYWN0aW9uLnJlc29sdmVcbiAgICAgICAgLCByZWplY3QgID0gcmVhY3Rpb24ucmVqZWN0XG4gICAgICAgICwgZG9tYWluICA9IHJlYWN0aW9uLmRvbWFpblxuICAgICAgICAsIHJlc3VsdCwgdGhlbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmKGhhbmRsZXIpe1xuICAgICAgICAgIGlmKCFvayl7XG4gICAgICAgICAgICBpZihwcm9taXNlLl9oID09IDIpb25IYW5kbGVVbmhhbmRsZWQocHJvbWlzZSk7XG4gICAgICAgICAgICBwcm9taXNlLl9oID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoaGFuZGxlciA9PT0gdHJ1ZSlyZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmKGRvbWFpbilkb21haW4uZW50ZXIoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpO1xuICAgICAgICAgICAgaWYoZG9tYWluKWRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSl7XG4gICAgICAgICAgICByZWplY3QoVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgICAgIH0gZWxzZSBpZih0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKXtcbiAgICAgICAgICAgIHRoZW4uY2FsbChyZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHJlamVjdCh2YWx1ZSk7XG4gICAgICB9IGNhdGNoKGUpe1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXJ1bihjaGFpbltpKytdKTsgLy8gdmFyaWFibGUgbGVuZ3RoIC0gY2FuJ3QgdXNlIGZvckVhY2hcbiAgICBwcm9taXNlLl9jID0gW107XG4gICAgcHJvbWlzZS5fbiA9IGZhbHNlO1xuICAgIGlmKGlzUmVqZWN0ICYmICFwcm9taXNlLl9oKW9uVW5oYW5kbGVkKHByb21pc2UpO1xuICB9KTtcbn07XG52YXIgb25VbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24oKXtcbiAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92XG4gICAgICAsIGFicnVwdCwgaGFuZGxlciwgY29uc29sZTtcbiAgICBpZihpc1VuaGFuZGxlZChwcm9taXNlKSl7XG4gICAgICBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKGlzTm9kZSl7XG4gICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSBpZihoYW5kbGVyID0gZ2xvYmFsLm9udW5oYW5kbGVkcmVqZWN0aW9uKXtcbiAgICAgICAgICBoYW5kbGVyKHtwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHZhbHVlfSk7XG4gICAgICAgIH0gZWxzZSBpZigoY29uc29sZSA9IGdsb2JhbC5jb25zb2xlKSAmJiBjb25zb2xlLmVycm9yKXtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQnJvd3NlcnMgc2hvdWxkIG5vdCB0cmlnZ2VyIGByZWplY3Rpb25IYW5kbGVkYCBldmVudCBpZiBpdCB3YXMgaGFuZGxlZCBoZXJlLCBOb2RlSlMgLSBzaG91bGRcbiAgICAgIHByb21pc2UuX2ggPSBpc05vZGUgfHwgaXNVbmhhbmRsZWQocHJvbWlzZSkgPyAyIDogMTtcbiAgICB9IHByb21pc2UuX2EgPSB1bmRlZmluZWQ7XG4gICAgaWYoYWJydXB0KXRocm93IGFicnVwdC5lcnJvcjtcbiAgfSk7XG59O1xudmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24ocHJvbWlzZSl7XG4gIGlmKHByb21pc2UuX2ggPT0gMSlyZXR1cm4gZmFsc2U7XG4gIHZhciBjaGFpbiA9IHByb21pc2UuX2EgfHwgcHJvbWlzZS5fY1xuICAgICwgaSAgICAgPSAwXG4gICAgLCByZWFjdGlvbjtcbiAgd2hpbGUoY2hhaW4ubGVuZ3RoID4gaSl7XG4gICAgcmVhY3Rpb24gPSBjaGFpbltpKytdO1xuICAgIGlmKHJlYWN0aW9uLmZhaWwgfHwgIWlzVW5oYW5kbGVkKHJlYWN0aW9uLnByb21pc2UpKXJldHVybiBmYWxzZTtcbiAgfSByZXR1cm4gdHJ1ZTtcbn07XG52YXIgb25IYW5kbGVVbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24oKXtcbiAgICB2YXIgaGFuZGxlcjtcbiAgICBpZihpc05vZGUpe1xuICAgICAgcHJvY2Vzcy5lbWl0KCdyZWplY3Rpb25IYW5kbGVkJywgcHJvbWlzZSk7XG4gICAgfSBlbHNlIGlmKGhhbmRsZXIgPSBnbG9iYWwub25yZWplY3Rpb25oYW5kbGVkKXtcbiAgICAgIGhhbmRsZXIoe3Byb21pc2U6IHByb21pc2UsIHJlYXNvbjogcHJvbWlzZS5fdn0pO1xuICAgIH1cbiAgfSk7XG59O1xudmFyICRyZWplY3QgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciBwcm9taXNlID0gdGhpcztcbiAgaWYocHJvbWlzZS5fZClyZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICBwcm9taXNlLl9zID0gMjtcbiAgaWYoIXByb21pc2UuX2EpcHJvbWlzZS5fYSA9IHByb21pc2UuX2Muc2xpY2UoKTtcbiAgbm90aWZ5KHByb21pc2UsIHRydWUpO1xufTtcbnZhciAkcmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIHByb21pc2UgPSB0aGlzXG4gICAgLCB0aGVuO1xuICBpZihwcm9taXNlLl9kKXJldHVybjtcbiAgcHJvbWlzZS5fZCA9IHRydWU7XG4gIHByb21pc2UgPSBwcm9taXNlLl93IHx8IHByb21pc2U7IC8vIHVud3JhcFxuICB0cnkge1xuICAgIGlmKHByb21pc2UgPT09IHZhbHVlKXRocm93IFR5cGVFcnJvcihcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO1xuICAgIGlmKHRoZW4gPSBpc1RoZW5hYmxlKHZhbHVlKSl7XG4gICAgICBtaWNyb3Rhc2soZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7X3c6IHByb21pc2UsIF9kOiBmYWxzZX07IC8vIHdyYXBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGN0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIGN0eCgkcmVqZWN0LCB3cmFwcGVyLCAxKSk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgJHJlamVjdC5jYWxsKHdyYXBwZXIsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICAgICAgcHJvbWlzZS5fcyA9IDE7XG4gICAgICBub3RpZnkocHJvbWlzZSwgZmFsc2UpO1xuICAgIH1cbiAgfSBjYXRjaChlKXtcbiAgICAkcmVqZWN0LmNhbGwoe193OiBwcm9taXNlLCBfZDogZmFsc2V9LCBlKTsgLy8gd3JhcFxuICB9XG59O1xuXG4vLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbFxuaWYoIVVTRV9OQVRJVkUpe1xuICAvLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKVxuICAkUHJvbWlzZSA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3Ipe1xuICAgIGFuSW5zdGFuY2UodGhpcywgJFByb21pc2UsIFBST01JU0UsICdfaCcpO1xuICAgIGFGdW5jdGlvbihleGVjdXRvcik7XG4gICAgSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IoY3R4KCRyZXNvbHZlLCB0aGlzLCAxKSwgY3R4KCRyZWplY3QsIHRoaXMsIDEpKTtcbiAgICB9IGNhdGNoKGVycil7XG4gICAgICAkcmVqZWN0LmNhbGwodGhpcywgZXJyKTtcbiAgICB9XG4gIH07XG4gIEludGVybmFsID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcil7XG4gICAgdGhpcy5fYyA9IFtdOyAgICAgICAgICAgICAvLyA8LSBhd2FpdGluZyByZWFjdGlvbnNcbiAgICB0aGlzLl9hID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zXG4gICAgdGhpcy5fcyA9IDA7ICAgICAgICAgICAgICAvLyA8LSBzdGF0ZVxuICAgIHRoaXMuX2QgPSBmYWxzZTsgICAgICAgICAgLy8gPC0gZG9uZVxuICAgIHRoaXMuX3YgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gdmFsdWVcbiAgICB0aGlzLl9oID0gMDsgICAgICAgICAgICAgIC8vIDwtIHJlamVjdGlvbiBzdGF0ZSwgMCAtIGRlZmF1bHQsIDEgLSBoYW5kbGVkLCAyIC0gdW5oYW5kbGVkXG4gICAgdGhpcy5fbiA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBub3RpZnlcbiAgfTtcbiAgSW50ZXJuYWwucHJvdG90eXBlID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUtYWxsJykoJFByb21pc2UucHJvdG90eXBlLCB7XG4gICAgLy8gMjUuNC41LjMgUHJvbWlzZS5wcm90b3R5cGUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZClcbiAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKXtcbiAgICAgIHZhciByZWFjdGlvbiAgICA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCAkUHJvbWlzZSkpO1xuICAgICAgcmVhY3Rpb24ub2sgICAgID0gdHlwZW9mIG9uRnVsZmlsbGVkID09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IHRydWU7XG4gICAgICByZWFjdGlvbi5mYWlsICAgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7XG4gICAgICByZWFjdGlvbi5kb21haW4gPSBpc05vZGUgPyBwcm9jZXNzLmRvbWFpbiA6IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX2MucHVzaChyZWFjdGlvbik7XG4gICAgICBpZih0aGlzLl9hKXRoaXMuX2EucHVzaChyZWFjdGlvbik7XG4gICAgICBpZih0aGlzLl9zKW5vdGlmeSh0aGlzLCBmYWxzZSk7XG4gICAgICByZXR1cm4gcmVhY3Rpb24ucHJvbWlzZTtcbiAgICB9LFxuICAgIC8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpXG4gICAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3RlZCl7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICB9KTtcbiAgUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbigpe1xuICAgIHZhciBwcm9taXNlICA9IG5ldyBJbnRlcm5hbDtcbiAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgIHRoaXMucmVzb2x2ZSA9IGN0eCgkcmVzb2x2ZSwgcHJvbWlzZSwgMSk7XG4gICAgdGhpcy5yZWplY3QgID0gY3R4KCRyZWplY3QsIHByb21pc2UsIDEpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7UHJvbWlzZTogJFByb21pc2V9KTtcbnJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJykoJFByb21pc2UsIFBST01JU0UpO1xucmVxdWlyZSgnLi9fc2V0LXNwZWNpZXMnKShQUk9NSVNFKTtcbldyYXBwZXIgPSByZXF1aXJlKCcuL19jb3JlJylbUFJPTUlTRV07XG5cbi8vIHN0YXRpY3NcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3QocilcbiAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocil7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKVxuICAgICAgLCAkJHJlamVjdCAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgJCRyZWplY3Qocik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIChMSUJSQVJZIHx8ICFVU0VfTkFUSVZFKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeClcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KXtcbiAgICAvLyBpbnN0YW5jZW9mIGluc3RlYWQgb2YgaW50ZXJuYWwgc2xvdCBjaGVjayBiZWNhdXNlIHdlIHNob3VsZCBmaXggaXQgd2l0aG91dCByZXBsYWNlbWVudCBuYXRpdmUgUHJvbWlzZSBjb3JlXG4gICAgaWYoeCBpbnN0YW5jZW9mICRQcm9taXNlICYmIHNhbWVDb25zdHJ1Y3Rvcih4LmNvbnN0cnVjdG9yLCB0aGlzKSlyZXR1cm4geDtcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpXG4gICAgICAsICQkcmVzb2x2ZSAgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgJCRyZXNvbHZlKHgpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhKFVTRV9OQVRJVkUgJiYgcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKXtcbiAgJFByb21pc2UuYWxsKGl0ZXIpWydjYXRjaCddKGVtcHR5KTtcbn0pKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuMSBQcm9taXNlLmFsbChpdGVyYWJsZSlcbiAgYWxsOiBmdW5jdGlvbiBhbGwoaXRlcmFibGUpe1xuICAgIHZhciBDICAgICAgICAgID0gdGhpc1xuICAgICAgLCBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICAgICwgcmVzb2x2ZSAgICA9IGNhcGFiaWxpdHkucmVzb2x2ZVxuICAgICAgLCByZWplY3QgICAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcbiAgICAgIHZhciB2YWx1ZXMgICAgPSBbXVxuICAgICAgICAsIGluZGV4ICAgICA9IDBcbiAgICAgICAgLCByZW1haW5pbmcgPSAxO1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbihwcm9taXNlKXtcbiAgICAgICAgdmFyICRpbmRleCAgICAgICAgPSBpbmRleCsrXG4gICAgICAgICAgLCBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgaWYoYWxyZWFkeUNhbGxlZClyZXR1cm47XG4gICAgICAgICAgYWxyZWFkeUNhbGxlZCAgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1skaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYoYWJydXB0KXJlamVjdChhYnJ1cHQuZXJyb3IpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH0sXG4gIC8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSlcbiAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSl7XG4gICAgdmFyIEMgICAgICAgICAgPSB0aGlzXG4gICAgICAsIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgLCByZWplY3QgICAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24ocHJvbWlzZSl7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmKGFicnVwdClyZWplY3QoYWJydXB0LmVycm9yKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgc3Ryb25nID0gcmVxdWlyZSgnLi9fY29sbGVjdGlvbi1zdHJvbmcnKTtcblxuLy8gMjMuMiBTZXQgT2JqZWN0c1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb2xsZWN0aW9uJykoJ1NldCcsIGZ1bmN0aW9uKGdldCl7XG4gIHJldHVybiBmdW5jdGlvbiBTZXQoKXsgcmV0dXJuIGdldCh0aGlzLCBhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7IH07XG59LCB7XG4gIC8vIDIzLjIuMy4xIFNldC5wcm90b3R5cGUuYWRkKHZhbHVlKVxuICBhZGQ6IGZ1bmN0aW9uIGFkZCh2YWx1ZSl7XG4gICAgcmV0dXJuIHN0cm9uZy5kZWYodGhpcywgdmFsdWUgPSB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZSwgdmFsdWUpO1xuICB9XG59LCBzdHJvbmcpOyIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgID0gcmVxdWlyZSgnLi9fc3RyaW5nLWF0JykodHJ1ZSk7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24oaXRlcmF0ZWQpe1xuICB0aGlzLl90ID0gU3RyaW5nKGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4vLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbigpe1xuICB2YXIgTyAgICAgPSB0aGlzLl90XG4gICAgLCBpbmRleCA9IHRoaXMuX2lcbiAgICAsIHBvaW50O1xuICBpZihpbmRleCA+PSBPLmxlbmd0aClyZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4ge3ZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2V9O1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuLy8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbVxudmFyIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgREVTQ1JJUFRPUlMgICAgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHJlZGVmaW5lICAgICAgID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKVxuICAsIE1FVEEgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWV0YScpLktFWVxuICAsICRmYWlscyAgICAgICAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKVxuICAsIHNoYXJlZCAgICAgICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCB1aWQgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpXG4gICwgd2tzICAgICAgICAgICAgPSByZXF1aXJlKCcuL193a3MnKVxuICAsIHdrc0V4dCAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpXG4gICwgd2tzRGVmaW5lICAgICAgPSByZXF1aXJlKCcuL193a3MtZGVmaW5lJylcbiAgLCBrZXlPZiAgICAgICAgICA9IHJlcXVpcmUoJy4vX2tleW9mJylcbiAgLCBlbnVtS2V5cyAgICAgICA9IHJlcXVpcmUoJy4vX2VudW0ta2V5cycpXG4gICwgaXNBcnJheSAgICAgICAgPSByZXF1aXJlKCcuL19pcy1hcnJheScpXG4gICwgYW5PYmplY3QgICAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIHRvSU9iamVjdCAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgX2NyZWF0ZSAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJylcbiAgLCBnT1BORXh0ICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuLWV4dCcpXG4gICwgJEdPUEQgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpXG4gICwgJERQICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxuICAsICRrZXlzICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIGdPUEQgICAgICAgICAgID0gJEdPUEQuZlxuICAsIGRQICAgICAgICAgICAgID0gJERQLmZcbiAgLCBnT1BOICAgICAgICAgICA9IGdPUE5FeHQuZlxuICAsICRTeW1ib2wgICAgICAgID0gZ2xvYmFsLlN5bWJvbFxuICAsICRKU09OICAgICAgICAgID0gZ2xvYmFsLkpTT05cbiAgLCBfc3RyaW5naWZ5ICAgICA9ICRKU09OICYmICRKU09OLnN0cmluZ2lmeVxuICAsIFBST1RPVFlQRSAgICAgID0gJ3Byb3RvdHlwZSdcbiAgLCBISURERU4gICAgICAgICA9IHdrcygnX2hpZGRlbicpXG4gICwgVE9fUFJJTUlUSVZFICAgPSB3a3MoJ3RvUHJpbWl0aXZlJylcbiAgLCBpc0VudW0gICAgICAgICA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlXG4gICwgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpXG4gICwgQWxsU3ltYm9scyAgICAgPSBzaGFyZWQoJ3N5bWJvbHMnKVxuICAsIE9QU3ltYm9scyAgICAgID0gc2hhcmVkKCdvcC1zeW1ib2xzJylcbiAgLCBPYmplY3RQcm90byAgICA9IE9iamVjdFtQUk9UT1RZUEVdXG4gICwgVVNFX05BVElWRSAgICAgPSB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nXG4gICwgUU9iamVjdCAgICAgICAgPSBnbG9iYWwuUU9iamVjdDtcbi8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xudmFyIHNldHRlciA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cbi8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xudmFyIHNldFN5bWJvbERlc2MgPSBERVNDUklQVE9SUyAmJiAkZmFpbHMoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIF9jcmVhdGUoZFAoe30sICdhJywge1xuICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIGRQKHRoaXMsICdhJywge3ZhbHVlOiA3fSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbihpdCwga2V5LCBEKXtcbiAgdmFyIHByb3RvRGVzYyA9IGdPUEQoT2JqZWN0UHJvdG8sIGtleSk7XG4gIGlmKHByb3RvRGVzYylkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgZFAoaXQsIGtleSwgRCk7XG4gIGlmKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pZFAoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbn0gOiBkUDtcblxudmFyIHdyYXAgPSBmdW5jdGlvbih0YWcpe1xuICB2YXIgc3ltID0gQWxsU3ltYm9sc1t0YWddID0gX2NyZWF0ZSgkU3ltYm9sW1BST1RPVFlQRV0pO1xuICBzeW0uX2sgPSB0YWc7XG4gIHJldHVybiBzeW07XG59O1xuXG52YXIgaXNTeW1ib2wgPSBVU0VfTkFUSVZFICYmIHR5cGVvZiAkU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnID8gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKXtcbiAgaWYoaXQgPT09IE9iamVjdFByb3RvKSRkZWZpbmVQcm9wZXJ0eShPUFN5bWJvbHMsIGtleSwgRCk7XG4gIGFuT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgYW5PYmplY3QoRCk7XG4gIGlmKGhhcyhBbGxTeW1ib2xzLCBrZXkpKXtcbiAgICBpZighRC5lbnVtZXJhYmxlKXtcbiAgICAgIGlmKCFoYXMoaXQsIEhJRERFTikpZFAoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSlpdFtISURERU5dW2tleV0gPSBmYWxzZTtcbiAgICAgIEQgPSBfY3JlYXRlKEQsIHtlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKX0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIGRQKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApe1xuICBhbk9iamVjdChpdCk7XG4gIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSlcbiAgICAsIGkgICAgPSAwXG4gICAgLCBsID0ga2V5cy5sZW5ndGhcbiAgICAsIGtleTtcbiAgd2hpbGUobCA+IGkpJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCl7XG4gIHJldHVybiBQID09PSB1bmRlZmluZWQgPyBfY3JlYXRlKGl0KSA6ICRkZWZpbmVQcm9wZXJ0aWVzKF9jcmVhdGUoaXQpLCBQKTtcbn07XG52YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoa2V5KXtcbiAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKTtcbiAgaWYodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldID8gRSA6IHRydWU7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSl7XG4gIGl0ICA9IHRvSU9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGlmKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm47XG4gIHZhciBEID0gZ09QRChpdCwga2V5KTtcbiAgaWYoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKUQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpe1xuICB2YXIgbmFtZXMgID0gZ09QTih0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSl7XG4gICAgaWYoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOICYmIGtleSAhPSBNRVRBKXJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCl7XG4gIHZhciBJU19PUCAgPSBpdCA9PT0gT2JqZWN0UHJvdG9cbiAgICAsIG5hbWVzICA9IGdPUE4oSVNfT1AgPyBPUFN5bWJvbHMgOiB0b0lPYmplY3QoaXQpKVxuICAgICwgcmVzdWx0ID0gW11cbiAgICAsIGkgICAgICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSl7XG4gICAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKXJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYoIVVTRV9OQVRJVkUpe1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCl7XG4gICAgaWYodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhJyk7XG4gICAgdmFyIHRhZyA9IHVpZChhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyICRzZXQgPSBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICBpZih0aGlzID09PSBPYmplY3RQcm90bykkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZihoYXModGhpcywgSElEREVOKSAmJiBoYXModGhpc1tISURERU5dLCB0YWcpKXRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICAgIH07XG4gICAgaWYoREVTQ1JJUFRPUlMgJiYgc2V0dGVyKXNldFN5bWJvbERlc2MoT2JqZWN0UHJvdG8sIHRhZywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiAkc2V0fSk7XG4gICAgcmV0dXJuIHdyYXAodGFnKTtcbiAgfTtcbiAgcmVkZWZpbmUoJFN5bWJvbFtQUk9UT1RZUEVdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpe1xuICAgIHJldHVybiB0aGlzLl9rO1xuICB9KTtcblxuICAkR09QRC5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgJERQLmYgICA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1waWUnKS5mICA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZihERVNDUklQVE9SUyAmJiAhcmVxdWlyZSgnLi9fbGlicmFyeScpKXtcbiAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcbiAgfVxuXG4gIHdrc0V4dC5mID0gZnVuY3Rpb24obmFtZSl7XG4gICAgcmV0dXJuIHdyYXAod2tzKG5hbWUpKTtcbiAgfVxufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7U3ltYm9sOiAkU3ltYm9sfSk7XG5cbmZvcih2YXIgc3ltYm9scyA9IChcbiAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcbiAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuKS5zcGxpdCgnLCcpLCBpID0gMDsgc3ltYm9scy5sZW5ndGggPiBpOyApd2tzKHN5bWJvbHNbaSsrXSk7XG5cbmZvcih2YXIgc3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3NEZWZpbmUoc3ltYm9sc1tpKytdKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcbiAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG4gICdmb3InOiBmdW5jdGlvbihrZXkpe1xuICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcbiAgICAgID8gU3ltYm9sUmVnaXN0cnlba2V5XVxuICAgICAgOiBTeW1ib2xSZWdpc3RyeVtrZXldID0gJFN5bWJvbChrZXkpO1xuICB9LFxuICAvLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSlcbiAga2V5Rm9yOiBmdW5jdGlvbiBrZXlGb3Ioa2V5KXtcbiAgICBpZihpc1N5bWJvbChrZXkpKXJldHVybiBrZXlPZihTeW1ib2xSZWdpc3RyeSwga2V5KTtcbiAgICB0aHJvdyBUeXBlRXJyb3Ioa2V5ICsgJyBpcyBub3QgYSBzeW1ib2whJyk7XG4gIH0sXG4gIHVzZVNldHRlcjogZnVuY3Rpb24oKXsgc2V0dGVyID0gdHJ1ZTsgfSxcbiAgdXNlU2ltcGxlOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSBmYWxzZTsgfVxufSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcbiRKU09OICYmICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCFVU0VfTkFUSVZFIHx8ICRmYWlscyhmdW5jdGlvbigpe1xuICB2YXIgUyA9ICRTeW1ib2woKTtcbiAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsXG4gIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG4gIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7YTogU30pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG59KSksICdKU09OJywge1xuICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7XG4gICAgaWYoaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gICAgdmFyIGFyZ3MgPSBbaXRdXG4gICAgICAsIGkgICAgPSAxXG4gICAgICAsIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG4gICAgd2hpbGUoYXJndW1lbnRzLmxlbmd0aCA+IGkpYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICByZXBsYWNlciA9IGFyZ3NbMV07XG4gICAgaWYodHlwZW9mIHJlcGxhY2VyID09ICdmdW5jdGlvbicpJHJlcGxhY2VyID0gcmVwbGFjZXI7XG4gICAgaWYoJHJlcGxhY2VyIHx8ICFpc0FycmF5KHJlcGxhY2VyKSlyZXBsYWNlciA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuICAgICAgaWYoJHJlcGxhY2VyKXZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICBpZighaXNTeW1ib2wodmFsdWUpKXJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcbiAgICByZXR1cm4gX3N0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJncyk7XG4gIH1cbn0pO1xuXG4vLyAxOS40LjMuNCBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdKGhpbnQpXG4kU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCByZXF1aXJlKCcuL19oaWRlJykoJFN5bWJvbFtQUk9UT1RZUEVdLCBUT19QUklNSVRJVkUsICRTeW1ib2xbUFJPVE9UWVBFXS52YWx1ZU9mKTtcbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcbi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKE1hdGgsICdNYXRoJywgdHJ1ZSk7XG4vLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7IiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL0RhdmlkQnJ1YW50L01hcC1TZXQucHJvdG90eXBlLnRvSlNPTlxudmFyICRleHBvcnQgID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5SLCAnTWFwJywge3RvSlNPTjogcmVxdWlyZSgnLi9fY29sbGVjdGlvbi10by1qc29uJykoJ01hcCcpfSk7IiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL0RhdmlkQnJ1YW50L01hcC1TZXQucHJvdG90eXBlLnRvSlNPTlxudmFyICRleHBvcnQgID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5SLCAnU2V0Jywge3RvSlNPTjogcmVxdWlyZSgnLi9fY29sbGVjdGlvbi10by1qc29uJykoJ1NldCcpfSk7IiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7IiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdvYnNlcnZhYmxlJyk7IiwicmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKTtcbnZhciBnbG9iYWwgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoaWRlICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgSXRlcmF0b3JzICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgVE9fU1RSSU5HX1RBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5mb3IodmFyIGNvbGxlY3Rpb25zID0gWydOb2RlTGlzdCcsICdET01Ub2tlbkxpc3QnLCAnTWVkaWFMaXN0JywgJ1N0eWxlU2hlZXRMaXN0JywgJ0NTU1J1bGVMaXN0J10sIGkgPSAwOyBpIDwgNTsgaSsrKXtcbiAgdmFyIE5BTUUgICAgICAgPSBjb2xsZWN0aW9uc1tpXVxuICAgICwgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXVxuICAgICwgcHJvdG8gICAgICA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG4gIGlmKHByb3RvICYmICFwcm90b1tUT19TVFJJTkdfVEFHXSloaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xufSIsInZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIG1zZyl7XG4gIGlmKHR5cGVvZiBpdCAhPSAnbnVtYmVyJyAmJiBjb2YoaXQpICE9ICdOdW1iZXInKXRocm93IFR5cGVFcnJvcihtc2cpO1xuICByZXR1cm4gK2l0O1xufTsiLCIvLyAyMi4xLjMuMzEgQXJyYXkucHJvdG90eXBlW0BAdW5zY29wYWJsZXNdXG52YXIgVU5TQ09QQUJMRVMgPSByZXF1aXJlKCcuL193a3MnKSgndW5zY29wYWJsZXMnKVxuICAsIEFycmF5UHJvdG8gID0gQXJyYXkucHJvdG90eXBlO1xuaWYoQXJyYXlQcm90b1tVTlNDT1BBQkxFU10gPT0gdW5kZWZpbmVkKXJlcXVpcmUoJy4vX2hpZGUnKShBcnJheVByb3RvLCBVTlNDT1BBQkxFUywge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICBBcnJheVByb3RvW1VOU0NPUEFCTEVTXVtrZXldID0gdHJ1ZTtcbn07IiwiLy8gMjIuMS4zLjMgQXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4odGFyZ2V0LCBzdGFydCwgZW5kID0gdGhpcy5sZW5ndGgpXG4ndXNlIHN0cmljdCc7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIHRvSW5kZXggID0gcmVxdWlyZSgnLi9fdG8taW5kZXgnKVxuICAsIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gW10uY29weVdpdGhpbiB8fCBmdW5jdGlvbiBjb3B5V2l0aGluKHRhcmdldC8qPSAwKi8sIHN0YXJ0Lyo9IDAsIGVuZCA9IEBsZW5ndGgqLyl7XG4gIHZhciBPICAgICA9IHRvT2JqZWN0KHRoaXMpXG4gICAgLCBsZW4gICA9IHRvTGVuZ3RoKE8ubGVuZ3RoKVxuICAgICwgdG8gICAgPSB0b0luZGV4KHRhcmdldCwgbGVuKVxuICAgICwgZnJvbSAgPSB0b0luZGV4KHN0YXJ0LCBsZW4pXG4gICAgLCBlbmQgICA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkXG4gICAgLCBjb3VudCA9IE1hdGgubWluKChlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IHRvSW5kZXgoZW5kLCBsZW4pKSAtIGZyb20sIGxlbiAtIHRvKVxuICAgICwgaW5jICAgPSAxO1xuICBpZihmcm9tIDwgdG8gJiYgdG8gPCBmcm9tICsgY291bnQpe1xuICAgIGluYyAgPSAtMTtcbiAgICBmcm9tICs9IGNvdW50IC0gMTtcbiAgICB0byAgICs9IGNvdW50IC0gMTtcbiAgfVxuICB3aGlsZShjb3VudC0tID4gMCl7XG4gICAgaWYoZnJvbSBpbiBPKU9bdG9dID0gT1tmcm9tXTtcbiAgICBlbHNlIGRlbGV0ZSBPW3RvXTtcbiAgICB0byAgICs9IGluYztcbiAgICBmcm9tICs9IGluYztcbiAgfSByZXR1cm4gTztcbn07IiwiLy8gMjIuMS4zLjYgQXJyYXkucHJvdG90eXBlLmZpbGwodmFsdWUsIHN0YXJ0ID0gMCwgZW5kID0gdGhpcy5sZW5ndGgpXG4ndXNlIHN0cmljdCc7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIHRvSW5kZXggID0gcmVxdWlyZSgnLi9fdG8taW5kZXgnKVxuICAsIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGZpbGwodmFsdWUgLyosIHN0YXJ0ID0gMCwgZW5kID0gQGxlbmd0aCAqLyl7XG4gIHZhciBPICAgICAgPSB0b09iamVjdCh0aGlzKVxuICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG4gICAgLCBhTGVuICAgPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBpbmRleCAgPSB0b0luZGV4KGFMZW4gPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkLCBsZW5ndGgpXG4gICAgLCBlbmQgICAgPSBhTGVuID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZFxuICAgICwgZW5kUG9zID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0luZGV4KGVuZCwgbGVuZ3RoKTtcbiAgd2hpbGUoZW5kUG9zID4gaW5kZXgpT1tpbmRleCsrXSA9IHZhbHVlO1xuICByZXR1cm4gTztcbn07IiwidmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKVxuICAsIHRvT2JqZWN0ICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgSU9iamVjdCAgID0gcmVxdWlyZSgnLi9faW9iamVjdCcpXG4gICwgdG9MZW5ndGggID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGhhdCwgY2FsbGJhY2tmbiwgYUxlbiwgbWVtbywgaXNSaWdodCl7XG4gIGFGdW5jdGlvbihjYWxsYmFja2ZuKTtcbiAgdmFyIE8gICAgICA9IHRvT2JqZWN0KHRoYXQpXG4gICAgLCBzZWxmICAgPSBJT2JqZWN0KE8pXG4gICAgLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aClcbiAgICAsIGluZGV4ICA9IGlzUmlnaHQgPyBsZW5ndGggLSAxIDogMFxuICAgICwgaSAgICAgID0gaXNSaWdodCA/IC0xIDogMTtcbiAgaWYoYUxlbiA8IDIpZm9yKDs7KXtcbiAgICBpZihpbmRleCBpbiBzZWxmKXtcbiAgICAgIG1lbW8gPSBzZWxmW2luZGV4XTtcbiAgICAgIGluZGV4ICs9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaW5kZXggKz0gaTtcbiAgICBpZihpc1JpZ2h0ID8gaW5kZXggPCAwIDogbGVuZ3RoIDw9IGluZGV4KXtcbiAgICAgIHRocm93IFR5cGVFcnJvcignUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZScpO1xuICAgIH1cbiAgfVxuICBmb3IoO2lzUmlnaHQgPyBpbmRleCA+PSAwIDogbGVuZ3RoID4gaW5kZXg7IGluZGV4ICs9IGkpaWYoaW5kZXggaW4gc2VsZil7XG4gICAgbWVtbyA9IGNhbGxiYWNrZm4obWVtbywgc2VsZltpbmRleF0sIGluZGV4LCBPKTtcbiAgfVxuICByZXR1cm4gbWVtbztcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFGdW5jdGlvbiAgPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJylcbiAgLCBpc09iamVjdCAgID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBpbnZva2UgICAgID0gcmVxdWlyZSgnLi9faW52b2tlJylcbiAgLCBhcnJheVNsaWNlID0gW10uc2xpY2VcbiAgLCBmYWN0b3JpZXMgID0ge307XG5cbnZhciBjb25zdHJ1Y3QgPSBmdW5jdGlvbihGLCBsZW4sIGFyZ3Mpe1xuICBpZighKGxlbiBpbiBmYWN0b3JpZXMpKXtcbiAgICBmb3IodmFyIG4gPSBbXSwgaSA9IDA7IGkgPCBsZW47IGkrKyluW2ldID0gJ2FbJyArIGkgKyAnXSc7XG4gICAgZmFjdG9yaWVzW2xlbl0gPSBGdW5jdGlvbignRixhJywgJ3JldHVybiBuZXcgRignICsgbi5qb2luKCcsJykgKyAnKScpO1xuICB9IHJldHVybiBmYWN0b3JpZXNbbGVuXShGLCBhcmdzKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRnVuY3Rpb24uYmluZCB8fCBmdW5jdGlvbiBiaW5kKHRoYXQgLyosIGFyZ3MuLi4gKi8pe1xuICB2YXIgZm4gICAgICAgPSBhRnVuY3Rpb24odGhpcylcbiAgICAsIHBhcnRBcmdzID0gYXJyYXlTbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gIHZhciBib3VuZCA9IGZ1bmN0aW9uKC8qIGFyZ3MuLi4gKi8pe1xuICAgIHZhciBhcmdzID0gcGFydEFyZ3MuY29uY2F0KGFycmF5U2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGJvdW5kID8gY29uc3RydWN0KGZuLCBhcmdzLmxlbmd0aCwgYXJncykgOiBpbnZva2UoZm4sIGFyZ3MsIHRoYXQpO1xuICB9O1xuICBpZihpc09iamVjdChmbi5wcm90b3R5cGUpKWJvdW5kLnByb3RvdHlwZSA9IGZuLnByb3RvdHlwZTtcbiAgcmV0dXJuIGJvdW5kO1xufTsiLCIndXNlIHN0cmljdCc7XG52YXIgcmVkZWZpbmVBbGwgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKVxuICAsIGdldFdlYWsgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWV0YScpLmdldFdlYWtcbiAgLCBhbk9iamVjdCAgICAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgaXNPYmplY3QgICAgICAgICAgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGFuSW5zdGFuY2UgICAgICAgID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKVxuICAsIGZvck9mICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZm9yLW9mJylcbiAgLCBjcmVhdGVBcnJheU1ldGhvZCA9IHJlcXVpcmUoJy4vX2FycmF5LW1ldGhvZHMnKVxuICAsICRoYXMgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBhcnJheUZpbmQgICAgICAgICA9IGNyZWF0ZUFycmF5TWV0aG9kKDUpXG4gICwgYXJyYXlGaW5kSW5kZXggICAgPSBjcmVhdGVBcnJheU1ldGhvZCg2KVxuICAsIGlkICAgICAgICAgICAgICAgID0gMDtcblxuLy8gZmFsbGJhY2sgZm9yIHVuY2F1Z2h0IGZyb3plbiBrZXlzXG52YXIgdW5jYXVnaHRGcm96ZW5TdG9yZSA9IGZ1bmN0aW9uKHRoYXQpe1xuICByZXR1cm4gdGhhdC5fbCB8fCAodGhhdC5fbCA9IG5ldyBVbmNhdWdodEZyb3plblN0b3JlKTtcbn07XG52YXIgVW5jYXVnaHRGcm96ZW5TdG9yZSA9IGZ1bmN0aW9uKCl7XG4gIHRoaXMuYSA9IFtdO1xufTtcbnZhciBmaW5kVW5jYXVnaHRGcm96ZW4gPSBmdW5jdGlvbihzdG9yZSwga2V5KXtcbiAgcmV0dXJuIGFycmF5RmluZChzdG9yZS5hLCBmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIGl0WzBdID09PSBrZXk7XG4gIH0pO1xufTtcblVuY2F1Z2h0RnJvemVuU3RvcmUucHJvdG90eXBlID0ge1xuICBnZXQ6IGZ1bmN0aW9uKGtleSl7XG4gICAgdmFyIGVudHJ5ID0gZmluZFVuY2F1Z2h0RnJvemVuKHRoaXMsIGtleSk7XG4gICAgaWYoZW50cnkpcmV0dXJuIGVudHJ5WzFdO1xuICB9LFxuICBoYXM6IGZ1bmN0aW9uKGtleSl7XG4gICAgcmV0dXJuICEhZmluZFVuY2F1Z2h0RnJvemVuKHRoaXMsIGtleSk7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG4gICAgdmFyIGVudHJ5ID0gZmluZFVuY2F1Z2h0RnJvemVuKHRoaXMsIGtleSk7XG4gICAgaWYoZW50cnkpZW50cnlbMV0gPSB2YWx1ZTtcbiAgICBlbHNlIHRoaXMuYS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0sXG4gICdkZWxldGUnOiBmdW5jdGlvbihrZXkpe1xuICAgIHZhciBpbmRleCA9IGFycmF5RmluZEluZGV4KHRoaXMuYSwgZnVuY3Rpb24oaXQpe1xuICAgICAgcmV0dXJuIGl0WzBdID09PSBrZXk7XG4gICAgfSk7XG4gICAgaWYofmluZGV4KXRoaXMuYS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiAhIX5pbmRleDtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldENvbnN0cnVjdG9yOiBmdW5jdGlvbih3cmFwcGVyLCBOQU1FLCBJU19NQVAsIEFEREVSKXtcbiAgICB2YXIgQyA9IHdyYXBwZXIoZnVuY3Rpb24odGhhdCwgaXRlcmFibGUpe1xuICAgICAgYW5JbnN0YW5jZSh0aGF0LCBDLCBOQU1FLCAnX2knKTtcbiAgICAgIHRoYXQuX2kgPSBpZCsrOyAgICAgIC8vIGNvbGxlY3Rpb24gaWRcbiAgICAgIHRoYXQuX2wgPSB1bmRlZmluZWQ7IC8vIGxlYWsgc3RvcmUgZm9yIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RzXG4gICAgICBpZihpdGVyYWJsZSAhPSB1bmRlZmluZWQpZm9yT2YoaXRlcmFibGUsIElTX01BUCwgdGhhdFtBRERFUl0sIHRoYXQpO1xuICAgIH0pO1xuICAgIHJlZGVmaW5lQWxsKEMucHJvdG90eXBlLCB7XG4gICAgICAvLyAyMy4zLjMuMiBXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUoa2V5KVxuICAgICAgLy8gMjMuNC4zLjMgV2Vha1NldC5wcm90b3R5cGUuZGVsZXRlKHZhbHVlKVxuICAgICAgJ2RlbGV0ZSc6IGZ1bmN0aW9uKGtleSl7XG4gICAgICAgIGlmKCFpc09iamVjdChrZXkpKXJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIGRhdGEgPSBnZXRXZWFrKGtleSk7XG4gICAgICAgIGlmKGRhdGEgPT09IHRydWUpcmV0dXJuIHVuY2F1Z2h0RnJvemVuU3RvcmUodGhpcylbJ2RlbGV0ZSddKGtleSk7XG4gICAgICAgIHJldHVybiBkYXRhICYmICRoYXMoZGF0YSwgdGhpcy5faSkgJiYgZGVsZXRlIGRhdGFbdGhpcy5faV07XG4gICAgICB9LFxuICAgICAgLy8gMjMuMy4zLjQgV2Vha01hcC5wcm90b3R5cGUuaGFzKGtleSlcbiAgICAgIC8vIDIzLjQuMy40IFdlYWtTZXQucHJvdG90eXBlLmhhcyh2YWx1ZSlcbiAgICAgIGhhczogZnVuY3Rpb24gaGFzKGtleSl7XG4gICAgICAgIGlmKCFpc09iamVjdChrZXkpKXJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIGRhdGEgPSBnZXRXZWFrKGtleSk7XG4gICAgICAgIGlmKGRhdGEgPT09IHRydWUpcmV0dXJuIHVuY2F1Z2h0RnJvemVuU3RvcmUodGhpcykuaGFzKGtleSk7XG4gICAgICAgIHJldHVybiBkYXRhICYmICRoYXMoZGF0YSwgdGhpcy5faSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEM7XG4gIH0sXG4gIGRlZjogZnVuY3Rpb24odGhhdCwga2V5LCB2YWx1ZSl7XG4gICAgdmFyIGRhdGEgPSBnZXRXZWFrKGFuT2JqZWN0KGtleSksIHRydWUpO1xuICAgIGlmKGRhdGEgPT09IHRydWUpdW5jYXVnaHRGcm96ZW5TdG9yZSh0aGF0KS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgZWxzZSBkYXRhW3RoYXQuX2ldID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoYXQ7XG4gIH0sXG4gIHVmc3RvcmU6IHVuY2F1Z2h0RnJvemVuU3RvcmVcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCAkZXhwb3J0ICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgcmVkZWZpbmVBbGwgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKVxuICAsIG1ldGEgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWV0YScpXG4gICwgZm9yT2YgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19mb3Itb2YnKVxuICAsIGFuSW5zdGFuY2UgICAgICAgID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKVxuICAsIGlzT2JqZWN0ICAgICAgICAgID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBmYWlscyAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2ZhaWxzJylcbiAgLCAkaXRlckRldGVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItZGV0ZWN0JylcbiAgLCBzZXRUb1N0cmluZ1RhZyAgICA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBpbmhlcml0SWZSZXF1aXJlZCA9IHJlcXVpcmUoJy4vX2luaGVyaXQtaWYtcmVxdWlyZWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihOQU1FLCB3cmFwcGVyLCBtZXRob2RzLCBjb21tb24sIElTX01BUCwgSVNfV0VBSyl7XG4gIHZhciBCYXNlICA9IGdsb2JhbFtOQU1FXVxuICAgICwgQyAgICAgPSBCYXNlXG4gICAgLCBBRERFUiA9IElTX01BUCA/ICdzZXQnIDogJ2FkZCdcbiAgICAsIHByb3RvID0gQyAmJiBDLnByb3RvdHlwZVxuICAgICwgTyAgICAgPSB7fTtcbiAgdmFyIGZpeE1ldGhvZCA9IGZ1bmN0aW9uKEtFWSl7XG4gICAgdmFyIGZuID0gcHJvdG9bS0VZXTtcbiAgICByZWRlZmluZShwcm90bywgS0VZLFxuICAgICAgS0VZID09ICdkZWxldGUnID8gZnVuY3Rpb24oYSl7XG4gICAgICAgIHJldHVybiBJU19XRUFLICYmICFpc09iamVjdChhKSA/IGZhbHNlIDogZm4uY2FsbCh0aGlzLCBhID09PSAwID8gMCA6IGEpO1xuICAgICAgfSA6IEtFWSA9PSAnaGFzJyA/IGZ1bmN0aW9uIGhhcyhhKXtcbiAgICAgICAgcmV0dXJuIElTX1dFQUsgJiYgIWlzT2JqZWN0KGEpID8gZmFsc2UgOiBmbi5jYWxsKHRoaXMsIGEgPT09IDAgPyAwIDogYSk7XG4gICAgICB9IDogS0VZID09ICdnZXQnID8gZnVuY3Rpb24gZ2V0KGEpe1xuICAgICAgICByZXR1cm4gSVNfV0VBSyAmJiAhaXNPYmplY3QoYSkgPyB1bmRlZmluZWQgOiBmbi5jYWxsKHRoaXMsIGEgPT09IDAgPyAwIDogYSk7XG4gICAgICB9IDogS0VZID09ICdhZGQnID8gZnVuY3Rpb24gYWRkKGEpeyBmbi5jYWxsKHRoaXMsIGEgPT09IDAgPyAwIDogYSk7IHJldHVybiB0aGlzOyB9XG4gICAgICAgIDogZnVuY3Rpb24gc2V0KGEsIGIpeyBmbi5jYWxsKHRoaXMsIGEgPT09IDAgPyAwIDogYSwgYik7IHJldHVybiB0aGlzOyB9XG4gICAgKTtcbiAgfTtcbiAgaWYodHlwZW9mIEMgIT0gJ2Z1bmN0aW9uJyB8fCAhKElTX1dFQUsgfHwgcHJvdG8uZm9yRWFjaCAmJiAhZmFpbHMoZnVuY3Rpb24oKXtcbiAgICBuZXcgQygpLmVudHJpZXMoKS5uZXh0KCk7XG4gIH0pKSl7XG4gICAgLy8gY3JlYXRlIGNvbGxlY3Rpb24gY29uc3RydWN0b3JcbiAgICBDID0gY29tbW9uLmdldENvbnN0cnVjdG9yKHdyYXBwZXIsIE5BTUUsIElTX01BUCwgQURERVIpO1xuICAgIHJlZGVmaW5lQWxsKEMucHJvdG90eXBlLCBtZXRob2RzKTtcbiAgICBtZXRhLk5FRUQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHZhciBpbnN0YW5jZSAgICAgICAgICAgICA9IG5ldyBDXG4gICAgICAvLyBlYXJseSBpbXBsZW1lbnRhdGlvbnMgbm90IHN1cHBvcnRzIGNoYWluaW5nXG4gICAgICAsIEhBU05UX0NIQUlOSU5HICAgICAgID0gaW5zdGFuY2VbQURERVJdKElTX1dFQUsgPyB7fSA6IC0wLCAxKSAhPSBpbnN0YW5jZVxuICAgICAgLy8gVjggfiAgQ2hyb21pdW0gNDAtIHdlYWstY29sbGVjdGlvbnMgdGhyb3dzIG9uIHByaW1pdGl2ZXMsIGJ1dCBzaG91bGQgcmV0dXJuIGZhbHNlXG4gICAgICAsIFRIUk9XU19PTl9QUklNSVRJVkVTID0gZmFpbHMoZnVuY3Rpb24oKXsgaW5zdGFuY2UuaGFzKDEpOyB9KVxuICAgICAgLy8gbW9zdCBlYXJseSBpbXBsZW1lbnRhdGlvbnMgZG9lc24ndCBzdXBwb3J0cyBpdGVyYWJsZXMsIG1vc3QgbW9kZXJuIC0gbm90IGNsb3NlIGl0IGNvcnJlY3RseVxuICAgICAgLCBBQ0NFUFRfSVRFUkFCTEVTICAgICA9ICRpdGVyRGV0ZWN0KGZ1bmN0aW9uKGl0ZXIpeyBuZXcgQyhpdGVyKTsgfSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICAgIC8vIGZvciBlYXJseSBpbXBsZW1lbnRhdGlvbnMgLTAgYW5kICswIG5vdCB0aGUgc2FtZVxuICAgICAgLCBCVUdHWV9aRVJPID0gIUlTX1dFQUsgJiYgZmFpbHMoZnVuY3Rpb24oKXtcbiAgICAgICAgLy8gVjggfiBDaHJvbWl1bSA0Mi0gZmFpbHMgb25seSB3aXRoIDUrIGVsZW1lbnRzXG4gICAgICAgIHZhciAkaW5zdGFuY2UgPSBuZXcgQygpXG4gICAgICAgICAgLCBpbmRleCAgICAgPSA1O1xuICAgICAgICB3aGlsZShpbmRleC0tKSRpbnN0YW5jZVtBRERFUl0oaW5kZXgsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuICEkaW5zdGFuY2UuaGFzKC0wKTtcbiAgICAgIH0pO1xuICAgIGlmKCFBQ0NFUFRfSVRFUkFCTEVTKXsgXG4gICAgICBDID0gd3JhcHBlcihmdW5jdGlvbih0YXJnZXQsIGl0ZXJhYmxlKXtcbiAgICAgICAgYW5JbnN0YW5jZSh0YXJnZXQsIEMsIE5BTUUpO1xuICAgICAgICB2YXIgdGhhdCA9IGluaGVyaXRJZlJlcXVpcmVkKG5ldyBCYXNlLCB0YXJnZXQsIEMpO1xuICAgICAgICBpZihpdGVyYWJsZSAhPSB1bmRlZmluZWQpZm9yT2YoaXRlcmFibGUsIElTX01BUCwgdGhhdFtBRERFUl0sIHRoYXQpO1xuICAgICAgICByZXR1cm4gdGhhdDtcbiAgICAgIH0pO1xuICAgICAgQy5wcm90b3R5cGUgPSBwcm90bztcbiAgICAgIHByb3RvLmNvbnN0cnVjdG9yID0gQztcbiAgICB9XG4gICAgaWYoVEhST1dTX09OX1BSSU1JVElWRVMgfHwgQlVHR1lfWkVSTyl7XG4gICAgICBmaXhNZXRob2QoJ2RlbGV0ZScpO1xuICAgICAgZml4TWV0aG9kKCdoYXMnKTtcbiAgICAgIElTX01BUCAmJiBmaXhNZXRob2QoJ2dldCcpO1xuICAgIH1cbiAgICBpZihCVUdHWV9aRVJPIHx8IEhBU05UX0NIQUlOSU5HKWZpeE1ldGhvZChBRERFUik7XG4gICAgLy8gd2VhayBjb2xsZWN0aW9ucyBzaG91bGQgbm90IGNvbnRhaW5zIC5jbGVhciBtZXRob2RcbiAgICBpZihJU19XRUFLICYmIHByb3RvLmNsZWFyKWRlbGV0ZSBwcm90by5jbGVhcjtcbiAgfVxuXG4gIHNldFRvU3RyaW5nVGFnKEMsIE5BTUUpO1xuXG4gIE9bTkFNRV0gPSBDO1xuICAkZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqIChDICE9IEJhc2UpLCBPKTtcblxuICBpZighSVNfV0VBSyljb21tb24uc2V0U3Ryb25nKEMsIE5BTUUsIElTX01BUCk7XG5cbiAgcmV0dXJuIEM7XG59OyIsIid1c2Ugc3RyaWN0JztcbnZhciBhbk9iamVjdCAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIE5VTUJFUiAgICAgID0gJ251bWJlcic7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaGludCl7XG4gIGlmKGhpbnQgIT09ICdzdHJpbmcnICYmIGhpbnQgIT09IE5VTUJFUiAmJiBoaW50ICE9PSAnZGVmYXVsdCcpdGhyb3cgVHlwZUVycm9yKCdJbmNvcnJlY3QgaGludCcpO1xuICByZXR1cm4gdG9QcmltaXRpdmUoYW5PYmplY3QodGhpcyksIGhpbnQgIT0gTlVNQkVSKTtcbn07IiwidmFyIGdsb2JhbCAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY29yZSAgICAgID0gcmVxdWlyZSgnLi9fY29yZScpXG4gICwgaGlkZSAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgcmVkZWZpbmUgID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKVxuICAsIGN0eCAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkZcbiAgICAsIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0LkdcbiAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcbiAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlBcbiAgICAsIElTX0JJTkQgICA9IHR5cGUgJiAkZXhwb3J0LkJcbiAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSB8fCAoZ2xvYmFsW25hbWVdID0ge30pIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXVxuICAgICwgZXhwb3J0cyAgID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSlcbiAgICAsIGV4cFByb3RvICA9IGV4cG9ydHNbUFJPVE9UWVBFXSB8fCAoZXhwb3J0c1tQUk9UT1RZUEVdID0ge30pXG4gICAgLCBrZXksIG93biwgb3V0LCBleHA7XG4gIGlmKElTX0dMT0JBTClzb3VyY2UgPSBuYW1lO1xuICBmb3Ioa2V5IGluIHNvdXJjZSl7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IChvd24gPyB0YXJnZXQgOiBzb3VyY2UpW2tleV07XG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICBleHAgPSBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHRlbmQgZ2xvYmFsXG4gICAgaWYodGFyZ2V0KXJlZGVmaW5lKHRhcmdldCwga2V5LCBvdXQsIHR5cGUgJiAkZXhwb3J0LlUpO1xuICAgIC8vIGV4cG9ydFxuICAgIGlmKGV4cG9ydHNba2V5XSAhPSBvdXQpaGlkZShleHBvcnRzLCBrZXksIGV4cCk7XG4gICAgaWYoSVNfUFJPVE8gJiYgZXhwUHJvdG9ba2V5XSAhPSBvdXQpZXhwUHJvdG9ba2V5XSA9IG91dDtcbiAgfVxufTtcbmdsb2JhbC5jb3JlID0gY29yZTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWAgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7IiwidmFyIE1BVENIID0gcmVxdWlyZSgnLi9fd2tzJykoJ21hdGNoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSl7XG4gIHZhciByZSA9IC8uLztcbiAgdHJ5IHtcbiAgICAnLy4vJ1tLRVldKHJlKTtcbiAgfSBjYXRjaChlKXtcbiAgICB0cnkge1xuICAgICAgcmVbTUFUQ0hdID0gZmFsc2U7XG4gICAgICByZXR1cm4gIScvLi8nW0tFWV0ocmUpO1xuICAgIH0gY2F0Y2goZil7IC8qIGVtcHR5ICovIH1cbiAgfSByZXR1cm4gdHJ1ZTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGhpZGUgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgZmFpbHMgICAgPSByZXF1aXJlKCcuL19mYWlscycpXG4gICwgZGVmaW5lZCAgPSByZXF1aXJlKCcuL19kZWZpbmVkJylcbiAgLCB3a3MgICAgICA9IHJlcXVpcmUoJy4vX3drcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSwgbGVuZ3RoLCBleGVjKXtcbiAgdmFyIFNZTUJPTCAgID0gd2tzKEtFWSlcbiAgICAsIGZucyAgICAgID0gZXhlYyhkZWZpbmVkLCBTWU1CT0wsICcnW0tFWV0pXG4gICAgLCBzdHJmbiAgICA9IGZuc1swXVxuICAgICwgcnhmbiAgICAgPSBmbnNbMV07XG4gIGlmKGZhaWxzKGZ1bmN0aW9uKCl7XG4gICAgdmFyIE8gPSB7fTtcbiAgICBPW1NZTUJPTF0gPSBmdW5jdGlvbigpeyByZXR1cm4gNzsgfTtcbiAgICByZXR1cm4gJydbS0VZXShPKSAhPSA3O1xuICB9KSl7XG4gICAgcmVkZWZpbmUoU3RyaW5nLnByb3RvdHlwZSwgS0VZLCBzdHJmbik7XG4gICAgaGlkZShSZWdFeHAucHJvdG90eXBlLCBTWU1CT0wsIGxlbmd0aCA9PSAyXG4gICAgICAvLyAyMS4yLjUuOCBSZWdFeHAucHJvdG90eXBlW0BAcmVwbGFjZV0oc3RyaW5nLCByZXBsYWNlVmFsdWUpXG4gICAgICAvLyAyMS4yLjUuMTEgUmVnRXhwLnByb3RvdHlwZVtAQHNwbGl0XShzdHJpbmcsIGxpbWl0KVxuICAgICAgPyBmdW5jdGlvbihzdHJpbmcsIGFyZyl7IHJldHVybiByeGZuLmNhbGwoc3RyaW5nLCB0aGlzLCBhcmcpOyB9XG4gICAgICAvLyAyMS4yLjUuNiBSZWdFeHAucHJvdG90eXBlW0BAbWF0Y2hdKHN0cmluZylcbiAgICAgIC8vIDIxLjIuNS45IFJlZ0V4cC5wcm90b3R5cGVbQEBzZWFyY2hdKHN0cmluZylcbiAgICAgIDogZnVuY3Rpb24oc3RyaW5nKXsgcmV0dXJuIHJ4Zm4uY2FsbChzdHJpbmcsIHRoaXMpOyB9XG4gICAgKTtcbiAgfVxufTsiLCIndXNlIHN0cmljdCc7XG4vLyAyMS4yLjUuMyBnZXQgUmVnRXhwLnByb3RvdHlwZS5mbGFnc1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7XG4gIHZhciB0aGF0ICAgPSBhbk9iamVjdCh0aGlzKVxuICAgICwgcmVzdWx0ID0gJyc7XG4gIGlmKHRoYXQuZ2xvYmFsKSAgICAgcmVzdWx0ICs9ICdnJztcbiAgaWYodGhhdC5pZ25vcmVDYXNlKSByZXN1bHQgKz0gJ2knO1xuICBpZih0aGF0Lm11bHRpbGluZSkgIHJlc3VsdCArPSAnbSc7XG4gIGlmKHRoYXQudW5pY29kZSkgICAgcmVzdWx0ICs9ICd1JztcbiAgaWYodGhhdC5zdGlja3kpICAgICByZXN1bHQgKz0gJ3knO1xuICByZXR1cm4gcmVzdWx0O1xufTsiLCJ2YXIgaXNPYmplY3QgICAgICAgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIHNldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fc2V0LXByb3RvJykuc2V0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0aGF0LCB0YXJnZXQsIEMpe1xuICB2YXIgUCwgUyA9IHRhcmdldC5jb25zdHJ1Y3RvcjtcbiAgaWYoUyAhPT0gQyAmJiB0eXBlb2YgUyA9PSAnZnVuY3Rpb24nICYmIChQID0gUy5wcm90b3R5cGUpICE9PSBDLnByb3RvdHlwZSAmJiBpc09iamVjdChQKSAmJiBzZXRQcm90b3R5cGVPZil7XG4gICAgc2V0UHJvdG90eXBlT2YodGhhdCwgUCk7XG4gIH0gcmV0dXJuIHRoYXQ7XG59OyIsIi8vIDIwLjEuMi4zIE51bWJlci5pc0ludGVnZXIobnVtYmVyKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBmbG9vciAgICA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzSW50ZWdlcihpdCl7XG4gIHJldHVybiAhaXNPYmplY3QoaXQpICYmIGlzRmluaXRlKGl0KSAmJiBmbG9vcihpdCkgPT09IGl0O1xufTsiLCIvLyA3LjIuOCBJc1JlZ0V4cChhcmd1bWVudClcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgY29mICAgICAgPSByZXF1aXJlKCcuL19jb2YnKVxuICAsIE1BVENIICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ21hdGNoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIGlzUmVnRXhwO1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmICgoaXNSZWdFeHAgPSBpdFtNQVRDSF0pICE9PSB1bmRlZmluZWQgPyAhIWlzUmVnRXhwIDogY29mKGl0KSA9PSAnUmVnRXhwJyk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZmFsc2U7IiwiLy8gMjAuMi4yLjE0IE1hdGguZXhwbTEoeClcbnZhciAkZXhwbTEgPSBNYXRoLmV4cG0xO1xubW9kdWxlLmV4cG9ydHMgPSAoISRleHBtMVxuICAvLyBPbGQgRkYgYnVnXG4gIHx8ICRleHBtMSgxMCkgPiAyMjAyNS40NjU3OTQ4MDY3MTkgfHwgJGV4cG0xKDEwKSA8IDIyMDI1LjQ2NTc5NDgwNjcxNjUxNjhcbiAgLy8gVG9yIEJyb3dzZXIgYnVnXG4gIHx8ICRleHBtMSgtMmUtMTcpICE9IC0yZS0xN1xuKSA/IGZ1bmN0aW9uIGV4cG0xKHgpe1xuICByZXR1cm4gKHggPSAreCkgPT0gMCA/IHggOiB4ID4gLTFlLTYgJiYgeCA8IDFlLTYgPyB4ICsgeCAqIHggLyAyIDogTWF0aC5leHAoeCkgLSAxO1xufSA6ICRleHBtMTsiLCIvLyAyMC4yLjIuMjAgTWF0aC5sb2cxcCh4KVxubW9kdWxlLmV4cG9ydHMgPSBNYXRoLmxvZzFwIHx8IGZ1bmN0aW9uIGxvZzFwKHgpe1xuICByZXR1cm4gKHggPSAreCkgPiAtMWUtOCAmJiB4IDwgMWUtOCA/IHggLSB4ICogeCAvIDIgOiBNYXRoLmxvZygxICsgeCk7XG59OyIsIi8vIDIwLjIuMi4yOCBNYXRoLnNpZ24oeClcbm1vZHVsZS5leHBvcnRzID0gTWF0aC5zaWduIHx8IGZ1bmN0aW9uIHNpZ24oeCl7XG4gIHJldHVybiAoeCA9ICt4KSA9PSAwIHx8IHggIT0geCA/IHggOiB4IDwgMCA/IC0xIDogMTtcbn07IiwidmFyIE1hcCAgICAgPSByZXF1aXJlKCcuL2VzNi5tYXAnKVxuICAsICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHNoYXJlZCAgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnbWV0YWRhdGEnKVxuICAsIHN0b3JlICAgPSBzaGFyZWQuc3RvcmUgfHwgKHNoYXJlZC5zdG9yZSA9IG5ldyAocmVxdWlyZSgnLi9lczYud2Vhay1tYXAnKSkpO1xuXG52YXIgZ2V0T3JDcmVhdGVNZXRhZGF0YU1hcCA9IGZ1bmN0aW9uKHRhcmdldCwgdGFyZ2V0S2V5LCBjcmVhdGUpe1xuICB2YXIgdGFyZ2V0TWV0YWRhdGEgPSBzdG9yZS5nZXQodGFyZ2V0KTtcbiAgaWYoIXRhcmdldE1ldGFkYXRhKXtcbiAgICBpZighY3JlYXRlKXJldHVybiB1bmRlZmluZWQ7XG4gICAgc3RvcmUuc2V0KHRhcmdldCwgdGFyZ2V0TWV0YWRhdGEgPSBuZXcgTWFwKTtcbiAgfVxuICB2YXIga2V5TWV0YWRhdGEgPSB0YXJnZXRNZXRhZGF0YS5nZXQodGFyZ2V0S2V5KTtcbiAgaWYoIWtleU1ldGFkYXRhKXtcbiAgICBpZighY3JlYXRlKXJldHVybiB1bmRlZmluZWQ7XG4gICAgdGFyZ2V0TWV0YWRhdGEuc2V0KHRhcmdldEtleSwga2V5TWV0YWRhdGEgPSBuZXcgTWFwKTtcbiAgfSByZXR1cm4ga2V5TWV0YWRhdGE7XG59O1xudmFyIG9yZGluYXJ5SGFzT3duTWV0YWRhdGEgPSBmdW5jdGlvbihNZXRhZGF0YUtleSwgTywgUCl7XG4gIHZhciBtZXRhZGF0YU1hcCA9IGdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgZmFsc2UpO1xuICByZXR1cm4gbWV0YWRhdGFNYXAgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogbWV0YWRhdGFNYXAuaGFzKE1ldGFkYXRhS2V5KTtcbn07XG52YXIgb3JkaW5hcnlHZXRPd25NZXRhZGF0YSA9IGZ1bmN0aW9uKE1ldGFkYXRhS2V5LCBPLCBQKXtcbiAgdmFyIG1ldGFkYXRhTWFwID0gZ2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCBmYWxzZSk7XG4gIHJldHVybiBtZXRhZGF0YU1hcCA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogbWV0YWRhdGFNYXAuZ2V0KE1ldGFkYXRhS2V5KTtcbn07XG52YXIgb3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YSA9IGZ1bmN0aW9uKE1ldGFkYXRhS2V5LCBNZXRhZGF0YVZhbHVlLCBPLCBQKXtcbiAgZ2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCB0cnVlKS5zZXQoTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUpO1xufTtcbnZhciBvcmRpbmFyeU93bk1ldGFkYXRhS2V5cyA9IGZ1bmN0aW9uKHRhcmdldCwgdGFyZ2V0S2V5KXtcbiAgdmFyIG1ldGFkYXRhTWFwID0gZ2V0T3JDcmVhdGVNZXRhZGF0YU1hcCh0YXJnZXQsIHRhcmdldEtleSwgZmFsc2UpXG4gICAgLCBrZXlzICAgICAgICA9IFtdO1xuICBpZihtZXRhZGF0YU1hcCltZXRhZGF0YU1hcC5mb3JFYWNoKGZ1bmN0aW9uKF8sIGtleSl7IGtleXMucHVzaChrZXkpOyB9KTtcbiAgcmV0dXJuIGtleXM7XG59O1xudmFyIHRvTWV0YUtleSA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiBTdHJpbmcoaXQpO1xufTtcbnZhciBleHAgPSBmdW5jdGlvbihPKXtcbiAgJGV4cG9ydCgkZXhwb3J0LlMsICdSZWZsZWN0JywgTyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc3RvcmU6IHN0b3JlLFxuICBtYXA6IGdldE9yQ3JlYXRlTWV0YWRhdGFNYXAsXG4gIGhhczogb3JkaW5hcnlIYXNPd25NZXRhZGF0YSxcbiAgZ2V0OiBvcmRpbmFyeUdldE93bk1ldGFkYXRhLFxuICBzZXQ6IG9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEsXG4gIGtleXM6IG9yZGluYXJ5T3duTWV0YWRhdGFLZXlzLFxuICBrZXk6IHRvTWV0YUtleSxcbiAgZXhwOiBleHBcbn07IiwiLy8gRm9yY2VkIHJlcGxhY2VtZW50IHByb3RvdHlwZSBhY2Nlc3NvcnMgbWV0aG9kc1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19saWJyYXJ5Jyl8fCAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICB2YXIgSyA9IE1hdGgucmFuZG9tKCk7XG4gIC8vIEluIEZGIHRocm93cyBvbmx5IGRlZmluZSBtZXRob2RzXG4gIF9fZGVmaW5lU2V0dGVyX18uY2FsbChudWxsLCBLLCBmdW5jdGlvbigpeyAvKiBlbXB0eSAqL30pO1xuICBkZWxldGUgcmVxdWlyZSgnLi9fZ2xvYmFsJylbS107XG59KTsiLCJ2YXIgZ2V0S2V5cyAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIGlzRW51bSAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKS5mO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpc0VudHJpZXMpe1xuICByZXR1cm4gZnVuY3Rpb24oaXQpe1xuICAgIHZhciBPICAgICAgPSB0b0lPYmplY3QoaXQpXG4gICAgICAsIGtleXMgICA9IGdldEtleXMoTylcbiAgICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAgICwgaSAgICAgID0gMFxuICAgICAgLCByZXN1bHQgPSBbXVxuICAgICAgLCBrZXk7XG4gICAgd2hpbGUobGVuZ3RoID4gaSlpZihpc0VudW0uY2FsbChPLCBrZXkgPSBrZXlzW2krK10pKXtcbiAgICAgIHJlc3VsdC5wdXNoKGlzRW50cmllcyA/IFtrZXksIE9ba2V5XV0gOiBPW2tleV0pO1xuICAgIH0gcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn07IiwiLy8gYWxsIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBub24tZW51bWVyYWJsZSBhbmQgc3ltYm9sc1xudmFyIGdPUE4gICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKVxuICAsIGdPUFMgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKVxuICAsIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBSZWZsZWN0ICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLlJlZmxlY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IFJlZmxlY3QgJiYgUmVmbGVjdC5vd25LZXlzIHx8IGZ1bmN0aW9uIG93bktleXMoaXQpe1xuICB2YXIga2V5cyAgICAgICA9IGdPUE4uZihhbk9iamVjdChpdCkpXG4gICAgLCBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICByZXR1cm4gZ2V0U3ltYm9scyA/IGtleXMuY29uY2F0KGdldFN5bWJvbHMoaXQpKSA6IGtleXM7XG59OyIsInZhciAkcGFyc2VGbG9hdCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLnBhcnNlRmxvYXRcbiAgLCAkdHJpbSAgICAgICA9IHJlcXVpcmUoJy4vX3N0cmluZy10cmltJykudHJpbTtcblxubW9kdWxlLmV4cG9ydHMgPSAxIC8gJHBhcnNlRmxvYXQocmVxdWlyZSgnLi9fc3RyaW5nLXdzJykgKyAnLTAnKSAhPT0gLUluZmluaXR5ID8gZnVuY3Rpb24gcGFyc2VGbG9hdChzdHIpe1xuICB2YXIgc3RyaW5nID0gJHRyaW0oU3RyaW5nKHN0ciksIDMpXG4gICAgLCByZXN1bHQgPSAkcGFyc2VGbG9hdChzdHJpbmcpO1xuICByZXR1cm4gcmVzdWx0ID09PSAwICYmIHN0cmluZy5jaGFyQXQoMCkgPT0gJy0nID8gLTAgOiByZXN1bHQ7XG59IDogJHBhcnNlRmxvYXQ7IiwidmFyICRwYXJzZUludCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLnBhcnNlSW50XG4gICwgJHRyaW0gICAgID0gcmVxdWlyZSgnLi9fc3RyaW5nLXRyaW0nKS50cmltXG4gICwgd3MgICAgICAgID0gcmVxdWlyZSgnLi9fc3RyaW5nLXdzJylcbiAgLCBoZXggICAgICAgPSAvXltcXC0rXT8wW3hYXS87XG5cbm1vZHVsZS5leHBvcnRzID0gJHBhcnNlSW50KHdzICsgJzA4JykgIT09IDggfHwgJHBhcnNlSW50KHdzICsgJzB4MTYnKSAhPT0gMjIgPyBmdW5jdGlvbiBwYXJzZUludChzdHIsIHJhZGl4KXtcbiAgdmFyIHN0cmluZyA9ICR0cmltKFN0cmluZyhzdHIpLCAzKTtcbiAgcmV0dXJuICRwYXJzZUludChzdHJpbmcsIChyYWRpeCA+Pj4gMCkgfHwgKGhleC50ZXN0KHN0cmluZykgPyAxNiA6IDEwKSk7XG59IDogJHBhcnNlSW50OyIsIid1c2Ugc3RyaWN0JztcbnZhciBwYXRoICAgICAgPSByZXF1aXJlKCcuL19wYXRoJylcbiAgLCBpbnZva2UgICAgPSByZXF1aXJlKCcuL19pbnZva2UnKVxuICAsIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oLyogLi4ucGFyZ3MgKi8pe1xuICB2YXIgZm4gICAgID0gYUZ1bmN0aW9uKHRoaXMpXG4gICAgLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBwYXJncyAgPSBBcnJheShsZW5ndGgpXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBfICAgICAgPSBwYXRoLl9cbiAgICAsIGhvbGRlciA9IGZhbHNlO1xuICB3aGlsZShsZW5ndGggPiBpKWlmKChwYXJnc1tpXSA9IGFyZ3VtZW50c1tpKytdKSA9PT0gXylob2xkZXIgPSB0cnVlO1xuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgICAsIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAsIGogPSAwLCBrID0gMCwgYXJncztcbiAgICBpZighaG9sZGVyICYmICFhTGVuKXJldHVybiBpbnZva2UoZm4sIHBhcmdzLCB0aGF0KTtcbiAgICBhcmdzID0gcGFyZ3Muc2xpY2UoKTtcbiAgICBpZihob2xkZXIpZm9yKDtsZW5ndGggPiBqOyBqKyspaWYoYXJnc1tqXSA9PT0gXylhcmdzW2pdID0gYXJndW1lbnRzW2srK107XG4gICAgd2hpbGUoYUxlbiA+IGspYXJncy5wdXNoKGFyZ3VtZW50c1trKytdKTtcbiAgICByZXR1cm4gaW52b2tlKGZuLCBhcmdzLCB0aGF0KTtcbiAgfTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19nbG9iYWwnKTsiLCJ2YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0YXJnZXQsIHNyYywgc2FmZSl7XG4gIGZvcih2YXIga2V5IGluIHNyYylyZWRlZmluZSh0YXJnZXQsIGtleSwgc3JjW2tleV0sIHNhZmUpO1xuICByZXR1cm4gdGFyZ2V0O1xufTsiLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoaWRlICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBoYXMgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIFNSQyAgICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpKCdzcmMnKVxuICAsIFRPX1NUUklORyA9ICd0b1N0cmluZydcbiAgLCAkdG9TdHJpbmcgPSBGdW5jdGlvbltUT19TVFJJTkddXG4gICwgVFBMICAgICAgID0gKCcnICsgJHRvU3RyaW5nKS5zcGxpdChUT19TVFJJTkcpO1xuXG5yZXF1aXJlKCcuL19jb3JlJykuaW5zcGVjdFNvdXJjZSA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuICR0b1N0cmluZy5jYWxsKGl0KTtcbn07XG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE8sIGtleSwgdmFsLCBzYWZlKXtcbiAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2YgdmFsID09ICdmdW5jdGlvbic7XG4gIGlmKGlzRnVuY3Rpb24paGFzKHZhbCwgJ25hbWUnKSB8fCBoaWRlKHZhbCwgJ25hbWUnLCBrZXkpO1xuICBpZihPW2tleV0gPT09IHZhbClyZXR1cm47XG4gIGlmKGlzRnVuY3Rpb24paGFzKHZhbCwgU1JDKSB8fCBoaWRlKHZhbCwgU1JDLCBPW2tleV0gPyAnJyArIE9ba2V5XSA6IFRQTC5qb2luKFN0cmluZyhrZXkpKSk7XG4gIGlmKE8gPT09IGdsb2JhbCl7XG4gICAgT1trZXldID0gdmFsO1xuICB9IGVsc2Uge1xuICAgIGlmKCFzYWZlKXtcbiAgICAgIGRlbGV0ZSBPW2tleV07XG4gICAgICBoaWRlKE8sIGtleSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYoT1trZXldKU9ba2V5XSA9IHZhbDtcbiAgICAgIGVsc2UgaGlkZShPLCBrZXksIHZhbCk7XG4gICAgfVxuICB9XG4vLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbn0pKEZ1bmN0aW9uLnByb3RvdHlwZSwgVE9fU1RSSU5HLCBmdW5jdGlvbiB0b1N0cmluZygpe1xuICByZXR1cm4gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyAmJiB0aGlzW1NSQ10gfHwgJHRvU3RyaW5nLmNhbGwodGhpcyk7XG59KTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHJlZ0V4cCwgcmVwbGFjZSl7XG4gIHZhciByZXBsYWNlciA9IHJlcGxhY2UgPT09IE9iamVjdChyZXBsYWNlKSA/IGZ1bmN0aW9uKHBhcnQpe1xuICAgIHJldHVybiByZXBsYWNlW3BhcnRdO1xuICB9IDogcmVwbGFjZTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gU3RyaW5nKGl0KS5yZXBsYWNlKHJlZ0V4cCwgcmVwbGFjZXIpO1xuICB9O1xufTsiLCIvLyA3LjIuOSBTYW1lVmFsdWUoeCwgeSlcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmlzIHx8IGZ1bmN0aW9uIGlzKHgsIHkpe1xuICByZXR1cm4geCA9PT0geSA/IHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5IDogeCAhPSB4ICYmIHkgIT0geTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBkUCAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpXG4gICwgU1BFQ0lFUyAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSl7XG4gIHZhciBDID0gZ2xvYmFsW0tFWV07XG4gIGlmKERFU0NSSVBUT1JTICYmIEMgJiYgIUNbU1BFQ0lFU10pZFAuZihDLCBTUEVDSUVTLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH1cbiAgfSk7XG59OyIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obWV0aG9kLCBhcmcpe1xuICByZXR1cm4gISFtZXRob2QgJiYgZmFpbHMoZnVuY3Rpb24oKXtcbiAgICBhcmcgPyBtZXRob2QuY2FsbChudWxsLCBmdW5jdGlvbigpe30sIDEpIDogbWV0aG9kLmNhbGwobnVsbCk7XG4gIH0pO1xufTsiLCIvLyBoZWxwZXIgZm9yIFN0cmluZyN7c3RhcnRzV2l0aCwgZW5kc1dpdGgsIGluY2x1ZGVzfVxudmFyIGlzUmVnRXhwID0gcmVxdWlyZSgnLi9faXMtcmVnZXhwJylcbiAgLCBkZWZpbmVkICA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0aGF0LCBzZWFyY2hTdHJpbmcsIE5BTUUpe1xuICBpZihpc1JlZ0V4cChzZWFyY2hTdHJpbmcpKXRocm93IFR5cGVFcnJvcignU3RyaW5nIycgKyBOQU1FICsgXCIgZG9lc24ndCBhY2NlcHQgcmVnZXghXCIpO1xuICByZXR1cm4gU3RyaW5nKGRlZmluZWQodGhhdCkpO1xufTsiLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgZmFpbHMgICA9IHJlcXVpcmUoJy4vX2ZhaWxzJylcbiAgLCBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpXG4gICwgcXVvdCAgICA9IC9cIi9nO1xuLy8gQi4yLjMuMi4xIENyZWF0ZUhUTUwoc3RyaW5nLCB0YWcsIGF0dHJpYnV0ZSwgdmFsdWUpXG52YXIgY3JlYXRlSFRNTCA9IGZ1bmN0aW9uKHN0cmluZywgdGFnLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gIHZhciBTICA9IFN0cmluZyhkZWZpbmVkKHN0cmluZykpXG4gICAgLCBwMSA9ICc8JyArIHRhZztcbiAgaWYoYXR0cmlidXRlICE9PSAnJylwMSArPSAnICcgKyBhdHRyaWJ1dGUgKyAnPVwiJyArIFN0cmluZyh2YWx1ZSkucmVwbGFjZShxdW90LCAnJnF1b3Q7JykgKyAnXCInO1xuICByZXR1cm4gcDEgKyAnPicgKyBTICsgJzwvJyArIHRhZyArICc+Jztcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE5BTUUsIGV4ZWMpe1xuICB2YXIgTyA9IHt9O1xuICBPW05BTUVdID0gZXhlYyhjcmVhdGVIVE1MKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbigpe1xuICAgIHZhciB0ZXN0ID0gJydbTkFNRV0oJ1wiJyk7XG4gICAgcmV0dXJuIHRlc3QgIT09IHRlc3QudG9Mb3dlckNhc2UoKSB8fCB0ZXN0LnNwbGl0KCdcIicpLmxlbmd0aCA+IDM7XG4gIH0pLCAnU3RyaW5nJywgTyk7XG59OyIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXN0cmluZy1wYWQtc3RhcnQtZW5kXG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIHJlcGVhdCAgID0gcmVxdWlyZSgnLi9fc3RyaW5nLXJlcGVhdCcpXG4gICwgZGVmaW5lZCAgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGhhdCwgbWF4TGVuZ3RoLCBmaWxsU3RyaW5nLCBsZWZ0KXtcbiAgdmFyIFMgICAgICAgICAgICA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKVxuICAgICwgc3RyaW5nTGVuZ3RoID0gUy5sZW5ndGhcbiAgICAsIGZpbGxTdHIgICAgICA9IGZpbGxTdHJpbmcgPT09IHVuZGVmaW5lZCA/ICcgJyA6IFN0cmluZyhmaWxsU3RyaW5nKVxuICAgICwgaW50TWF4TGVuZ3RoID0gdG9MZW5ndGgobWF4TGVuZ3RoKTtcbiAgaWYoaW50TWF4TGVuZ3RoIDw9IHN0cmluZ0xlbmd0aCB8fCBmaWxsU3RyID09ICcnKXJldHVybiBTO1xuICB2YXIgZmlsbExlbiA9IGludE1heExlbmd0aCAtIHN0cmluZ0xlbmd0aFxuICAgICwgc3RyaW5nRmlsbGVyID0gcmVwZWF0LmNhbGwoZmlsbFN0ciwgTWF0aC5jZWlsKGZpbGxMZW4gLyBmaWxsU3RyLmxlbmd0aCkpO1xuICBpZihzdHJpbmdGaWxsZXIubGVuZ3RoID4gZmlsbExlbilzdHJpbmdGaWxsZXIgPSBzdHJpbmdGaWxsZXIuc2xpY2UoMCwgZmlsbExlbik7XG4gIHJldHVybiBsZWZ0ID8gc3RyaW5nRmlsbGVyICsgUyA6IFMgKyBzdHJpbmdGaWxsZXI7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIGRlZmluZWQgICA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXBlYXQoY291bnQpe1xuICB2YXIgc3RyID0gU3RyaW5nKGRlZmluZWQodGhpcykpXG4gICAgLCByZXMgPSAnJ1xuICAgICwgbiAgID0gdG9JbnRlZ2VyKGNvdW50KTtcbiAgaWYobiA8IDAgfHwgbiA9PSBJbmZpbml0eSl0aHJvdyBSYW5nZUVycm9yKFwiQ291bnQgY2FuJ3QgYmUgbmVnYXRpdmVcIik7XG4gIGZvcig7biA+IDA7IChuID4+Pj0gMSkgJiYgKHN0ciArPSBzdHIpKWlmKG4gJiAxKXJlcyArPSBzdHI7XG4gIHJldHVybiByZXM7XG59OyIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpXG4gICwgZmFpbHMgICA9IHJlcXVpcmUoJy4vX2ZhaWxzJylcbiAgLCBzcGFjZXMgID0gcmVxdWlyZSgnLi9fc3RyaW5nLXdzJylcbiAgLCBzcGFjZSAgID0gJ1snICsgc3BhY2VzICsgJ10nXG4gICwgbm9uICAgICA9ICdcXHUyMDBiXFx1MDA4NSdcbiAgLCBsdHJpbSAgID0gUmVnRXhwKCdeJyArIHNwYWNlICsgc3BhY2UgKyAnKicpXG4gICwgcnRyaW0gICA9IFJlZ0V4cChzcGFjZSArIHNwYWNlICsgJyokJyk7XG5cbnZhciBleHBvcnRlciA9IGZ1bmN0aW9uKEtFWSwgZXhlYywgQUxJQVMpe1xuICB2YXIgZXhwICAgPSB7fTtcbiAgdmFyIEZPUkNFID0gZmFpbHMoZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gISFzcGFjZXNbS0VZXSgpIHx8IG5vbltLRVldKCkgIT0gbm9uO1xuICB9KTtcbiAgdmFyIGZuID0gZXhwW0tFWV0gPSBGT1JDRSA/IGV4ZWModHJpbSkgOiBzcGFjZXNbS0VZXTtcbiAgaWYoQUxJQVMpZXhwW0FMSUFTXSA9IGZuO1xuICAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIEZPUkNFLCAnU3RyaW5nJywgZXhwKTtcbn07XG5cbi8vIDEgLT4gU3RyaW5nI3RyaW1MZWZ0XG4vLyAyIC0+IFN0cmluZyN0cmltUmlnaHRcbi8vIDMgLT4gU3RyaW5nI3RyaW1cbnZhciB0cmltID0gZXhwb3J0ZXIudHJpbSA9IGZ1bmN0aW9uKHN0cmluZywgVFlQRSl7XG4gIHN0cmluZyA9IFN0cmluZyhkZWZpbmVkKHN0cmluZykpO1xuICBpZihUWVBFICYgMSlzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShsdHJpbSwgJycpO1xuICBpZihUWVBFICYgMilzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShydHJpbSwgJycpO1xuICByZXR1cm4gc3RyaW5nO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlcjsiLCJtb2R1bGUuZXhwb3J0cyA9ICdcXHgwOVxceDBBXFx4MEJcXHgwQ1xceDBEXFx4MjBcXHhBMFxcdTE2ODBcXHUxODBFXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwMycgK1xuICAnXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwQVxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdTIwMjhcXHUyMDI5XFx1RkVGRic7IiwiJ3VzZSBzdHJpY3QnO1xuaWYocmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSl7XG4gIHZhciBMSUJSQVJZICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICAgLCBnbG9iYWwgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgICAsIGZhaWxzICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19mYWlscycpXG4gICAgLCAkZXhwb3J0ICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgICAsICR0eXBlZCAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL190eXBlZCcpXG4gICAgLCAkYnVmZmVyICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fdHlwZWQtYnVmZmVyJylcbiAgICAsIGN0eCAgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAgICwgYW5JbnN0YW5jZSAgICAgICAgICA9IHJlcXVpcmUoJy4vX2FuLWluc3RhbmNlJylcbiAgICAsIHByb3BlcnR5RGVzYyAgICAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgICAsIGhpZGUgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgICAsIHJlZGVmaW5lQWxsICAgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKVxuICAgICwgdG9JbnRlZ2VyICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAgICwgdG9MZW5ndGggICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpXG4gICAgLCB0b0luZGV4ICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fdG8taW5kZXgnKVxuICAgICwgdG9QcmltaXRpdmUgICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICAgLCBoYXMgICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgICAsIHNhbWUgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19zYW1lLXZhbHVlJylcbiAgICAsIGNsYXNzb2YgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jbGFzc29mJylcbiAgICAsIGlzT2JqZWN0ICAgICAgICAgICAgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAgICwgdG9PYmplY3QgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICAgLCBpc0FycmF5SXRlciAgICAgICAgID0gcmVxdWlyZSgnLi9faXMtYXJyYXktaXRlcicpXG4gICAgLCBjcmVhdGUgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpXG4gICAgLCBnZXRQcm90b3R5cGVPZiAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICAgLCBnT1BOICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mXG4gICAgLCBnZXRJdGVyRm4gICAgICAgICAgID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKVxuICAgICwgdWlkICAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpXG4gICAgLCB3a3MgICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fd2tzJylcbiAgICAsIGNyZWF0ZUFycmF5TWV0aG9kICAgPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJylcbiAgICAsIGNyZWF0ZUFycmF5SW5jbHVkZXMgPSByZXF1aXJlKCcuL19hcnJheS1pbmNsdWRlcycpXG4gICAgLCBzcGVjaWVzQ29uc3RydWN0b3IgID0gcmVxdWlyZSgnLi9fc3BlY2llcy1jb25zdHJ1Y3RvcicpXG4gICAgLCBBcnJheUl0ZXJhdG9ycyAgICAgID0gcmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKVxuICAgICwgSXRlcmF0b3JzICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICAgLCAkaXRlckRldGVjdCAgICAgICAgID0gcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKVxuICAgICwgc2V0U3BlY2llcyAgICAgICAgICA9IHJlcXVpcmUoJy4vX3NldC1zcGVjaWVzJylcbiAgICAsIGFycmF5RmlsbCAgICAgICAgICAgPSByZXF1aXJlKCcuL19hcnJheS1maWxsJylcbiAgICAsIGFycmF5Q29weVdpdGhpbiAgICAgPSByZXF1aXJlKCcuL19hcnJheS1jb3B5LXdpdGhpbicpXG4gICAgLCAkRFAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgICAsICRHT1BEICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpXG4gICAgLCBkUCAgICAgICAgICAgICAgICAgID0gJERQLmZcbiAgICAsIGdPUEQgICAgICAgICAgICAgICAgPSAkR09QRC5mXG4gICAgLCBSYW5nZUVycm9yICAgICAgICAgID0gZ2xvYmFsLlJhbmdlRXJyb3JcbiAgICAsIFR5cGVFcnJvciAgICAgICAgICAgPSBnbG9iYWwuVHlwZUVycm9yXG4gICAgLCBVaW50OEFycmF5ICAgICAgICAgID0gZ2xvYmFsLlVpbnQ4QXJyYXlcbiAgICAsIEFSUkFZX0JVRkZFUiAgICAgICAgPSAnQXJyYXlCdWZmZXInXG4gICAgLCBTSEFSRURfQlVGRkVSICAgICAgID0gJ1NoYXJlZCcgKyBBUlJBWV9CVUZGRVJcbiAgICAsIEJZVEVTX1BFUl9FTEVNRU5UICAgPSAnQllURVNfUEVSX0VMRU1FTlQnXG4gICAgLCBQUk9UT1RZUEUgICAgICAgICAgID0gJ3Byb3RvdHlwZSdcbiAgICAsIEFycmF5UHJvdG8gICAgICAgICAgPSBBcnJheVtQUk9UT1RZUEVdXG4gICAgLCAkQXJyYXlCdWZmZXIgICAgICAgID0gJGJ1ZmZlci5BcnJheUJ1ZmZlclxuICAgICwgJERhdGFWaWV3ICAgICAgICAgICA9ICRidWZmZXIuRGF0YVZpZXdcbiAgICAsIGFycmF5Rm9yRWFjaCAgICAgICAgPSBjcmVhdGVBcnJheU1ldGhvZCgwKVxuICAgICwgYXJyYXlGaWx0ZXIgICAgICAgICA9IGNyZWF0ZUFycmF5TWV0aG9kKDIpXG4gICAgLCBhcnJheVNvbWUgICAgICAgICAgID0gY3JlYXRlQXJyYXlNZXRob2QoMylcbiAgICAsIGFycmF5RXZlcnkgICAgICAgICAgPSBjcmVhdGVBcnJheU1ldGhvZCg0KVxuICAgICwgYXJyYXlGaW5kICAgICAgICAgICA9IGNyZWF0ZUFycmF5TWV0aG9kKDUpXG4gICAgLCBhcnJheUZpbmRJbmRleCAgICAgID0gY3JlYXRlQXJyYXlNZXRob2QoNilcbiAgICAsIGFycmF5SW5jbHVkZXMgICAgICAgPSBjcmVhdGVBcnJheUluY2x1ZGVzKHRydWUpXG4gICAgLCBhcnJheUluZGV4T2YgICAgICAgID0gY3JlYXRlQXJyYXlJbmNsdWRlcyhmYWxzZSlcbiAgICAsIGFycmF5VmFsdWVzICAgICAgICAgPSBBcnJheUl0ZXJhdG9ycy52YWx1ZXNcbiAgICAsIGFycmF5S2V5cyAgICAgICAgICAgPSBBcnJheUl0ZXJhdG9ycy5rZXlzXG4gICAgLCBhcnJheUVudHJpZXMgICAgICAgID0gQXJyYXlJdGVyYXRvcnMuZW50cmllc1xuICAgICwgYXJyYXlMYXN0SW5kZXhPZiAgICA9IEFycmF5UHJvdG8ubGFzdEluZGV4T2ZcbiAgICAsIGFycmF5UmVkdWNlICAgICAgICAgPSBBcnJheVByb3RvLnJlZHVjZVxuICAgICwgYXJyYXlSZWR1Y2VSaWdodCAgICA9IEFycmF5UHJvdG8ucmVkdWNlUmlnaHRcbiAgICAsIGFycmF5Sm9pbiAgICAgICAgICAgPSBBcnJheVByb3RvLmpvaW5cbiAgICAsIGFycmF5U29ydCAgICAgICAgICAgPSBBcnJheVByb3RvLnNvcnRcbiAgICAsIGFycmF5U2xpY2UgICAgICAgICAgPSBBcnJheVByb3RvLnNsaWNlXG4gICAgLCBhcnJheVRvU3RyaW5nICAgICAgID0gQXJyYXlQcm90by50b1N0cmluZ1xuICAgICwgYXJyYXlUb0xvY2FsZVN0cmluZyA9IEFycmF5UHJvdG8udG9Mb2NhbGVTdHJpbmdcbiAgICAsIElURVJBVE9SICAgICAgICAgICAgPSB3a3MoJ2l0ZXJhdG9yJylcbiAgICAsIFRBRyAgICAgICAgICAgICAgICAgPSB3a3MoJ3RvU3RyaW5nVGFnJylcbiAgICAsIFRZUEVEX0NPTlNUUlVDVE9SICAgPSB1aWQoJ3R5cGVkX2NvbnN0cnVjdG9yJylcbiAgICAsIERFRl9DT05TVFJVQ1RPUiAgICAgPSB1aWQoJ2RlZl9jb25zdHJ1Y3RvcicpXG4gICAgLCBBTExfQ09OU1RSVUNUT1JTICAgID0gJHR5cGVkLkNPTlNUUlxuICAgICwgVFlQRURfQVJSQVkgICAgICAgICA9ICR0eXBlZC5UWVBFRFxuICAgICwgVklFVyAgICAgICAgICAgICAgICA9ICR0eXBlZC5WSUVXXG4gICAgLCBXUk9OR19MRU5HVEggICAgICAgID0gJ1dyb25nIGxlbmd0aCEnO1xuXG4gIHZhciAkbWFwID0gY3JlYXRlQXJyYXlNZXRob2QoMSwgZnVuY3Rpb24oTywgbGVuZ3RoKXtcbiAgICByZXR1cm4gYWxsb2NhdGUoc3BlY2llc0NvbnN0cnVjdG9yKE8sIE9bREVGX0NPTlNUUlVDVE9SXSksIGxlbmd0aCk7XG4gIH0pO1xuXG4gIHZhciBMSVRUTEVfRU5ESUFOID0gZmFpbHMoZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkobmV3IFVpbnQxNkFycmF5KFsxXSkuYnVmZmVyKVswXSA9PT0gMTtcbiAgfSk7XG5cbiAgdmFyIEZPUkNFRF9TRVQgPSAhIVVpbnQ4QXJyYXkgJiYgISFVaW50OEFycmF5W1BST1RPVFlQRV0uc2V0ICYmIGZhaWxzKGZ1bmN0aW9uKCl7XG4gICAgbmV3IFVpbnQ4QXJyYXkoMSkuc2V0KHt9KTtcbiAgfSk7XG5cbiAgdmFyIHN0cmljdFRvTGVuZ3RoID0gZnVuY3Rpb24oaXQsIFNBTUUpe1xuICAgIGlmKGl0ID09PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFdST05HX0xFTkdUSCk7XG4gICAgdmFyIG51bWJlciA9ICtpdFxuICAgICAgLCBsZW5ndGggPSB0b0xlbmd0aChpdCk7XG4gICAgaWYoU0FNRSAmJiAhc2FtZShudW1iZXIsIGxlbmd0aCkpdGhyb3cgUmFuZ2VFcnJvcihXUk9OR19MRU5HVEgpO1xuICAgIHJldHVybiBsZW5ndGg7XG4gIH07XG5cbiAgdmFyIHRvT2Zmc2V0ID0gZnVuY3Rpb24oaXQsIEJZVEVTKXtcbiAgICB2YXIgb2Zmc2V0ID0gdG9JbnRlZ2VyKGl0KTtcbiAgICBpZihvZmZzZXQgPCAwIHx8IG9mZnNldCAlIEJZVEVTKXRocm93IFJhbmdlRXJyb3IoJ1dyb25nIG9mZnNldCEnKTtcbiAgICByZXR1cm4gb2Zmc2V0O1xuICB9O1xuXG4gIHZhciB2YWxpZGF0ZSA9IGZ1bmN0aW9uKGl0KXtcbiAgICBpZihpc09iamVjdChpdCkgJiYgVFlQRURfQVJSQVkgaW4gaXQpcmV0dXJuIGl0O1xuICAgIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgdHlwZWQgYXJyYXkhJyk7XG4gIH07XG5cbiAgdmFyIGFsbG9jYXRlID0gZnVuY3Rpb24oQywgbGVuZ3RoKXtcbiAgICBpZighKGlzT2JqZWN0KEMpICYmIFRZUEVEX0NPTlNUUlVDVE9SIGluIEMpKXtcbiAgICAgIHRocm93IFR5cGVFcnJvcignSXQgaXMgbm90IGEgdHlwZWQgYXJyYXkgY29uc3RydWN0b3IhJyk7XG4gICAgfSByZXR1cm4gbmV3IEMobGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgc3BlY2llc0Zyb21MaXN0ID0gZnVuY3Rpb24oTywgbGlzdCl7XG4gICAgcmV0dXJuIGZyb21MaXN0KHNwZWNpZXNDb25zdHJ1Y3RvcihPLCBPW0RFRl9DT05TVFJVQ1RPUl0pLCBsaXN0KTtcbiAgfTtcblxuICB2YXIgZnJvbUxpc3QgPSBmdW5jdGlvbihDLCBsaXN0KXtcbiAgICB2YXIgaW5kZXggID0gMFxuICAgICAgLCBsZW5ndGggPSBsaXN0Lmxlbmd0aFxuICAgICAgLCByZXN1bHQgPSBhbGxvY2F0ZShDLCBsZW5ndGgpO1xuICAgIHdoaWxlKGxlbmd0aCA+IGluZGV4KXJlc3VsdFtpbmRleF0gPSBsaXN0W2luZGV4KytdO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIGFkZEdldHRlciA9IGZ1bmN0aW9uKGl0LCBrZXksIGludGVybmFsKXtcbiAgICBkUChpdCwga2V5LCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5fZFtpbnRlcm5hbF07IH19KTtcbiAgfTtcblxuICB2YXIgJGZyb20gPSBmdW5jdGlvbiBmcm9tKHNvdXJjZSAvKiwgbWFwZm4sIHRoaXNBcmcgKi8pe1xuICAgIHZhciBPICAgICAgID0gdG9PYmplY3Qoc291cmNlKVxuICAgICAgLCBhTGVuICAgID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgLCBtYXBmbiAgID0gYUxlbiA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWRcbiAgICAgICwgbWFwcGluZyA9IG1hcGZuICE9PSB1bmRlZmluZWRcbiAgICAgICwgaXRlckZuICA9IGdldEl0ZXJGbihPKVxuICAgICAgLCBpLCBsZW5ndGgsIHZhbHVlcywgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcbiAgICBpZihpdGVyRm4gIT0gdW5kZWZpbmVkICYmICFpc0FycmF5SXRlcihpdGVyRm4pKXtcbiAgICAgIGZvcihpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKE8pLCB2YWx1ZXMgPSBbXSwgaSA9IDA7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaSsrKXtcbiAgICAgICAgdmFsdWVzLnB1c2goc3RlcC52YWx1ZSk7XG4gICAgICB9IE8gPSB2YWx1ZXM7XG4gICAgfVxuICAgIGlmKG1hcHBpbmcgJiYgYUxlbiA+IDIpbWFwZm4gPSBjdHgobWFwZm4sIGFyZ3VtZW50c1syXSwgMik7XG4gICAgZm9yKGkgPSAwLCBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCksIHJlc3VsdCA9IGFsbG9jYXRlKHRoaXMsIGxlbmd0aCk7IGxlbmd0aCA+IGk7IGkrKyl7XG4gICAgICByZXN1bHRbaV0gPSBtYXBwaW5nID8gbWFwZm4oT1tpXSwgaSkgOiBPW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciAkb2YgPSBmdW5jdGlvbiBvZigvKi4uLml0ZW1zKi8pe1xuICAgIHZhciBpbmRleCAgPSAwXG4gICAgICAsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgICwgcmVzdWx0ID0gYWxsb2NhdGUodGhpcywgbGVuZ3RoKTtcbiAgICB3aGlsZShsZW5ndGggPiBpbmRleClyZXN1bHRbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4KytdO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gaU9TIFNhZmFyaSA2LnggZmFpbHMgaGVyZVxuICB2YXIgVE9fTE9DQUxFX0JVRyA9ICEhVWludDhBcnJheSAmJiBmYWlscyhmdW5jdGlvbigpeyBhcnJheVRvTG9jYWxlU3RyaW5nLmNhbGwobmV3IFVpbnQ4QXJyYXkoMSkpOyB9KTtcblxuICB2YXIgJHRvTG9jYWxlU3RyaW5nID0gZnVuY3Rpb24gdG9Mb2NhbGVTdHJpbmcoKXtcbiAgICByZXR1cm4gYXJyYXlUb0xvY2FsZVN0cmluZy5hcHBseShUT19MT0NBTEVfQlVHID8gYXJyYXlTbGljZS5jYWxsKHZhbGlkYXRlKHRoaXMpKSA6IHZhbGlkYXRlKHRoaXMpLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIHZhciBwcm90byA9IHtcbiAgICBjb3B5V2l0aGluOiBmdW5jdGlvbiBjb3B5V2l0aGluKHRhcmdldCwgc3RhcnQgLyosIGVuZCAqLyl7XG4gICAgICByZXR1cm4gYXJyYXlDb3B5V2l0aGluLmNhbGwodmFsaWRhdGUodGhpcyksIHRhcmdldCwgc3RhcnQsIGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkKTtcbiAgICB9LFxuICAgIGV2ZXJ5OiBmdW5jdGlvbiBldmVyeShjYWxsYmFja2ZuIC8qLCB0aGlzQXJnICovKXtcbiAgICAgIHJldHVybiBhcnJheUV2ZXJ5KHZhbGlkYXRlKHRoaXMpLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBmaWxsOiBmdW5jdGlvbiBmaWxsKHZhbHVlIC8qLCBzdGFydCwgZW5kICovKXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgcmV0dXJuIGFycmF5RmlsbC5hcHBseSh2YWxpZGF0ZSh0aGlzKSwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKGNhbGxiYWNrZm4gLyosIHRoaXNBcmcgKi8pe1xuICAgICAgcmV0dXJuIHNwZWNpZXNGcm9tTGlzdCh0aGlzLCBhcnJheUZpbHRlcih2YWxpZGF0ZSh0aGlzKSwgY2FsbGJhY2tmbixcbiAgICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpKTtcbiAgICB9LFxuICAgIGZpbmQ6IGZ1bmN0aW9uIGZpbmQocHJlZGljYXRlIC8qLCB0aGlzQXJnICovKXtcbiAgICAgIHJldHVybiBhcnJheUZpbmQodmFsaWRhdGUodGhpcyksIHByZWRpY2F0ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgZmluZEluZGV4OiBmdW5jdGlvbiBmaW5kSW5kZXgocHJlZGljYXRlIC8qLCB0aGlzQXJnICovKXtcbiAgICAgIHJldHVybiBhcnJheUZpbmRJbmRleCh2YWxpZGF0ZSh0aGlzKSwgcHJlZGljYXRlLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBmb3JFYWNoOiBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrZm4gLyosIHRoaXNBcmcgKi8pe1xuICAgICAgYXJyYXlGb3JFYWNoKHZhbGlkYXRlKHRoaXMpLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBpbmRleE9mOiBmdW5jdGlvbiBpbmRleE9mKHNlYXJjaEVsZW1lbnQgLyosIGZyb21JbmRleCAqLyl7XG4gICAgICByZXR1cm4gYXJyYXlJbmRleE9mKHZhbGlkYXRlKHRoaXMpLCBzZWFyY2hFbGVtZW50LCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoc2VhcmNoRWxlbWVudCAvKiwgZnJvbUluZGV4ICovKXtcbiAgICAgIHJldHVybiBhcnJheUluY2x1ZGVzKHZhbGlkYXRlKHRoaXMpLCBzZWFyY2hFbGVtZW50LCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgfSxcbiAgICBqb2luOiBmdW5jdGlvbiBqb2luKHNlcGFyYXRvcil7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIHJldHVybiBhcnJheUpvaW4uYXBwbHkodmFsaWRhdGUodGhpcyksIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBsYXN0SW5kZXhPZjogZnVuY3Rpb24gbGFzdEluZGV4T2Yoc2VhcmNoRWxlbWVudCAvKiwgZnJvbUluZGV4ICovKXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgcmV0dXJuIGFycmF5TGFzdEluZGV4T2YuYXBwbHkodmFsaWRhdGUodGhpcyksIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBtYXA6IGZ1bmN0aW9uIG1hcChtYXBmbiAvKiwgdGhpc0FyZyAqLyl7XG4gICAgICByZXR1cm4gJG1hcCh2YWxpZGF0ZSh0aGlzKSwgbWFwZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgICB9LFxuICAgIHJlZHVjZTogZnVuY3Rpb24gcmVkdWNlKGNhbGxiYWNrZm4gLyosIGluaXRpYWxWYWx1ZSAqLyl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIHJldHVybiBhcnJheVJlZHVjZS5hcHBseSh2YWxpZGF0ZSh0aGlzKSwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHJlZHVjZVJpZ2h0OiBmdW5jdGlvbiByZWR1Y2VSaWdodChjYWxsYmFja2ZuIC8qLCBpbml0aWFsVmFsdWUgKi8peyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICByZXR1cm4gYXJyYXlSZWR1Y2VSaWdodC5hcHBseSh2YWxpZGF0ZSh0aGlzKSwgYXJndW1lbnRzKTtcbiAgICB9LFxuICAgIHJldmVyc2U6IGZ1bmN0aW9uIHJldmVyc2UoKXtcbiAgICAgIHZhciB0aGF0ICAgPSB0aGlzXG4gICAgICAgICwgbGVuZ3RoID0gdmFsaWRhdGUodGhhdCkubGVuZ3RoXG4gICAgICAgICwgbWlkZGxlID0gTWF0aC5mbG9vcihsZW5ndGggLyAyKVxuICAgICAgICAsIGluZGV4ICA9IDBcbiAgICAgICAgLCB2YWx1ZTtcbiAgICAgIHdoaWxlKGluZGV4IDwgbWlkZGxlKXtcbiAgICAgICAgdmFsdWUgICAgICAgICA9IHRoYXRbaW5kZXhdO1xuICAgICAgICB0aGF0W2luZGV4KytdID0gdGhhdFstLWxlbmd0aF07XG4gICAgICAgIHRoYXRbbGVuZ3RoXSAgPSB2YWx1ZTtcbiAgICAgIH0gcmV0dXJuIHRoYXQ7XG4gICAgfSxcbiAgICBzb21lOiBmdW5jdGlvbiBzb21lKGNhbGxiYWNrZm4gLyosIHRoaXNBcmcgKi8pe1xuICAgICAgcmV0dXJuIGFycmF5U29tZSh2YWxpZGF0ZSh0aGlzKSwgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgIH0sXG4gICAgc29ydDogZnVuY3Rpb24gc29ydChjb21wYXJlZm4pe1xuICAgICAgcmV0dXJuIGFycmF5U29ydC5jYWxsKHZhbGlkYXRlKHRoaXMpLCBjb21wYXJlZm4pO1xuICAgIH0sXG4gICAgc3ViYXJyYXk6IGZ1bmN0aW9uIHN1YmFycmF5KGJlZ2luLCBlbmQpe1xuICAgICAgdmFyIE8gICAgICA9IHZhbGlkYXRlKHRoaXMpXG4gICAgICAgICwgbGVuZ3RoID0gTy5sZW5ndGhcbiAgICAgICAgLCAkYmVnaW4gPSB0b0luZGV4KGJlZ2luLCBsZW5ndGgpO1xuICAgICAgcmV0dXJuIG5ldyAoc3BlY2llc0NvbnN0cnVjdG9yKE8sIE9bREVGX0NPTlNUUlVDVE9SXSkpKFxuICAgICAgICBPLmJ1ZmZlcixcbiAgICAgICAgTy5ieXRlT2Zmc2V0ICsgJGJlZ2luICogTy5CWVRFU19QRVJfRUxFTUVOVCxcbiAgICAgICAgdG9MZW5ndGgoKGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9JbmRleChlbmQsIGxlbmd0aCkpIC0gJGJlZ2luKVxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyICRzbGljZSA9IGZ1bmN0aW9uIHNsaWNlKHN0YXJ0LCBlbmQpe1xuICAgIHJldHVybiBzcGVjaWVzRnJvbUxpc3QodGhpcywgYXJyYXlTbGljZS5jYWxsKHZhbGlkYXRlKHRoaXMpLCBzdGFydCwgZW5kKSk7XG4gIH07XG5cbiAgdmFyICRzZXQgPSBmdW5jdGlvbiBzZXQoYXJyYXlMaWtlIC8qLCBvZmZzZXQgKi8pe1xuICAgIHZhbGlkYXRlKHRoaXMpO1xuICAgIHZhciBvZmZzZXQgPSB0b09mZnNldChhcmd1bWVudHNbMV0sIDEpXG4gICAgICAsIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgICAsIHNyYyAgICA9IHRvT2JqZWN0KGFycmF5TGlrZSlcbiAgICAgICwgbGVuICAgID0gdG9MZW5ndGgoc3JjLmxlbmd0aClcbiAgICAgICwgaW5kZXggID0gMDtcbiAgICBpZihsZW4gKyBvZmZzZXQgPiBsZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihXUk9OR19MRU5HVEgpO1xuICAgIHdoaWxlKGluZGV4IDwgbGVuKXRoaXNbb2Zmc2V0ICsgaW5kZXhdID0gc3JjW2luZGV4KytdO1xuICB9O1xuXG4gIHZhciAkaXRlcmF0b3JzID0ge1xuICAgIGVudHJpZXM6IGZ1bmN0aW9uIGVudHJpZXMoKXtcbiAgICAgIHJldHVybiBhcnJheUVudHJpZXMuY2FsbCh2YWxpZGF0ZSh0aGlzKSk7XG4gICAgfSxcbiAgICBrZXlzOiBmdW5jdGlvbiBrZXlzKCl7XG4gICAgICByZXR1cm4gYXJyYXlLZXlzLmNhbGwodmFsaWRhdGUodGhpcykpO1xuICAgIH0sXG4gICAgdmFsdWVzOiBmdW5jdGlvbiB2YWx1ZXMoKXtcbiAgICAgIHJldHVybiBhcnJheVZhbHVlcy5jYWxsKHZhbGlkYXRlKHRoaXMpKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzVEFJbmRleCA9IGZ1bmN0aW9uKHRhcmdldCwga2V5KXtcbiAgICByZXR1cm4gaXNPYmplY3QodGFyZ2V0KVxuICAgICAgJiYgdGFyZ2V0W1RZUEVEX0FSUkFZXVxuICAgICAgJiYgdHlwZW9mIGtleSAhPSAnc3ltYm9sJ1xuICAgICAgJiYga2V5IGluIHRhcmdldFxuICAgICAgJiYgU3RyaW5nKCtrZXkpID09IFN0cmluZyhrZXkpO1xuICB9O1xuICB2YXIgJGdldERlc2MgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpe1xuICAgIHJldHVybiBpc1RBSW5kZXgodGFyZ2V0LCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKVxuICAgICAgPyBwcm9wZXJ0eURlc2MoMiwgdGFyZ2V0W2tleV0pXG4gICAgICA6IGdPUEQodGFyZ2V0LCBrZXkpO1xuICB9O1xuICB2YXIgJHNldERlc2MgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZGVzYyl7XG4gICAgaWYoaXNUQUluZGV4KHRhcmdldCwga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKSlcbiAgICAgICYmIGlzT2JqZWN0KGRlc2MpXG4gICAgICAmJiBoYXMoZGVzYywgJ3ZhbHVlJylcbiAgICAgICYmICFoYXMoZGVzYywgJ2dldCcpXG4gICAgICAmJiAhaGFzKGRlc2MsICdzZXQnKVxuICAgICAgLy8gVE9ETzogYWRkIHZhbGlkYXRpb24gZGVzY3JpcHRvciB3L28gY2FsbGluZyBhY2Nlc3NvcnNcbiAgICAgICYmICFkZXNjLmNvbmZpZ3VyYWJsZVxuICAgICAgJiYgKCFoYXMoZGVzYywgJ3dyaXRhYmxlJykgfHwgZGVzYy53cml0YWJsZSlcbiAgICAgICYmICghaGFzKGRlc2MsICdlbnVtZXJhYmxlJykgfHwgZGVzYy5lbnVtZXJhYmxlKVxuICAgICl7XG4gICAgICB0YXJnZXRba2V5XSA9IGRlc2MudmFsdWU7XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0gZWxzZSByZXR1cm4gZFAodGFyZ2V0LCBrZXksIGRlc2MpO1xuICB9O1xuXG4gIGlmKCFBTExfQ09OU1RSVUNUT1JTKXtcbiAgICAkR09QRC5mID0gJGdldERlc2M7XG4gICAgJERQLmYgICA9ICRzZXREZXNjO1xuICB9XG5cbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhQUxMX0NPTlNUUlVDVE9SUywgJ09iamVjdCcsIHtcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXREZXNjLFxuICAgIGRlZmluZVByb3BlcnR5OiAgICAgICAgICAgJHNldERlc2NcbiAgfSk7XG5cbiAgaWYoZmFpbHMoZnVuY3Rpb24oKXsgYXJyYXlUb1N0cmluZy5jYWxsKHt9KTsgfSkpe1xuICAgIGFycmF5VG9TdHJpbmcgPSBhcnJheVRvTG9jYWxlU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgICAgIHJldHVybiBhcnJheUpvaW4uY2FsbCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICB2YXIgJFR5cGVkQXJyYXlQcm90b3R5cGUkID0gcmVkZWZpbmVBbGwoe30sIHByb3RvKTtcbiAgcmVkZWZpbmVBbGwoJFR5cGVkQXJyYXlQcm90b3R5cGUkLCAkaXRlcmF0b3JzKTtcbiAgaGlkZSgkVHlwZWRBcnJheVByb3RvdHlwZSQsIElURVJBVE9SLCAkaXRlcmF0b3JzLnZhbHVlcyk7XG4gIHJlZGVmaW5lQWxsKCRUeXBlZEFycmF5UHJvdG90eXBlJCwge1xuICAgIHNsaWNlOiAgICAgICAgICAkc2xpY2UsXG4gICAgc2V0OiAgICAgICAgICAgICRzZXQsXG4gICAgY29uc3RydWN0b3I6ICAgIGZ1bmN0aW9uKCl7IC8qIG5vb3AgKi8gfSxcbiAgICB0b1N0cmluZzogICAgICAgYXJyYXlUb1N0cmluZyxcbiAgICB0b0xvY2FsZVN0cmluZzogJHRvTG9jYWxlU3RyaW5nXG4gIH0pO1xuICBhZGRHZXR0ZXIoJFR5cGVkQXJyYXlQcm90b3R5cGUkLCAnYnVmZmVyJywgJ2InKTtcbiAgYWRkR2V0dGVyKCRUeXBlZEFycmF5UHJvdG90eXBlJCwgJ2J5dGVPZmZzZXQnLCAnbycpO1xuICBhZGRHZXR0ZXIoJFR5cGVkQXJyYXlQcm90b3R5cGUkLCAnYnl0ZUxlbmd0aCcsICdsJyk7XG4gIGFkZEdldHRlcigkVHlwZWRBcnJheVByb3RvdHlwZSQsICdsZW5ndGgnLCAnZScpO1xuICBkUCgkVHlwZWRBcnJheVByb3RvdHlwZSQsIFRBRywge1xuICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXNbVFlQRURfQVJSQVldOyB9XG4gIH0pO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBCWVRFUywgd3JhcHBlciwgQ0xBTVBFRCl7XG4gICAgQ0xBTVBFRCA9ICEhQ0xBTVBFRDtcbiAgICB2YXIgTkFNRSAgICAgICA9IEtFWSArIChDTEFNUEVEID8gJ0NsYW1wZWQnIDogJycpICsgJ0FycmF5J1xuICAgICAgLCBJU05UX1VJTlQ4ID0gTkFNRSAhPSAnVWludDhBcnJheSdcbiAgICAgICwgR0VUVEVSICAgICA9ICdnZXQnICsgS0VZXG4gICAgICAsIFNFVFRFUiAgICAgPSAnc2V0JyArIEtFWVxuICAgICAgLCBUeXBlZEFycmF5ID0gZ2xvYmFsW05BTUVdXG4gICAgICAsIEJhc2UgICAgICAgPSBUeXBlZEFycmF5IHx8IHt9XG4gICAgICAsIFRBQyAgICAgICAgPSBUeXBlZEFycmF5ICYmIGdldFByb3RvdHlwZU9mKFR5cGVkQXJyYXkpXG4gICAgICAsIEZPUkNFRCAgICAgPSAhVHlwZWRBcnJheSB8fCAhJHR5cGVkLkFCVlxuICAgICAgLCBPICAgICAgICAgID0ge31cbiAgICAgICwgVHlwZWRBcnJheVByb3RvdHlwZSA9IFR5cGVkQXJyYXkgJiYgVHlwZWRBcnJheVtQUk9UT1RZUEVdO1xuICAgIHZhciBnZXR0ZXIgPSBmdW5jdGlvbih0aGF0LCBpbmRleCl7XG4gICAgICB2YXIgZGF0YSA9IHRoYXQuX2Q7XG4gICAgICByZXR1cm4gZGF0YS52W0dFVFRFUl0oaW5kZXggKiBCWVRFUyArIGRhdGEubywgTElUVExFX0VORElBTik7XG4gICAgfTtcbiAgICB2YXIgc2V0dGVyID0gZnVuY3Rpb24odGhhdCwgaW5kZXgsIHZhbHVlKXtcbiAgICAgIHZhciBkYXRhID0gdGhhdC5fZDtcbiAgICAgIGlmKENMQU1QRUQpdmFsdWUgPSAodmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlKSkgPCAwID8gMCA6IHZhbHVlID4gMHhmZiA/IDB4ZmYgOiB2YWx1ZSAmIDB4ZmY7XG4gICAgICBkYXRhLnZbU0VUVEVSXShpbmRleCAqIEJZVEVTICsgZGF0YS5vLCB2YWx1ZSwgTElUVExFX0VORElBTik7XG4gICAgfTtcbiAgICB2YXIgYWRkRWxlbWVudCA9IGZ1bmN0aW9uKHRoYXQsIGluZGV4KXtcbiAgICAgIGRQKHRoYXQsIGluZGV4LCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKXtcbiAgICAgICAgICByZXR1cm4gZ2V0dGVyKHRoaXMsIGluZGV4KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgcmV0dXJuIHNldHRlcih0aGlzLCBpbmRleCwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIGlmKEZPUkNFRCl7XG4gICAgICBUeXBlZEFycmF5ID0gd3JhcHBlcihmdW5jdGlvbih0aGF0LCBkYXRhLCAkb2Zmc2V0LCAkbGVuZ3RoKXtcbiAgICAgICAgYW5JbnN0YW5jZSh0aGF0LCBUeXBlZEFycmF5LCBOQU1FLCAnX2QnKTtcbiAgICAgICAgdmFyIGluZGV4ICA9IDBcbiAgICAgICAgICAsIG9mZnNldCA9IDBcbiAgICAgICAgICAsIGJ1ZmZlciwgYnl0ZUxlbmd0aCwgbGVuZ3RoLCBrbGFzcztcbiAgICAgICAgaWYoIWlzT2JqZWN0KGRhdGEpKXtcbiAgICAgICAgICBsZW5ndGggICAgID0gc3RyaWN0VG9MZW5ndGgoZGF0YSwgdHJ1ZSlcbiAgICAgICAgICBieXRlTGVuZ3RoID0gbGVuZ3RoICogQllURVM7XG4gICAgICAgICAgYnVmZmVyICAgICA9IG5ldyAkQXJyYXlCdWZmZXIoYnl0ZUxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZihkYXRhIGluc3RhbmNlb2YgJEFycmF5QnVmZmVyIHx8IChrbGFzcyA9IGNsYXNzb2YoZGF0YSkpID09IEFSUkFZX0JVRkZFUiB8fCBrbGFzcyA9PSBTSEFSRURfQlVGRkVSKXtcbiAgICAgICAgICBidWZmZXIgPSBkYXRhO1xuICAgICAgICAgIG9mZnNldCA9IHRvT2Zmc2V0KCRvZmZzZXQsIEJZVEVTKTtcbiAgICAgICAgICB2YXIgJGxlbiA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICBpZigkbGVuZ3RoID09PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgaWYoJGxlbiAlIEJZVEVTKXRocm93IFJhbmdlRXJyb3IoV1JPTkdfTEVOR1RIKTtcbiAgICAgICAgICAgIGJ5dGVMZW5ndGggPSAkbGVuIC0gb2Zmc2V0O1xuICAgICAgICAgICAgaWYoYnl0ZUxlbmd0aCA8IDApdGhyb3cgUmFuZ2VFcnJvcihXUk9OR19MRU5HVEgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBieXRlTGVuZ3RoID0gdG9MZW5ndGgoJGxlbmd0aCkgKiBCWVRFUztcbiAgICAgICAgICAgIGlmKGJ5dGVMZW5ndGggKyBvZmZzZXQgPiAkbGVuKXRocm93IFJhbmdlRXJyb3IoV1JPTkdfTEVOR1RIKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGVuZ3RoID0gYnl0ZUxlbmd0aCAvIEJZVEVTO1xuICAgICAgICB9IGVsc2UgaWYoVFlQRURfQVJSQVkgaW4gZGF0YSl7XG4gICAgICAgICAgcmV0dXJuIGZyb21MaXN0KFR5cGVkQXJyYXksIGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAkZnJvbS5jYWxsKFR5cGVkQXJyYXksIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGhpZGUodGhhdCwgJ19kJywge1xuICAgICAgICAgIGI6IGJ1ZmZlcixcbiAgICAgICAgICBvOiBvZmZzZXQsXG4gICAgICAgICAgbDogYnl0ZUxlbmd0aCxcbiAgICAgICAgICBlOiBsZW5ndGgsXG4gICAgICAgICAgdjogbmV3ICREYXRhVmlldyhidWZmZXIpXG4gICAgICAgIH0pO1xuICAgICAgICB3aGlsZShpbmRleCA8IGxlbmd0aClhZGRFbGVtZW50KHRoYXQsIGluZGV4KyspO1xuICAgICAgfSk7XG4gICAgICBUeXBlZEFycmF5UHJvdG90eXBlID0gVHlwZWRBcnJheVtQUk9UT1RZUEVdID0gY3JlYXRlKCRUeXBlZEFycmF5UHJvdG90eXBlJCk7XG4gICAgICBoaWRlKFR5cGVkQXJyYXlQcm90b3R5cGUsICdjb25zdHJ1Y3RvcicsIFR5cGVkQXJyYXkpO1xuICAgIH0gZWxzZSBpZighJGl0ZXJEZXRlY3QoZnVuY3Rpb24oaXRlcil7XG4gICAgICAvLyBWOCB3b3JrcyB3aXRoIGl0ZXJhdG9ycywgYnV0IGZhaWxzIGluIG1hbnkgb3RoZXIgY2FzZXNcbiAgICAgIC8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00NTUyXG4gICAgICBuZXcgVHlwZWRBcnJheShudWxsKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICAgIG5ldyBUeXBlZEFycmF5KGl0ZXIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIH0sIHRydWUpKXtcbiAgICAgIFR5cGVkQXJyYXkgPSB3cmFwcGVyKGZ1bmN0aW9uKHRoYXQsIGRhdGEsICRvZmZzZXQsICRsZW5ndGgpe1xuICAgICAgICBhbkluc3RhbmNlKHRoYXQsIFR5cGVkQXJyYXksIE5BTUUpO1xuICAgICAgICB2YXIga2xhc3M7XG4gICAgICAgIC8vIGB3c2AgbW9kdWxlIGJ1ZywgdGVtcG9yYXJpbHkgcmVtb3ZlIHZhbGlkYXRpb24gbGVuZ3RoIGZvciBVaW50OEFycmF5XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJzb2NrZXRzL3dzL3B1bGwvNjQ1XG4gICAgICAgIGlmKCFpc09iamVjdChkYXRhKSlyZXR1cm4gbmV3IEJhc2Uoc3RyaWN0VG9MZW5ndGgoZGF0YSwgSVNOVF9VSU5UOCkpO1xuICAgICAgICBpZihkYXRhIGluc3RhbmNlb2YgJEFycmF5QnVmZmVyIHx8IChrbGFzcyA9IGNsYXNzb2YoZGF0YSkpID09IEFSUkFZX0JVRkZFUiB8fCBrbGFzcyA9PSBTSEFSRURfQlVGRkVSKXtcbiAgICAgICAgICByZXR1cm4gJGxlbmd0aCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG5ldyBCYXNlKGRhdGEsIHRvT2Zmc2V0KCRvZmZzZXQsIEJZVEVTKSwgJGxlbmd0aClcbiAgICAgICAgICAgIDogJG9mZnNldCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gbmV3IEJhc2UoZGF0YSwgdG9PZmZzZXQoJG9mZnNldCwgQllURVMpKVxuICAgICAgICAgICAgICA6IG5ldyBCYXNlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmKFRZUEVEX0FSUkFZIGluIGRhdGEpcmV0dXJuIGZyb21MaXN0KFR5cGVkQXJyYXksIGRhdGEpO1xuICAgICAgICByZXR1cm4gJGZyb20uY2FsbChUeXBlZEFycmF5LCBkYXRhKTtcbiAgICAgIH0pO1xuICAgICAgYXJyYXlGb3JFYWNoKFRBQyAhPT0gRnVuY3Rpb24ucHJvdG90eXBlID8gZ09QTihCYXNlKS5jb25jYXQoZ09QTihUQUMpKSA6IGdPUE4oQmFzZSksIGZ1bmN0aW9uKGtleSl7XG4gICAgICAgIGlmKCEoa2V5IGluIFR5cGVkQXJyYXkpKWhpZGUoVHlwZWRBcnJheSwga2V5LCBCYXNlW2tleV0pO1xuICAgICAgfSk7XG4gICAgICBUeXBlZEFycmF5W1BST1RPVFlQRV0gPSBUeXBlZEFycmF5UHJvdG90eXBlO1xuICAgICAgaWYoIUxJQlJBUlkpVHlwZWRBcnJheVByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFR5cGVkQXJyYXk7XG4gICAgfVxuICAgIHZhciAkbmF0aXZlSXRlcmF0b3IgICA9IFR5cGVkQXJyYXlQcm90b3R5cGVbSVRFUkFUT1JdXG4gICAgICAsIENPUlJFQ1RfSVRFUl9OQU1FID0gISEkbmF0aXZlSXRlcmF0b3IgJiYgKCRuYXRpdmVJdGVyYXRvci5uYW1lID09ICd2YWx1ZXMnIHx8ICRuYXRpdmVJdGVyYXRvci5uYW1lID09IHVuZGVmaW5lZClcbiAgICAgICwgJGl0ZXJhdG9yICAgICAgICAgPSAkaXRlcmF0b3JzLnZhbHVlcztcbiAgICBoaWRlKFR5cGVkQXJyYXksIFRZUEVEX0NPTlNUUlVDVE9SLCB0cnVlKTtcbiAgICBoaWRlKFR5cGVkQXJyYXlQcm90b3R5cGUsIFRZUEVEX0FSUkFZLCBOQU1FKTtcbiAgICBoaWRlKFR5cGVkQXJyYXlQcm90b3R5cGUsIFZJRVcsIHRydWUpO1xuICAgIGhpZGUoVHlwZWRBcnJheVByb3RvdHlwZSwgREVGX0NPTlNUUlVDVE9SLCBUeXBlZEFycmF5KTtcblxuICAgIGlmKENMQU1QRUQgPyBuZXcgVHlwZWRBcnJheSgxKVtUQUddICE9IE5BTUUgOiAhKFRBRyBpbiBUeXBlZEFycmF5UHJvdG90eXBlKSl7XG4gICAgICBkUChUeXBlZEFycmF5UHJvdG90eXBlLCBUQUcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gTkFNRTsgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgT1tOQU1FXSA9IFR5cGVkQXJyYXk7XG5cbiAgICAkZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqIChUeXBlZEFycmF5ICE9IEJhc2UpLCBPKTtcblxuICAgICRleHBvcnQoJGV4cG9ydC5TLCBOQU1FLCB7XG4gICAgICBCWVRFU19QRVJfRUxFTUVOVDogQllURVMsXG4gICAgICBmcm9tOiAkZnJvbSxcbiAgICAgIG9mOiAkb2ZcbiAgICB9KTtcblxuICAgIGlmKCEoQllURVNfUEVSX0VMRU1FTlQgaW4gVHlwZWRBcnJheVByb3RvdHlwZSkpaGlkZShUeXBlZEFycmF5UHJvdG90eXBlLCBCWVRFU19QRVJfRUxFTUVOVCwgQllURVMpO1xuXG4gICAgJGV4cG9ydCgkZXhwb3J0LlAsIE5BTUUsIHByb3RvKTtcblxuICAgIHNldFNwZWNpZXMoTkFNRSk7XG5cbiAgICAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIEZPUkNFRF9TRVQsIE5BTUUsIHtzZXQ6ICRzZXR9KTtcblxuICAgICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogIUNPUlJFQ1RfSVRFUl9OQU1FLCBOQU1FLCAkaXRlcmF0b3JzKTtcblxuICAgICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKFR5cGVkQXJyYXlQcm90b3R5cGUudG9TdHJpbmcgIT0gYXJyYXlUb1N0cmluZyksIE5BTUUsIHt0b1N0cmluZzogYXJyYXlUb1N0cmluZ30pO1xuXG4gICAgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbigpe1xuICAgICAgbmV3IFR5cGVkQXJyYXkoMSkuc2xpY2UoKTtcbiAgICB9KSwgTkFNRSwge3NsaWNlOiAkc2xpY2V9KTtcblxuICAgICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKGZhaWxzKGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gWzEsIDJdLnRvTG9jYWxlU3RyaW5nKCkgIT0gbmV3IFR5cGVkQXJyYXkoWzEsIDJdKS50b0xvY2FsZVN0cmluZygpXG4gICAgfSkgfHwgIWZhaWxzKGZ1bmN0aW9uKCl7XG4gICAgICBUeXBlZEFycmF5UHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nLmNhbGwoWzEsIDJdKTtcbiAgICB9KSksIE5BTUUsIHt0b0xvY2FsZVN0cmluZzogJHRvTG9jYWxlU3RyaW5nfSk7XG5cbiAgICBJdGVyYXRvcnNbTkFNRV0gPSBDT1JSRUNUX0lURVJfTkFNRSA/ICRuYXRpdmVJdGVyYXRvciA6ICRpdGVyYXRvcjtcbiAgICBpZighTElCUkFSWSAmJiAhQ09SUkVDVF9JVEVSX05BTUUpaGlkZShUeXBlZEFycmF5UHJvdG90eXBlLCBJVEVSQVRPUiwgJGl0ZXJhdG9yKTtcbiAgfTtcbn0gZWxzZSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCl7IC8qIGVtcHR5ICovIH07IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBERVNDUklQVE9SUyAgICA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJylcbiAgLCBMSUJSQVJZICAgICAgICA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKVxuICAsICR0eXBlZCAgICAgICAgID0gcmVxdWlyZSgnLi9fdHlwZWQnKVxuICAsIGhpZGUgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgcmVkZWZpbmVBbGwgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZS1hbGwnKVxuICAsIGZhaWxzICAgICAgICAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKVxuICAsIGFuSW5zdGFuY2UgICAgID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKVxuICAsIHRvSW50ZWdlciAgICAgID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgdG9MZW5ndGggICAgICAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIGdPUE4gICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mXG4gICwgZFAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgYXJyYXlGaWxsICAgICAgPSByZXF1aXJlKCcuL19hcnJheS1maWxsJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBBUlJBWV9CVUZGRVIgICA9ICdBcnJheUJ1ZmZlcidcbiAgLCBEQVRBX1ZJRVcgICAgICA9ICdEYXRhVmlldydcbiAgLCBQUk9UT1RZUEUgICAgICA9ICdwcm90b3R5cGUnXG4gICwgV1JPTkdfTEVOR1RIICAgPSAnV3JvbmcgbGVuZ3RoISdcbiAgLCBXUk9OR19JTkRFWCAgICA9ICdXcm9uZyBpbmRleCEnXG4gICwgJEFycmF5QnVmZmVyICAgPSBnbG9iYWxbQVJSQVlfQlVGRkVSXVxuICAsICREYXRhVmlldyAgICAgID0gZ2xvYmFsW0RBVEFfVklFV11cbiAgLCBNYXRoICAgICAgICAgICA9IGdsb2JhbC5NYXRoXG4gICwgUmFuZ2VFcnJvciAgICAgPSBnbG9iYWwuUmFuZ2VFcnJvclxuICAsIEluZmluaXR5ICAgICAgID0gZ2xvYmFsLkluZmluaXR5XG4gICwgQmFzZUJ1ZmZlciAgICAgPSAkQXJyYXlCdWZmZXJcbiAgLCBhYnMgICAgICAgICAgICA9IE1hdGguYWJzXG4gICwgcG93ICAgICAgICAgICAgPSBNYXRoLnBvd1xuICAsIGZsb29yICAgICAgICAgID0gTWF0aC5mbG9vclxuICAsIGxvZyAgICAgICAgICAgID0gTWF0aC5sb2dcbiAgLCBMTjIgICAgICAgICAgICA9IE1hdGguTE4yXG4gICwgQlVGRkVSICAgICAgICAgPSAnYnVmZmVyJ1xuICAsIEJZVEVfTEVOR1RIICAgID0gJ2J5dGVMZW5ndGgnXG4gICwgQllURV9PRkZTRVQgICAgPSAnYnl0ZU9mZnNldCdcbiAgLCAkQlVGRkVSICAgICAgICA9IERFU0NSSVBUT1JTID8gJ19iJyA6IEJVRkZFUlxuICAsICRMRU5HVEggICAgICAgID0gREVTQ1JJUFRPUlMgPyAnX2wnIDogQllURV9MRU5HVEhcbiAgLCAkT0ZGU0VUICAgICAgICA9IERFU0NSSVBUT1JTID8gJ19vJyA6IEJZVEVfT0ZGU0VUO1xuXG4vLyBJRUVFNzU0IGNvbnZlcnNpb25zIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvaWVlZTc1NFxudmFyIHBhY2tJRUVFNzU0ID0gZnVuY3Rpb24odmFsdWUsIG1MZW4sIG5CeXRlcyl7XG4gIHZhciBidWZmZXIgPSBBcnJheShuQnl0ZXMpXG4gICAgLCBlTGVuICAgPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDFcbiAgICAsIGVNYXggICA9ICgxIDw8IGVMZW4pIC0gMVxuICAgICwgZUJpYXMgID0gZU1heCA+PiAxXG4gICAgLCBydCAgICAgPSBtTGVuID09PSAyMyA/IHBvdygyLCAtMjQpIC0gcG93KDIsIC03NykgOiAwXG4gICAgLCBpICAgICAgPSAwXG4gICAgLCBzICAgICAgPSB2YWx1ZSA8IDAgfHwgdmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCA/IDEgOiAwXG4gICAgLCBlLCBtLCBjO1xuICB2YWx1ZSA9IGFicyh2YWx1ZSlcbiAgaWYodmFsdWUgIT0gdmFsdWUgfHwgdmFsdWUgPT09IEluZmluaXR5KXtcbiAgICBtID0gdmFsdWUgIT0gdmFsdWUgPyAxIDogMDtcbiAgICBlID0gZU1heDtcbiAgfSBlbHNlIHtcbiAgICBlID0gZmxvb3IobG9nKHZhbHVlKSAvIExOMik7XG4gICAgaWYodmFsdWUgKiAoYyA9IHBvdygyLCAtZSkpIDwgMSl7XG4gICAgICBlLS07XG4gICAgICBjICo9IDI7XG4gICAgfVxuICAgIGlmKGUgKyBlQmlhcyA+PSAxKXtcbiAgICAgIHZhbHVlICs9IHJ0IC8gYztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBwb3coMiwgMSAtIGVCaWFzKTtcbiAgICB9XG4gICAgaWYodmFsdWUgKiBjID49IDIpe1xuICAgICAgZSsrO1xuICAgICAgYyAvPSAyO1xuICAgIH1cbiAgICBpZihlICsgZUJpYXMgPj0gZU1heCl7XG4gICAgICBtID0gMDtcbiAgICAgIGUgPSBlTWF4O1xuICAgIH0gZWxzZSBpZihlICsgZUJpYXMgPj0gMSl7XG4gICAgICBtID0gKHZhbHVlICogYyAtIDEpICogcG93KDIsIG1MZW4pO1xuICAgICAgZSA9IGUgKyBlQmlhcztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogcG93KDIsIGVCaWFzIC0gMSkgKiBwb3coMiwgbUxlbik7XG4gICAgICBlID0gMDtcbiAgICB9XG4gIH1cbiAgZm9yKDsgbUxlbiA+PSA4OyBidWZmZXJbaSsrXSA9IG0gJiAyNTUsIG0gLz0gMjU2LCBtTGVuIC09IDgpO1xuICBlID0gZSA8PCBtTGVuIHwgbTtcbiAgZUxlbiArPSBtTGVuO1xuICBmb3IoOyBlTGVuID4gMDsgYnVmZmVyW2krK10gPSBlICYgMjU1LCBlIC89IDI1NiwgZUxlbiAtPSA4KTtcbiAgYnVmZmVyWy0taV0gfD0gcyAqIDEyODtcbiAgcmV0dXJuIGJ1ZmZlcjtcbn07XG52YXIgdW5wYWNrSUVFRTc1NCA9IGZ1bmN0aW9uKGJ1ZmZlciwgbUxlbiwgbkJ5dGVzKXtcbiAgdmFyIGVMZW4gID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxXG4gICAgLCBlTWF4ICA9ICgxIDw8IGVMZW4pIC0gMVxuICAgICwgZUJpYXMgPSBlTWF4ID4+IDFcbiAgICAsIG5CaXRzID0gZUxlbiAtIDdcbiAgICAsIGkgICAgID0gbkJ5dGVzIC0gMVxuICAgICwgcyAgICAgPSBidWZmZXJbaS0tXVxuICAgICwgZSAgICAgPSBzICYgMTI3XG4gICAgLCBtO1xuICBzID4+PSA3O1xuICBmb3IoOyBuQml0cyA+IDA7IGUgPSBlICogMjU2ICsgYnVmZmVyW2ldLCBpLS0sIG5CaXRzIC09IDgpO1xuICBtID0gZSAmICgxIDw8IC1uQml0cykgLSAxO1xuICBlID4+PSAtbkJpdHM7XG4gIG5CaXRzICs9IG1MZW47XG4gIGZvcig7IG5CaXRzID4gMDsgbSA9IG0gKiAyNTYgKyBidWZmZXJbaV0sIGktLSwgbkJpdHMgLT0gOCk7XG4gIGlmKGUgPT09IDApe1xuICAgIGUgPSAxIC0gZUJpYXM7XG4gIH0gZWxzZSBpZihlID09PSBlTWF4KXtcbiAgICByZXR1cm4gbSA/IE5hTiA6IHMgPyAtSW5maW5pdHkgOiBJbmZpbml0eTtcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIHBvdygyLCBtTGVuKTtcbiAgICBlID0gZSAtIGVCaWFzO1xuICB9IHJldHVybiAocyA/IC0xIDogMSkgKiBtICogcG93KDIsIGUgLSBtTGVuKTtcbn07XG5cbnZhciB1bnBhY2tJMzIgPSBmdW5jdGlvbihieXRlcyl7XG4gIHJldHVybiBieXRlc1szXSA8PCAyNCB8IGJ5dGVzWzJdIDw8IDE2IHwgYnl0ZXNbMV0gPDwgOCB8IGJ5dGVzWzBdO1xufTtcbnZhciBwYWNrSTggPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBbaXQgJiAweGZmXTtcbn07XG52YXIgcGFja0kxNiA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIFtpdCAmIDB4ZmYsIGl0ID4+IDggJiAweGZmXTtcbn07XG52YXIgcGFja0kzMiA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIFtpdCAmIDB4ZmYsIGl0ID4+IDggJiAweGZmLCBpdCA+PiAxNiAmIDB4ZmYsIGl0ID4+IDI0ICYgMHhmZl07XG59O1xudmFyIHBhY2tGNjQgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBwYWNrSUVFRTc1NChpdCwgNTIsIDgpO1xufTtcbnZhciBwYWNrRjMyID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gcGFja0lFRUU3NTQoaXQsIDIzLCA0KTtcbn07XG5cbnZhciBhZGRHZXR0ZXIgPSBmdW5jdGlvbihDLCBrZXksIGludGVybmFsKXtcbiAgZFAoQ1tQUk9UT1RZUEVdLCBrZXksIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzW2ludGVybmFsXTsgfX0pO1xufTtcblxudmFyIGdldCA9IGZ1bmN0aW9uKHZpZXcsIGJ5dGVzLCBpbmRleCwgaXNMaXR0bGVFbmRpYW4pe1xuICB2YXIgbnVtSW5kZXggPSAraW5kZXhcbiAgICAsIGludEluZGV4ID0gdG9JbnRlZ2VyKG51bUluZGV4KTtcbiAgaWYobnVtSW5kZXggIT0gaW50SW5kZXggfHwgaW50SW5kZXggPCAwIHx8IGludEluZGV4ICsgYnl0ZXMgPiB2aWV3WyRMRU5HVEhdKXRocm93IFJhbmdlRXJyb3IoV1JPTkdfSU5ERVgpO1xuICB2YXIgc3RvcmUgPSB2aWV3WyRCVUZGRVJdLl9iXG4gICAgLCBzdGFydCA9IGludEluZGV4ICsgdmlld1skT0ZGU0VUXVxuICAgICwgcGFjayAgPSBzdG9yZS5zbGljZShzdGFydCwgc3RhcnQgKyBieXRlcyk7XG4gIHJldHVybiBpc0xpdHRsZUVuZGlhbiA/IHBhY2sgOiBwYWNrLnJldmVyc2UoKTtcbn07XG52YXIgc2V0ID0gZnVuY3Rpb24odmlldywgYnl0ZXMsIGluZGV4LCBjb252ZXJzaW9uLCB2YWx1ZSwgaXNMaXR0bGVFbmRpYW4pe1xuICB2YXIgbnVtSW5kZXggPSAraW5kZXhcbiAgICAsIGludEluZGV4ID0gdG9JbnRlZ2VyKG51bUluZGV4KTtcbiAgaWYobnVtSW5kZXggIT0gaW50SW5kZXggfHwgaW50SW5kZXggPCAwIHx8IGludEluZGV4ICsgYnl0ZXMgPiB2aWV3WyRMRU5HVEhdKXRocm93IFJhbmdlRXJyb3IoV1JPTkdfSU5ERVgpO1xuICB2YXIgc3RvcmUgPSB2aWV3WyRCVUZGRVJdLl9iXG4gICAgLCBzdGFydCA9IGludEluZGV4ICsgdmlld1skT0ZGU0VUXVxuICAgICwgcGFjayAgPSBjb252ZXJzaW9uKCt2YWx1ZSk7XG4gIGZvcih2YXIgaSA9IDA7IGkgPCBieXRlczsgaSsrKXN0b3JlW3N0YXJ0ICsgaV0gPSBwYWNrW2lzTGl0dGxlRW5kaWFuID8gaSA6IGJ5dGVzIC0gaSAtIDFdO1xufTtcblxudmFyIHZhbGlkYXRlQXJyYXlCdWZmZXJBcmd1bWVudHMgPSBmdW5jdGlvbih0aGF0LCBsZW5ndGgpe1xuICBhbkluc3RhbmNlKHRoYXQsICRBcnJheUJ1ZmZlciwgQVJSQVlfQlVGRkVSKTtcbiAgdmFyIG51bWJlckxlbmd0aCA9ICtsZW5ndGhcbiAgICAsIGJ5dGVMZW5ndGggICA9IHRvTGVuZ3RoKG51bWJlckxlbmd0aCk7XG4gIGlmKG51bWJlckxlbmd0aCAhPSBieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoV1JPTkdfTEVOR1RIKTtcbiAgcmV0dXJuIGJ5dGVMZW5ndGg7XG59O1xuXG5pZighJHR5cGVkLkFCVil7XG4gICRBcnJheUJ1ZmZlciA9IGZ1bmN0aW9uIEFycmF5QnVmZmVyKGxlbmd0aCl7XG4gICAgdmFyIGJ5dGVMZW5ndGggPSB2YWxpZGF0ZUFycmF5QnVmZmVyQXJndW1lbnRzKHRoaXMsIGxlbmd0aCk7XG4gICAgdGhpcy5fYiAgICAgICA9IGFycmF5RmlsbC5jYWxsKEFycmF5KGJ5dGVMZW5ndGgpLCAwKTtcbiAgICB0aGlzWyRMRU5HVEhdID0gYnl0ZUxlbmd0aDtcbiAgfTtcblxuICAkRGF0YVZpZXcgPSBmdW5jdGlvbiBEYXRhVmlldyhidWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgpe1xuICAgIGFuSW5zdGFuY2UodGhpcywgJERhdGFWaWV3LCBEQVRBX1ZJRVcpO1xuICAgIGFuSW5zdGFuY2UoYnVmZmVyLCAkQXJyYXlCdWZmZXIsIERBVEFfVklFVyk7XG4gICAgdmFyIGJ1ZmZlckxlbmd0aCA9IGJ1ZmZlclskTEVOR1RIXVxuICAgICAgLCBvZmZzZXQgICAgICAgPSB0b0ludGVnZXIoYnl0ZU9mZnNldCk7XG4gICAgaWYob2Zmc2V0IDwgMCB8fCBvZmZzZXQgPiBidWZmZXJMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcignV3Jvbmcgb2Zmc2V0IScpO1xuICAgIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID09PSB1bmRlZmluZWQgPyBidWZmZXJMZW5ndGggLSBvZmZzZXQgOiB0b0xlbmd0aChieXRlTGVuZ3RoKTtcbiAgICBpZihvZmZzZXQgKyBieXRlTGVuZ3RoID4gYnVmZmVyTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoV1JPTkdfTEVOR1RIKTtcbiAgICB0aGlzWyRCVUZGRVJdID0gYnVmZmVyO1xuICAgIHRoaXNbJE9GRlNFVF0gPSBvZmZzZXQ7XG4gICAgdGhpc1skTEVOR1RIXSA9IGJ5dGVMZW5ndGg7XG4gIH07XG5cbiAgaWYoREVTQ1JJUFRPUlMpe1xuICAgIGFkZEdldHRlcigkQXJyYXlCdWZmZXIsIEJZVEVfTEVOR1RILCAnX2wnKTtcbiAgICBhZGRHZXR0ZXIoJERhdGFWaWV3LCBCVUZGRVIsICdfYicpO1xuICAgIGFkZEdldHRlcigkRGF0YVZpZXcsIEJZVEVfTEVOR1RILCAnX2wnKTtcbiAgICBhZGRHZXR0ZXIoJERhdGFWaWV3LCBCWVRFX09GRlNFVCwgJ19vJyk7XG4gIH1cblxuICByZWRlZmluZUFsbCgkRGF0YVZpZXdbUFJPVE9UWVBFXSwge1xuICAgIGdldEludDg6IGZ1bmN0aW9uIGdldEludDgoYnl0ZU9mZnNldCl7XG4gICAgICByZXR1cm4gZ2V0KHRoaXMsIDEsIGJ5dGVPZmZzZXQpWzBdIDw8IDI0ID4+IDI0O1xuICAgIH0sXG4gICAgZ2V0VWludDg6IGZ1bmN0aW9uIGdldFVpbnQ4KGJ5dGVPZmZzZXQpe1xuICAgICAgcmV0dXJuIGdldCh0aGlzLCAxLCBieXRlT2Zmc2V0KVswXTtcbiAgICB9LFxuICAgIGdldEludDE2OiBmdW5jdGlvbiBnZXRJbnQxNihieXRlT2Zmc2V0IC8qLCBsaXR0bGVFbmRpYW4gKi8pe1xuICAgICAgdmFyIGJ5dGVzID0gZ2V0KHRoaXMsIDIsIGJ5dGVPZmZzZXQsIGFyZ3VtZW50c1sxXSk7XG4gICAgICByZXR1cm4gKGJ5dGVzWzFdIDw8IDggfCBieXRlc1swXSkgPDwgMTYgPj4gMTY7XG4gICAgfSxcbiAgICBnZXRVaW50MTY6IGZ1bmN0aW9uIGdldFVpbnQxNihieXRlT2Zmc2V0IC8qLCBsaXR0bGVFbmRpYW4gKi8pe1xuICAgICAgdmFyIGJ5dGVzID0gZ2V0KHRoaXMsIDIsIGJ5dGVPZmZzZXQsIGFyZ3VtZW50c1sxXSk7XG4gICAgICByZXR1cm4gYnl0ZXNbMV0gPDwgOCB8IGJ5dGVzWzBdO1xuICAgIH0sXG4gICAgZ2V0SW50MzI6IGZ1bmN0aW9uIGdldEludDMyKGJ5dGVPZmZzZXQgLyosIGxpdHRsZUVuZGlhbiAqLyl7XG4gICAgICByZXR1cm4gdW5wYWNrSTMyKGdldCh0aGlzLCA0LCBieXRlT2Zmc2V0LCBhcmd1bWVudHNbMV0pKTtcbiAgICB9LFxuICAgIGdldFVpbnQzMjogZnVuY3Rpb24gZ2V0VWludDMyKGJ5dGVPZmZzZXQgLyosIGxpdHRsZUVuZGlhbiAqLyl7XG4gICAgICByZXR1cm4gdW5wYWNrSTMyKGdldCh0aGlzLCA0LCBieXRlT2Zmc2V0LCBhcmd1bWVudHNbMV0pKSA+Pj4gMDtcbiAgICB9LFxuICAgIGdldEZsb2F0MzI6IGZ1bmN0aW9uIGdldEZsb2F0MzIoYnl0ZU9mZnNldCAvKiwgbGl0dGxlRW5kaWFuICovKXtcbiAgICAgIHJldHVybiB1bnBhY2tJRUVFNzU0KGdldCh0aGlzLCA0LCBieXRlT2Zmc2V0LCBhcmd1bWVudHNbMV0pLCAyMywgNCk7XG4gICAgfSxcbiAgICBnZXRGbG9hdDY0OiBmdW5jdGlvbiBnZXRGbG9hdDY0KGJ5dGVPZmZzZXQgLyosIGxpdHRsZUVuZGlhbiAqLyl7XG4gICAgICByZXR1cm4gdW5wYWNrSUVFRTc1NChnZXQodGhpcywgOCwgYnl0ZU9mZnNldCwgYXJndW1lbnRzWzFdKSwgNTIsIDgpO1xuICAgIH0sXG4gICAgc2V0SW50ODogZnVuY3Rpb24gc2V0SW50OChieXRlT2Zmc2V0LCB2YWx1ZSl7XG4gICAgICBzZXQodGhpcywgMSwgYnl0ZU9mZnNldCwgcGFja0k4LCB2YWx1ZSk7XG4gICAgfSxcbiAgICBzZXRVaW50ODogZnVuY3Rpb24gc2V0VWludDgoYnl0ZU9mZnNldCwgdmFsdWUpe1xuICAgICAgc2V0KHRoaXMsIDEsIGJ5dGVPZmZzZXQsIHBhY2tJOCwgdmFsdWUpO1xuICAgIH0sXG4gICAgc2V0SW50MTY6IGZ1bmN0aW9uIHNldEludDE2KGJ5dGVPZmZzZXQsIHZhbHVlIC8qLCBsaXR0bGVFbmRpYW4gKi8pe1xuICAgICAgc2V0KHRoaXMsIDIsIGJ5dGVPZmZzZXQsIHBhY2tJMTYsIHZhbHVlLCBhcmd1bWVudHNbMl0pO1xuICAgIH0sXG4gICAgc2V0VWludDE2OiBmdW5jdGlvbiBzZXRVaW50MTYoYnl0ZU9mZnNldCwgdmFsdWUgLyosIGxpdHRsZUVuZGlhbiAqLyl7XG4gICAgICBzZXQodGhpcywgMiwgYnl0ZU9mZnNldCwgcGFja0kxNiwgdmFsdWUsIGFyZ3VtZW50c1syXSk7XG4gICAgfSxcbiAgICBzZXRJbnQzMjogZnVuY3Rpb24gc2V0SW50MzIoYnl0ZU9mZnNldCwgdmFsdWUgLyosIGxpdHRsZUVuZGlhbiAqLyl7XG4gICAgICBzZXQodGhpcywgNCwgYnl0ZU9mZnNldCwgcGFja0kzMiwgdmFsdWUsIGFyZ3VtZW50c1syXSk7XG4gICAgfSxcbiAgICBzZXRVaW50MzI6IGZ1bmN0aW9uIHNldFVpbnQzMihieXRlT2Zmc2V0LCB2YWx1ZSAvKiwgbGl0dGxlRW5kaWFuICovKXtcbiAgICAgIHNldCh0aGlzLCA0LCBieXRlT2Zmc2V0LCBwYWNrSTMyLCB2YWx1ZSwgYXJndW1lbnRzWzJdKTtcbiAgICB9LFxuICAgIHNldEZsb2F0MzI6IGZ1bmN0aW9uIHNldEZsb2F0MzIoYnl0ZU9mZnNldCwgdmFsdWUgLyosIGxpdHRsZUVuZGlhbiAqLyl7XG4gICAgICBzZXQodGhpcywgNCwgYnl0ZU9mZnNldCwgcGFja0YzMiwgdmFsdWUsIGFyZ3VtZW50c1syXSk7XG4gICAgfSxcbiAgICBzZXRGbG9hdDY0OiBmdW5jdGlvbiBzZXRGbG9hdDY0KGJ5dGVPZmZzZXQsIHZhbHVlIC8qLCBsaXR0bGVFbmRpYW4gKi8pe1xuICAgICAgc2V0KHRoaXMsIDgsIGJ5dGVPZmZzZXQsIHBhY2tGNjQsIHZhbHVlLCBhcmd1bWVudHNbMl0pO1xuICAgIH1cbiAgfSk7XG59IGVsc2Uge1xuICBpZighZmFpbHMoZnVuY3Rpb24oKXtcbiAgICBuZXcgJEFycmF5QnVmZmVyOyAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgfSkgfHwgIWZhaWxzKGZ1bmN0aW9uKCl7XG4gICAgbmV3ICRBcnJheUJ1ZmZlciguNSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gIH0pKXtcbiAgICAkQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiBBcnJheUJ1ZmZlcihsZW5ndGgpe1xuICAgICAgcmV0dXJuIG5ldyBCYXNlQnVmZmVyKHZhbGlkYXRlQXJyYXlCdWZmZXJBcmd1bWVudHModGhpcywgbGVuZ3RoKSk7XG4gICAgfTtcbiAgICB2YXIgQXJyYXlCdWZmZXJQcm90byA9ICRBcnJheUJ1ZmZlcltQUk9UT1RZUEVdID0gQmFzZUJ1ZmZlcltQUk9UT1RZUEVdO1xuICAgIGZvcih2YXIga2V5cyA9IGdPUE4oQmFzZUJ1ZmZlciksIGogPSAwLCBrZXk7IGtleXMubGVuZ3RoID4gajsgKXtcbiAgICAgIGlmKCEoKGtleSA9IGtleXNbaisrXSkgaW4gJEFycmF5QnVmZmVyKSloaWRlKCRBcnJheUJ1ZmZlciwga2V5LCBCYXNlQnVmZmVyW2tleV0pO1xuICAgIH07XG4gICAgaWYoIUxJQlJBUlkpQXJyYXlCdWZmZXJQcm90by5jb25zdHJ1Y3RvciA9ICRBcnJheUJ1ZmZlcjtcbiAgfVxuICAvLyBpT1MgU2FmYXJpIDcueCBidWdcbiAgdmFyIHZpZXcgPSBuZXcgJERhdGFWaWV3KG5ldyAkQXJyYXlCdWZmZXIoMikpXG4gICAgLCAkc2V0SW50OCA9ICREYXRhVmlld1tQUk9UT1RZUEVdLnNldEludDg7XG4gIHZpZXcuc2V0SW50OCgwLCAyMTQ3NDgzNjQ4KTtcbiAgdmlldy5zZXRJbnQ4KDEsIDIxNDc0ODM2NDkpO1xuICBpZih2aWV3LmdldEludDgoMCkgfHwgIXZpZXcuZ2V0SW50OCgxKSlyZWRlZmluZUFsbCgkRGF0YVZpZXdbUFJPVE9UWVBFXSwge1xuICAgIHNldEludDg6IGZ1bmN0aW9uIHNldEludDgoYnl0ZU9mZnNldCwgdmFsdWUpe1xuICAgICAgJHNldEludDguY2FsbCh0aGlzLCBieXRlT2Zmc2V0LCB2YWx1ZSA8PCAyNCA+PiAyNCk7XG4gICAgfSxcbiAgICBzZXRVaW50ODogZnVuY3Rpb24gc2V0VWludDgoYnl0ZU9mZnNldCwgdmFsdWUpe1xuICAgICAgJHNldEludDguY2FsbCh0aGlzLCBieXRlT2Zmc2V0LCB2YWx1ZSA8PCAyNCA+PiAyNCk7XG4gICAgfVxuICB9LCB0cnVlKTtcbn1cbnNldFRvU3RyaW5nVGFnKCRBcnJheUJ1ZmZlciwgQVJSQVlfQlVGRkVSKTtcbnNldFRvU3RyaW5nVGFnKCREYXRhVmlldywgREFUQV9WSUVXKTtcbmhpZGUoJERhdGFWaWV3W1BST1RPVFlQRV0sICR0eXBlZC5WSUVXLCB0cnVlKTtcbmV4cG9ydHNbQVJSQVlfQlVGRkVSXSA9ICRBcnJheUJ1ZmZlcjtcbmV4cG9ydHNbREFUQV9WSUVXXSA9ICREYXRhVmlldzsiLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoaWRlICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCB1aWQgICAgPSByZXF1aXJlKCcuL191aWQnKVxuICAsIFRZUEVEICA9IHVpZCgndHlwZWRfYXJyYXknKVxuICAsIFZJRVcgICA9IHVpZCgndmlldycpXG4gICwgQUJWICAgID0gISEoZ2xvYmFsLkFycmF5QnVmZmVyICYmIGdsb2JhbC5EYXRhVmlldylcbiAgLCBDT05TVFIgPSBBQlZcbiAgLCBpID0gMCwgbCA9IDksIFR5cGVkO1xuXG52YXIgVHlwZWRBcnJheUNvbnN0cnVjdG9ycyA9IChcbiAgJ0ludDhBcnJheSxVaW50OEFycmF5LFVpbnQ4Q2xhbXBlZEFycmF5LEludDE2QXJyYXksVWludDE2QXJyYXksSW50MzJBcnJheSxVaW50MzJBcnJheSxGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5J1xuKS5zcGxpdCgnLCcpO1xuXG53aGlsZShpIDwgbCl7XG4gIGlmKFR5cGVkID0gZ2xvYmFsW1R5cGVkQXJyYXlDb25zdHJ1Y3RvcnNbaSsrXV0pe1xuICAgIGhpZGUoVHlwZWQucHJvdG90eXBlLCBUWVBFRCwgdHJ1ZSk7XG4gICAgaGlkZShUeXBlZC5wcm90b3R5cGUsIFZJRVcsIHRydWUpO1xuICB9IGVsc2UgQ09OU1RSID0gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBBQlY6ICAgIEFCVixcbiAgQ09OU1RSOiBDT05TVFIsXG4gIFRZUEVEOiAgVFlQRUQsXG4gIFZJRVc6ICAgVklFV1xufTsiLCIvLyBodHRwczovL2dpdGh1Yi5jb20vYmVuamFtaW5nci9SZXhFeHAuZXNjYXBlXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgJHJlICAgICA9IHJlcXVpcmUoJy4vX3JlcGxhY2VyJykoL1tcXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnUmVnRXhwJywge2VzY2FwZTogZnVuY3Rpb24gZXNjYXBlKGl0KXsgcmV0dXJuICRyZShpdCk7IH19KTtcbiIsIi8vIDIyLjEuMy4zIEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluKHRhcmdldCwgc3RhcnQsIGVuZCA9IHRoaXMubGVuZ3RoKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlAsICdBcnJheScsIHtjb3B5V2l0aGluOiByZXF1aXJlKCcuL19hcnJheS1jb3B5LXdpdGhpbicpfSk7XG5cbnJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpKCdjb3B5V2l0aGluJyk7IiwiJ3VzZSBzdHJpY3QnO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRldmVyeSAgPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJykoNCk7XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX3N0cmljdC1tZXRob2QnKShbXS5ldmVyeSwgdHJ1ZSksICdBcnJheScsIHtcbiAgLy8gMjIuMS4zLjUgLyAxNS40LjQuMTYgQXJyYXkucHJvdG90eXBlLmV2ZXJ5KGNhbGxiYWNrZm4gWywgdGhpc0FyZ10pXG4gIGV2ZXJ5OiBmdW5jdGlvbiBldmVyeShjYWxsYmFja2ZuIC8qICwgdGhpc0FyZyAqLyl7XG4gICAgcmV0dXJuICRldmVyeSh0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHNbMV0pO1xuICB9XG59KTsiLCIvLyAyMi4xLjMuNiBBcnJheS5wcm90b3R5cGUuZmlsbCh2YWx1ZSwgc3RhcnQgPSAwLCBlbmQgPSB0aGlzLmxlbmd0aClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5QLCAnQXJyYXknLCB7ZmlsbDogcmVxdWlyZSgnLi9fYXJyYXktZmlsbCcpfSk7XG5cbnJlcXVpcmUoJy4vX2FkZC10by11bnNjb3BhYmxlcycpKCdmaWxsJyk7IiwiJ3VzZSBzdHJpY3QnO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRmaWx0ZXIgPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJykoMik7XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX3N0cmljdC1tZXRob2QnKShbXS5maWx0ZXIsIHRydWUpLCAnQXJyYXknLCB7XG4gIC8vIDIyLjEuMy43IC8gMTUuNC40LjIwIEFycmF5LnByb3RvdHlwZS5maWx0ZXIoY2FsbGJhY2tmbiBbLCB0aGlzQXJnXSlcbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pe1xuICAgIHJldHVybiAkZmlsdGVyKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50c1sxXSk7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIDIyLjEuMy45IEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXgocHJlZGljYXRlLCB0aGlzQXJnID0gdW5kZWZpbmVkKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRmaW5kICAgPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJykoNilcbiAgLCBLRVkgICAgID0gJ2ZpbmRJbmRleCdcbiAgLCBmb3JjZWQgID0gdHJ1ZTtcbi8vIFNob3VsZG4ndCBza2lwIGhvbGVzXG5pZihLRVkgaW4gW10pQXJyYXkoMSlbS0VZXShmdW5jdGlvbigpeyBmb3JjZWQgPSBmYWxzZTsgfSk7XG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIGZvcmNlZCwgJ0FycmF5Jywge1xuICBmaW5kSW5kZXg6IGZ1bmN0aW9uIGZpbmRJbmRleChjYWxsYmFja2ZuLyosIHRoYXQgPSB1bmRlZmluZWQgKi8pe1xuICAgIHJldHVybiAkZmluZCh0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pO1xucmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJykoS0VZKTsiLCIndXNlIHN0cmljdCc7XG4vLyAyMi4xLjMuOCBBcnJheS5wcm90b3R5cGUuZmluZChwcmVkaWNhdGUsIHRoaXNBcmcgPSB1bmRlZmluZWQpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgJGZpbmQgICA9IHJlcXVpcmUoJy4vX2FycmF5LW1ldGhvZHMnKSg1KVxuICAsIEtFWSAgICAgPSAnZmluZCdcbiAgLCBmb3JjZWQgID0gdHJ1ZTtcbi8vIFNob3VsZG4ndCBza2lwIGhvbGVzXG5pZihLRVkgaW4gW10pQXJyYXkoMSlbS0VZXShmdW5jdGlvbigpeyBmb3JjZWQgPSBmYWxzZTsgfSk7XG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIGZvcmNlZCwgJ0FycmF5Jywge1xuICBmaW5kOiBmdW5jdGlvbiBmaW5kKGNhbGxiYWNrZm4vKiwgdGhhdCA9IHVuZGVmaW5lZCAqLyl7XG4gICAgcmV0dXJuICRmaW5kKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgfVxufSk7XG5yZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKShLRVkpOyIsIid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgJGZvckVhY2ggPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJykoMClcbiAgLCBTVFJJQ1QgICA9IHJlcXVpcmUoJy4vX3N0cmljdC1tZXRob2QnKShbXS5mb3JFYWNoLCB0cnVlKTtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAhU1RSSUNULCAnQXJyYXknLCB7XG4gIC8vIDIyLjEuMy4xMCAvIDE1LjQuNC4xOCBBcnJheS5wcm90b3R5cGUuZm9yRWFjaChjYWxsYmFja2ZuIFssIHRoaXNBcmddKVxuICBmb3JFYWNoOiBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKXtcbiAgICByZXR1cm4gJGZvckVhY2godGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzWzFdKTtcbiAgfVxufSk7IiwiJ3VzZSBzdHJpY3QnO1xudmFyICRleHBvcnQgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRpbmRleE9mICAgICAgPSByZXF1aXJlKCcuL19hcnJheS1pbmNsdWRlcycpKGZhbHNlKVxuICAsICRuYXRpdmUgICAgICAgPSBbXS5pbmRleE9mXG4gICwgTkVHQVRJVkVfWkVSTyA9ICEhJG5hdGl2ZSAmJiAxIC8gWzFdLmluZGV4T2YoMSwgLTApIDwgMDtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoTkVHQVRJVkVfWkVSTyB8fCAhcmVxdWlyZSgnLi9fc3RyaWN0LW1ldGhvZCcpKCRuYXRpdmUpKSwgJ0FycmF5Jywge1xuICAvLyAyMi4xLjMuMTEgLyAxNS40LjQuMTQgQXJyYXkucHJvdG90eXBlLmluZGV4T2Yoc2VhcmNoRWxlbWVudCBbLCBmcm9tSW5kZXhdKVxuICBpbmRleE9mOiBmdW5jdGlvbiBpbmRleE9mKHNlYXJjaEVsZW1lbnQgLyosIGZyb21JbmRleCA9IDAgKi8pe1xuICAgIHJldHVybiBORUdBVElWRV9aRVJPXG4gICAgICAvLyBjb252ZXJ0IC0wIHRvICswXG4gICAgICA/ICRuYXRpdmUuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCAwXG4gICAgICA6ICRpbmRleE9mKHRoaXMsIHNlYXJjaEVsZW1lbnQsIGFyZ3VtZW50c1sxXSk7XG4gIH1cbn0pOyIsIi8vIDIyLjEuMi4yIC8gMTUuNC4zLjIgQXJyYXkuaXNBcnJheShhcmcpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ0FycmF5Jywge2lzQXJyYXk6IHJlcXVpcmUoJy4vX2lzLWFycmF5Jyl9KTsiLCIndXNlIHN0cmljdCc7XG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmpvaW4oc2VwYXJhdG9yKVxudmFyICRleHBvcnQgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgYXJyYXlKb2luID0gW10uam9pbjtcblxuLy8gZmFsbGJhY2sgZm9yIG5vdCBhcnJheS1saWtlIHN0cmluZ3NcbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKHJlcXVpcmUoJy4vX2lvYmplY3QnKSAhPSBPYmplY3QgfHwgIXJlcXVpcmUoJy4vX3N0cmljdC1tZXRob2QnKShhcnJheUpvaW4pKSwgJ0FycmF5Jywge1xuICBqb2luOiBmdW5jdGlvbiBqb2luKHNlcGFyYXRvcil7XG4gICAgcmV0dXJuIGFycmF5Sm9pbi5jYWxsKHRvSU9iamVjdCh0aGlzKSwgc2VwYXJhdG9yID09PSB1bmRlZmluZWQgPyAnLCcgOiBzZXBhcmF0b3IpO1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgdG9JT2JqZWN0ICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIHRvSW50ZWdlciAgICAgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCB0b0xlbmd0aCAgICAgID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCAkbmF0aXZlICAgICAgID0gW10ubGFzdEluZGV4T2ZcbiAgLCBORUdBVElWRV9aRVJPID0gISEkbmF0aXZlICYmIDEgLyBbMV0ubGFzdEluZGV4T2YoMSwgLTApIDwgMDtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoTkVHQVRJVkVfWkVSTyB8fCAhcmVxdWlyZSgnLi9fc3RyaWN0LW1ldGhvZCcpKCRuYXRpdmUpKSwgJ0FycmF5Jywge1xuICAvLyAyMi4xLjMuMTQgLyAxNS40LjQuMTUgQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mKHNlYXJjaEVsZW1lbnQgWywgZnJvbUluZGV4XSlcbiAgbGFzdEluZGV4T2Y6IGZ1bmN0aW9uIGxhc3RJbmRleE9mKHNlYXJjaEVsZW1lbnQgLyosIGZyb21JbmRleCA9IEBbKi0xXSAqLyl7XG4gICAgLy8gY29udmVydCAtMCB0byArMFxuICAgIGlmKE5FR0FUSVZFX1pFUk8pcmV0dXJuICRuYXRpdmUuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCAwO1xuICAgIHZhciBPICAgICAgPSB0b0lPYmplY3QodGhpcylcbiAgICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG4gICAgICAsIGluZGV4ICA9IGxlbmd0aCAtIDE7XG4gICAgaWYoYXJndW1lbnRzLmxlbmd0aCA+IDEpaW5kZXggPSBNYXRoLm1pbihpbmRleCwgdG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSkpO1xuICAgIGlmKGluZGV4IDwgMClpbmRleCA9IGxlbmd0aCArIGluZGV4O1xuICAgIGZvcig7aW5kZXggPj0gMDsgaW5kZXgtLSlpZihpbmRleCBpbiBPKWlmKE9baW5kZXhdID09PSBzZWFyY2hFbGVtZW50KXJldHVybiBpbmRleCB8fCAwO1xuICAgIHJldHVybiAtMTtcbiAgfVxufSk7IiwiJ3VzZSBzdHJpY3QnO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRtYXAgICAgPSByZXF1aXJlKCcuL19hcnJheS1tZXRob2RzJykoMSk7XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX3N0cmljdC1tZXRob2QnKShbXS5tYXAsIHRydWUpLCAnQXJyYXknLCB7XG4gIC8vIDIyLjEuMy4xNSAvIDE1LjQuNC4xOSBBcnJheS5wcm90b3R5cGUubWFwKGNhbGxiYWNrZm4gWywgdGhpc0FyZ10pXG4gIG1hcDogZnVuY3Rpb24gbWFwKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKXtcbiAgICByZXR1cm4gJG1hcCh0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHNbMV0pO1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGNyZWF0ZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fY3JlYXRlLXByb3BlcnR5Jyk7XG5cbi8vIFdlYktpdCBBcnJheS5vZiBpc24ndCBnZW5lcmljXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgZnVuY3Rpb24gRigpe31cbiAgcmV0dXJuICEoQXJyYXkub2YuY2FsbChGKSBpbnN0YW5jZW9mIEYpO1xufSksICdBcnJheScsIHtcbiAgLy8gMjIuMS4yLjMgQXJyYXkub2YoIC4uLml0ZW1zKVxuICBvZjogZnVuY3Rpb24gb2YoLyogLi4uYXJncyAqLyl7XG4gICAgdmFyIGluZGV4ICA9IDBcbiAgICAgICwgYUxlbiAgID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgLCByZXN1bHQgPSBuZXcgKHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgPyB0aGlzIDogQXJyYXkpKGFMZW4pO1xuICAgIHdoaWxlKGFMZW4gPiBpbmRleCljcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBhcmd1bWVudHNbaW5kZXgrK10pO1xuICAgIHJlc3VsdC5sZW5ndGggPSBhTGVuO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCAkcmVkdWNlID0gcmVxdWlyZSgnLi9fYXJyYXktcmVkdWNlJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX3N0cmljdC1tZXRob2QnKShbXS5yZWR1Y2VSaWdodCwgdHJ1ZSksICdBcnJheScsIHtcbiAgLy8gMjIuMS4zLjE5IC8gMTUuNC40LjIyIEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodChjYWxsYmFja2ZuIFssIGluaXRpYWxWYWx1ZV0pXG4gIHJlZHVjZVJpZ2h0OiBmdW5jdGlvbiByZWR1Y2VSaWdodChjYWxsYmFja2ZuIC8qICwgaW5pdGlhbFZhbHVlICovKXtcbiAgICByZXR1cm4gJHJlZHVjZSh0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoLCBhcmd1bWVudHNbMV0sIHRydWUpO1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgJHJlZHVjZSA9IHJlcXVpcmUoJy4vX2FycmF5LXJlZHVjZScpO1xuXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19zdHJpY3QtbWV0aG9kJykoW10ucmVkdWNlLCB0cnVlKSwgJ0FycmF5Jywge1xuICAvLyAyMi4xLjMuMTggLyAxNS40LjQuMjEgQXJyYXkucHJvdG90eXBlLnJlZHVjZShjYWxsYmFja2ZuIFssIGluaXRpYWxWYWx1ZV0pXG4gIHJlZHVjZTogZnVuY3Rpb24gcmVkdWNlKGNhbGxiYWNrZm4gLyogLCBpbml0aWFsVmFsdWUgKi8pe1xuICAgIHJldHVybiAkcmVkdWNlKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3VtZW50c1sxXSwgZmFsc2UpO1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgaHRtbCAgICAgICA9IHJlcXVpcmUoJy4vX2h0bWwnKVxuICAsIGNvZiAgICAgICAgPSByZXF1aXJlKCcuL19jb2YnKVxuICAsIHRvSW5kZXggICAgPSByZXF1aXJlKCcuL190by1pbmRleCcpXG4gICwgdG9MZW5ndGggICA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpXG4gICwgYXJyYXlTbGljZSA9IFtdLnNsaWNlO1xuXG4vLyBmYWxsYmFjayBmb3Igbm90IGFycmF5LWxpa2UgRVMzIHN0cmluZ3MgYW5kIERPTSBvYmplY3RzXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgaWYoaHRtbClhcnJheVNsaWNlLmNhbGwoaHRtbCk7XG59KSwgJ0FycmF5Jywge1xuICBzbGljZTogZnVuY3Rpb24gc2xpY2UoYmVnaW4sIGVuZCl7XG4gICAgdmFyIGxlbiAgID0gdG9MZW5ndGgodGhpcy5sZW5ndGgpXG4gICAgICAsIGtsYXNzID0gY29mKHRoaXMpO1xuICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogZW5kO1xuICAgIGlmKGtsYXNzID09ICdBcnJheScpcmV0dXJuIGFycmF5U2xpY2UuY2FsbCh0aGlzLCBiZWdpbiwgZW5kKTtcbiAgICB2YXIgc3RhcnQgID0gdG9JbmRleChiZWdpbiwgbGVuKVxuICAgICAgLCB1cFRvICAgPSB0b0luZGV4KGVuZCwgbGVuKVxuICAgICAgLCBzaXplICAgPSB0b0xlbmd0aCh1cFRvIC0gc3RhcnQpXG4gICAgICAsIGNsb25lZCA9IEFycmF5KHNpemUpXG4gICAgICAsIGkgICAgICA9IDA7XG4gICAgZm9yKDsgaSA8IHNpemU7IGkrKyljbG9uZWRbaV0gPSBrbGFzcyA9PSAnU3RyaW5nJ1xuICAgICAgPyB0aGlzLmNoYXJBdChzdGFydCArIGkpXG4gICAgICA6IHRoaXNbc3RhcnQgKyBpXTtcbiAgICByZXR1cm4gY2xvbmVkO1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgJHNvbWUgICA9IHJlcXVpcmUoJy4vX2FycmF5LW1ldGhvZHMnKSgzKTtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fc3RyaWN0LW1ldGhvZCcpKFtdLnNvbWUsIHRydWUpLCAnQXJyYXknLCB7XG4gIC8vIDIyLjEuMy4yMyAvIDE1LjQuNC4xNyBBcnJheS5wcm90b3R5cGUuc29tZShjYWxsYmFja2ZuIFssIHRoaXNBcmddKVxuICBzb21lOiBmdW5jdGlvbiBzb21lKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKXtcbiAgICByZXR1cm4gJHNvbWUodGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzWzFdKTtcbiAgfVxufSk7IiwiJ3VzZSBzdHJpY3QnO1xudmFyICRleHBvcnQgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpXG4gICwgdG9PYmplY3QgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCBmYWlscyAgICAgPSByZXF1aXJlKCcuL19mYWlscycpXG4gICwgJHNvcnQgICAgID0gW10uc29ydFxuICAsIHRlc3QgICAgICA9IFsxLCAyLCAzXTtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoZmFpbHMoZnVuY3Rpb24oKXtcbiAgLy8gSUU4LVxuICB0ZXN0LnNvcnQodW5kZWZpbmVkKTtcbn0pIHx8ICFmYWlscyhmdW5jdGlvbigpe1xuICAvLyBWOCBidWdcbiAgdGVzdC5zb3J0KG51bGwpO1xuICAvLyBPbGQgV2ViS2l0XG59KSB8fCAhcmVxdWlyZSgnLi9fc3RyaWN0LW1ldGhvZCcpKCRzb3J0KSksICdBcnJheScsIHtcbiAgLy8gMjIuMS4zLjI1IEFycmF5LnByb3RvdHlwZS5zb3J0KGNvbXBhcmVmbilcbiAgc29ydDogZnVuY3Rpb24gc29ydChjb21wYXJlZm4pe1xuICAgIHJldHVybiBjb21wYXJlZm4gPT09IHVuZGVmaW5lZFxuICAgICAgPyAkc29ydC5jYWxsKHRvT2JqZWN0KHRoaXMpKVxuICAgICAgOiAkc29ydC5jYWxsKHRvT2JqZWN0KHRoaXMpLCBhRnVuY3Rpb24oY29tcGFyZWZuKSk7XG4gIH1cbn0pOyIsInJlcXVpcmUoJy4vX3NldC1zcGVjaWVzJykoJ0FycmF5Jyk7IiwiLy8gMjAuMy4zLjEgLyAxNS45LjQuNCBEYXRlLm5vdygpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ0RhdGUnLCB7bm93OiBmdW5jdGlvbigpeyByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7IH19KTsiLCIndXNlIHN0cmljdCc7XG4vLyAyMC4zLjQuMzYgLyAxNS45LjUuNDMgRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcoKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGZhaWxzICAgPSByZXF1aXJlKCcuL19mYWlscycpXG4gICwgZ2V0VGltZSA9IERhdGUucHJvdG90eXBlLmdldFRpbWU7XG5cbnZhciBseiA9IGZ1bmN0aW9uKG51bSl7XG4gIHJldHVybiBudW0gPiA5ID8gbnVtIDogJzAnICsgbnVtO1xufTtcblxuLy8gUGhhbnRvbUpTIC8gb2xkIFdlYktpdCBoYXMgYSBicm9rZW4gaW1wbGVtZW50YXRpb25zXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChmYWlscyhmdW5jdGlvbigpe1xuICByZXR1cm4gbmV3IERhdGUoLTVlMTMgLSAxKS50b0lTT1N0cmluZygpICE9ICcwMzg1LTA3LTI1VDA3OjA2OjM5Ljk5OVonO1xufSkgfHwgIWZhaWxzKGZ1bmN0aW9uKCl7XG4gIG5ldyBEYXRlKE5hTikudG9JU09TdHJpbmcoKTtcbn0pKSwgJ0RhdGUnLCB7XG4gIHRvSVNPU3RyaW5nOiBmdW5jdGlvbiB0b0lTT1N0cmluZygpe1xuICAgIGlmKCFpc0Zpbml0ZShnZXRUaW1lLmNhbGwodGhpcykpKXRocm93IFJhbmdlRXJyb3IoJ0ludmFsaWQgdGltZSB2YWx1ZScpO1xuICAgIHZhciBkID0gdGhpc1xuICAgICAgLCB5ID0gZC5nZXRVVENGdWxsWWVhcigpXG4gICAgICAsIG0gPSBkLmdldFVUQ01pbGxpc2Vjb25kcygpXG4gICAgICAsIHMgPSB5IDwgMCA/ICctJyA6IHkgPiA5OTk5ID8gJysnIDogJyc7XG4gICAgcmV0dXJuIHMgKyAoJzAwMDAwJyArIE1hdGguYWJzKHkpKS5zbGljZShzID8gLTYgOiAtNCkgK1xuICAgICAgJy0nICsgbHooZC5nZXRVVENNb250aCgpICsgMSkgKyAnLScgKyBseihkLmdldFVUQ0RhdGUoKSkgK1xuICAgICAgJ1QnICsgbHooZC5nZXRVVENIb3VycygpKSArICc6JyArIGx6KGQuZ2V0VVRDTWludXRlcygpKSArXG4gICAgICAnOicgKyBseihkLmdldFVUQ1NlY29uZHMoKSkgKyAnLicgKyAobSA+IDk5ID8gbSA6ICcwJyArIGx6KG0pKSArICdaJztcbiAgfVxufSk7IiwiJ3VzZSBzdHJpY3QnO1xudmFyICRleHBvcnQgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCB0b09iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiByZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBuZXcgRGF0ZShOYU4pLnRvSlNPTigpICE9PSBudWxsIHx8IERhdGUucHJvdG90eXBlLnRvSlNPTi5jYWxsKHt0b0lTT1N0cmluZzogZnVuY3Rpb24oKXsgcmV0dXJuIDE7IH19KSAhPT0gMTtcbn0pLCAnRGF0ZScsIHtcbiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oa2V5KXtcbiAgICB2YXIgTyAgPSB0b09iamVjdCh0aGlzKVxuICAgICAgLCBwdiA9IHRvUHJpbWl0aXZlKE8pO1xuICAgIHJldHVybiB0eXBlb2YgcHYgPT0gJ251bWJlcicgJiYgIWlzRmluaXRlKHB2KSA/IG51bGwgOiBPLnRvSVNPU3RyaW5nKCk7XG4gIH1cbn0pOyIsInZhciBUT19QUklNSVRJVkUgPSByZXF1aXJlKCcuL193a3MnKSgndG9QcmltaXRpdmUnKVxuICAsIHByb3RvICAgICAgICA9IERhdGUucHJvdG90eXBlO1xuXG5pZighKFRPX1BSSU1JVElWRSBpbiBwcm90bykpcmVxdWlyZSgnLi9faGlkZScpKHByb3RvLCBUT19QUklNSVRJVkUsIHJlcXVpcmUoJy4vX2RhdGUtdG8tcHJpbWl0aXZlJykpOyIsInZhciBEYXRlUHJvdG8gICAgPSBEYXRlLnByb3RvdHlwZVxuICAsIElOVkFMSURfREFURSA9ICdJbnZhbGlkIERhdGUnXG4gICwgVE9fU1RSSU5HICAgID0gJ3RvU3RyaW5nJ1xuICAsICR0b1N0cmluZyAgICA9IERhdGVQcm90b1tUT19TVFJJTkddXG4gICwgZ2V0VGltZSAgICAgID0gRGF0ZVByb3RvLmdldFRpbWU7XG5pZihuZXcgRGF0ZShOYU4pICsgJycgIT0gSU5WQUxJRF9EQVRFKXtcbiAgcmVxdWlyZSgnLi9fcmVkZWZpbmUnKShEYXRlUHJvdG8sIFRPX1NUUklORywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgICB2YXIgdmFsdWUgPSBnZXRUaW1lLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/ICR0b1N0cmluZy5jYWxsKHRoaXMpIDogSU5WQUxJRF9EQVRFO1xuICB9KTtcbn0iLCIvLyAxOS4yLjMuMiAvIDE1LjMuNC41IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kKHRoaXNBcmcsIGFyZ3MuLi4pXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUCwgJ0Z1bmN0aW9uJywge2JpbmQ6IHJlcXVpcmUoJy4vX2JpbmQnKX0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciBpc09iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJylcbiAgLCBIQVNfSU5TVEFOQ0UgICA9IHJlcXVpcmUoJy4vX3drcycpKCdoYXNJbnN0YW5jZScpXG4gICwgRnVuY3Rpb25Qcm90byAgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4vLyAxOS4yLjMuNiBGdW5jdGlvbi5wcm90b3R5cGVbQEBoYXNJbnN0YW5jZV0oVilcbmlmKCEoSEFTX0lOU1RBTkNFIGluIEZ1bmN0aW9uUHJvdG8pKXJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmYoRnVuY3Rpb25Qcm90bywgSEFTX0lOU1RBTkNFLCB7dmFsdWU6IGZ1bmN0aW9uKE8pe1xuICBpZih0eXBlb2YgdGhpcyAhPSAnZnVuY3Rpb24nIHx8ICFpc09iamVjdChPKSlyZXR1cm4gZmFsc2U7XG4gIGlmKCFpc09iamVjdCh0aGlzLnByb3RvdHlwZSkpcmV0dXJuIE8gaW5zdGFuY2VvZiB0aGlzO1xuICAvLyBmb3IgZW52aXJvbm1lbnQgdy9vIG5hdGl2ZSBgQEBoYXNJbnN0YW5jZWAgbG9naWMgZW5vdWdoIGBpbnN0YW5jZW9mYCwgYnV0IGFkZCB0aGlzOlxuICB3aGlsZShPID0gZ2V0UHJvdG90eXBlT2YoTykpaWYodGhpcy5wcm90b3R5cGUgPT09IE8pcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn19KTsiLCJ2YXIgZFAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZcbiAgLCBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXG4gICwgaGFzICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgRlByb3RvICAgICA9IEZ1bmN0aW9uLnByb3RvdHlwZVxuICAsIG5hbWVSRSAgICAgPSAvXlxccypmdW5jdGlvbiAoW14gKF0qKS9cbiAgLCBOQU1FICAgICAgID0gJ25hbWUnO1xuXG52YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZSB8fCBmdW5jdGlvbigpe1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8vIDE5LjIuNC4yIG5hbWVcbk5BTUUgaW4gRlByb3RvIHx8IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgZFAoRlByb3RvLCBOQU1FLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpe1xuICAgIHRyeSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICAgICAgLCBuYW1lID0gKCcnICsgdGhhdCkubWF0Y2gobmFtZVJFKVsxXTtcbiAgICAgIGhhcyh0aGF0LCBOQU1FKSB8fCAhaXNFeHRlbnNpYmxlKHRoYXQpIHx8IGRQKHRoYXQsIE5BTUUsIGNyZWF0ZURlc2MoNSwgbmFtZSkpO1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH1cbn0pOyIsIi8vIDIwLjIuMi4zIE1hdGguYWNvc2goeClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBsb2cxcCAgID0gcmVxdWlyZSgnLi9fbWF0aC1sb2cxcCcpXG4gICwgc3FydCAgICA9IE1hdGguc3FydFxuICAsICRhY29zaCAgPSBNYXRoLmFjb3NoO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoJGFjb3NoXG4gIC8vIFY4IGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTM1MDlcbiAgJiYgTWF0aC5mbG9vcigkYWNvc2goTnVtYmVyLk1BWF9WQUxVRSkpID09IDcxMFxuICAvLyBUb3IgQnJvd3NlciBidWc6IE1hdGguYWNvc2goSW5maW5pdHkpIC0+IE5hTiBcbiAgJiYgJGFjb3NoKEluZmluaXR5KSA9PSBJbmZpbml0eVxuKSwgJ01hdGgnLCB7XG4gIGFjb3NoOiBmdW5jdGlvbiBhY29zaCh4KXtcbiAgICByZXR1cm4gKHggPSAreCkgPCAxID8gTmFOIDogeCA+IDk0OTA2MjY1LjYyNDI1MTU2XG4gICAgICA/IE1hdGgubG9nKHgpICsgTWF0aC5MTjJcbiAgICAgIDogbG9nMXAoeCAtIDEgKyBzcXJ0KHggLSAxKSAqIHNxcnQoeCArIDEpKTtcbiAgfVxufSk7IiwiLy8gMjAuMi4yLjUgTWF0aC5hc2luaCh4KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRhc2luaCAgPSBNYXRoLmFzaW5oO1xuXG5mdW5jdGlvbiBhc2luaCh4KXtcbiAgcmV0dXJuICFpc0Zpbml0ZSh4ID0gK3gpIHx8IHggPT0gMCA/IHggOiB4IDwgMCA/IC1hc2luaCgteCkgOiBNYXRoLmxvZyh4ICsgTWF0aC5zcXJ0KHggKiB4ICsgMSkpO1xufVxuXG4vLyBUb3IgQnJvd3NlciBidWc6IE1hdGguYXNpbmgoMCkgLT4gLTAgXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoJGFzaW5oICYmIDEgLyAkYXNpbmgoMCkgPiAwKSwgJ01hdGgnLCB7YXNpbmg6IGFzaW5ofSk7IiwiLy8gMjAuMi4yLjcgTWF0aC5hdGFuaCh4KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRhdGFuaCAgPSBNYXRoLmF0YW5oO1xuXG4vLyBUb3IgQnJvd3NlciBidWc6IE1hdGguYXRhbmgoLTApIC0+IDAgXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoJGF0YW5oICYmIDEgLyAkYXRhbmgoLTApIDwgMCksICdNYXRoJywge1xuICBhdGFuaDogZnVuY3Rpb24gYXRhbmgoeCl7XG4gICAgcmV0dXJuICh4ID0gK3gpID09IDAgPyB4IDogTWF0aC5sb2coKDEgKyB4KSAvICgxIC0geCkpIC8gMjtcbiAgfVxufSk7IiwiLy8gMjAuMi4yLjkgTWF0aC5jYnJ0KHgpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgc2lnbiAgICA9IHJlcXVpcmUoJy4vX21hdGgtc2lnbicpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ01hdGgnLCB7XG4gIGNicnQ6IGZ1bmN0aW9uIGNicnQoeCl7XG4gICAgcmV0dXJuIHNpZ24oeCA9ICt4KSAqIE1hdGgucG93KE1hdGguYWJzKHgpLCAxIC8gMyk7XG4gIH1cbn0pOyIsIi8vIDIwLjIuMi4xMSBNYXRoLmNsejMyKHgpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ01hdGgnLCB7XG4gIGNsejMyOiBmdW5jdGlvbiBjbHozMih4KXtcbiAgICByZXR1cm4gKHggPj4+PSAwKSA/IDMxIC0gTWF0aC5mbG9vcihNYXRoLmxvZyh4ICsgMC41KSAqIE1hdGguTE9HMkUpIDogMzI7XG4gIH1cbn0pOyIsIi8vIDIwLjIuMi4xMiBNYXRoLmNvc2goeClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBleHAgICAgID0gTWF0aC5leHA7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTWF0aCcsIHtcbiAgY29zaDogZnVuY3Rpb24gY29zaCh4KXtcbiAgICByZXR1cm4gKGV4cCh4ID0gK3gpICsgZXhwKC14KSkgLyAyO1xuICB9XG59KTsiLCIvLyAyMC4yLjIuMTQgTWF0aC5leHBtMSh4KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRleHBtMSAgPSByZXF1aXJlKCcuL19tYXRoLWV4cG0xJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCRleHBtMSAhPSBNYXRoLmV4cG0xKSwgJ01hdGgnLCB7ZXhwbTE6ICRleHBtMX0pOyIsIi8vIDIwLjIuMi4xNiBNYXRoLmZyb3VuZCh4KVxudmFyICRleHBvcnQgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgc2lnbiAgICAgID0gcmVxdWlyZSgnLi9fbWF0aC1zaWduJylcbiAgLCBwb3cgICAgICAgPSBNYXRoLnBvd1xuICAsIEVQU0lMT04gICA9IHBvdygyLCAtNTIpXG4gICwgRVBTSUxPTjMyID0gcG93KDIsIC0yMylcbiAgLCBNQVgzMiAgICAgPSBwb3coMiwgMTI3KSAqICgyIC0gRVBTSUxPTjMyKVxuICAsIE1JTjMyICAgICA9IHBvdygyLCAtMTI2KTtcblxudmFyIHJvdW5kVGllc1RvRXZlbiA9IGZ1bmN0aW9uKG4pe1xuICByZXR1cm4gbiArIDEgLyBFUFNJTE9OIC0gMSAvIEVQU0lMT047XG59O1xuXG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTWF0aCcsIHtcbiAgZnJvdW5kOiBmdW5jdGlvbiBmcm91bmQoeCl7XG4gICAgdmFyICRhYnMgID0gTWF0aC5hYnMoeClcbiAgICAgICwgJHNpZ24gPSBzaWduKHgpXG4gICAgICAsIGEsIHJlc3VsdDtcbiAgICBpZigkYWJzIDwgTUlOMzIpcmV0dXJuICRzaWduICogcm91bmRUaWVzVG9FdmVuKCRhYnMgLyBNSU4zMiAvIEVQU0lMT04zMikgKiBNSU4zMiAqIEVQU0lMT04zMjtcbiAgICBhID0gKDEgKyBFUFNJTE9OMzIgLyBFUFNJTE9OKSAqICRhYnM7XG4gICAgcmVzdWx0ID0gYSAtIChhIC0gJGFicyk7XG4gICAgaWYocmVzdWx0ID4gTUFYMzIgfHwgcmVzdWx0ICE9IHJlc3VsdClyZXR1cm4gJHNpZ24gKiBJbmZpbml0eTtcbiAgICByZXR1cm4gJHNpZ24gKiByZXN1bHQ7XG4gIH1cbn0pOyIsIi8vIDIwLjIuMi4xNyBNYXRoLmh5cG90KFt2YWx1ZTFbLCB2YWx1ZTJbLCDigKYgXV1dKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGFicyAgICAgPSBNYXRoLmFicztcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdNYXRoJywge1xuICBoeXBvdDogZnVuY3Rpb24gaHlwb3QodmFsdWUxLCB2YWx1ZTIpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgdmFyIHN1bSAgPSAwXG4gICAgICAsIGkgICAgPSAwXG4gICAgICAsIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAsIGxhcmcgPSAwXG4gICAgICAsIGFyZywgZGl2O1xuICAgIHdoaWxlKGkgPCBhTGVuKXtcbiAgICAgIGFyZyA9IGFicyhhcmd1bWVudHNbaSsrXSk7XG4gICAgICBpZihsYXJnIDwgYXJnKXtcbiAgICAgICAgZGl2ICA9IGxhcmcgLyBhcmc7XG4gICAgICAgIHN1bSAgPSBzdW0gKiBkaXYgKiBkaXYgKyAxO1xuICAgICAgICBsYXJnID0gYXJnO1xuICAgICAgfSBlbHNlIGlmKGFyZyA+IDApe1xuICAgICAgICBkaXYgID0gYXJnIC8gbGFyZztcbiAgICAgICAgc3VtICs9IGRpdiAqIGRpdjtcbiAgICAgIH0gZWxzZSBzdW0gKz0gYXJnO1xuICAgIH1cbiAgICByZXR1cm4gbGFyZyA9PT0gSW5maW5pdHkgPyBJbmZpbml0eSA6IGxhcmcgKiBNYXRoLnNxcnQoc3VtKTtcbiAgfVxufSk7IiwiLy8gMjAuMi4yLjE4IE1hdGguaW11bCh4LCB5KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRpbXVsICAgPSBNYXRoLmltdWw7XG5cbi8vIHNvbWUgV2ViS2l0IHZlcnNpb25zIGZhaWxzIHdpdGggYmlnIG51bWJlcnMsIHNvbWUgaGFzIHdyb25nIGFyaXR5XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuICRpbXVsKDB4ZmZmZmZmZmYsIDUpICE9IC01IHx8ICRpbXVsLmxlbmd0aCAhPSAyO1xufSksICdNYXRoJywge1xuICBpbXVsOiBmdW5jdGlvbiBpbXVsKHgsIHkpe1xuICAgIHZhciBVSU5UMTYgPSAweGZmZmZcbiAgICAgICwgeG4gPSAreFxuICAgICAgLCB5biA9ICt5XG4gICAgICAsIHhsID0gVUlOVDE2ICYgeG5cbiAgICAgICwgeWwgPSBVSU5UMTYgJiB5bjtcbiAgICByZXR1cm4gMCB8IHhsICogeWwgKyAoKFVJTlQxNiAmIHhuID4+PiAxNikgKiB5bCArIHhsICogKFVJTlQxNiAmIHluID4+PiAxNikgPDwgMTYgPj4+IDApO1xuICB9XG59KTsiLCIvLyAyMC4yLjIuMjEgTWF0aC5sb2cxMCh4KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdNYXRoJywge1xuICBsb2cxMDogZnVuY3Rpb24gbG9nMTAoeCl7XG4gICAgcmV0dXJuIE1hdGgubG9nKHgpIC8gTWF0aC5MTjEwO1xuICB9XG59KTsiLCIvLyAyMC4yLjIuMjAgTWF0aC5sb2cxcCh4KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdNYXRoJywge2xvZzFwOiByZXF1aXJlKCcuL19tYXRoLWxvZzFwJyl9KTsiLCIvLyAyMC4yLjIuMjIgTWF0aC5sb2cyKHgpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ01hdGgnLCB7XG4gIGxvZzI6IGZ1bmN0aW9uIGxvZzIoeCl7XG4gICAgcmV0dXJuIE1hdGgubG9nKHgpIC8gTWF0aC5MTjI7XG4gIH1cbn0pOyIsIi8vIDIwLjIuMi4yOCBNYXRoLnNpZ24oeClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTWF0aCcsIHtzaWduOiByZXF1aXJlKCcuL19tYXRoLXNpZ24nKX0pOyIsIi8vIDIwLjIuMi4zMCBNYXRoLnNpbmgoeClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBleHBtMSAgID0gcmVxdWlyZSgnLi9fbWF0aC1leHBtMScpXG4gICwgZXhwICAgICA9IE1hdGguZXhwO1xuXG4vLyBWOCBuZWFyIENocm9taXVtIDM4IGhhcyBhIHByb2JsZW0gd2l0aCB2ZXJ5IHNtYWxsIG51bWJlcnNcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gIU1hdGguc2luaCgtMmUtMTcpICE9IC0yZS0xNztcbn0pLCAnTWF0aCcsIHtcbiAgc2luaDogZnVuY3Rpb24gc2luaCh4KXtcbiAgICByZXR1cm4gTWF0aC5hYnMoeCA9ICt4KSA8IDFcbiAgICAgID8gKGV4cG0xKHgpIC0gZXhwbTEoLXgpKSAvIDJcbiAgICAgIDogKGV4cCh4IC0gMSkgLSBleHAoLXggLSAxKSkgKiAoTWF0aC5FIC8gMik7XG4gIH1cbn0pOyIsIi8vIDIwLjIuMi4zMyBNYXRoLnRhbmgoeClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBleHBtMSAgID0gcmVxdWlyZSgnLi9fbWF0aC1leHBtMScpXG4gICwgZXhwICAgICA9IE1hdGguZXhwO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ01hdGgnLCB7XG4gIHRhbmg6IGZ1bmN0aW9uIHRhbmgoeCl7XG4gICAgdmFyIGEgPSBleHBtMSh4ID0gK3gpXG4gICAgICAsIGIgPSBleHBtMSgteCk7XG4gICAgcmV0dXJuIGEgPT0gSW5maW5pdHkgPyAxIDogYiA9PSBJbmZpbml0eSA/IC0xIDogKGEgLSBiKSAvIChleHAoeCkgKyBleHAoLXgpKTtcbiAgfVxufSk7IiwiLy8gMjAuMi4yLjM0IE1hdGgudHJ1bmMoeClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTWF0aCcsIHtcbiAgdHJ1bmM6IGZ1bmN0aW9uIHRydW5jKGl0KXtcbiAgICByZXR1cm4gKGl0ID4gMCA/IE1hdGguZmxvb3IgOiBNYXRoLmNlaWwpKGl0KTtcbiAgfVxufSk7IiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoYXMgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgY29mICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jb2YnKVxuICAsIGluaGVyaXRJZlJlcXVpcmVkID0gcmVxdWlyZSgnLi9faW5oZXJpdC1pZi1yZXF1aXJlZCcpXG4gICwgdG9QcmltaXRpdmUgICAgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGZhaWxzICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKVxuICAsIGdPUE4gICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mXG4gICwgZ09QRCAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmZcbiAgLCBkUCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZcbiAgLCAkdHJpbSAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3N0cmluZy10cmltJykudHJpbVxuICAsIE5VTUJFUiAgICAgICAgICAgID0gJ051bWJlcidcbiAgLCAkTnVtYmVyICAgICAgICAgICA9IGdsb2JhbFtOVU1CRVJdXG4gICwgQmFzZSAgICAgICAgICAgICAgPSAkTnVtYmVyXG4gICwgcHJvdG8gICAgICAgICAgICAgPSAkTnVtYmVyLnByb3RvdHlwZVxuICAvLyBPcGVyYSB+MTIgaGFzIGJyb2tlbiBPYmplY3QjdG9TdHJpbmdcbiAgLCBCUk9LRU5fQ09GICAgICAgICA9IGNvZihyZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJykocHJvdG8pKSA9PSBOVU1CRVJcbiAgLCBUUklNICAgICAgICAgICAgICA9ICd0cmltJyBpbiBTdHJpbmcucHJvdG90eXBlO1xuXG4vLyA3LjEuMyBUb051bWJlcihhcmd1bWVudClcbnZhciB0b051bWJlciA9IGZ1bmN0aW9uKGFyZ3VtZW50KXtcbiAgdmFyIGl0ID0gdG9QcmltaXRpdmUoYXJndW1lbnQsIGZhbHNlKTtcbiAgaWYodHlwZW9mIGl0ID09ICdzdHJpbmcnICYmIGl0Lmxlbmd0aCA+IDIpe1xuICAgIGl0ID0gVFJJTSA/IGl0LnRyaW0oKSA6ICR0cmltKGl0LCAzKTtcbiAgICB2YXIgZmlyc3QgPSBpdC5jaGFyQ29kZUF0KDApXG4gICAgICAsIHRoaXJkLCByYWRpeCwgbWF4Q29kZTtcbiAgICBpZihmaXJzdCA9PT0gNDMgfHwgZmlyc3QgPT09IDQ1KXtcbiAgICAgIHRoaXJkID0gaXQuY2hhckNvZGVBdCgyKTtcbiAgICAgIGlmKHRoaXJkID09PSA4OCB8fCB0aGlyZCA9PT0gMTIwKXJldHVybiBOYU47IC8vIE51bWJlcignKzB4MScpIHNob3VsZCBiZSBOYU4sIG9sZCBWOCBmaXhcbiAgICB9IGVsc2UgaWYoZmlyc3QgPT09IDQ4KXtcbiAgICAgIHN3aXRjaChpdC5jaGFyQ29kZUF0KDEpKXtcbiAgICAgICAgY2FzZSA2NiA6IGNhc2UgOTggIDogcmFkaXggPSAyOyBtYXhDb2RlID0gNDk7IGJyZWFrOyAvLyBmYXN0IGVxdWFsIC9eMGJbMDFdKyQvaVxuICAgICAgICBjYXNlIDc5IDogY2FzZSAxMTEgOiByYWRpeCA9IDg7IG1heENvZGUgPSA1NTsgYnJlYWs7IC8vIGZhc3QgZXF1YWwgL14wb1swLTddKyQvaVxuICAgICAgICBkZWZhdWx0IDogcmV0dXJuICtpdDtcbiAgICAgIH1cbiAgICAgIGZvcih2YXIgZGlnaXRzID0gaXQuc2xpY2UoMiksIGkgPSAwLCBsID0gZGlnaXRzLmxlbmd0aCwgY29kZTsgaSA8IGw7IGkrKyl7XG4gICAgICAgIGNvZGUgPSBkaWdpdHMuY2hhckNvZGVBdChpKTtcbiAgICAgICAgLy8gcGFyc2VJbnQgcGFyc2VzIGEgc3RyaW5nIHRvIGEgZmlyc3QgdW5hdmFpbGFibGUgc3ltYm9sXG4gICAgICAgIC8vIGJ1dCBUb051bWJlciBzaG91bGQgcmV0dXJuIE5hTiBpZiBhIHN0cmluZyBjb250YWlucyB1bmF2YWlsYWJsZSBzeW1ib2xzXG4gICAgICAgIGlmKGNvZGUgPCA0OCB8fCBjb2RlID4gbWF4Q29kZSlyZXR1cm4gTmFOO1xuICAgICAgfSByZXR1cm4gcGFyc2VJbnQoZGlnaXRzLCByYWRpeCk7XG4gICAgfVxuICB9IHJldHVybiAraXQ7XG59O1xuXG5pZighJE51bWJlcignIDBvMScpIHx8ICEkTnVtYmVyKCcwYjEnKSB8fCAkTnVtYmVyKCcrMHgxJykpe1xuICAkTnVtYmVyID0gZnVuY3Rpb24gTnVtYmVyKHZhbHVlKXtcbiAgICB2YXIgaXQgPSBhcmd1bWVudHMubGVuZ3RoIDwgMSA/IDAgOiB2YWx1ZVxuICAgICAgLCB0aGF0ID0gdGhpcztcbiAgICByZXR1cm4gdGhhdCBpbnN0YW5jZW9mICROdW1iZXJcbiAgICAgIC8vIGNoZWNrIG9uIDEuLmNvbnN0cnVjdG9yKGZvbykgY2FzZVxuICAgICAgJiYgKEJST0tFTl9DT0YgPyBmYWlscyhmdW5jdGlvbigpeyBwcm90by52YWx1ZU9mLmNhbGwodGhhdCk7IH0pIDogY29mKHRoYXQpICE9IE5VTUJFUilcbiAgICAgICAgPyBpbmhlcml0SWZSZXF1aXJlZChuZXcgQmFzZSh0b051bWJlcihpdCkpLCB0aGF0LCAkTnVtYmVyKSA6IHRvTnVtYmVyKGl0KTtcbiAgfTtcbiAgZm9yKHZhciBrZXlzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGdPUE4oQmFzZSkgOiAoXG4gICAgLy8gRVMzOlxuICAgICdNQVhfVkFMVUUsTUlOX1ZBTFVFLE5hTixORUdBVElWRV9JTkZJTklUWSxQT1NJVElWRV9JTkZJTklUWSwnICtcbiAgICAvLyBFUzYgKGluIGNhc2UsIGlmIG1vZHVsZXMgd2l0aCBFUzYgTnVtYmVyIHN0YXRpY3MgcmVxdWlyZWQgYmVmb3JlKTpcbiAgICAnRVBTSUxPTixpc0Zpbml0ZSxpc0ludGVnZXIsaXNOYU4saXNTYWZlSW50ZWdlcixNQVhfU0FGRV9JTlRFR0VSLCcgK1xuICAgICdNSU5fU0FGRV9JTlRFR0VSLHBhcnNlRmxvYXQscGFyc2VJbnQsaXNJbnRlZ2VyJ1xuICApLnNwbGl0KCcsJyksIGogPSAwLCBrZXk7IGtleXMubGVuZ3RoID4gajsgaisrKXtcbiAgICBpZihoYXMoQmFzZSwga2V5ID0ga2V5c1tqXSkgJiYgIWhhcygkTnVtYmVyLCBrZXkpKXtcbiAgICAgIGRQKCROdW1iZXIsIGtleSwgZ09QRChCYXNlLCBrZXkpKTtcbiAgICB9XG4gIH1cbiAgJE51bWJlci5wcm90b3R5cGUgPSBwcm90bztcbiAgcHJvdG8uY29uc3RydWN0b3IgPSAkTnVtYmVyO1xuICByZXF1aXJlKCcuL19yZWRlZmluZScpKGdsb2JhbCwgTlVNQkVSLCAkTnVtYmVyKTtcbn0iLCIvLyAyMC4xLjIuMSBOdW1iZXIuRVBTSUxPTlxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdOdW1iZXInLCB7RVBTSUxPTjogTWF0aC5wb3coMiwgLTUyKX0pOyIsIi8vIDIwLjEuMi4yIE51bWJlci5pc0Zpbml0ZShudW1iZXIpXG52YXIgJGV4cG9ydCAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBfaXNGaW5pdGUgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5pc0Zpbml0ZTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdOdW1iZXInLCB7XG4gIGlzRmluaXRlOiBmdW5jdGlvbiBpc0Zpbml0ZShpdCl7XG4gICAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnbnVtYmVyJyAmJiBfaXNGaW5pdGUoaXQpO1xuICB9XG59KTsiLCIvLyAyMC4xLjIuMyBOdW1iZXIuaXNJbnRlZ2VyKG51bWJlcilcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTnVtYmVyJywge2lzSW50ZWdlcjogcmVxdWlyZSgnLi9faXMtaW50ZWdlcicpfSk7IiwiLy8gMjAuMS4yLjQgTnVtYmVyLmlzTmFOKG51bWJlcilcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTnVtYmVyJywge1xuICBpc05hTjogZnVuY3Rpb24gaXNOYU4obnVtYmVyKXtcbiAgICByZXR1cm4gbnVtYmVyICE9IG51bWJlcjtcbiAgfVxufSk7IiwiLy8gMjAuMS4yLjUgTnVtYmVyLmlzU2FmZUludGVnZXIobnVtYmVyKVxudmFyICRleHBvcnQgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgaXNJbnRlZ2VyID0gcmVxdWlyZSgnLi9faXMtaW50ZWdlcicpXG4gICwgYWJzICAgICAgID0gTWF0aC5hYnM7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTnVtYmVyJywge1xuICBpc1NhZmVJbnRlZ2VyOiBmdW5jdGlvbiBpc1NhZmVJbnRlZ2VyKG51bWJlcil7XG4gICAgcmV0dXJuIGlzSW50ZWdlcihudW1iZXIpICYmIGFicyhudW1iZXIpIDw9IDB4MWZmZmZmZmZmZmZmZmY7XG4gIH1cbn0pOyIsIi8vIDIwLjEuMi42IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ051bWJlcicsIHtNQVhfU0FGRV9JTlRFR0VSOiAweDFmZmZmZmZmZmZmZmZmfSk7IiwiLy8gMjAuMS4yLjEwIE51bWJlci5NSU5fU0FGRV9JTlRFR0VSXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ051bWJlcicsIHtNSU5fU0FGRV9JTlRFR0VSOiAtMHgxZmZmZmZmZmZmZmZmZn0pOyIsInZhciAkZXhwb3J0ICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgJHBhcnNlRmxvYXQgPSByZXF1aXJlKCcuL19wYXJzZS1mbG9hdCcpO1xuLy8gMjAuMS4yLjEyIE51bWJlci5wYXJzZUZsb2F0KHN0cmluZylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKE51bWJlci5wYXJzZUZsb2F0ICE9ICRwYXJzZUZsb2F0KSwgJ051bWJlcicsIHtwYXJzZUZsb2F0OiAkcGFyc2VGbG9hdH0pOyIsInZhciAkZXhwb3J0ICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRwYXJzZUludCA9IHJlcXVpcmUoJy4vX3BhcnNlLWludCcpO1xuLy8gMjAuMS4yLjEzIE51bWJlci5wYXJzZUludChzdHJpbmcsIHJhZGl4KVxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoTnVtYmVyLnBhcnNlSW50ICE9ICRwYXJzZUludCksICdOdW1iZXInLCB7cGFyc2VJbnQ6ICRwYXJzZUludH0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHRvSW50ZWdlciAgICA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIGFOdW1iZXJWYWx1ZSA9IHJlcXVpcmUoJy4vX2EtbnVtYmVyLXZhbHVlJylcbiAgLCByZXBlYXQgICAgICAgPSByZXF1aXJlKCcuL19zdHJpbmctcmVwZWF0JylcbiAgLCAkdG9GaXhlZCAgICAgPSAxLi50b0ZpeGVkXG4gICwgZmxvb3IgICAgICAgID0gTWF0aC5mbG9vclxuICAsIGRhdGEgICAgICAgICA9IFswLCAwLCAwLCAwLCAwLCAwXVxuICAsIEVSUk9SICAgICAgICA9ICdOdW1iZXIudG9GaXhlZDogaW5jb3JyZWN0IGludm9jYXRpb24hJ1xuICAsIFpFUk8gICAgICAgICA9ICcwJztcblxudmFyIG11bHRpcGx5ID0gZnVuY3Rpb24obiwgYyl7XG4gIHZhciBpICA9IC0xXG4gICAgLCBjMiA9IGM7XG4gIHdoaWxlKCsraSA8IDYpe1xuICAgIGMyICs9IG4gKiBkYXRhW2ldO1xuICAgIGRhdGFbaV0gPSBjMiAlIDFlNztcbiAgICBjMiA9IGZsb29yKGMyIC8gMWU3KTtcbiAgfVxufTtcbnZhciBkaXZpZGUgPSBmdW5jdGlvbihuKXtcbiAgdmFyIGkgPSA2XG4gICAgLCBjID0gMDtcbiAgd2hpbGUoLS1pID49IDApe1xuICAgIGMgKz0gZGF0YVtpXTtcbiAgICBkYXRhW2ldID0gZmxvb3IoYyAvIG4pO1xuICAgIGMgPSAoYyAlIG4pICogMWU3O1xuICB9XG59O1xudmFyIG51bVRvU3RyaW5nID0gZnVuY3Rpb24oKXtcbiAgdmFyIGkgPSA2XG4gICAgLCBzID0gJyc7XG4gIHdoaWxlKC0taSA+PSAwKXtcbiAgICBpZihzICE9PSAnJyB8fCBpID09PSAwIHx8IGRhdGFbaV0gIT09IDApe1xuICAgICAgdmFyIHQgPSBTdHJpbmcoZGF0YVtpXSk7XG4gICAgICBzID0gcyA9PT0gJycgPyB0IDogcyArIHJlcGVhdC5jYWxsKFpFUk8sIDcgLSB0Lmxlbmd0aCkgKyB0O1xuICAgIH1cbiAgfSByZXR1cm4gcztcbn07XG52YXIgcG93ID0gZnVuY3Rpb24oeCwgbiwgYWNjKXtcbiAgcmV0dXJuIG4gPT09IDAgPyBhY2MgOiBuICUgMiA9PT0gMSA/IHBvdyh4LCBuIC0gMSwgYWNjICogeCkgOiBwb3coeCAqIHgsIG4gLyAyLCBhY2MpO1xufTtcbnZhciBsb2cgPSBmdW5jdGlvbih4KXtcbiAgdmFyIG4gID0gMFxuICAgICwgeDIgPSB4O1xuICB3aGlsZSh4MiA+PSA0MDk2KXtcbiAgICBuICs9IDEyO1xuICAgIHgyIC89IDQwOTY7XG4gIH1cbiAgd2hpbGUoeDIgPj0gMil7XG4gICAgbiAgKz0gMTtcbiAgICB4MiAvPSAyO1xuICB9IHJldHVybiBuO1xufTtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoISEkdG9GaXhlZCAmJiAoXG4gIDAuMDAwMDgudG9GaXhlZCgzKSAhPT0gJzAuMDAwJyB8fFxuICAwLjkudG9GaXhlZCgwKSAhPT0gJzEnIHx8XG4gIDEuMjU1LnRvRml4ZWQoMikgIT09ICcxLjI1JyB8fFxuICAxMDAwMDAwMDAwMDAwMDAwMTI4Li50b0ZpeGVkKDApICE9PSAnMTAwMDAwMDAwMDAwMDAwMDEyOCdcbikgfHwgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgLy8gVjggfiBBbmRyb2lkIDQuMy1cbiAgJHRvRml4ZWQuY2FsbCh7fSk7XG59KSksICdOdW1iZXInLCB7XG4gIHRvRml4ZWQ6IGZ1bmN0aW9uIHRvRml4ZWQoZnJhY3Rpb25EaWdpdHMpe1xuICAgIHZhciB4ID0gYU51bWJlclZhbHVlKHRoaXMsIEVSUk9SKVxuICAgICAgLCBmID0gdG9JbnRlZ2VyKGZyYWN0aW9uRGlnaXRzKVxuICAgICAgLCBzID0gJydcbiAgICAgICwgbSA9IFpFUk9cbiAgICAgICwgZSwgeiwgaiwgaztcbiAgICBpZihmIDwgMCB8fCBmID4gMjApdGhyb3cgUmFuZ2VFcnJvcihFUlJPUik7XG4gICAgaWYoeCAhPSB4KXJldHVybiAnTmFOJztcbiAgICBpZih4IDw9IC0xZTIxIHx8IHggPj0gMWUyMSlyZXR1cm4gU3RyaW5nKHgpO1xuICAgIGlmKHggPCAwKXtcbiAgICAgIHMgPSAnLSc7XG4gICAgICB4ID0gLXg7XG4gICAgfVxuICAgIGlmKHggPiAxZS0yMSl7XG4gICAgICBlID0gbG9nKHggKiBwb3coMiwgNjksIDEpKSAtIDY5O1xuICAgICAgeiA9IGUgPCAwID8geCAqIHBvdygyLCAtZSwgMSkgOiB4IC8gcG93KDIsIGUsIDEpO1xuICAgICAgeiAqPSAweDEwMDAwMDAwMDAwMDAwO1xuICAgICAgZSA9IDUyIC0gZTtcbiAgICAgIGlmKGUgPiAwKXtcbiAgICAgICAgbXVsdGlwbHkoMCwgeik7XG4gICAgICAgIGogPSBmO1xuICAgICAgICB3aGlsZShqID49IDcpe1xuICAgICAgICAgIG11bHRpcGx5KDFlNywgMCk7XG4gICAgICAgICAgaiAtPSA3O1xuICAgICAgICB9XG4gICAgICAgIG11bHRpcGx5KHBvdygxMCwgaiwgMSksIDApO1xuICAgICAgICBqID0gZSAtIDE7XG4gICAgICAgIHdoaWxlKGogPj0gMjMpe1xuICAgICAgICAgIGRpdmlkZSgxIDw8IDIzKTtcbiAgICAgICAgICBqIC09IDIzO1xuICAgICAgICB9XG4gICAgICAgIGRpdmlkZSgxIDw8IGopO1xuICAgICAgICBtdWx0aXBseSgxLCAxKTtcbiAgICAgICAgZGl2aWRlKDIpO1xuICAgICAgICBtID0gbnVtVG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG11bHRpcGx5KDAsIHopO1xuICAgICAgICBtdWx0aXBseSgxIDw8IC1lLCAwKTtcbiAgICAgICAgbSA9IG51bVRvU3RyaW5nKCkgKyByZXBlYXQuY2FsbChaRVJPLCBmKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYoZiA+IDApe1xuICAgICAgayA9IG0ubGVuZ3RoO1xuICAgICAgbSA9IHMgKyAoayA8PSBmID8gJzAuJyArIHJlcGVhdC5jYWxsKFpFUk8sIGYgLSBrKSArIG0gOiBtLnNsaWNlKDAsIGsgLSBmKSArICcuJyArIG0uc2xpY2UoayAtIGYpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHMgKyBtO1xuICAgIH0gcmV0dXJuIG07XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRmYWlscyAgICAgICA9IHJlcXVpcmUoJy4vX2ZhaWxzJylcbiAgLCBhTnVtYmVyVmFsdWUgPSByZXF1aXJlKCcuL19hLW51bWJlci12YWx1ZScpXG4gICwgJHRvUHJlY2lzaW9uID0gMS4udG9QcmVjaXNpb247XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKCRmYWlscyhmdW5jdGlvbigpe1xuICAvLyBJRTctXG4gIHJldHVybiAkdG9QcmVjaXNpb24uY2FsbCgxLCB1bmRlZmluZWQpICE9PSAnMSc7XG59KSB8fCAhJGZhaWxzKGZ1bmN0aW9uKCl7XG4gIC8vIFY4IH4gQW5kcm9pZCA0LjMtXG4gICR0b1ByZWNpc2lvbi5jYWxsKHt9KTtcbn0pKSwgJ051bWJlcicsIHtcbiAgdG9QcmVjaXNpb246IGZ1bmN0aW9uIHRvUHJlY2lzaW9uKHByZWNpc2lvbil7XG4gICAgdmFyIHRoYXQgPSBhTnVtYmVyVmFsdWUodGhpcywgJ051bWJlciN0b1ByZWNpc2lvbjogaW5jb3JyZWN0IGludm9jYXRpb24hJyk7XG4gICAgcmV0dXJuIHByZWNpc2lvbiA9PT0gdW5kZWZpbmVkID8gJHRvUHJlY2lzaW9uLmNhbGwodGhhdCkgOiAkdG9QcmVjaXNpb24uY2FsbCh0aGF0LCBwcmVjaXNpb24pOyBcbiAgfVxufSk7IiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi4zIC8gMTUuMi4zLjcgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyksICdPYmplY3QnLCB7ZGVmaW5lUHJvcGVydGllczogcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpfSk7IiwiLy8gMTkuMS4yLjUgT2JqZWN0LmZyZWV6ZShPKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBtZXRhICAgICA9IHJlcXVpcmUoJy4vX21ldGEnKS5vbkZyZWV6ZTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdmcmVlemUnLCBmdW5jdGlvbigkZnJlZXplKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGZyZWV6ZShpdCl7XG4gICAgcmV0dXJuICRmcmVlemUgJiYgaXNPYmplY3QoaXQpID8gJGZyZWV6ZShtZXRhKGl0KSkgOiBpdDtcbiAgfTtcbn0pOyIsIi8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbnZhciB0b0lPYmplY3QgICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZjtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InLCBmdW5jdGlvbigpe1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpe1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRvSU9iamVjdChpdCksIGtleSk7XG4gIH07XG59KTsiLCIvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdnZXRPd25Qcm9wZXJ0eU5hbWVzJywgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHJlcXVpcmUoJy4vX29iamVjdC1nb3BuLWV4dCcpLmY7XG59KTsiLCIvLyAxOS4xLjIuMTEgT2JqZWN0LmlzRXh0ZW5zaWJsZShPKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnaXNFeHRlbnNpYmxlJywgZnVuY3Rpb24oJGlzRXh0ZW5zaWJsZSl7XG4gIHJldHVybiBmdW5jdGlvbiBpc0V4dGVuc2libGUoaXQpe1xuICAgIHJldHVybiBpc09iamVjdChpdCkgPyAkaXNFeHRlbnNpYmxlID8gJGlzRXh0ZW5zaWJsZShpdCkgOiB0cnVlIDogZmFsc2U7XG4gIH07XG59KTsiLCIvLyAxOS4xLjIuMTIgT2JqZWN0LmlzRnJvemVuKE8pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdpc0Zyb3plbicsIGZ1bmN0aW9uKCRpc0Zyb3plbil7XG4gIHJldHVybiBmdW5jdGlvbiBpc0Zyb3plbihpdCl7XG4gICAgcmV0dXJuIGlzT2JqZWN0KGl0KSA/ICRpc0Zyb3plbiA/ICRpc0Zyb3plbihpdCkgOiBmYWxzZSA6IHRydWU7XG4gIH07XG59KTsiLCIvLyAxOS4xLjIuMTMgT2JqZWN0LmlzU2VhbGVkKE8pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdpc1NlYWxlZCcsIGZ1bmN0aW9uKCRpc1NlYWxlZCl7XG4gIHJldHVybiBmdW5jdGlvbiBpc1NlYWxlZChpdCl7XG4gICAgcmV0dXJuIGlzT2JqZWN0KGl0KSA/ICRpc1NlYWxlZCA/ICRpc1NlYWxlZChpdCkgOiBmYWxzZSA6IHRydWU7XG4gIH07XG59KTsiLCIvLyAxOS4xLjMuMTAgT2JqZWN0LmlzKHZhbHVlMSwgdmFsdWUyKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge2lzOiByZXF1aXJlKCcuL19zYW1lLXZhbHVlJyl9KTsiLCIvLyAxOS4xLjIuMTUgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKE8pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIG1ldGEgICAgID0gcmVxdWlyZSgnLi9fbWV0YScpLm9uRnJlZXplO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ3ByZXZlbnRFeHRlbnNpb25zJywgZnVuY3Rpb24oJHByZXZlbnRFeHRlbnNpb25zKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIHByZXZlbnRFeHRlbnNpb25zKGl0KXtcbiAgICByZXR1cm4gJHByZXZlbnRFeHRlbnNpb25zICYmIGlzT2JqZWN0KGl0KSA/ICRwcmV2ZW50RXh0ZW5zaW9ucyhtZXRhKGl0KSkgOiBpdDtcbiAgfTtcbn0pOyIsIi8vIDE5LjEuMi4xNyBPYmplY3Quc2VhbChPKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBtZXRhICAgICA9IHJlcXVpcmUoJy4vX21ldGEnKS5vbkZyZWV6ZTtcblxucmVxdWlyZSgnLi9fb2JqZWN0LXNhcCcpKCdzZWFsJywgZnVuY3Rpb24oJHNlYWwpe1xuICByZXR1cm4gZnVuY3Rpb24gc2VhbChpdCl7XG4gICAgcmV0dXJuICRzZWFsICYmIGlzT2JqZWN0KGl0KSA/ICRzZWFsKG1ldGEoaXQpKSA6IGl0O1xuICB9O1xufSk7IiwiJ3VzZSBzdHJpY3QnO1xuLy8gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKVxuICAsIHRlc3QgICAgPSB7fTtcbnRlc3RbcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyldID0gJ3onO1xuaWYodGVzdCArICcnICE9ICdbb2JqZWN0IHpdJyl7XG4gIHJlcXVpcmUoJy4vX3JlZGVmaW5lJykoT2JqZWN0LnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgICByZXR1cm4gJ1tvYmplY3QgJyArIGNsYXNzb2YodGhpcykgKyAnXSc7XG4gIH0sIHRydWUpO1xufSIsInZhciAkZXhwb3J0ICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgJHBhcnNlRmxvYXQgPSByZXF1aXJlKCcuL19wYXJzZS1mbG9hdCcpO1xuLy8gMTguMi40IHBhcnNlRmxvYXQoc3RyaW5nKVxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LkYgKiAocGFyc2VGbG9hdCAhPSAkcGFyc2VGbG9hdCksIHtwYXJzZUZsb2F0OiAkcGFyc2VGbG9hdH0pOyIsInZhciAkZXhwb3J0ICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRwYXJzZUludCA9IHJlcXVpcmUoJy4vX3BhcnNlLWludCcpO1xuLy8gMTguMi41IHBhcnNlSW50KHN0cmluZywgcmFkaXgpXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuRiAqIChwYXJzZUludCAhPSAkcGFyc2VJbnQpLCB7cGFyc2VJbnQ6ICRwYXJzZUludH0pOyIsIi8vIDI2LjEuMSBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZ3VtZW50LCBhcmd1bWVudHNMaXN0KVxudmFyICRleHBvcnQgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpXG4gICwgYW5PYmplY3QgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCByQXBwbHkgICAgPSAocmVxdWlyZSgnLi9fZ2xvYmFsJykuUmVmbGVjdCB8fCB7fSkuYXBwbHlcbiAgLCBmQXBwbHkgICAgPSBGdW5jdGlvbi5hcHBseTtcbi8vIE1TIEVkZ2UgYXJndW1lbnRzTGlzdCBhcmd1bWVudCBpcyBvcHRpb25hbFxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByQXBwbHkoZnVuY3Rpb24oKXt9KTtcbn0pLCAnUmVmbGVjdCcsIHtcbiAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KHRhcmdldCwgdGhpc0FyZ3VtZW50LCBhcmd1bWVudHNMaXN0KXtcbiAgICB2YXIgVCA9IGFGdW5jdGlvbih0YXJnZXQpXG4gICAgICAsIEwgPSBhbk9iamVjdChhcmd1bWVudHNMaXN0KTtcbiAgICByZXR1cm4gckFwcGx5ID8gckFwcGx5KFQsIHRoaXNBcmd1bWVudCwgTCkgOiBmQXBwbHkuY2FsbChULCB0aGlzQXJndW1lbnQsIEwpO1xuICB9XG59KTsiLCIvLyAyNi4xLjIgUmVmbGVjdC5jb25zdHJ1Y3QodGFyZ2V0LCBhcmd1bWVudHNMaXN0IFssIG5ld1RhcmdldF0pXG52YXIgJGV4cG9ydCAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgY3JlYXRlICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKVxuICAsIGFGdW5jdGlvbiAgPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJylcbiAgLCBhbk9iamVjdCAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBpc09iamVjdCAgID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBmYWlscyAgICAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKVxuICAsIGJpbmQgICAgICAgPSByZXF1aXJlKCcuL19iaW5kJylcbiAgLCByQ29uc3RydWN0ID0gKHJlcXVpcmUoJy4vX2dsb2JhbCcpLlJlZmxlY3QgfHwge30pLmNvbnN0cnVjdDtcblxuLy8gTVMgRWRnZSBzdXBwb3J0cyBvbmx5IDIgYXJndW1lbnRzIGFuZCBhcmd1bWVudHNMaXN0IGFyZ3VtZW50IGlzIG9wdGlvbmFsXG4vLyBGRiBOaWdodGx5IHNldHMgdGhpcmQgYXJndW1lbnQgYXMgYG5ldy50YXJnZXRgLCBidXQgZG9lcyBub3QgY3JlYXRlIGB0aGlzYCBmcm9tIGl0XG52YXIgTkVXX1RBUkdFVF9CVUcgPSBmYWlscyhmdW5jdGlvbigpe1xuICBmdW5jdGlvbiBGKCl7fVxuICByZXR1cm4gIShyQ29uc3RydWN0KGZ1bmN0aW9uKCl7fSwgW10sIEYpIGluc3RhbmNlb2YgRik7XG59KTtcbnZhciBBUkdTX0JVRyA9ICFmYWlscyhmdW5jdGlvbigpe1xuICByQ29uc3RydWN0KGZ1bmN0aW9uKCl7fSk7XG59KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoTkVXX1RBUkdFVF9CVUcgfHwgQVJHU19CVUcpLCAnUmVmbGVjdCcsIHtcbiAgY29uc3RydWN0OiBmdW5jdGlvbiBjb25zdHJ1Y3QoVGFyZ2V0LCBhcmdzIC8qLCBuZXdUYXJnZXQqLyl7XG4gICAgYUZ1bmN0aW9uKFRhcmdldCk7XG4gICAgYW5PYmplY3QoYXJncyk7XG4gICAgdmFyIG5ld1RhcmdldCA9IGFyZ3VtZW50cy5sZW5ndGggPCAzID8gVGFyZ2V0IDogYUZ1bmN0aW9uKGFyZ3VtZW50c1syXSk7XG4gICAgaWYoQVJHU19CVUcgJiYgIU5FV19UQVJHRVRfQlVHKXJldHVybiByQ29uc3RydWN0KFRhcmdldCwgYXJncywgbmV3VGFyZ2V0KTtcbiAgICBpZihUYXJnZXQgPT0gbmV3VGFyZ2V0KXtcbiAgICAgIC8vIHcvbyBhbHRlcmVkIG5ld1RhcmdldCwgb3B0aW1pemF0aW9uIGZvciAwLTQgYXJndW1lbnRzXG4gICAgICBzd2l0Y2goYXJncy5sZW5ndGgpe1xuICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgVGFyZ2V0O1xuICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgVGFyZ2V0KGFyZ3NbMF0pO1xuICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgVGFyZ2V0KGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICBjYXNlIDM6IHJldHVybiBuZXcgVGFyZ2V0KGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICBjYXNlIDQ6IHJldHVybiBuZXcgVGFyZ2V0KGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICAgICAgfVxuICAgICAgLy8gdy9vIGFsdGVyZWQgbmV3VGFyZ2V0LCBsb3Qgb2YgYXJndW1lbnRzIGNhc2VcbiAgICAgIHZhciAkYXJncyA9IFtudWxsXTtcbiAgICAgICRhcmdzLnB1c2guYXBwbHkoJGFyZ3MsIGFyZ3MpO1xuICAgICAgcmV0dXJuIG5ldyAoYmluZC5hcHBseShUYXJnZXQsICRhcmdzKSk7XG4gICAgfVxuICAgIC8vIHdpdGggYWx0ZXJlZCBuZXdUYXJnZXQsIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGNvbnN0cnVjdG9yc1xuICAgIHZhciBwcm90byAgICA9IG5ld1RhcmdldC5wcm90b3R5cGVcbiAgICAgICwgaW5zdGFuY2UgPSBjcmVhdGUoaXNPYmplY3QocHJvdG8pID8gcHJvdG8gOiBPYmplY3QucHJvdG90eXBlKVxuICAgICAgLCByZXN1bHQgICA9IEZ1bmN0aW9uLmFwcGx5LmNhbGwoVGFyZ2V0LCBpbnN0YW5jZSwgYXJncyk7XG4gICAgcmV0dXJuIGlzT2JqZWN0KHJlc3VsdCkgPyByZXN1bHQgOiBpbnN0YW5jZTtcbiAgfVxufSk7IiwiLy8gMjYuMS4zIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcylcbnZhciBkUCAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgJGV4cG9ydCAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGFuT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xuXG4vLyBNUyBFZGdlIGhhcyBicm9rZW4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSAtIHRocm93aW5nIGluc3RlYWQgb2YgcmV0dXJuaW5nIGZhbHNlXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShkUC5mKHt9LCAxLCB7dmFsdWU6IDF9KSwgMSwge3ZhbHVlOiAyfSk7XG59KSwgJ1JlZmxlY3QnLCB7XG4gIGRlZmluZVByb3BlcnR5OiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKXtcbiAgICBhbk9iamVjdCh0YXJnZXQpO1xuICAgIHByb3BlcnR5S2V5ID0gdG9QcmltaXRpdmUocHJvcGVydHlLZXksIHRydWUpO1xuICAgIGFuT2JqZWN0KGF0dHJpYnV0ZXMpO1xuICAgIHRyeSB7XG4gICAgICBkUC5mKHRhcmdldCwgcHJvcGVydHlLZXksIGF0dHJpYnV0ZXMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn0pOyIsIi8vIDI2LjEuNCBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlLZXkpXG52YXIgJGV4cG9ydCAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGdPUEQgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKS5mXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdSZWZsZWN0Jywge1xuICBkZWxldGVQcm9wZXJ0eTogZnVuY3Rpb24gZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleSl7XG4gICAgdmFyIGRlc2MgPSBnT1BEKGFuT2JqZWN0KHRhcmdldCksIHByb3BlcnR5S2V5KTtcbiAgICByZXR1cm4gZGVzYyAmJiAhZGVzYy5jb25maWd1cmFibGUgPyBmYWxzZSA6IGRlbGV0ZSB0YXJnZXRbcHJvcGVydHlLZXldO1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG4vLyAyNi4xLjUgUmVmbGVjdC5lbnVtZXJhdGUodGFyZ2V0KVxudmFyICRleHBvcnQgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIEVudW1lcmF0ZSA9IGZ1bmN0aW9uKGl0ZXJhdGVkKXtcbiAgdGhpcy5fdCA9IGFuT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgdmFyIGtleXMgPSB0aGlzLl9rID0gW10gICAgICAgLy8ga2V5c1xuICAgICwga2V5O1xuICBmb3Ioa2V5IGluIGl0ZXJhdGVkKWtleXMucHVzaChrZXkpO1xufTtcbnJlcXVpcmUoJy4vX2l0ZXItY3JlYXRlJykoRW51bWVyYXRlLCAnT2JqZWN0JywgZnVuY3Rpb24oKXtcbiAgdmFyIHRoYXQgPSB0aGlzXG4gICAgLCBrZXlzID0gdGhhdC5fa1xuICAgICwga2V5O1xuICBkbyB7XG4gICAgaWYodGhhdC5faSA+PSBrZXlzLmxlbmd0aClyZXR1cm4ge3ZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWV9O1xuICB9IHdoaWxlKCEoKGtleSA9IGtleXNbdGhhdC5faSsrXSkgaW4gdGhhdC5fdCkpO1xuICByZXR1cm4ge3ZhbHVlOiBrZXksIGRvbmU6IGZhbHNlfTtcbn0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1JlZmxlY3QnLCB7XG4gIGVudW1lcmF0ZTogZnVuY3Rpb24gZW51bWVyYXRlKHRhcmdldCl7XG4gICAgcmV0dXJuIG5ldyBFbnVtZXJhdGUodGFyZ2V0KTtcbiAgfVxufSk7IiwiLy8gMjYuMS43IFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHlLZXkpXG52YXIgZ09QRCAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpXG4gICwgJGV4cG9ydCAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnUmVmbGVjdCcsIHtcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eUtleSl7XG4gICAgcmV0dXJuIGdPUEQuZihhbk9iamVjdCh0YXJnZXQpLCBwcm9wZXJ0eUtleSk7XG4gIH1cbn0pOyIsIi8vIDI2LjEuOCBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldClcbnZhciAkZXhwb3J0ICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgZ2V0UHJvdG8gPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJylcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1JlZmxlY3QnLCB7XG4gIGdldFByb3RvdHlwZU9mOiBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZih0YXJnZXQpe1xuICAgIHJldHVybiBnZXRQcm90byhhbk9iamVjdCh0YXJnZXQpKTtcbiAgfVxufSk7IiwiLy8gMjYuMS42IFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcGVydHlLZXkgWywgcmVjZWl2ZXJdKVxudmFyIGdPUEQgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKVxuICAsIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBpc09iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgICAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcblxuZnVuY3Rpb24gZ2V0KHRhcmdldCwgcHJvcGVydHlLZXkvKiwgcmVjZWl2ZXIqLyl7XG4gIHZhciByZWNlaXZlciA9IGFyZ3VtZW50cy5sZW5ndGggPCAzID8gdGFyZ2V0IDogYXJndW1lbnRzWzJdXG4gICAgLCBkZXNjLCBwcm90bztcbiAgaWYoYW5PYmplY3QodGFyZ2V0KSA9PT0gcmVjZWl2ZXIpcmV0dXJuIHRhcmdldFtwcm9wZXJ0eUtleV07XG4gIGlmKGRlc2MgPSBnT1BELmYodGFyZ2V0LCBwcm9wZXJ0eUtleSkpcmV0dXJuIGhhcyhkZXNjLCAndmFsdWUnKVxuICAgID8gZGVzYy52YWx1ZVxuICAgIDogZGVzYy5nZXQgIT09IHVuZGVmaW5lZFxuICAgICAgPyBkZXNjLmdldC5jYWxsKHJlY2VpdmVyKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gIGlmKGlzT2JqZWN0KHByb3RvID0gZ2V0UHJvdG90eXBlT2YodGFyZ2V0KSkpcmV0dXJuIGdldChwcm90bywgcHJvcGVydHlLZXksIHJlY2VpdmVyKTtcbn1cblxuJGV4cG9ydCgkZXhwb3J0LlMsICdSZWZsZWN0Jywge2dldDogZ2V0fSk7IiwiLy8gMjYuMS45IFJlZmxlY3QuaGFzKHRhcmdldCwgcHJvcGVydHlLZXkpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1JlZmxlY3QnLCB7XG4gIGhhczogZnVuY3Rpb24gaGFzKHRhcmdldCwgcHJvcGVydHlLZXkpe1xuICAgIHJldHVybiBwcm9wZXJ0eUtleSBpbiB0YXJnZXQ7XG4gIH1cbn0pOyIsIi8vIDI2LjEuMTAgUmVmbGVjdC5pc0V4dGVuc2libGUodGFyZ2V0KVxudmFyICRleHBvcnQgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGFuT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsICRpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1JlZmxlY3QnLCB7XG4gIGlzRXh0ZW5zaWJsZTogZnVuY3Rpb24gaXNFeHRlbnNpYmxlKHRhcmdldCl7XG4gICAgYW5PYmplY3QodGFyZ2V0KTtcbiAgICByZXR1cm4gJGlzRXh0ZW5zaWJsZSA/ICRpc0V4dGVuc2libGUodGFyZ2V0KSA6IHRydWU7XG4gIH1cbn0pOyIsIi8vIDI2LjEuMTEgUmVmbGVjdC5vd25LZXlzKHRhcmdldClcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnUmVmbGVjdCcsIHtvd25LZXlzOiByZXF1aXJlKCcuL19vd24ta2V5cycpfSk7IiwiLy8gMjYuMS4xMiBSZWZsZWN0LnByZXZlbnRFeHRlbnNpb25zKHRhcmdldClcbnZhciAkZXhwb3J0ICAgICAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGFuT2JqZWN0ICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgJHByZXZlbnRFeHRlbnNpb25zID0gT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1JlZmxlY3QnLCB7XG4gIHByZXZlbnRFeHRlbnNpb25zOiBmdW5jdGlvbiBwcmV2ZW50RXh0ZW5zaW9ucyh0YXJnZXQpe1xuICAgIGFuT2JqZWN0KHRhcmdldCk7XG4gICAgdHJ5IHtcbiAgICAgIGlmKCRwcmV2ZW50RXh0ZW5zaW9ucykkcHJldmVudEV4dGVuc2lvbnModGFyZ2V0KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59KTsiLCIvLyAyNi4xLjE0IFJlZmxlY3Quc2V0UHJvdG90eXBlT2YodGFyZ2V0LCBwcm90bylcbnZhciAkZXhwb3J0ICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgc2V0UHJvdG8gPSByZXF1aXJlKCcuL19zZXQtcHJvdG8nKTtcblxuaWYoc2V0UHJvdG8pJGV4cG9ydCgkZXhwb3J0LlMsICdSZWZsZWN0Jywge1xuICBzZXRQcm90b3R5cGVPZjogZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YodGFyZ2V0LCBwcm90byl7XG4gICAgc2V0UHJvdG8uY2hlY2sodGFyZ2V0LCBwcm90byk7XG4gICAgdHJ5IHtcbiAgICAgIHNldFByb3RvLnNldCh0YXJnZXQsIHByb3RvKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59KTsiLCIvLyAyNi4xLjEzIFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcGVydHlLZXksIFYgWywgcmVjZWl2ZXJdKVxudmFyIGRQICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBnT1BEICAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJylcbiAgLCBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgY3JlYXRlRGVzYyAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgaXNPYmplY3QgICAgICAgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcblxuZnVuY3Rpb24gc2V0KHRhcmdldCwgcHJvcGVydHlLZXksIFYvKiwgcmVjZWl2ZXIqLyl7XG4gIHZhciByZWNlaXZlciA9IGFyZ3VtZW50cy5sZW5ndGggPCA0ID8gdGFyZ2V0IDogYXJndW1lbnRzWzNdXG4gICAgLCBvd25EZXNjICA9IGdPUEQuZihhbk9iamVjdCh0YXJnZXQpLCBwcm9wZXJ0eUtleSlcbiAgICAsIGV4aXN0aW5nRGVzY3JpcHRvciwgcHJvdG87XG4gIGlmKCFvd25EZXNjKXtcbiAgICBpZihpc09iamVjdChwcm90byA9IGdldFByb3RvdHlwZU9mKHRhcmdldCkpKXtcbiAgICAgIHJldHVybiBzZXQocHJvdG8sIHByb3BlcnR5S2V5LCBWLCByZWNlaXZlcik7XG4gICAgfVxuICAgIG93bkRlc2MgPSBjcmVhdGVEZXNjKDApO1xuICB9XG4gIGlmKGhhcyhvd25EZXNjLCAndmFsdWUnKSl7XG4gICAgaWYob3duRGVzYy53cml0YWJsZSA9PT0gZmFsc2UgfHwgIWlzT2JqZWN0KHJlY2VpdmVyKSlyZXR1cm4gZmFsc2U7XG4gICAgZXhpc3RpbmdEZXNjcmlwdG9yID0gZ09QRC5mKHJlY2VpdmVyLCBwcm9wZXJ0eUtleSkgfHwgY3JlYXRlRGVzYygwKTtcbiAgICBleGlzdGluZ0Rlc2NyaXB0b3IudmFsdWUgPSBWO1xuICAgIGRQLmYocmVjZWl2ZXIsIHByb3BlcnR5S2V5LCBleGlzdGluZ0Rlc2NyaXB0b3IpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBvd25EZXNjLnNldCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiAob3duRGVzYy5zZXQuY2FsbChyZWNlaXZlciwgViksIHRydWUpO1xufVxuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1JlZmxlY3QnLCB7c2V0OiBzZXR9KTsiLCJ2YXIgZ2xvYmFsICAgICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGluaGVyaXRJZlJlcXVpcmVkID0gcmVxdWlyZSgnLi9faW5oZXJpdC1pZi1yZXF1aXJlZCcpXG4gICwgZFAgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgZ09QTiAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmZcbiAgLCBpc1JlZ0V4cCAgICAgICAgICA9IHJlcXVpcmUoJy4vX2lzLXJlZ2V4cCcpXG4gICwgJGZsYWdzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19mbGFncycpXG4gICwgJFJlZ0V4cCAgICAgICAgICAgPSBnbG9iYWwuUmVnRXhwXG4gICwgQmFzZSAgICAgICAgICAgICAgPSAkUmVnRXhwXG4gICwgcHJvdG8gICAgICAgICAgICAgPSAkUmVnRXhwLnByb3RvdHlwZVxuICAsIHJlMSAgICAgICAgICAgICAgID0gL2EvZ1xuICAsIHJlMiAgICAgICAgICAgICAgID0gL2EvZ1xuICAvLyBcIm5ld1wiIGNyZWF0ZXMgYSBuZXcgb2JqZWN0LCBvbGQgd2Via2l0IGJ1Z2d5IGhlcmVcbiAgLCBDT1JSRUNUX05FVyAgICAgICA9IG5ldyAkUmVnRXhwKHJlMSkgIT09IHJlMTtcblxuaWYocmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAoIUNPUlJFQ1RfTkVXIHx8IHJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmUyW3JlcXVpcmUoJy4vX3drcycpKCdtYXRjaCcpXSA9IGZhbHNlO1xuICAvLyBSZWdFeHAgY29uc3RydWN0b3IgY2FuIGFsdGVyIGZsYWdzIGFuZCBJc1JlZ0V4cCB3b3JrcyBjb3JyZWN0IHdpdGggQEBtYXRjaFxuICByZXR1cm4gJFJlZ0V4cChyZTEpICE9IHJlMSB8fCAkUmVnRXhwKHJlMikgPT0gcmUyIHx8ICRSZWdFeHAocmUxLCAnaScpICE9ICcvYS9pJztcbn0pKSl7XG4gICRSZWdFeHAgPSBmdW5jdGlvbiBSZWdFeHAocCwgZil7XG4gICAgdmFyIHRpUkUgPSB0aGlzIGluc3RhbmNlb2YgJFJlZ0V4cFxuICAgICAgLCBwaVJFID0gaXNSZWdFeHAocClcbiAgICAgICwgZmlVICA9IGYgPT09IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gIXRpUkUgJiYgcGlSRSAmJiBwLmNvbnN0cnVjdG9yID09PSAkUmVnRXhwICYmIGZpVSA/IHBcbiAgICAgIDogaW5oZXJpdElmUmVxdWlyZWQoQ09SUkVDVF9ORVdcbiAgICAgICAgPyBuZXcgQmFzZShwaVJFICYmICFmaVUgPyBwLnNvdXJjZSA6IHAsIGYpXG4gICAgICAgIDogQmFzZSgocGlSRSA9IHAgaW5zdGFuY2VvZiAkUmVnRXhwKSA/IHAuc291cmNlIDogcCwgcGlSRSAmJiBmaVUgPyAkZmxhZ3MuY2FsbChwKSA6IGYpXG4gICAgICAsIHRpUkUgPyB0aGlzIDogcHJvdG8sICRSZWdFeHApO1xuICB9O1xuICB2YXIgcHJveHkgPSBmdW5jdGlvbihrZXkpe1xuICAgIGtleSBpbiAkUmVnRXhwIHx8IGRQKCRSZWdFeHAsIGtleSwge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gQmFzZVtrZXldOyB9LFxuICAgICAgc2V0OiBmdW5jdGlvbihpdCl7IEJhc2Vba2V5XSA9IGl0OyB9XG4gICAgfSk7XG4gIH07XG4gIGZvcih2YXIga2V5cyA9IGdPUE4oQmFzZSksIGkgPSAwOyBrZXlzLmxlbmd0aCA+IGk7IClwcm94eShrZXlzW2krK10pO1xuICBwcm90by5jb25zdHJ1Y3RvciA9ICRSZWdFeHA7XG4gICRSZWdFeHAucHJvdG90eXBlID0gcHJvdG87XG4gIHJlcXVpcmUoJy4vX3JlZGVmaW5lJykoZ2xvYmFsLCAnUmVnRXhwJywgJFJlZ0V4cCk7XG59XG5cbnJlcXVpcmUoJy4vX3NldC1zcGVjaWVzJykoJ1JlZ0V4cCcpOyIsIi8vIDIxLjIuNS4zIGdldCBSZWdFeHAucHJvdG90eXBlLmZsYWdzKClcbmlmKHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgLy4vZy5mbGFncyAhPSAnZycpcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZihSZWdFeHAucHJvdG90eXBlLCAnZmxhZ3MnLCB7XG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgZ2V0OiByZXF1aXJlKCcuL19mbGFncycpXG59KTsiLCIvLyBAQG1hdGNoIGxvZ2ljXG5yZXF1aXJlKCcuL19maXgtcmUtd2tzJykoJ21hdGNoJywgMSwgZnVuY3Rpb24oZGVmaW5lZCwgTUFUQ0gsICRtYXRjaCl7XG4gIC8vIDIxLjEuMy4xMSBTdHJpbmcucHJvdG90eXBlLm1hdGNoKHJlZ2V4cClcbiAgcmV0dXJuIFtmdW5jdGlvbiBtYXRjaChyZWdleHApe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgTyAgPSBkZWZpbmVkKHRoaXMpXG4gICAgICAsIGZuID0gcmVnZXhwID09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IHJlZ2V4cFtNQVRDSF07XG4gICAgcmV0dXJuIGZuICE9PSB1bmRlZmluZWQgPyBmbi5jYWxsKHJlZ2V4cCwgTykgOiBuZXcgUmVnRXhwKHJlZ2V4cClbTUFUQ0hdKFN0cmluZyhPKSk7XG4gIH0sICRtYXRjaF07XG59KTsiLCIvLyBAQHJlcGxhY2UgbG9naWNcbnJlcXVpcmUoJy4vX2ZpeC1yZS13a3MnKSgncmVwbGFjZScsIDIsIGZ1bmN0aW9uKGRlZmluZWQsIFJFUExBQ0UsICRyZXBsYWNlKXtcbiAgLy8gMjEuMS4zLjE0IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZShzZWFyY2hWYWx1ZSwgcmVwbGFjZVZhbHVlKVxuICByZXR1cm4gW2Z1bmN0aW9uIHJlcGxhY2Uoc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBPICA9IGRlZmluZWQodGhpcylcbiAgICAgICwgZm4gPSBzZWFyY2hWYWx1ZSA9PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBzZWFyY2hWYWx1ZVtSRVBMQUNFXTtcbiAgICByZXR1cm4gZm4gIT09IHVuZGVmaW5lZFxuICAgICAgPyBmbi5jYWxsKHNlYXJjaFZhbHVlLCBPLCByZXBsYWNlVmFsdWUpXG4gICAgICA6ICRyZXBsYWNlLmNhbGwoU3RyaW5nKE8pLCBzZWFyY2hWYWx1ZSwgcmVwbGFjZVZhbHVlKTtcbiAgfSwgJHJlcGxhY2VdO1xufSk7IiwiLy8gQEBzZWFyY2ggbG9naWNcbnJlcXVpcmUoJy4vX2ZpeC1yZS13a3MnKSgnc2VhcmNoJywgMSwgZnVuY3Rpb24oZGVmaW5lZCwgU0VBUkNILCAkc2VhcmNoKXtcbiAgLy8gMjEuMS4zLjE1IFN0cmluZy5wcm90b3R5cGUuc2VhcmNoKHJlZ2V4cClcbiAgcmV0dXJuIFtmdW5jdGlvbiBzZWFyY2gocmVnZXhwKXtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIE8gID0gZGVmaW5lZCh0aGlzKVxuICAgICAgLCBmbiA9IHJlZ2V4cCA9PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiByZWdleHBbU0VBUkNIXTtcbiAgICByZXR1cm4gZm4gIT09IHVuZGVmaW5lZCA/IGZuLmNhbGwocmVnZXhwLCBPKSA6IG5ldyBSZWdFeHAocmVnZXhwKVtTRUFSQ0hdKFN0cmluZyhPKSk7XG4gIH0sICRzZWFyY2hdO1xufSk7IiwiLy8gQEBzcGxpdCBsb2dpY1xucmVxdWlyZSgnLi9fZml4LXJlLXdrcycpKCdzcGxpdCcsIDIsIGZ1bmN0aW9uKGRlZmluZWQsIFNQTElULCAkc3BsaXQpe1xuICAndXNlIHN0cmljdCc7XG4gIHZhciBpc1JlZ0V4cCAgID0gcmVxdWlyZSgnLi9faXMtcmVnZXhwJylcbiAgICAsIF9zcGxpdCAgICAgPSAkc3BsaXRcbiAgICAsICRwdXNoICAgICAgPSBbXS5wdXNoXG4gICAgLCAkU1BMSVQgICAgID0gJ3NwbGl0J1xuICAgICwgTEVOR1RIICAgICA9ICdsZW5ndGgnXG4gICAgLCBMQVNUX0lOREVYID0gJ2xhc3RJbmRleCc7XG4gIGlmKFxuICAgICdhYmJjJ1skU1BMSVRdKC8oYikqLylbMV0gPT0gJ2MnIHx8XG4gICAgJ3Rlc3QnWyRTUExJVF0oLyg/OikvLCAtMSlbTEVOR1RIXSAhPSA0IHx8XG4gICAgJ2FiJ1skU1BMSVRdKC8oPzphYikqLylbTEVOR1RIXSAhPSAyIHx8XG4gICAgJy4nWyRTUExJVF0oLyguPykoLj8pLylbTEVOR1RIXSAhPSA0IHx8XG4gICAgJy4nWyRTUExJVF0oLygpKCkvKVtMRU5HVEhdID4gMSB8fFxuICAgICcnWyRTUExJVF0oLy4/LylbTEVOR1RIXVxuICApe1xuICAgIHZhciBOUENHID0gLygpPz8vLmV4ZWMoJycpWzFdID09PSB1bmRlZmluZWQ7IC8vIG5vbnBhcnRpY2lwYXRpbmcgY2FwdHVyaW5nIGdyb3VwXG4gICAgLy8gYmFzZWQgb24gZXM1LXNoaW0gaW1wbGVtZW50YXRpb24sIG5lZWQgdG8gcmV3b3JrIGl0XG4gICAgJHNwbGl0ID0gZnVuY3Rpb24oc2VwYXJhdG9yLCBsaW1pdCl7XG4gICAgICB2YXIgc3RyaW5nID0gU3RyaW5nKHRoaXMpO1xuICAgICAgaWYoc2VwYXJhdG9yID09PSB1bmRlZmluZWQgJiYgbGltaXQgPT09IDApcmV0dXJuIFtdO1xuICAgICAgLy8gSWYgYHNlcGFyYXRvcmAgaXMgbm90IGEgcmVnZXgsIHVzZSBuYXRpdmUgc3BsaXRcbiAgICAgIGlmKCFpc1JlZ0V4cChzZXBhcmF0b3IpKXJldHVybiBfc3BsaXQuY2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpO1xuICAgICAgdmFyIG91dHB1dCA9IFtdO1xuICAgICAgdmFyIGZsYWdzID0gKHNlcGFyYXRvci5pZ25vcmVDYXNlID8gJ2knIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChzZXBhcmF0b3IubXVsdGlsaW5lID8gJ20nIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChzZXBhcmF0b3IudW5pY29kZSA/ICd1JyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAoc2VwYXJhdG9yLnN0aWNreSA/ICd5JyA6ICcnKTtcbiAgICAgIHZhciBsYXN0TGFzdEluZGV4ID0gMDtcbiAgICAgIHZhciBzcGxpdExpbWl0ID0gbGltaXQgPT09IHVuZGVmaW5lZCA/IDQyOTQ5NjcyOTUgOiBsaW1pdCA+Pj4gMDtcbiAgICAgIC8vIE1ha2UgYGdsb2JhbGAgYW5kIGF2b2lkIGBsYXN0SW5kZXhgIGlzc3VlcyBieSB3b3JraW5nIHdpdGggYSBjb3B5XG4gICAgICB2YXIgc2VwYXJhdG9yQ29weSA9IG5ldyBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgZmxhZ3MgKyAnZycpO1xuICAgICAgdmFyIHNlcGFyYXRvcjIsIG1hdGNoLCBsYXN0SW5kZXgsIGxhc3RMZW5ndGgsIGk7XG4gICAgICAvLyBEb2Vzbid0IG5lZWQgZmxhZ3MgZ3ksIGJ1dCB0aGV5IGRvbid0IGh1cnRcbiAgICAgIGlmKCFOUENHKXNlcGFyYXRvcjIgPSBuZXcgUmVnRXhwKCdeJyArIHNlcGFyYXRvckNvcHkuc291cmNlICsgJyQoPyFcXFxccyknLCBmbGFncyk7XG4gICAgICB3aGlsZShtYXRjaCA9IHNlcGFyYXRvckNvcHkuZXhlYyhzdHJpbmcpKXtcbiAgICAgICAgLy8gYHNlcGFyYXRvckNvcHkubGFzdEluZGV4YCBpcyBub3QgcmVsaWFibGUgY3Jvc3MtYnJvd3NlclxuICAgICAgICBsYXN0SW5kZXggPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdW0xFTkdUSF07XG4gICAgICAgIGlmKGxhc3RJbmRleCA+IGxhc3RMYXN0SW5kZXgpe1xuICAgICAgICAgIG91dHB1dC5wdXNoKHN0cmluZy5zbGljZShsYXN0TGFzdEluZGV4LCBtYXRjaC5pbmRleCkpO1xuICAgICAgICAgIC8vIEZpeCBicm93c2VycyB3aG9zZSBgZXhlY2AgbWV0aG9kcyBkb24ndCBjb25zaXN0ZW50bHkgcmV0dXJuIGB1bmRlZmluZWRgIGZvciBOUENHXG4gICAgICAgICAgaWYoIU5QQ0cgJiYgbWF0Y2hbTEVOR1RIXSA+IDEpbWF0Y2hbMF0ucmVwbGFjZShzZXBhcmF0b3IyLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgZm9yKGkgPSAxOyBpIDwgYXJndW1lbnRzW0xFTkdUSF0gLSAyOyBpKyspaWYoYXJndW1lbnRzW2ldID09PSB1bmRlZmluZWQpbWF0Y2hbaV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYobWF0Y2hbTEVOR1RIXSA+IDEgJiYgbWF0Y2guaW5kZXggPCBzdHJpbmdbTEVOR1RIXSkkcHVzaC5hcHBseShvdXRwdXQsIG1hdGNoLnNsaWNlKDEpKTtcbiAgICAgICAgICBsYXN0TGVuZ3RoID0gbWF0Y2hbMF1bTEVOR1RIXTtcbiAgICAgICAgICBsYXN0TGFzdEluZGV4ID0gbGFzdEluZGV4O1xuICAgICAgICAgIGlmKG91dHB1dFtMRU5HVEhdID49IHNwbGl0TGltaXQpYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYoc2VwYXJhdG9yQ29weVtMQVNUX0lOREVYXSA9PT0gbWF0Y2guaW5kZXgpc2VwYXJhdG9yQ29weVtMQVNUX0lOREVYXSsrOyAvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wXG4gICAgICB9XG4gICAgICBpZihsYXN0TGFzdEluZGV4ID09PSBzdHJpbmdbTEVOR1RIXSl7XG4gICAgICAgIGlmKGxhc3RMZW5ndGggfHwgIXNlcGFyYXRvckNvcHkudGVzdCgnJykpb3V0cHV0LnB1c2goJycpO1xuICAgICAgfSBlbHNlIG91dHB1dC5wdXNoKHN0cmluZy5zbGljZShsYXN0TGFzdEluZGV4KSk7XG4gICAgICByZXR1cm4gb3V0cHV0W0xFTkdUSF0gPiBzcGxpdExpbWl0ID8gb3V0cHV0LnNsaWNlKDAsIHNwbGl0TGltaXQpIDogb3V0cHV0O1xuICAgIH07XG4gIC8vIENoYWtyYSwgVjhcbiAgfSBlbHNlIGlmKCcwJ1skU1BMSVRdKHVuZGVmaW5lZCwgMClbTEVOR1RIXSl7XG4gICAgJHNwbGl0ID0gZnVuY3Rpb24oc2VwYXJhdG9yLCBsaW1pdCl7XG4gICAgICByZXR1cm4gc2VwYXJhdG9yID09PSB1bmRlZmluZWQgJiYgbGltaXQgPT09IDAgPyBbXSA6IF9zcGxpdC5jYWxsKHRoaXMsIHNlcGFyYXRvciwgbGltaXQpO1xuICAgIH07XG4gIH1cbiAgLy8gMjEuMS4zLjE3IFN0cmluZy5wcm90b3R5cGUuc3BsaXQoc2VwYXJhdG9yLCBsaW1pdClcbiAgcmV0dXJuIFtmdW5jdGlvbiBzcGxpdChzZXBhcmF0b3IsIGxpbWl0KXtcbiAgICB2YXIgTyAgPSBkZWZpbmVkKHRoaXMpXG4gICAgICAsIGZuID0gc2VwYXJhdG9yID09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IHNlcGFyYXRvcltTUExJVF07XG4gICAgcmV0dXJuIGZuICE9PSB1bmRlZmluZWQgPyBmbi5jYWxsKHNlcGFyYXRvciwgTywgbGltaXQpIDogJHNwbGl0LmNhbGwoU3RyaW5nKE8pLCBzZXBhcmF0b3IsIGxpbWl0KTtcbiAgfSwgJHNwbGl0XTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcbnJlcXVpcmUoJy4vZXM2LnJlZ2V4cC5mbGFncycpO1xudmFyIGFuT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCAkZmxhZ3MgICAgICA9IHJlcXVpcmUoJy4vX2ZsYWdzJylcbiAgLCBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJylcbiAgLCBUT19TVFJJTkcgICA9ICd0b1N0cmluZydcbiAgLCAkdG9TdHJpbmcgICA9IC8uL1tUT19TVFJJTkddO1xuXG52YXIgZGVmaW5lID0gZnVuY3Rpb24oZm4pe1xuICByZXF1aXJlKCcuL19yZWRlZmluZScpKFJlZ0V4cC5wcm90b3R5cGUsIFRPX1NUUklORywgZm4sIHRydWUpO1xufTtcblxuLy8gMjEuMi41LjE0IFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcoKVxuaWYocmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpeyByZXR1cm4gJHRvU3RyaW5nLmNhbGwoe3NvdXJjZTogJ2EnLCBmbGFnczogJ2InfSkgIT0gJy9hL2InOyB9KSl7XG4gIGRlZmluZShmdW5jdGlvbiB0b1N0cmluZygpe1xuICAgIHZhciBSID0gYW5PYmplY3QodGhpcyk7XG4gICAgcmV0dXJuICcvJy5jb25jYXQoUi5zb3VyY2UsICcvJyxcbiAgICAgICdmbGFncycgaW4gUiA/IFIuZmxhZ3MgOiAhREVTQ1JJUFRPUlMgJiYgUiBpbnN0YW5jZW9mIFJlZ0V4cCA/ICRmbGFncy5jYWxsKFIpIDogdW5kZWZpbmVkKTtcbiAgfSk7XG4vLyBGRjQ0LSBSZWdFeHAjdG9TdHJpbmcgaGFzIGEgd3JvbmcgbmFtZVxufSBlbHNlIGlmKCR0b1N0cmluZy5uYW1lICE9IFRPX1NUUklORyl7XG4gIGRlZmluZShmdW5jdGlvbiB0b1N0cmluZygpe1xuICAgIHJldHVybiAkdG9TdHJpbmcuY2FsbCh0aGlzKTtcbiAgfSk7XG59IiwiJ3VzZSBzdHJpY3QnO1xuLy8gQi4yLjMuMiBTdHJpbmcucHJvdG90eXBlLmFuY2hvcihuYW1lKVxucmVxdWlyZSgnLi9fc3RyaW5nLWh0bWwnKSgnYW5jaG9yJywgZnVuY3Rpb24oY3JlYXRlSFRNTCl7XG4gIHJldHVybiBmdW5jdGlvbiBhbmNob3IobmFtZSl7XG4gICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ2EnLCAnbmFtZScsIG5hbWUpO1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG4vLyBCLjIuMy4zIFN0cmluZy5wcm90b3R5cGUuYmlnKClcbnJlcXVpcmUoJy4vX3N0cmluZy1odG1sJykoJ2JpZycsIGZ1bmN0aW9uKGNyZWF0ZUhUTUwpe1xuICByZXR1cm4gZnVuY3Rpb24gYmlnKCl7XG4gICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ2JpZycsICcnLCAnJyk7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIEIuMi4zLjQgU3RyaW5nLnByb3RvdHlwZS5ibGluaygpXG5yZXF1aXJlKCcuL19zdHJpbmctaHRtbCcpKCdibGluaycsIGZ1bmN0aW9uKGNyZWF0ZUhUTUwpe1xuICByZXR1cm4gZnVuY3Rpb24gYmxpbmsoKXtcbiAgICByZXR1cm4gY3JlYXRlSFRNTCh0aGlzLCAnYmxpbmsnLCAnJywgJycpO1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG4vLyBCLjIuMy41IFN0cmluZy5wcm90b3R5cGUuYm9sZCgpXG5yZXF1aXJlKCcuL19zdHJpbmctaHRtbCcpKCdib2xkJywgZnVuY3Rpb24oY3JlYXRlSFRNTCl7XG4gIHJldHVybiBmdW5jdGlvbiBib2xkKCl7XG4gICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ2InLCAnJywgJycpO1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgJGF0ICAgICA9IHJlcXVpcmUoJy4vX3N0cmluZy1hdCcpKGZhbHNlKTtcbiRleHBvcnQoJGV4cG9ydC5QLCAnU3RyaW5nJywge1xuICAvLyAyMS4xLjMuMyBTdHJpbmcucHJvdG90eXBlLmNvZGVQb2ludEF0KHBvcylcbiAgY29kZVBvaW50QXQ6IGZ1bmN0aW9uIGNvZGVQb2ludEF0KHBvcyl7XG4gICAgcmV0dXJuICRhdCh0aGlzLCBwb3MpO1xuICB9XG59KTsiLCIvLyAyMS4xLjMuNiBTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoKHNlYXJjaFN0cmluZyBbLCBlbmRQb3NpdGlvbl0pXG4ndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCB0b0xlbmd0aCAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIGNvbnRleHQgICA9IHJlcXVpcmUoJy4vX3N0cmluZy1jb250ZXh0JylcbiAgLCBFTkRTX1dJVEggPSAnZW5kc1dpdGgnXG4gICwgJGVuZHNXaXRoID0gJydbRU5EU19XSVRIXTtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiByZXF1aXJlKCcuL19mYWlscy1pcy1yZWdleHAnKShFTkRTX1dJVEgpLCAnU3RyaW5nJywge1xuICBlbmRzV2l0aDogZnVuY3Rpb24gZW5kc1dpdGgoc2VhcmNoU3RyaW5nIC8qLCBlbmRQb3NpdGlvbiA9IEBsZW5ndGggKi8pe1xuICAgIHZhciB0aGF0ID0gY29udGV4dCh0aGlzLCBzZWFyY2hTdHJpbmcsIEVORFNfV0lUSClcbiAgICAgICwgZW5kUG9zaXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZFxuICAgICAgLCBsZW4gICAgPSB0b0xlbmd0aCh0aGF0Lmxlbmd0aClcbiAgICAgICwgZW5kICAgID0gZW5kUG9zaXRpb24gPT09IHVuZGVmaW5lZCA/IGxlbiA6IE1hdGgubWluKHRvTGVuZ3RoKGVuZFBvc2l0aW9uKSwgbGVuKVxuICAgICAgLCBzZWFyY2ggPSBTdHJpbmcoc2VhcmNoU3RyaW5nKTtcbiAgICByZXR1cm4gJGVuZHNXaXRoXG4gICAgICA/ICRlbmRzV2l0aC5jYWxsKHRoYXQsIHNlYXJjaCwgZW5kKVxuICAgICAgOiB0aGF0LnNsaWNlKGVuZCAtIHNlYXJjaC5sZW5ndGgsIGVuZCkgPT09IHNlYXJjaDtcbiAgfVxufSk7IiwiJ3VzZSBzdHJpY3QnO1xuLy8gQi4yLjMuNiBTdHJpbmcucHJvdG90eXBlLmZpeGVkKClcbnJlcXVpcmUoJy4vX3N0cmluZy1odG1sJykoJ2ZpeGVkJywgZnVuY3Rpb24oY3JlYXRlSFRNTCl7XG4gIHJldHVybiBmdW5jdGlvbiBmaXhlZCgpe1xuICAgIHJldHVybiBjcmVhdGVIVE1MKHRoaXMsICd0dCcsICcnLCAnJyk7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIEIuMi4zLjcgU3RyaW5nLnByb3RvdHlwZS5mb250Y29sb3IoY29sb3IpXG5yZXF1aXJlKCcuL19zdHJpbmctaHRtbCcpKCdmb250Y29sb3InLCBmdW5jdGlvbihjcmVhdGVIVE1MKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGZvbnRjb2xvcihjb2xvcil7XG4gICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ2ZvbnQnLCAnY29sb3InLCBjb2xvcik7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIEIuMi4zLjggU3RyaW5nLnByb3RvdHlwZS5mb250c2l6ZShzaXplKVxucmVxdWlyZSgnLi9fc3RyaW5nLWh0bWwnKSgnZm9udHNpemUnLCBmdW5jdGlvbihjcmVhdGVIVE1MKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGZvbnRzaXplKHNpemUpe1xuICAgIHJldHVybiBjcmVhdGVIVE1MKHRoaXMsICdmb250JywgJ3NpemUnLCBzaXplKTtcbiAgfVxufSk7IiwidmFyICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCB0b0luZGV4ICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLWluZGV4JylcbiAgLCBmcm9tQ2hhckNvZGUgICA9IFN0cmluZy5mcm9tQ2hhckNvZGVcbiAgLCAkZnJvbUNvZGVQb2ludCA9IFN0cmluZy5mcm9tQ29kZVBvaW50O1xuXG4vLyBsZW5ndGggc2hvdWxkIGJlIDEsIG9sZCBGRiBwcm9ibGVtXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghISRmcm9tQ29kZVBvaW50ICYmICRmcm9tQ29kZVBvaW50Lmxlbmd0aCAhPSAxKSwgJ1N0cmluZycsIHtcbiAgLy8gMjEuMS4yLjIgU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uY29kZVBvaW50cylcbiAgZnJvbUNvZGVQb2ludDogZnVuY3Rpb24gZnJvbUNvZGVQb2ludCh4KXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHZhciByZXMgID0gW11cbiAgICAgICwgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgICwgaSAgICA9IDBcbiAgICAgICwgY29kZTtcbiAgICB3aGlsZShhTGVuID4gaSl7XG4gICAgICBjb2RlID0gK2FyZ3VtZW50c1tpKytdO1xuICAgICAgaWYodG9JbmRleChjb2RlLCAweDEwZmZmZikgIT09IGNvZGUpdGhyb3cgUmFuZ2VFcnJvcihjb2RlICsgJyBpcyBub3QgYSB2YWxpZCBjb2RlIHBvaW50Jyk7XG4gICAgICByZXMucHVzaChjb2RlIDwgMHgxMDAwMFxuICAgICAgICA/IGZyb21DaGFyQ29kZShjb2RlKVxuICAgICAgICA6IGZyb21DaGFyQ29kZSgoKGNvZGUgLT0gMHgxMDAwMCkgPj4gMTApICsgMHhkODAwLCBjb2RlICUgMHg0MDAgKyAweGRjMDApXG4gICAgICApO1xuICAgIH0gcmV0dXJuIHJlcy5qb2luKCcnKTtcbiAgfVxufSk7IiwiLy8gMjEuMS4zLjcgU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcyhzZWFyY2hTdHJpbmcsIHBvc2l0aW9uID0gMClcbid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgY29udGV4dCAgPSByZXF1aXJlKCcuL19zdHJpbmctY29udGV4dCcpXG4gICwgSU5DTFVERVMgPSAnaW5jbHVkZXMnO1xuXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIHJlcXVpcmUoJy4vX2ZhaWxzLWlzLXJlZ2V4cCcpKElOQ0xVREVTKSwgJ1N0cmluZycsIHtcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uIGluY2x1ZGVzKHNlYXJjaFN0cmluZyAvKiwgcG9zaXRpb24gPSAwICovKXtcbiAgICByZXR1cm4gISF+Y29udGV4dCh0aGlzLCBzZWFyY2hTdHJpbmcsIElOQ0xVREVTKVxuICAgICAgLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIEIuMi4zLjkgU3RyaW5nLnByb3RvdHlwZS5pdGFsaWNzKClcbnJlcXVpcmUoJy4vX3N0cmluZy1odG1sJykoJ2l0YWxpY3MnLCBmdW5jdGlvbihjcmVhdGVIVE1MKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGl0YWxpY3MoKXtcbiAgICByZXR1cm4gY3JlYXRlSFRNTCh0aGlzLCAnaScsICcnLCAnJyk7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIEIuMi4zLjEwIFN0cmluZy5wcm90b3R5cGUubGluayh1cmwpXG5yZXF1aXJlKCcuL19zdHJpbmctaHRtbCcpKCdsaW5rJywgZnVuY3Rpb24oY3JlYXRlSFRNTCl7XG4gIHJldHVybiBmdW5jdGlvbiBsaW5rKHVybCl7XG4gICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ2EnLCAnaHJlZicsIHVybCk7XG4gIH1cbn0pOyIsInZhciAkZXhwb3J0ICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIHRvTGVuZ3RoICA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1N0cmluZycsIHtcbiAgLy8gMjEuMS4yLjQgU3RyaW5nLnJhdyhjYWxsU2l0ZSwgLi4uc3Vic3RpdHV0aW9ucylcbiAgcmF3OiBmdW5jdGlvbiByYXcoY2FsbFNpdGUpe1xuICAgIHZhciB0cGwgID0gdG9JT2JqZWN0KGNhbGxTaXRlLnJhdylcbiAgICAgICwgbGVuICA9IHRvTGVuZ3RoKHRwbC5sZW5ndGgpXG4gICAgICAsIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAsIHJlcyAgPSBbXVxuICAgICAgLCBpICAgID0gMDtcbiAgICB3aGlsZShsZW4gPiBpKXtcbiAgICAgIHJlcy5wdXNoKFN0cmluZyh0cGxbaSsrXSkpO1xuICAgICAgaWYoaSA8IGFMZW4pcmVzLnB1c2goU3RyaW5nKGFyZ3VtZW50c1tpXSkpO1xuICAgIH0gcmV0dXJuIHJlcy5qb2luKCcnKTtcbiAgfVxufSk7IiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlAsICdTdHJpbmcnLCB7XG4gIC8vIDIxLjEuMy4xMyBTdHJpbmcucHJvdG90eXBlLnJlcGVhdChjb3VudClcbiAgcmVwZWF0OiByZXF1aXJlKCcuL19zdHJpbmctcmVwZWF0Jylcbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIEIuMi4zLjExIFN0cmluZy5wcm90b3R5cGUuc21hbGwoKVxucmVxdWlyZSgnLi9fc3RyaW5nLWh0bWwnKSgnc21hbGwnLCBmdW5jdGlvbihjcmVhdGVIVE1MKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIHNtYWxsKCl7XG4gICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ3NtYWxsJywgJycsICcnKTtcbiAgfVxufSk7IiwiLy8gMjEuMS4zLjE4IFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aChzZWFyY2hTdHJpbmcgWywgcG9zaXRpb24gXSlcbid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgdG9MZW5ndGggICAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIGNvbnRleHQgICAgID0gcmVxdWlyZSgnLi9fc3RyaW5nLWNvbnRleHQnKVxuICAsIFNUQVJUU19XSVRIID0gJ3N0YXJ0c1dpdGgnXG4gICwgJHN0YXJ0c1dpdGggPSAnJ1tTVEFSVFNfV0lUSF07XG5cbiRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogcmVxdWlyZSgnLi9fZmFpbHMtaXMtcmVnZXhwJykoU1RBUlRTX1dJVEgpLCAnU3RyaW5nJywge1xuICBzdGFydHNXaXRoOiBmdW5jdGlvbiBzdGFydHNXaXRoKHNlYXJjaFN0cmluZyAvKiwgcG9zaXRpb24gPSAwICovKXtcbiAgICB2YXIgdGhhdCAgID0gY29udGV4dCh0aGlzLCBzZWFyY2hTdHJpbmcsIFNUQVJUU19XSVRIKVxuICAgICAgLCBpbmRleCAgPSB0b0xlbmd0aChNYXRoLm1pbihhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgdGhhdC5sZW5ndGgpKVxuICAgICAgLCBzZWFyY2ggPSBTdHJpbmcoc2VhcmNoU3RyaW5nKTtcbiAgICByZXR1cm4gJHN0YXJ0c1dpdGhcbiAgICAgID8gJHN0YXJ0c1dpdGguY2FsbCh0aGF0LCBzZWFyY2gsIGluZGV4KVxuICAgICAgOiB0aGF0LnNsaWNlKGluZGV4LCBpbmRleCArIHNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIEIuMi4zLjEyIFN0cmluZy5wcm90b3R5cGUuc3RyaWtlKClcbnJlcXVpcmUoJy4vX3N0cmluZy1odG1sJykoJ3N0cmlrZScsIGZ1bmN0aW9uKGNyZWF0ZUhUTUwpe1xuICByZXR1cm4gZnVuY3Rpb24gc3RyaWtlKCl7XG4gICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ3N0cmlrZScsICcnLCAnJyk7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIEIuMi4zLjEzIFN0cmluZy5wcm90b3R5cGUuc3ViKClcbnJlcXVpcmUoJy4vX3N0cmluZy1odG1sJykoJ3N1YicsIGZ1bmN0aW9uKGNyZWF0ZUhUTUwpe1xuICByZXR1cm4gZnVuY3Rpb24gc3ViKCl7XG4gICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ3N1YicsICcnLCAnJyk7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIEIuMi4zLjE0IFN0cmluZy5wcm90b3R5cGUuc3VwKClcbnJlcXVpcmUoJy4vX3N0cmluZy1odG1sJykoJ3N1cCcsIGZ1bmN0aW9uKGNyZWF0ZUhUTUwpe1xuICByZXR1cm4gZnVuY3Rpb24gc3VwKCl7XG4gICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ3N1cCcsICcnLCAnJyk7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIDIxLjEuMy4yNSBTdHJpbmcucHJvdG90eXBlLnRyaW0oKVxucmVxdWlyZSgnLi9fc3RyaW5nLXRyaW0nKSgndHJpbScsIGZ1bmN0aW9uKCR0cmltKXtcbiAgcmV0dXJuIGZ1bmN0aW9uIHRyaW0oKXtcbiAgICByZXR1cm4gJHRyaW0odGhpcywgMyk7XG4gIH07XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCAkdHlwZWQgICAgICAgPSByZXF1aXJlKCcuL190eXBlZCcpXG4gICwgYnVmZmVyICAgICAgID0gcmVxdWlyZSgnLi9fdHlwZWQtYnVmZmVyJylcbiAgLCBhbk9iamVjdCAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIHRvSW5kZXggICAgICA9IHJlcXVpcmUoJy4vX3RvLWluZGV4JylcbiAgLCB0b0xlbmd0aCAgICAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIGlzT2JqZWN0ICAgICA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgQXJyYXlCdWZmZXIgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuQXJyYXlCdWZmZXJcbiAgLCBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL19zcGVjaWVzLWNvbnN0cnVjdG9yJylcbiAgLCAkQXJyYXlCdWZmZXIgPSBidWZmZXIuQXJyYXlCdWZmZXJcbiAgLCAkRGF0YVZpZXcgICAgPSBidWZmZXIuRGF0YVZpZXdcbiAgLCAkaXNWaWV3ICAgICAgPSAkdHlwZWQuQUJWICYmIEFycmF5QnVmZmVyLmlzVmlld1xuICAsICRzbGljZSAgICAgICA9ICRBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2VcbiAgLCBWSUVXICAgICAgICAgPSAkdHlwZWQuVklFV1xuICAsIEFSUkFZX0JVRkZFUiA9ICdBcnJheUJ1ZmZlcic7XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogKEFycmF5QnVmZmVyICE9PSAkQXJyYXlCdWZmZXIpLCB7QXJyYXlCdWZmZXI6ICRBcnJheUJ1ZmZlcn0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEkdHlwZWQuQ09OU1RSLCBBUlJBWV9CVUZGRVIsIHtcbiAgLy8gMjQuMS4zLjEgQXJyYXlCdWZmZXIuaXNWaWV3KGFyZylcbiAgaXNWaWV3OiBmdW5jdGlvbiBpc1ZpZXcoaXQpe1xuICAgIHJldHVybiAkaXNWaWV3ICYmICRpc1ZpZXcoaXQpIHx8IGlzT2JqZWN0KGl0KSAmJiBWSUVXIGluIGl0O1xuICB9XG59KTtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LlUgKyAkZXhwb3J0LkYgKiByZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiAhbmV3ICRBcnJheUJ1ZmZlcigyKS5zbGljZSgxLCB1bmRlZmluZWQpLmJ5dGVMZW5ndGg7XG59KSwgQVJSQVlfQlVGRkVSLCB7XG4gIC8vIDI0LjEuNC4zIEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZShzdGFydCwgZW5kKVxuICBzbGljZTogZnVuY3Rpb24gc2xpY2Uoc3RhcnQsIGVuZCl7XG4gICAgaWYoJHNsaWNlICE9PSB1bmRlZmluZWQgJiYgZW5kID09PSB1bmRlZmluZWQpcmV0dXJuICRzbGljZS5jYWxsKGFuT2JqZWN0KHRoaXMpLCBzdGFydCk7IC8vIEZGIGZpeFxuICAgIHZhciBsZW4gICAgPSBhbk9iamVjdCh0aGlzKS5ieXRlTGVuZ3RoXG4gICAgICAsIGZpcnN0ICA9IHRvSW5kZXgoc3RhcnQsIGxlbilcbiAgICAgICwgZmluYWwgID0gdG9JbmRleChlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IGVuZCwgbGVuKVxuICAgICAgLCByZXN1bHQgPSBuZXcgKHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCAkQXJyYXlCdWZmZXIpKSh0b0xlbmd0aChmaW5hbCAtIGZpcnN0KSlcbiAgICAgICwgdmlld1MgID0gbmV3ICREYXRhVmlldyh0aGlzKVxuICAgICAgLCB2aWV3VCAgPSBuZXcgJERhdGFWaWV3KHJlc3VsdClcbiAgICAgICwgaW5kZXggID0gMDtcbiAgICB3aGlsZShmaXJzdCA8IGZpbmFsKXtcbiAgICAgIHZpZXdULnNldFVpbnQ4KGluZGV4KyssIHZpZXdTLmdldFVpbnQ4KGZpcnN0KyspKTtcbiAgICB9IHJldHVybiByZXN1bHQ7XG4gIH1cbn0pO1xuXG5yZXF1aXJlKCcuL19zZXQtc3BlY2llcycpKEFSUkFZX0JVRkZFUik7IiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX3R5cGVkJykuQUJWLCB7XG4gIERhdGFWaWV3OiByZXF1aXJlKCcuL190eXBlZC1idWZmZXInKS5EYXRhVmlld1xufSk7IiwicmVxdWlyZSgnLi9fdHlwZWQtYXJyYXknKSgnRmxvYXQzMicsIDQsIGZ1bmN0aW9uKGluaXQpe1xuICByZXR1cm4gZnVuY3Rpb24gRmxvYXQzMkFycmF5KGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCl7XG4gICAgcmV0dXJuIGluaXQodGhpcywgZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcbiAgfTtcbn0pOyIsInJlcXVpcmUoJy4vX3R5cGVkLWFycmF5JykoJ0Zsb2F0NjQnLCA4LCBmdW5jdGlvbihpbml0KXtcbiAgcmV0dXJuIGZ1bmN0aW9uIEZsb2F0NjRBcnJheShkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpe1xuICAgIHJldHVybiBpbml0KHRoaXMsIGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gIH07XG59KTsiLCJyZXF1aXJlKCcuL190eXBlZC1hcnJheScpKCdJbnQxNicsIDIsIGZ1bmN0aW9uKGluaXQpe1xuICByZXR1cm4gZnVuY3Rpb24gSW50MTZBcnJheShkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpe1xuICAgIHJldHVybiBpbml0KHRoaXMsIGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gIH07XG59KTsiLCJyZXF1aXJlKCcuL190eXBlZC1hcnJheScpKCdJbnQzMicsIDQsIGZ1bmN0aW9uKGluaXQpe1xuICByZXR1cm4gZnVuY3Rpb24gSW50MzJBcnJheShkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpe1xuICAgIHJldHVybiBpbml0KHRoaXMsIGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gIH07XG59KTsiLCJyZXF1aXJlKCcuL190eXBlZC1hcnJheScpKCdJbnQ4JywgMSwgZnVuY3Rpb24oaW5pdCl7XG4gIHJldHVybiBmdW5jdGlvbiBJbnQ4QXJyYXkoZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKXtcbiAgICByZXR1cm4gaW5pdCh0aGlzLCBkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpO1xuICB9O1xufSk7IiwicmVxdWlyZSgnLi9fdHlwZWQtYXJyYXknKSgnVWludDE2JywgMiwgZnVuY3Rpb24oaW5pdCl7XG4gIHJldHVybiBmdW5jdGlvbiBVaW50MTZBcnJheShkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpe1xuICAgIHJldHVybiBpbml0KHRoaXMsIGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gIH07XG59KTsiLCJyZXF1aXJlKCcuL190eXBlZC1hcnJheScpKCdVaW50MzInLCA0LCBmdW5jdGlvbihpbml0KXtcbiAgcmV0dXJuIGZ1bmN0aW9uIFVpbnQzMkFycmF5KGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCl7XG4gICAgcmV0dXJuIGluaXQodGhpcywgZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcbiAgfTtcbn0pOyIsInJlcXVpcmUoJy4vX3R5cGVkLWFycmF5JykoJ1VpbnQ4JywgMSwgZnVuY3Rpb24oaW5pdCl7XG4gIHJldHVybiBmdW5jdGlvbiBVaW50OEFycmF5KGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCl7XG4gICAgcmV0dXJuIGluaXQodGhpcywgZGF0YSwgYnl0ZU9mZnNldCwgbGVuZ3RoKTtcbiAgfTtcbn0pOyIsInJlcXVpcmUoJy4vX3R5cGVkLWFycmF5JykoJ1VpbnQ4JywgMSwgZnVuY3Rpb24oaW5pdCl7XG4gIHJldHVybiBmdW5jdGlvbiBVaW50OENsYW1wZWRBcnJheShkYXRhLCBieXRlT2Zmc2V0LCBsZW5ndGgpe1xuICAgIHJldHVybiBpbml0KHRoaXMsIGRhdGEsIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gIH07XG59LCB0cnVlKTsiLCIndXNlIHN0cmljdCc7XG52YXIgZWFjaCAgICAgICAgID0gcmVxdWlyZSgnLi9fYXJyYXktbWV0aG9kcycpKDApXG4gICwgcmVkZWZpbmUgICAgID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKVxuICAsIG1ldGEgICAgICAgICA9IHJlcXVpcmUoJy4vX21ldGEnKVxuICAsIGFzc2lnbiAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1hc3NpZ24nKVxuICAsIHdlYWsgICAgICAgICA9IHJlcXVpcmUoJy4vX2NvbGxlY3Rpb24td2VhaycpXG4gICwgaXNPYmplY3QgICAgID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBnZXRXZWFrICAgICAgPSBtZXRhLmdldFdlYWtcbiAgLCBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlXG4gICwgdW5jYXVnaHRGcm96ZW5TdG9yZSA9IHdlYWsudWZzdG9yZVxuICAsIHRtcCAgICAgICAgICA9IHt9XG4gICwgSW50ZXJuYWxNYXA7XG5cbnZhciB3cmFwcGVyID0gZnVuY3Rpb24oZ2V0KXtcbiAgcmV0dXJuIGZ1bmN0aW9uIFdlYWtNYXAoKXtcbiAgICByZXR1cm4gZ2V0KHRoaXMsIGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgfTtcbn07XG5cbnZhciBtZXRob2RzID0ge1xuICAvLyAyMy4zLjMuMyBXZWFrTWFwLnByb3RvdHlwZS5nZXQoa2V5KVxuICBnZXQ6IGZ1bmN0aW9uIGdldChrZXkpe1xuICAgIGlmKGlzT2JqZWN0KGtleSkpe1xuICAgICAgdmFyIGRhdGEgPSBnZXRXZWFrKGtleSk7XG4gICAgICBpZihkYXRhID09PSB0cnVlKXJldHVybiB1bmNhdWdodEZyb3plblN0b3JlKHRoaXMpLmdldChrZXkpO1xuICAgICAgcmV0dXJuIGRhdGEgPyBkYXRhW3RoaXMuX2ldIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgfSxcbiAgLy8gMjMuMy4zLjUgV2Vha01hcC5wcm90b3R5cGUuc2V0KGtleSwgdmFsdWUpXG4gIHNldDogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpe1xuICAgIHJldHVybiB3ZWFrLmRlZih0aGlzLCBrZXksIHZhbHVlKTtcbiAgfVxufTtcblxuLy8gMjMuMyBXZWFrTWFwIE9iamVjdHNcbnZhciAkV2Vha01hcCA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29sbGVjdGlvbicpKCdXZWFrTWFwJywgd3JhcHBlciwgbWV0aG9kcywgd2VhaywgdHJ1ZSwgdHJ1ZSk7XG5cbi8vIElFMTEgV2Vha01hcCBmcm96ZW4ga2V5cyBmaXhcbmlmKG5ldyAkV2Vha01hcCgpLnNldCgoT2JqZWN0LmZyZWV6ZSB8fCBPYmplY3QpKHRtcCksIDcpLmdldCh0bXApICE9IDcpe1xuICBJbnRlcm5hbE1hcCA9IHdlYWsuZ2V0Q29uc3RydWN0b3Iod3JhcHBlcik7XG4gIGFzc2lnbihJbnRlcm5hbE1hcC5wcm90b3R5cGUsIG1ldGhvZHMpO1xuICBtZXRhLk5FRUQgPSB0cnVlO1xuICBlYWNoKFsnZGVsZXRlJywgJ2hhcycsICdnZXQnLCAnc2V0J10sIGZ1bmN0aW9uKGtleSl7XG4gICAgdmFyIHByb3RvICA9ICRXZWFrTWFwLnByb3RvdHlwZVxuICAgICAgLCBtZXRob2QgPSBwcm90b1trZXldO1xuICAgIHJlZGVmaW5lKHByb3RvLCBrZXksIGZ1bmN0aW9uKGEsIGIpe1xuICAgICAgLy8gc3RvcmUgZnJvemVuIG9iamVjdHMgb24gaW50ZXJuYWwgd2Vha21hcCBzaGltXG4gICAgICBpZihpc09iamVjdChhKSAmJiAhaXNFeHRlbnNpYmxlKGEpKXtcbiAgICAgICAgaWYoIXRoaXMuX2YpdGhpcy5fZiA9IG5ldyBJbnRlcm5hbE1hcDtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2Zba2V5XShhLCBiKTtcbiAgICAgICAgcmV0dXJuIGtleSA9PSAnc2V0JyA/IHRoaXMgOiByZXN1bHQ7XG4gICAgICAvLyBzdG9yZSBhbGwgdGhlIHJlc3Qgb24gbmF0aXZlIHdlYWttYXBcbiAgICAgIH0gcmV0dXJuIG1ldGhvZC5jYWxsKHRoaXMsIGEsIGIpO1xuICAgIH0pO1xuICB9KTtcbn0iLCIndXNlIHN0cmljdCc7XG52YXIgd2VhayA9IHJlcXVpcmUoJy4vX2NvbGxlY3Rpb24td2VhaycpO1xuXG4vLyAyMy40IFdlYWtTZXQgT2JqZWN0c1xucmVxdWlyZSgnLi9fY29sbGVjdGlvbicpKCdXZWFrU2V0JywgZnVuY3Rpb24oZ2V0KXtcbiAgcmV0dXJuIGZ1bmN0aW9uIFdlYWtTZXQoKXsgcmV0dXJuIGdldCh0aGlzLCBhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7IH07XG59LCB7XG4gIC8vIDIzLjQuMy4xIFdlYWtTZXQucHJvdG90eXBlLmFkZCh2YWx1ZSlcbiAgYWRkOiBmdW5jdGlvbiBhZGQodmFsdWUpe1xuICAgIHJldHVybiB3ZWFrLmRlZih0aGlzLCB2YWx1ZSwgdHJ1ZSk7XG4gIH1cbn0sIHdlYWssIGZhbHNlLCB0cnVlKTsiLCIndXNlIHN0cmljdCc7XG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9BcnJheS5wcm90b3R5cGUuaW5jbHVkZXNcbnZhciAkZXhwb3J0ICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRpbmNsdWRlcyA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykodHJ1ZSk7XG5cbiRleHBvcnQoJGV4cG9ydC5QLCAnQXJyYXknLCB7XG4gIGluY2x1ZGVzOiBmdW5jdGlvbiBpbmNsdWRlcyhlbCAvKiwgZnJvbUluZGV4ID0gMCAqLyl7XG4gICAgcmV0dXJuICRpbmNsdWRlcyh0aGlzLCBlbCwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcblxucmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJykoJ2luY2x1ZGVzJyk7IiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3J3YWxkcm9uL3RjMzktbm90ZXMvYmxvYi9tYXN0ZXIvZXM2LzIwMTQtMDkvc2VwdC0yNS5tZCM1MTAtZ2xvYmFsYXNhcC1mb3ItZW5xdWV1aW5nLWEtbWljcm90YXNrXG52YXIgJGV4cG9ydCAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBtaWNyb3Rhc2sgPSByZXF1aXJlKCcuL19taWNyb3Rhc2snKSgpXG4gICwgcHJvY2VzcyAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykucHJvY2Vzc1xuICAsIGlzTm9kZSAgICA9IHJlcXVpcmUoJy4vX2NvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJztcblxuJGV4cG9ydCgkZXhwb3J0LkcsIHtcbiAgYXNhcDogZnVuY3Rpb24gYXNhcChmbil7XG4gICAgdmFyIGRvbWFpbiA9IGlzTm9kZSAmJiBwcm9jZXNzLmRvbWFpbjtcbiAgICBtaWNyb3Rhc2soZG9tYWluID8gZG9tYWluLmJpbmQoZm4pIDogZm4pO1xuICB9XG59KTsiLCIvLyBodHRwczovL2dpdGh1Yi5jb20vbGpoYXJiL3Byb3Bvc2FsLWlzLWVycm9yXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgY29mICAgICA9IHJlcXVpcmUoJy4vX2NvZicpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ0Vycm9yJywge1xuICBpc0Vycm9yOiBmdW5jdGlvbiBpc0Vycm9yKGl0KXtcbiAgICByZXR1cm4gY29mKGl0KSA9PT0gJ0Vycm9yJztcbiAgfVxufSk7IiwiLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vQnJlbmRhbkVpY2gvNDI5NGQ1YzIxMmE2ZDIyNTQ3MDNcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTWF0aCcsIHtcbiAgaWFkZGg6IGZ1bmN0aW9uIGlhZGRoKHgwLCB4MSwgeTAsIHkxKXtcbiAgICB2YXIgJHgwID0geDAgPj4+IDBcbiAgICAgICwgJHgxID0geDEgPj4+IDBcbiAgICAgICwgJHkwID0geTAgPj4+IDA7XG4gICAgcmV0dXJuICR4MSArICh5MSA+Pj4gMCkgKyAoKCR4MCAmICR5MCB8ICgkeDAgfCAkeTApICYgfigkeDAgKyAkeTAgPj4+IDApKSA+Pj4gMzEpIHwgMDtcbiAgfVxufSk7IiwiLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vQnJlbmRhbkVpY2gvNDI5NGQ1YzIxMmE2ZDIyNTQ3MDNcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTWF0aCcsIHtcbiAgaW11bGg6IGZ1bmN0aW9uIGltdWxoKHUsIHYpe1xuICAgIHZhciBVSU5UMTYgPSAweGZmZmZcbiAgICAgICwgJHUgPSArdVxuICAgICAgLCAkdiA9ICt2XG4gICAgICAsIHUwID0gJHUgJiBVSU5UMTZcbiAgICAgICwgdjAgPSAkdiAmIFVJTlQxNlxuICAgICAgLCB1MSA9ICR1ID4+IDE2XG4gICAgICAsIHYxID0gJHYgPj4gMTZcbiAgICAgICwgdCAgPSAodTEgKiB2MCA+Pj4gMCkgKyAodTAgKiB2MCA+Pj4gMTYpO1xuICAgIHJldHVybiB1MSAqIHYxICsgKHQgPj4gMTYpICsgKCh1MCAqIHYxID4+PiAwKSArICh0ICYgVUlOVDE2KSA+PiAxNik7XG4gIH1cbn0pOyIsIi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0JyZW5kYW5FaWNoLzQyOTRkNWMyMTJhNmQyMjU0NzAzXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ01hdGgnLCB7XG4gIGlzdWJoOiBmdW5jdGlvbiBpc3ViaCh4MCwgeDEsIHkwLCB5MSl7XG4gICAgdmFyICR4MCA9IHgwID4+PiAwXG4gICAgICAsICR4MSA9IHgxID4+PiAwXG4gICAgICAsICR5MCA9IHkwID4+PiAwO1xuICAgIHJldHVybiAkeDEgLSAoeTEgPj4+IDApIC0gKCh+JHgwICYgJHkwIHwgfigkeDAgXiAkeTApICYgJHgwIC0gJHkwID4+PiAwKSA+Pj4gMzEpIHwgMDtcbiAgfVxufSk7IiwiLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vQnJlbmRhbkVpY2gvNDI5NGQ1YzIxMmE2ZDIyNTQ3MDNcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnTWF0aCcsIHtcbiAgdW11bGg6IGZ1bmN0aW9uIHVtdWxoKHUsIHYpe1xuICAgIHZhciBVSU5UMTYgPSAweGZmZmZcbiAgICAgICwgJHUgPSArdVxuICAgICAgLCAkdiA9ICt2XG4gICAgICAsIHUwID0gJHUgJiBVSU5UMTZcbiAgICAgICwgdjAgPSAkdiAmIFVJTlQxNlxuICAgICAgLCB1MSA9ICR1ID4+PiAxNlxuICAgICAgLCB2MSA9ICR2ID4+PiAxNlxuICAgICAgLCB0ICA9ICh1MSAqIHYwID4+PiAwKSArICh1MCAqIHYwID4+PiAxNik7XG4gICAgcmV0dXJuIHUxICogdjEgKyAodCA+Pj4gMTYpICsgKCh1MCAqIHYxID4+PiAwKSArICh0ICYgVUlOVDE2KSA+Pj4gMTYpO1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG52YXIgJGV4cG9ydCAgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCB0b09iamVjdCAgICAgICAgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIGFGdW5jdGlvbiAgICAgICA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKVxuICAsICRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xuXG4vLyBCLjIuMi4yIE9iamVjdC5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXyhQLCBnZXR0ZXIpXG5yZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICRleHBvcnQoJGV4cG9ydC5QICsgcmVxdWlyZSgnLi9fb2JqZWN0LWZvcmNlZC1wYW0nKSwgJ09iamVjdCcsIHtcbiAgX19kZWZpbmVHZXR0ZXJfXzogZnVuY3Rpb24gX19kZWZpbmVHZXR0ZXJfXyhQLCBnZXR0ZXIpe1xuICAgICRkZWZpbmVQcm9wZXJ0eS5mKHRvT2JqZWN0KHRoaXMpLCBQLCB7Z2V0OiBhRnVuY3Rpb24oZ2V0dGVyKSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSk7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ICAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHRvT2JqZWN0ICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgYUZ1bmN0aW9uICAgICAgID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpXG4gICwgJGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG5cbi8vIEIuMi4yLjMgT2JqZWN0LnByb3RvdHlwZS5fX2RlZmluZVNldHRlcl9fKFAsIHNldHRlcilcbnJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgJGV4cG9ydCgkZXhwb3J0LlAgKyByZXF1aXJlKCcuL19vYmplY3QtZm9yY2VkLXBhbScpLCAnT2JqZWN0Jywge1xuICBfX2RlZmluZVNldHRlcl9fOiBmdW5jdGlvbiBfX2RlZmluZVNldHRlcl9fKFAsIHNldHRlcil7XG4gICAgJGRlZmluZVByb3BlcnR5LmYodG9PYmplY3QodGhpcyksIFAsIHtzZXQ6IGFGdW5jdGlvbihzZXR0ZXIpLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9KTtcbiAgfVxufSk7IiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JqZWN0LXZhbHVlcy1lbnRyaWVzXG52YXIgJGV4cG9ydCAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRlbnRyaWVzID0gcmVxdWlyZSgnLi9fb2JqZWN0LXRvLWFycmF5JykodHJ1ZSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge1xuICBlbnRyaWVzOiBmdW5jdGlvbiBlbnRyaWVzKGl0KXtcbiAgICByZXR1cm4gJGVudHJpZXMoaXQpO1xuICB9XG59KTsiLCIvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yc1xudmFyICRleHBvcnQgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBvd25LZXlzICAgICAgICA9IHJlcXVpcmUoJy4vX293bi1rZXlzJylcbiAgLCB0b0lPYmplY3QgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIGdPUEQgICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKVxuICAsIGNyZWF0ZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fY3JlYXRlLXByb3BlcnR5Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0Jywge1xuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iamVjdCl7XG4gICAgdmFyIE8gICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICAgLCBnZXREZXNjID0gZ09QRC5mXG4gICAgICAsIGtleXMgICAgPSBvd25LZXlzKE8pXG4gICAgICAsIHJlc3VsdCAgPSB7fVxuICAgICAgLCBpICAgICAgID0gMFxuICAgICAgLCBrZXk7XG4gICAgd2hpbGUoa2V5cy5sZW5ndGggPiBpKWNyZWF0ZVByb3BlcnR5KHJlc3VsdCwga2V5ID0ga2V5c1tpKytdLCBnZXREZXNjKE8sIGtleSkpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ICAgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHRvT2JqZWN0ICAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXG4gICwgdG9QcmltaXRpdmUgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJylcbiAgLCBnZXRQcm90b3R5cGVPZiAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJylcbiAgLCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmY7XG5cbi8vIEIuMi4yLjQgT2JqZWN0LnByb3RvdHlwZS5fX2xvb2t1cEdldHRlcl9fKFApXG5yZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICRleHBvcnQoJGV4cG9ydC5QICsgcmVxdWlyZSgnLi9fb2JqZWN0LWZvcmNlZC1wYW0nKSwgJ09iamVjdCcsIHtcbiAgX19sb29rdXBHZXR0ZXJfXzogZnVuY3Rpb24gX19sb29rdXBHZXR0ZXJfXyhQKXtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KHRoaXMpXG4gICAgICAsIEsgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKVxuICAgICAgLCBEO1xuICAgIGRvIHtcbiAgICAgIGlmKEQgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgSykpcmV0dXJuIEQuZ2V0O1xuICAgIH0gd2hpbGUoTyA9IGdldFByb3RvdHlwZU9mKE8pKTtcbiAgfVxufSk7IiwiJ3VzZSBzdHJpY3QnO1xudmFyICRleHBvcnQgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgdG9PYmplY3QgICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCB0b1ByaW1pdGl2ZSAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGdldFByb3RvdHlwZU9mICAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKVxuICAsIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZjtcblxuLy8gQi4yLjIuNSBPYmplY3QucHJvdG90eXBlLl9fbG9va3VwU2V0dGVyX18oUClcbnJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgJGV4cG9ydCgkZXhwb3J0LlAgKyByZXF1aXJlKCcuL19vYmplY3QtZm9yY2VkLXBhbScpLCAnT2JqZWN0Jywge1xuICBfX2xvb2t1cFNldHRlcl9fOiBmdW5jdGlvbiBfX2xvb2t1cFNldHRlcl9fKFApe1xuICAgIHZhciBPID0gdG9PYmplY3QodGhpcylcbiAgICAgICwgSyA9IHRvUHJpbWl0aXZlKFAsIHRydWUpXG4gICAgICAsIEQ7XG4gICAgZG8ge1xuICAgICAgaWYoRCA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBLKSlyZXR1cm4gRC5zZXQ7XG4gICAgfSB3aGlsZShPID0gZ2V0UHJvdG90eXBlT2YoTykpO1xuICB9XG59KTsiLCIvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYmplY3QtdmFsdWVzLWVudHJpZXNcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCAkdmFsdWVzID0gcmVxdWlyZSgnLi9fb2JqZWN0LXRvLWFycmF5JykoZmFsc2UpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHtcbiAgdmFsdWVzOiBmdW5jdGlvbiB2YWx1ZXMoaXQpe1xuICAgIHJldHVybiAkdmFsdWVzKGl0KTtcbiAgfVxufSk7IiwiJ3VzZSBzdHJpY3QnO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3plbnBhcnNpbmcvZXMtb2JzZXJ2YWJsZVxudmFyICRleHBvcnQgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBnbG9iYWwgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY29yZSAgICAgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBtaWNyb3Rhc2sgICA9IHJlcXVpcmUoJy4vX21pY3JvdGFzaycpKClcbiAgLCBPQlNFUlZBQkxFICA9IHJlcXVpcmUoJy4vX3drcycpKCdvYnNlcnZhYmxlJylcbiAgLCBhRnVuY3Rpb24gICA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKVxuICAsIGFuT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBhbkluc3RhbmNlICA9IHJlcXVpcmUoJy4vX2FuLWluc3RhbmNlJylcbiAgLCByZWRlZmluZUFsbCA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lLWFsbCcpXG4gICwgaGlkZSAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBmb3JPZiAgICAgICA9IHJlcXVpcmUoJy4vX2Zvci1vZicpXG4gICwgUkVUVVJOICAgICAgPSBmb3JPZi5SRVRVUk47XG5cbnZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihmbil7XG4gIHJldHVybiBmbiA9PSBudWxsID8gdW5kZWZpbmVkIDogYUZ1bmN0aW9uKGZuKTtcbn07XG5cbnZhciBjbGVhbnVwU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24oc3Vic2NyaXB0aW9uKXtcbiAgdmFyIGNsZWFudXAgPSBzdWJzY3JpcHRpb24uX2M7XG4gIGlmKGNsZWFudXApe1xuICAgIHN1YnNjcmlwdGlvbi5fYyA9IHVuZGVmaW5lZDtcbiAgICBjbGVhbnVwKCk7XG4gIH1cbn07XG5cbnZhciBzdWJzY3JpcHRpb25DbG9zZWQgPSBmdW5jdGlvbihzdWJzY3JpcHRpb24pe1xuICByZXR1cm4gc3Vic2NyaXB0aW9uLl9vID09PSB1bmRlZmluZWQ7XG59O1xuXG52YXIgY2xvc2VTdWJzY3JpcHRpb24gPSBmdW5jdGlvbihzdWJzY3JpcHRpb24pe1xuICBpZighc3Vic2NyaXB0aW9uQ2xvc2VkKHN1YnNjcmlwdGlvbikpe1xuICAgIHN1YnNjcmlwdGlvbi5fbyA9IHVuZGVmaW5lZDtcbiAgICBjbGVhbnVwU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG4gIH1cbn07XG5cbnZhciBTdWJzY3JpcHRpb24gPSBmdW5jdGlvbihvYnNlcnZlciwgc3Vic2NyaWJlcil7XG4gIGFuT2JqZWN0KG9ic2VydmVyKTtcbiAgdGhpcy5fYyA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fbyA9IG9ic2VydmVyO1xuICBvYnNlcnZlciA9IG5ldyBTdWJzY3JpcHRpb25PYnNlcnZlcih0aGlzKTtcbiAgdHJ5IHtcbiAgICB2YXIgY2xlYW51cCAgICAgID0gc3Vic2NyaWJlcihvYnNlcnZlcilcbiAgICAgICwgc3Vic2NyaXB0aW9uID0gY2xlYW51cDtcbiAgICBpZihjbGVhbnVwICE9IG51bGwpe1xuICAgICAgaWYodHlwZW9mIGNsZWFudXAudW5zdWJzY3JpYmUgPT09ICdmdW5jdGlvbicpY2xlYW51cCA9IGZ1bmN0aW9uKCl7IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpOyB9O1xuICAgICAgZWxzZSBhRnVuY3Rpb24oY2xlYW51cCk7XG4gICAgICB0aGlzLl9jID0gY2xlYW51cDtcbiAgICB9XG4gIH0gY2F0Y2goZSl7XG4gICAgb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgcmV0dXJuO1xuICB9IGlmKHN1YnNjcmlwdGlvbkNsb3NlZCh0aGlzKSljbGVhbnVwU3Vic2NyaXB0aW9uKHRoaXMpO1xufTtcblxuU3Vic2NyaXB0aW9uLnByb3RvdHlwZSA9IHJlZGVmaW5lQWxsKHt9LCB7XG4gIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpeyBjbG9zZVN1YnNjcmlwdGlvbih0aGlzKTsgfVxufSk7XG5cbnZhciBTdWJzY3JpcHRpb25PYnNlcnZlciA9IGZ1bmN0aW9uKHN1YnNjcmlwdGlvbil7XG4gIHRoaXMuX3MgPSBzdWJzY3JpcHRpb247XG59O1xuXG5TdWJzY3JpcHRpb25PYnNlcnZlci5wcm90b3R5cGUgPSByZWRlZmluZUFsbCh7fSwge1xuICBuZXh0OiBmdW5jdGlvbiBuZXh0KHZhbHVlKXtcbiAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGhpcy5fcztcbiAgICBpZighc3Vic2NyaXB0aW9uQ2xvc2VkKHN1YnNjcmlwdGlvbikpe1xuICAgICAgdmFyIG9ic2VydmVyID0gc3Vic2NyaXB0aW9uLl9vO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG0gPSBnZXRNZXRob2Qob2JzZXJ2ZXIubmV4dCk7XG4gICAgICAgIGlmKG0pcmV0dXJuIG0uY2FsbChvYnNlcnZlciwgdmFsdWUpO1xuICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjbG9zZVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGVycm9yOiBmdW5jdGlvbiBlcnJvcih2YWx1ZSl7XG4gICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRoaXMuX3M7XG4gICAgaWYoc3Vic2NyaXB0aW9uQ2xvc2VkKHN1YnNjcmlwdGlvbikpdGhyb3cgdmFsdWU7XG4gICAgdmFyIG9ic2VydmVyID0gc3Vic2NyaXB0aW9uLl9vO1xuICAgIHN1YnNjcmlwdGlvbi5fbyA9IHVuZGVmaW5lZDtcbiAgICB0cnkge1xuICAgICAgdmFyIG0gPSBnZXRNZXRob2Qob2JzZXJ2ZXIuZXJyb3IpO1xuICAgICAgaWYoIW0pdGhyb3cgdmFsdWU7XG4gICAgICB2YWx1ZSA9IG0uY2FsbChvYnNlcnZlciwgdmFsdWUpO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICB0cnkge1xuICAgICAgICBjbGVhbnVwU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0gY2xlYW51cFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcbiAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHZhbHVlKXtcbiAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGhpcy5fcztcbiAgICBpZighc3Vic2NyaXB0aW9uQ2xvc2VkKHN1YnNjcmlwdGlvbikpe1xuICAgICAgdmFyIG9ic2VydmVyID0gc3Vic2NyaXB0aW9uLl9vO1xuICAgICAgc3Vic2NyaXB0aW9uLl9vID0gdW5kZWZpbmVkO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG0gPSBnZXRNZXRob2Qob2JzZXJ2ZXIuY29tcGxldGUpO1xuICAgICAgICB2YWx1ZSA9IG0gPyBtLmNhbGwob2JzZXJ2ZXIsIHZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY2xlYW51cFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH0gY2xlYW51cFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxufSk7XG5cbnZhciAkT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlcil7XG4gIGFuSW5zdGFuY2UodGhpcywgJE9ic2VydmFibGUsICdPYnNlcnZhYmxlJywgJ19mJykuX2YgPSBhRnVuY3Rpb24oc3Vic2NyaWJlcik7XG59O1xuXG5yZWRlZmluZUFsbCgkT2JzZXJ2YWJsZS5wcm90b3R5cGUsIHtcbiAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpe1xuICAgIHJldHVybiBuZXcgU3Vic2NyaXB0aW9uKG9ic2VydmVyLCB0aGlzLl9mKTtcbiAgfSxcbiAgZm9yRWFjaDogZnVuY3Rpb24gZm9yRWFjaChmbil7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgKGNvcmUuUHJvbWlzZSB8fCBnbG9iYWwuUHJvbWlzZSkoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgIGFGdW5jdGlvbihmbik7XG4gICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGhhdC5zdWJzY3JpYmUoe1xuICAgICAgICBuZXh0IDogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZm4odmFsdWUpO1xuICAgICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiByZWplY3QsXG4gICAgICAgIGNvbXBsZXRlOiByZXNvbHZlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbnJlZGVmaW5lQWxsKCRPYnNlcnZhYmxlLCB7XG4gIGZyb206IGZ1bmN0aW9uIGZyb20oeCl7XG4gICAgdmFyIEMgPSB0eXBlb2YgdGhpcyA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiAkT2JzZXJ2YWJsZTtcbiAgICB2YXIgbWV0aG9kID0gZ2V0TWV0aG9kKGFuT2JqZWN0KHgpW09CU0VSVkFCTEVdKTtcbiAgICBpZihtZXRob2Qpe1xuICAgICAgdmFyIG9ic2VydmFibGUgPSBhbk9iamVjdChtZXRob2QuY2FsbCh4KSk7XG4gICAgICByZXR1cm4gb2JzZXJ2YWJsZS5jb25zdHJ1Y3RvciA9PT0gQyA/IG9ic2VydmFibGUgOiBuZXcgQyhmdW5jdGlvbihvYnNlcnZlcil7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlLnN1YnNjcmliZShvYnNlcnZlcik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDKGZ1bmN0aW9uKG9ic2VydmVyKXtcbiAgICAgIHZhciBkb25lID0gZmFsc2U7XG4gICAgICBtaWNyb3Rhc2soZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoIWRvbmUpe1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZihmb3JPZih4LCBmYWxzZSwgZnVuY3Rpb24oaXQpe1xuICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KGl0KTtcbiAgICAgICAgICAgICAgaWYoZG9uZSlyZXR1cm4gUkVUVVJOO1xuICAgICAgICAgICAgfSkgPT09IFJFVFVSTilyZXR1cm47XG4gICAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIGlmKGRvbmUpdGhyb3cgZTtcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKXsgZG9uZSA9IHRydWU7IH07XG4gICAgfSk7XG4gIH0sXG4gIG9mOiBmdW5jdGlvbiBvZigpe1xuICAgIGZvcih2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoLCBpdGVtcyA9IEFycmF5KGwpOyBpIDwgbDspaXRlbXNbaV0gPSBhcmd1bWVudHNbaSsrXTtcbiAgICByZXR1cm4gbmV3ICh0eXBlb2YgdGhpcyA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiAkT2JzZXJ2YWJsZSkoZnVuY3Rpb24ob2JzZXJ2ZXIpe1xuICAgICAgdmFyIGRvbmUgPSBmYWxzZTtcbiAgICAgIG1pY3JvdGFzayhmdW5jdGlvbigpe1xuICAgICAgICBpZighZG9uZSl7XG4gICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKXtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoaXRlbXNbaV0pO1xuICAgICAgICAgICAgaWYoZG9uZSlyZXR1cm47XG4gICAgICAgICAgfSBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpeyBkb25lID0gdHJ1ZTsgfTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbmhpZGUoJE9ic2VydmFibGUucHJvdG90eXBlLCBPQlNFUlZBQkxFLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cbiRleHBvcnQoJGV4cG9ydC5HLCB7T2JzZXJ2YWJsZTogJE9ic2VydmFibGV9KTtcblxucmVxdWlyZSgnLi9fc2V0LXNwZWNpZXMnKSgnT2JzZXJ2YWJsZScpOyIsInZhciBtZXRhZGF0YSAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWV0YWRhdGEnKVxuICAsIGFuT2JqZWN0ICAgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIHRvTWV0YUtleSAgICAgICAgICAgICAgICAgPSBtZXRhZGF0YS5rZXlcbiAgLCBvcmRpbmFyeURlZmluZU93bk1ldGFkYXRhID0gbWV0YWRhdGEuc2V0O1xuXG5tZXRhZGF0YS5leHAoe2RlZmluZU1ldGFkYXRhOiBmdW5jdGlvbiBkZWZpbmVNZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSwgdGFyZ2V0LCB0YXJnZXRLZXkpe1xuICBvcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCBhbk9iamVjdCh0YXJnZXQpLCB0b01ldGFLZXkodGFyZ2V0S2V5KSk7XG59fSk7IiwidmFyIG1ldGFkYXRhICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19tZXRhZGF0YScpXG4gICwgYW5PYmplY3QgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgdG9NZXRhS2V5ICAgICAgICAgICAgICA9IG1ldGFkYXRhLmtleVxuICAsIGdldE9yQ3JlYXRlTWV0YWRhdGFNYXAgPSBtZXRhZGF0YS5tYXBcbiAgLCBzdG9yZSAgICAgICAgICAgICAgICAgID0gbWV0YWRhdGEuc3RvcmU7XG5cbm1ldGFkYXRhLmV4cCh7ZGVsZXRlTWV0YWRhdGE6IGZ1bmN0aW9uIGRlbGV0ZU1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQgLyosIHRhcmdldEtleSAqLyl7XG4gIHZhciB0YXJnZXRLZXkgICA9IGFyZ3VtZW50cy5sZW5ndGggPCAzID8gdW5kZWZpbmVkIDogdG9NZXRhS2V5KGFyZ3VtZW50c1syXSlcbiAgICAsIG1ldGFkYXRhTWFwID0gZ2V0T3JDcmVhdGVNZXRhZGF0YU1hcChhbk9iamVjdCh0YXJnZXQpLCB0YXJnZXRLZXksIGZhbHNlKTtcbiAgaWYobWV0YWRhdGFNYXAgPT09IHVuZGVmaW5lZCB8fCAhbWV0YWRhdGFNYXBbJ2RlbGV0ZSddKG1ldGFkYXRhS2V5KSlyZXR1cm4gZmFsc2U7XG4gIGlmKG1ldGFkYXRhTWFwLnNpemUpcmV0dXJuIHRydWU7XG4gIHZhciB0YXJnZXRNZXRhZGF0YSA9IHN0b3JlLmdldCh0YXJnZXQpO1xuICB0YXJnZXRNZXRhZGF0YVsnZGVsZXRlJ10odGFyZ2V0S2V5KTtcbiAgcmV0dXJuICEhdGFyZ2V0TWV0YWRhdGEuc2l6ZSB8fCBzdG9yZVsnZGVsZXRlJ10odGFyZ2V0KTtcbn19KTsiLCJ2YXIgU2V0ICAgICAgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL2VzNi5zZXQnKVxuICAsIGZyb20gICAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fYXJyYXktZnJvbS1pdGVyYWJsZScpXG4gICwgbWV0YWRhdGEgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19tZXRhZGF0YScpXG4gICwgYW5PYmplY3QgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGdldFByb3RvdHlwZU9mICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICwgb3JkaW5hcnlPd25NZXRhZGF0YUtleXMgPSBtZXRhZGF0YS5rZXlzXG4gICwgdG9NZXRhS2V5ICAgICAgICAgICAgICAgPSBtZXRhZGF0YS5rZXk7XG5cbnZhciBvcmRpbmFyeU1ldGFkYXRhS2V5cyA9IGZ1bmN0aW9uKE8sIFApe1xuICB2YXIgb0tleXMgID0gb3JkaW5hcnlPd25NZXRhZGF0YUtleXMoTywgUClcbiAgICAsIHBhcmVudCA9IGdldFByb3RvdHlwZU9mKE8pO1xuICBpZihwYXJlbnQgPT09IG51bGwpcmV0dXJuIG9LZXlzO1xuICB2YXIgcEtleXMgID0gb3JkaW5hcnlNZXRhZGF0YUtleXMocGFyZW50LCBQKTtcbiAgcmV0dXJuIHBLZXlzLmxlbmd0aCA/IG9LZXlzLmxlbmd0aCA/IGZyb20obmV3IFNldChvS2V5cy5jb25jYXQocEtleXMpKSkgOiBwS2V5cyA6IG9LZXlzO1xufTtcblxubWV0YWRhdGEuZXhwKHtnZXRNZXRhZGF0YUtleXM6IGZ1bmN0aW9uIGdldE1ldGFkYXRhS2V5cyh0YXJnZXQgLyosIHRhcmdldEtleSAqLyl7XG4gIHJldHVybiBvcmRpbmFyeU1ldGFkYXRhS2V5cyhhbk9iamVjdCh0YXJnZXQpLCBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IHVuZGVmaW5lZCA6IHRvTWV0YUtleShhcmd1bWVudHNbMV0pKTtcbn19KTsiLCJ2YXIgbWV0YWRhdGEgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX21ldGFkYXRhJylcbiAgLCBhbk9iamVjdCAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBnZXRQcm90b3R5cGVPZiAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICwgb3JkaW5hcnlIYXNPd25NZXRhZGF0YSA9IG1ldGFkYXRhLmhhc1xuICAsIG9yZGluYXJ5R2V0T3duTWV0YWRhdGEgPSBtZXRhZGF0YS5nZXRcbiAgLCB0b01ldGFLZXkgICAgICAgICAgICAgID0gbWV0YWRhdGEua2V5O1xuXG52YXIgb3JkaW5hcnlHZXRNZXRhZGF0YSA9IGZ1bmN0aW9uKE1ldGFkYXRhS2V5LCBPLCBQKXtcbiAgdmFyIGhhc093biA9IG9yZGluYXJ5SGFzT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApO1xuICBpZihoYXNPd24pcmV0dXJuIG9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApO1xuICB2YXIgcGFyZW50ID0gZ2V0UHJvdG90eXBlT2YoTyk7XG4gIHJldHVybiBwYXJlbnQgIT09IG51bGwgPyBvcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBwYXJlbnQsIFApIDogdW5kZWZpbmVkO1xufTtcblxubWV0YWRhdGEuZXhwKHtnZXRNZXRhZGF0YTogZnVuY3Rpb24gZ2V0TWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCAvKiwgdGFyZ2V0S2V5ICovKXtcbiAgcmV0dXJuIG9yZGluYXJ5R2V0TWV0YWRhdGEobWV0YWRhdGFLZXksIGFuT2JqZWN0KHRhcmdldCksIGFyZ3VtZW50cy5sZW5ndGggPCAzID8gdW5kZWZpbmVkIDogdG9NZXRhS2V5KGFyZ3VtZW50c1syXSkpO1xufX0pOyIsInZhciBtZXRhZGF0YSAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX21ldGFkYXRhJylcbiAgLCBhbk9iamVjdCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgb3JkaW5hcnlPd25NZXRhZGF0YUtleXMgPSBtZXRhZGF0YS5rZXlzXG4gICwgdG9NZXRhS2V5ICAgICAgICAgICAgICAgPSBtZXRhZGF0YS5rZXk7XG5cbm1ldGFkYXRhLmV4cCh7Z2V0T3duTWV0YWRhdGFLZXlzOiBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YUtleXModGFyZ2V0IC8qLCB0YXJnZXRLZXkgKi8pe1xuICByZXR1cm4gb3JkaW5hcnlPd25NZXRhZGF0YUtleXMoYW5PYmplY3QodGFyZ2V0KSwgYXJndW1lbnRzLmxlbmd0aCA8IDIgPyB1bmRlZmluZWQgOiB0b01ldGFLZXkoYXJndW1lbnRzWzFdKSk7XG59fSk7IiwidmFyIG1ldGFkYXRhICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19tZXRhZGF0YScpXG4gICwgYW5PYmplY3QgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgb3JkaW5hcnlHZXRPd25NZXRhZGF0YSA9IG1ldGFkYXRhLmdldFxuICAsIHRvTWV0YUtleSAgICAgICAgICAgICAgPSBtZXRhZGF0YS5rZXk7XG5cbm1ldGFkYXRhLmV4cCh7Z2V0T3duTWV0YWRhdGE6IGZ1bmN0aW9uIGdldE93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQgLyosIHRhcmdldEtleSAqLyl7XG4gIHJldHVybiBvcmRpbmFyeUdldE93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBhbk9iamVjdCh0YXJnZXQpXG4gICAgLCBhcmd1bWVudHMubGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IHRvTWV0YUtleShhcmd1bWVudHNbMl0pKTtcbn19KTsiLCJ2YXIgbWV0YWRhdGEgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX21ldGFkYXRhJylcbiAgLCBhbk9iamVjdCAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBnZXRQcm90b3R5cGVPZiAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICwgb3JkaW5hcnlIYXNPd25NZXRhZGF0YSA9IG1ldGFkYXRhLmhhc1xuICAsIHRvTWV0YUtleSAgICAgICAgICAgICAgPSBtZXRhZGF0YS5rZXk7XG5cbnZhciBvcmRpbmFyeUhhc01ldGFkYXRhID0gZnVuY3Rpb24oTWV0YWRhdGFLZXksIE8sIFApe1xuICB2YXIgaGFzT3duID0gb3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gIGlmKGhhc093bilyZXR1cm4gdHJ1ZTtcbiAgdmFyIHBhcmVudCA9IGdldFByb3RvdHlwZU9mKE8pO1xuICByZXR1cm4gcGFyZW50ICE9PSBudWxsID8gb3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgcGFyZW50LCBQKSA6IGZhbHNlO1xufTtcblxubWV0YWRhdGEuZXhwKHtoYXNNZXRhZGF0YTogZnVuY3Rpb24gaGFzTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCAvKiwgdGFyZ2V0S2V5ICovKXtcbiAgcmV0dXJuIG9yZGluYXJ5SGFzTWV0YWRhdGEobWV0YWRhdGFLZXksIGFuT2JqZWN0KHRhcmdldCksIGFyZ3VtZW50cy5sZW5ndGggPCAzID8gdW5kZWZpbmVkIDogdG9NZXRhS2V5KGFyZ3VtZW50c1syXSkpO1xufX0pOyIsInZhciBtZXRhZGF0YSAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWV0YWRhdGEnKVxuICAsIGFuT2JqZWN0ICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIG9yZGluYXJ5SGFzT3duTWV0YWRhdGEgPSBtZXRhZGF0YS5oYXNcbiAgLCB0b01ldGFLZXkgICAgICAgICAgICAgID0gbWV0YWRhdGEua2V5O1xuXG5tZXRhZGF0YS5leHAoe2hhc093bk1ldGFkYXRhOiBmdW5jdGlvbiBoYXNPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0IC8qLCB0YXJnZXRLZXkgKi8pe1xuICByZXR1cm4gb3JkaW5hcnlIYXNPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgYW5PYmplY3QodGFyZ2V0KVxuICAgICwgYXJndW1lbnRzLmxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiB0b01ldGFLZXkoYXJndW1lbnRzWzJdKSk7XG59fSk7IiwidmFyIG1ldGFkYXRhICAgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19tZXRhZGF0YScpXG4gICwgYW5PYmplY3QgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgYUZ1bmN0aW9uICAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKVxuICAsIHRvTWV0YUtleSAgICAgICAgICAgICAgICAgPSBtZXRhZGF0YS5rZXlcbiAgLCBvcmRpbmFyeURlZmluZU93bk1ldGFkYXRhID0gbWV0YWRhdGEuc2V0O1xuXG5tZXRhZGF0YS5leHAoe21ldGFkYXRhOiBmdW5jdGlvbiBtZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSl7XG4gIHJldHVybiBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0LCB0YXJnZXRLZXkpe1xuICAgIG9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEoXG4gICAgICBtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSxcbiAgICAgICh0YXJnZXRLZXkgIT09IHVuZGVmaW5lZCA/IGFuT2JqZWN0IDogYUZ1bmN0aW9uKSh0YXJnZXQpLFxuICAgICAgdG9NZXRhS2V5KHRhcmdldEtleSlcbiAgICApO1xuICB9O1xufX0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXRoaWFzYnluZW5zL1N0cmluZy5wcm90b3R5cGUuYXRcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCAkYXQgICAgID0gcmVxdWlyZSgnLi9fc3RyaW5nLWF0JykodHJ1ZSk7XG5cbiRleHBvcnQoJGV4cG9ydC5QLCAnU3RyaW5nJywge1xuICBhdDogZnVuY3Rpb24gYXQocG9zKXtcbiAgICByZXR1cm4gJGF0KHRoaXMsIHBvcyk7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vU3RyaW5nLnByb3RvdHlwZS5tYXRjaEFsbC9cbnZhciAkZXhwb3J0ICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgZGVmaW5lZCAgICAgPSByZXF1aXJlKCcuL19kZWZpbmVkJylcbiAgLCB0b0xlbmd0aCAgICA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpXG4gICwgaXNSZWdFeHAgICAgPSByZXF1aXJlKCcuL19pcy1yZWdleHAnKVxuICAsIGdldEZsYWdzICAgID0gcmVxdWlyZSgnLi9fZmxhZ3MnKVxuICAsIFJlZ0V4cFByb3RvID0gUmVnRXhwLnByb3RvdHlwZTtcblxudmFyICRSZWdFeHBTdHJpbmdJdGVyYXRvciA9IGZ1bmN0aW9uKHJlZ2V4cCwgc3RyaW5nKXtcbiAgdGhpcy5fciA9IHJlZ2V4cDtcbiAgdGhpcy5fcyA9IHN0cmluZztcbn07XG5cbnJlcXVpcmUoJy4vX2l0ZXItY3JlYXRlJykoJFJlZ0V4cFN0cmluZ0l0ZXJhdG9yLCAnUmVnRXhwIFN0cmluZycsIGZ1bmN0aW9uIG5leHQoKXtcbiAgdmFyIG1hdGNoID0gdGhpcy5fci5leGVjKHRoaXMuX3MpO1xuICByZXR1cm4ge3ZhbHVlOiBtYXRjaCwgZG9uZTogbWF0Y2ggPT09IG51bGx9O1xufSk7XG5cbiRleHBvcnQoJGV4cG9ydC5QLCAnU3RyaW5nJywge1xuICBtYXRjaEFsbDogZnVuY3Rpb24gbWF0Y2hBbGwocmVnZXhwKXtcbiAgICBkZWZpbmVkKHRoaXMpO1xuICAgIGlmKCFpc1JlZ0V4cChyZWdleHApKXRocm93IFR5cGVFcnJvcihyZWdleHAgKyAnIGlzIG5vdCBhIHJlZ2V4cCEnKTtcbiAgICB2YXIgUyAgICAgPSBTdHJpbmcodGhpcylcbiAgICAgICwgZmxhZ3MgPSAnZmxhZ3MnIGluIFJlZ0V4cFByb3RvID8gU3RyaW5nKHJlZ2V4cC5mbGFncykgOiBnZXRGbGFncy5jYWxsKHJlZ2V4cClcbiAgICAgICwgcnggICAgPSBuZXcgUmVnRXhwKHJlZ2V4cC5zb3VyY2UsIH5mbGFncy5pbmRleE9mKCdnJykgPyBmbGFncyA6ICdnJyArIGZsYWdzKTtcbiAgICByeC5sYXN0SW5kZXggPSB0b0xlbmd0aChyZWdleHAubGFzdEluZGV4KTtcbiAgICByZXR1cm4gbmV3ICRSZWdFeHBTdHJpbmdJdGVyYXRvcihyeCwgUyk7XG4gIH1cbn0pOyIsIid1c2Ugc3RyaWN0Jztcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXN0cmluZy1wYWQtc3RhcnQtZW5kXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgJHBhZCAgICA9IHJlcXVpcmUoJy4vX3N0cmluZy1wYWQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlAsICdTdHJpbmcnLCB7XG4gIHBhZEVuZDogZnVuY3Rpb24gcGFkRW5kKG1heExlbmd0aCAvKiwgZmlsbFN0cmluZyA9ICcgJyAqLyl7XG4gICAgcmV0dXJuICRwYWQodGhpcywgbWF4TGVuZ3RoLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgZmFsc2UpO1xuICB9XG59KTsiLCIndXNlIHN0cmljdCc7XG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1zdHJpbmctcGFkLXN0YXJ0LWVuZFxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsICRwYWQgICAgPSByZXF1aXJlKCcuL19zdHJpbmctcGFkJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5QLCAnU3RyaW5nJywge1xuICBwYWRTdGFydDogZnVuY3Rpb24gcGFkU3RhcnQobWF4TGVuZ3RoIC8qLCBmaWxsU3RyaW5nID0gJyAnICovKXtcbiAgICByZXR1cm4gJHBhZCh0aGlzLCBtYXhMZW5ndGgsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkLCB0cnVlKTtcbiAgfVxufSk7IiwiJ3VzZSBzdHJpY3QnO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3NlYm1hcmtiYWdlL2VjbWFzY3JpcHQtc3RyaW5nLWxlZnQtcmlnaHQtdHJpbVxucmVxdWlyZSgnLi9fc3RyaW5nLXRyaW0nKSgndHJpbUxlZnQnLCBmdW5jdGlvbigkdHJpbSl7XG4gIHJldHVybiBmdW5jdGlvbiB0cmltTGVmdCgpe1xuICAgIHJldHVybiAkdHJpbSh0aGlzLCAxKTtcbiAgfTtcbn0sICd0cmltU3RhcnQnKTsiLCIndXNlIHN0cmljdCc7XG4vLyBodHRwczovL2dpdGh1Yi5jb20vc2VibWFya2JhZ2UvZWNtYXNjcmlwdC1zdHJpbmctbGVmdC1yaWdodC10cmltXG5yZXF1aXJlKCcuL19zdHJpbmctdHJpbScpKCd0cmltUmlnaHQnLCBmdW5jdGlvbigkdHJpbSl7XG4gIHJldHVybiBmdW5jdGlvbiB0cmltUmlnaHQoKXtcbiAgICByZXR1cm4gJHRyaW0odGhpcywgMik7XG4gIH07XG59LCAndHJpbUVuZCcpOyIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9samhhcmIvcHJvcG9zYWwtZ2xvYmFsXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUywgJ1N5c3RlbScsIHtnbG9iYWw6IHJlcXVpcmUoJy4vX2dsb2JhbCcpfSk7IiwidmFyICRpdGVyYXRvcnMgICAgPSByZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpXG4gICwgcmVkZWZpbmUgICAgICA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJylcbiAgLCBnbG9iYWwgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoaWRlICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgSXRlcmF0b3JzICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgd2tzICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcycpXG4gICwgSVRFUkFUT1IgICAgICA9IHdrcygnaXRlcmF0b3InKVxuICAsIFRPX1NUUklOR19UQUcgPSB3a3MoJ3RvU3RyaW5nVGFnJylcbiAgLCBBcnJheVZhbHVlcyAgID0gSXRlcmF0b3JzLkFycmF5O1xuXG5mb3IodmFyIGNvbGxlY3Rpb25zID0gWydOb2RlTGlzdCcsICdET01Ub2tlbkxpc3QnLCAnTWVkaWFMaXN0JywgJ1N0eWxlU2hlZXRMaXN0JywgJ0NTU1J1bGVMaXN0J10sIGkgPSAwOyBpIDwgNTsgaSsrKXtcbiAgdmFyIE5BTUUgICAgICAgPSBjb2xsZWN0aW9uc1tpXVxuICAgICwgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXVxuICAgICwgcHJvdG8gICAgICA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGVcbiAgICAsIGtleTtcbiAgaWYocHJvdG8pe1xuICAgIGlmKCFwcm90b1tJVEVSQVRPUl0paGlkZShwcm90bywgSVRFUkFUT1IsIEFycmF5VmFsdWVzKTtcbiAgICBpZighcHJvdG9bVE9fU1RSSU5HX1RBR10paGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG4gICAgSXRlcmF0b3JzW05BTUVdID0gQXJyYXlWYWx1ZXM7XG4gICAgZm9yKGtleSBpbiAkaXRlcmF0b3JzKWlmKCFwcm90b1trZXldKXJlZGVmaW5lKHByb3RvLCBrZXksICRpdGVyYXRvcnNba2V5XSwgdHJ1ZSk7XG4gIH1cbn0iLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgJHRhc2sgICA9IHJlcXVpcmUoJy4vX3Rhc2snKTtcbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5CLCB7XG4gIHNldEltbWVkaWF0ZTogICAkdGFzay5zZXQsXG4gIGNsZWFySW1tZWRpYXRlOiAkdGFzay5jbGVhclxufSk7IiwiLy8gaWU5LSBzZXRUaW1lb3V0ICYgc2V0SW50ZXJ2YWwgYWRkaXRpb25hbCBwYXJhbWV0ZXJzIGZpeFxudmFyIGdsb2JhbCAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsICRleHBvcnQgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGludm9rZSAgICAgPSByZXF1aXJlKCcuL19pbnZva2UnKVxuICAsIHBhcnRpYWwgICAgPSByZXF1aXJlKCcuL19wYXJ0aWFsJylcbiAgLCBuYXZpZ2F0b3IgID0gZ2xvYmFsLm5hdmlnYXRvclxuICAsIE1TSUUgICAgICAgPSAhIW5hdmlnYXRvciAmJiAvTVNJRSAuXFwuLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOyAvLyA8LSBkaXJ0eSBpZTktIGNoZWNrXG52YXIgd3JhcCA9IGZ1bmN0aW9uKHNldCl7XG4gIHJldHVybiBNU0lFID8gZnVuY3Rpb24oZm4sIHRpbWUgLyosIC4uLmFyZ3MgKi8pe1xuICAgIHJldHVybiBzZXQoaW52b2tlKFxuICAgICAgcGFydGlhbCxcbiAgICAgIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSxcbiAgICAgIHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbilcbiAgICApLCB0aW1lKTtcbiAgfSA6IHNldDtcbn07XG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuQiArICRleHBvcnQuRiAqIE1TSUUsIHtcbiAgc2V0VGltZW91dDogIHdyYXAoZ2xvYmFsLnNldFRpbWVvdXQpLFxuICBzZXRJbnRlcnZhbDogd3JhcChnbG9iYWwuc2V0SW50ZXJ2YWwpXG59KTsiLCJyZXF1aXJlKCcuL21vZHVsZXMvZXM2LnN5bWJvbCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHknKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0aWVzJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktbmFtZXMnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYub2JqZWN0LmZyZWV6ZScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5vYmplY3Quc2VhbCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5vYmplY3QucHJldmVudC1leHRlbnNpb25zJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2Lm9iamVjdC5pcy1mcm96ZW4nKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYub2JqZWN0LmlzLXNlYWxlZCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5vYmplY3QuaXMtZXh0ZW5zaWJsZScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2Lm9iamVjdC5pcycpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LmZ1bmN0aW9uLmJpbmQnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYuZnVuY3Rpb24ubmFtZScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5mdW5jdGlvbi5oYXMtaW5zdGFuY2UnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYucGFyc2UtaW50Jyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnBhcnNlLWZsb2F0Jyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2Lm51bWJlci5jb25zdHJ1Y3RvcicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5udW1iZXIudG8tZml4ZWQnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYubnVtYmVyLnRvLXByZWNpc2lvbicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5udW1iZXIuZXBzaWxvbicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5udW1iZXIuaXMtZmluaXRlJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2Lm51bWJlci5pcy1pbnRlZ2VyJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2Lm51bWJlci5pcy1uYW4nKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYubnVtYmVyLmlzLXNhZmUtaW50ZWdlcicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5udW1iZXIubWF4LXNhZmUtaW50ZWdlcicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5udW1iZXIubWluLXNhZmUtaW50ZWdlcicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5udW1iZXIucGFyc2UtZmxvYXQnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYubnVtYmVyLnBhcnNlLWludCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5tYXRoLmFjb3NoJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2Lm1hdGguYXNpbmgnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYubWF0aC5hdGFuaCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5tYXRoLmNicnQnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYubWF0aC5jbHozMicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5tYXRoLmNvc2gnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYubWF0aC5leHBtMScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5tYXRoLmZyb3VuZCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5tYXRoLmh5cG90Jyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2Lm1hdGguaW11bCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5tYXRoLmxvZzEwJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2Lm1hdGgubG9nMXAnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYubWF0aC5sb2cyJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2Lm1hdGguc2lnbicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5tYXRoLnNpbmgnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYubWF0aC50YW5oJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2Lm1hdGgudHJ1bmMnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYuc3RyaW5nLmZyb20tY29kZS1wb2ludCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5zdHJpbmcucmF3Jyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnN0cmluZy50cmltJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5zdHJpbmcuY29kZS1wb2ludC1hdCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5zdHJpbmcuZW5kcy13aXRoJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnN0cmluZy5pbmNsdWRlcycpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5zdHJpbmcucmVwZWF0Jyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnN0cmluZy5zdGFydHMtd2l0aCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5zdHJpbmcuYW5jaG9yJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnN0cmluZy5iaWcnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYuc3RyaW5nLmJsaW5rJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnN0cmluZy5ib2xkJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnN0cmluZy5maXhlZCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5zdHJpbmcuZm9udGNvbG9yJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnN0cmluZy5mb250c2l6ZScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRhbGljcycpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5zdHJpbmcubGluaycpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5zdHJpbmcuc21hbGwnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYuc3RyaW5nLnN0cmlrZScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5zdHJpbmcuc3ViJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnN0cmluZy5zdXAnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYuZGF0ZS5ub3cnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYuZGF0ZS50by1qc29uJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LmRhdGUudG8taXNvLXN0cmluZycpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5kYXRlLnRvLXN0cmluZycpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5kYXRlLnRvLXByaW1pdGl2ZScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5hcnJheS5pcy1hcnJheScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5hcnJheS5mcm9tJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LmFycmF5Lm9mJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LmFycmF5LmpvaW4nKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYuYXJyYXkuc2xpY2UnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYuYXJyYXkuc29ydCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5hcnJheS5mb3ItZWFjaCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5hcnJheS5tYXAnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYuYXJyYXkuZmlsdGVyJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LmFycmF5LnNvbWUnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYuYXJyYXkuZXZlcnknKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYuYXJyYXkucmVkdWNlJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LmFycmF5LnJlZHVjZS1yaWdodCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5hcnJheS5pbmRleC1vZicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5hcnJheS5sYXN0LWluZGV4LW9mJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LmFycmF5LmNvcHktd2l0aGluJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LmFycmF5LmZpbGwnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYuYXJyYXkuZmluZCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5hcnJheS5maW5kLWluZGV4Jyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LmFycmF5LnNwZWNpZXMnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYucmVnZXhwLmNvbnN0cnVjdG9yJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnJlZ2V4cC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYucmVnZXhwLmZsYWdzJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnJlZ2V4cC5tYXRjaCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5yZWdleHAucmVwbGFjZScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5yZWdleHAuc2VhcmNoJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnJlZ2V4cC5zcGxpdCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5wcm9taXNlJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2Lm1hcCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5zZXQnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYud2Vhay1tYXAnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYud2Vhay1zZXQnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYudHlwZWQuYXJyYXktYnVmZmVyJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnR5cGVkLmRhdGEtdmlldycpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi50eXBlZC5pbnQ4LWFycmF5Jyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnR5cGVkLnVpbnQ4LWFycmF5Jyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnR5cGVkLnVpbnQ4LWNsYW1wZWQtYXJyYXknKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYudHlwZWQuaW50MTYtYXJyYXknKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYudHlwZWQudWludDE2LWFycmF5Jyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnR5cGVkLmludDMyLWFycmF5Jyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnR5cGVkLnVpbnQzMi1hcnJheScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi50eXBlZC5mbG9hdDMyLWFycmF5Jyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnR5cGVkLmZsb2F0NjQtYXJyYXknKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYucmVmbGVjdC5hcHBseScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5yZWZsZWN0LmNvbnN0cnVjdCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5yZWZsZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5yZWZsZWN0LmRlbGV0ZS1wcm9wZXJ0eScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5yZWZsZWN0LmVudW1lcmF0ZScpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5yZWZsZWN0LmdldCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5yZWZsZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNi5yZWZsZWN0LmdldC1wcm90b3R5cGUtb2YnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYucmVmbGVjdC5oYXMnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYucmVmbGVjdC5pcy1leHRlbnNpYmxlJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM2LnJlZmxlY3Qub3duLWtleXMnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYucmVmbGVjdC5wcmV2ZW50LWV4dGVuc2lvbnMnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYucmVmbGVjdC5zZXQnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczYucmVmbGVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM3LmFycmF5LmluY2x1ZGVzJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM3LnN0cmluZy5hdCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNy5zdHJpbmcucGFkLXN0YXJ0Jyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM3LnN0cmluZy5wYWQtZW5kJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM3LnN0cmluZy50cmltLWxlZnQnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcuc3RyaW5nLnRyaW0tcmlnaHQnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcuc3RyaW5nLm1hdGNoLWFsbCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcub2JqZWN0LnZhbHVlcycpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNy5vYmplY3QuZW50cmllcycpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNy5vYmplY3QuZGVmaW5lLWdldHRlcicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNy5vYmplY3QuZGVmaW5lLXNldHRlcicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNy5vYmplY3QubG9va3VwLWdldHRlcicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNy5vYmplY3QubG9va3VwLXNldHRlcicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNy5tYXAudG8tanNvbicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNy5zZXQudG8tanNvbicpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNy5zeXN0ZW0uZ2xvYmFsJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM3LmVycm9yLmlzLWVycm9yJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM3Lm1hdGguaWFkZGgnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcubWF0aC5pc3ViaCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNy5tYXRoLmltdWxoJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM3Lm1hdGgudW11bGgnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcucmVmbGVjdC5kZWZpbmUtbWV0YWRhdGEnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcucmVmbGVjdC5kZWxldGUtbWV0YWRhdGEnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcucmVmbGVjdC5nZXQtbWV0YWRhdGEnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcucmVmbGVjdC5nZXQtbWV0YWRhdGEta2V5cycpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNy5yZWZsZWN0LmdldC1vd24tbWV0YWRhdGEnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcucmVmbGVjdC5nZXQtb3duLW1ldGFkYXRhLWtleXMnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcucmVmbGVjdC5oYXMtbWV0YWRhdGEnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcucmVmbGVjdC5oYXMtb3duLW1ldGFkYXRhJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvZXM3LnJlZmxlY3QubWV0YWRhdGEnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy9lczcuYXNhcCcpO1xucmVxdWlyZSgnLi9tb2R1bGVzL2VzNy5vYnNlcnZhYmxlJyk7XG5yZXF1aXJlKCcuL21vZHVsZXMvd2ViLnRpbWVycycpO1xucmVxdWlyZSgnLi9tb2R1bGVzL3dlYi5pbW1lZGlhdGUnKTtcbnJlcXVpcmUoJy4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbW9kdWxlcy9fY29yZScpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZXhwb3J0cy5TVVBQT1JURURfUFJPVE9DT0xfVkVSU0lPTiA9IHVuZGVmaW5lZDtcblxudmFyIF9yZWdlbmVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpO1xuXG52YXIgX3JlZ2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZ2VuZXJhdG9yKTtcblxudmFyIF9hc3luY1RvR2VuZXJhdG9yMiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvclwiKTtcblxudmFyIF9hc3luY1RvR2VuZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FzeW5jVG9HZW5lcmF0b3IyKTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX2RlYywgX2RlYzIsIF9kZWMzLCBfZGVjNCwgX2RlYzUsIF9kZWM2LCBfZGVjNywgX2Rlc2MsIF92YWx1ZSwgX2NsYXNzO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbnZhciBfaHR0cCA9IHJlcXVpcmUoXCIuL2h0dHBcIik7XG5cbnZhciBfaHR0cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9odHRwKTtcblxudmFyIF9lbmRwb2ludCA9IHJlcXVpcmUoXCIuL2VuZHBvaW50XCIpO1xuXG52YXIgX2VuZHBvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VuZHBvaW50KTtcblxudmFyIF9yZXF1ZXN0cyA9IHJlcXVpcmUoXCIuL3JlcXVlc3RzXCIpO1xuXG52YXIgcmVxdWVzdHMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfcmVxdWVzdHMpO1xuXG52YXIgX2JhdGNoID0gcmVxdWlyZShcIi4vYmF0Y2hcIik7XG5cbnZhciBfYnVja2V0ID0gcmVxdWlyZShcIi4vYnVja2V0XCIpO1xuXG52YXIgX2J1Y2tldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idWNrZXQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHtcbiAgdmFyIGRlc2MgPSB7fTtcbiAgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07XG4gIH0pO1xuICBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTtcbiAgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlO1xuXG4gIGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikge1xuICAgIGRlc2Mud3JpdGFibGUgPSB0cnVlO1xuICB9XG5cbiAgZGVzYyA9IGRlY29yYXRvcnMuc2xpY2UoKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChkZXNjLCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7XG4gIH0sIGRlc2MpO1xuXG4gIGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkge1xuICAgIGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwO1xuICAgIGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7XG4gICAgT2JqZWN0WydkZWZpbmUnICsgJ1Byb3BlcnR5J10odGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7XG4gICAgZGVzYyA9IG51bGw7XG4gIH1cblxuICByZXR1cm4gZGVzYztcbn1cblxuLyoqXG4gKiBDdXJyZW50bHkgc3VwcG9ydGVkIHByb3RvY29sIHZlcnNpb24uXG4gKiBAdHlwZSB7U3RyaW5nfVxuICovXG52YXIgU1VQUE9SVEVEX1BST1RPQ09MX1ZFUlNJT04gPSBleHBvcnRzLlNVUFBPUlRFRF9QUk9UT0NPTF9WRVJTSU9OID0gXCJ2MVwiO1xuXG4vKipcbiAqIEhpZ2ggbGV2ZWwgSFRUUCBjbGllbnQgZm9yIHRoZSBLaW50byBBUEkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGNsaWVudCA9IG5ldyBLaW50b0NsaWVudChcImh0dHBzOi8va2ludG8uZGV2Lm1vemF3cy5uZXQvdjFcIik7XG4gKiBjbGllbnQuYnVja2V0KFwiZGVmYXVsdFwiKVxuICogICAgLmNvbGxlY3Rpb24oXCJteS1ibG9nXCIpXG4gKiAgICAuY3JlYXRlUmVjb3JkKHt0aXRsZTogXCJGaXJzdCBhcnRpY2xlXCJ9KVxuICogICAudGhlbihjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpKVxuICogICAuY2F0Y2goY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpKTtcbiAqL1xudmFyIEtpbnRvQ2xpZW50QmFzZSA9IChfZGVjID0gKDAsIF91dGlscy5ub2JhdGNoKShcIlRoaXMgb3BlcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aGluIGEgYmF0Y2ggb3BlcmF0aW9uLlwiKSwgX2RlYzIgPSAoMCwgX3V0aWxzLm5vYmF0Y2gpKFwiVGhpcyBvcGVyYXRpb24gaXMgbm90IHN1cHBvcnRlZCB3aXRoaW4gYSBiYXRjaCBvcGVyYXRpb24uXCIpLCBfZGVjMyA9ICgwLCBfdXRpbHMubm9iYXRjaCkoXCJUaGlzIG9wZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIHdpdGhpbiBhIGJhdGNoIG9wZXJhdGlvbi5cIiksIF9kZWM0ID0gKDAsIF91dGlscy5ub2JhdGNoKShcIlRoaXMgb3BlcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aGluIGEgYmF0Y2ggb3BlcmF0aW9uLlwiKSwgX2RlYzUgPSAoMCwgX3V0aWxzLm5vYmF0Y2gpKFwiQ2FuJ3QgdXNlIGJhdGNoIHdpdGhpbiBhIGJhdGNoIVwiKSwgX2RlYzYgPSAoMCwgX3V0aWxzLmNhcGFibGUpKFtcInBlcm1pc3Npb25zX2VuZHBvaW50XCJdKSwgX2RlYzcgPSAoMCwgX3V0aWxzLnN1cHBvcnQpKFwiMS40XCIsIFwiMi4wXCIpLCAoX2NsYXNzID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ29uc3RydWN0b3IuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgcmVtb3RlICBUaGUgcmVtb3RlIFVSTC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICBbb3B0aW9ucz17fV0gICAgICAgICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59ICAgICAgW29wdGlvbnMuc2FmZT10cnVlXSAgICAgICAgICAgQWRkcyBjb25jdXJyZW5jeSBoZWFkZXJzIHRvIGV2ZXJ5IHJlcXVlc3RzLlxuICAgKiBAcGFyYW0gIHtFdmVudEVtaXR0ZXJ9IFtvcHRpb25zLmV2ZW50cz1FdmVudEVtaXR0ZXJdIFRoZSBldmVudHMgaGFuZGxlciBpbnN0YW5jZS5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICBbb3B0aW9ucy5oZWFkZXJzPXt9XSAgICAgICAgICBUaGUga2V5LXZhbHVlIGhlYWRlcnMgdG8gcGFzcyB0byBlYWNoIHJlcXVlc3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgICAgICAgTnVtYmVyIG9mIHJldHJpZXMgd2hlbiByZXF1ZXN0IGZhaWxzIChkZWZhdWx0OiAwKVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgIFtvcHRpb25zLmJ1Y2tldD1cImRlZmF1bHRcIl0gICAgVGhlIGRlZmF1bHQgYnVja2V0IHRvIHVzZS5cbiAgICogQHBhcmFtICB7U3RyaW5nfSAgICAgICBbb3B0aW9ucy5yZXF1ZXN0TW9kZT1cImNvcnNcIl0gIFRoZSBIVFRQIHJlcXVlc3QgbW9kZSAoZnJvbSBFUzYgZmV0Y2ggc3BlYykuXG4gICAqIEBwYXJhbSAge051bWJlcn0gICAgICAgW29wdGlvbnMudGltZW91dD1udWxsXSAgICAgICAgVGhlIHJlcXVlc3QgdGltZW91dCBpbiBtcywgaWYgYW55LlxuICAgKi9cbiAgZnVuY3Rpb24gS2ludG9DbGllbnRCYXNlKHJlbW90ZSkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBLaW50b0NsaWVudEJhc2UpO1xuXG4gICAgaWYgKHR5cGVvZiByZW1vdGUgIT09IFwic3RyaW5nXCIgfHwgIXJlbW90ZS5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcmVtb3RlIFVSTDogXCIgKyByZW1vdGUpO1xuICAgIH1cbiAgICBpZiAocmVtb3RlW3JlbW90ZS5sZW5ndGggLSAxXSA9PT0gXCIvXCIpIHtcbiAgICAgIHJlbW90ZSA9IHJlbW90ZS5zbGljZSgwLCAtMSk7XG4gICAgfVxuICAgIHRoaXMuX2JhY2tvZmZSZWxlYXNlVGltZSA9IG51bGw7XG5cbiAgICB0aGlzLl9yZXF1ZXN0cyA9IFtdO1xuICAgIHRoaXMuX2lzQmF0Y2ggPSAhIW9wdGlvbnMuYmF0Y2g7XG4gICAgdGhpcy5fcmV0cnkgPSBvcHRpb25zLnJldHJ5IHx8IDA7XG4gICAgdGhpcy5fc2FmZSA9ICEhb3B0aW9ucy5zYWZlO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwge307XG5cbiAgICAvLyBwdWJsaWMgcHJvcGVydGllc1xuICAgIC8qKlxuICAgICAqIFRoZSByZW1vdGUgc2VydmVyIGJhc2UgVVJMLlxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5yZW1vdGUgPSByZW1vdGU7XG4gICAgLyoqXG4gICAgICogQ3VycmVudCBzZXJ2ZXIgaW5mb3JtYXRpb24uXG4gICAgICogQGlnbm9yZVxuICAgICAqIEB0eXBlIHtPYmplY3R8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnNlcnZlckluZm8gPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBldmVudCBlbWl0dGVyIGluc3RhbmNlLiBTaG91bGQgY29tcGx5IHdpdGggdGhlIGBFdmVudEVtaXR0ZXJgXG4gICAgICogaW50ZXJmYWNlLlxuICAgICAqIEBpZ25vcmVcbiAgICAgKiBAdHlwZSB7Q2xhc3N9XG4gICAgICovXG4gICAgdGhpcy5ldmVudHMgPSBvcHRpb25zLmV2ZW50cztcblxuICAgIHZhciByZXF1ZXN0TW9kZSA9IG9wdGlvbnMucmVxdWVzdE1vZGUsXG4gICAgICAgIHRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQ7XG4gICAgLyoqXG4gICAgICogVGhlIEhUVFAgaW5zdGFuY2UuXG4gICAgICogQGlnbm9yZVxuICAgICAqIEB0eXBlIHtIVFRQfVxuICAgICAqL1xuXG4gICAgdGhpcy5odHRwID0gbmV3IF9odHRwMi5kZWZhdWx0KHRoaXMuZXZlbnRzLCB7IHJlcXVlc3RNb2RlOiByZXF1ZXN0TW9kZSwgdGltZW91dDogdGltZW91dCB9KTtcbiAgICB0aGlzLl9yZWdpc3RlckhUVFBFdmVudHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcmVtb3RlIGVuZHBvaW50IGJhc2UgVVJMLiBTZXR0aW5nIHRoZSB2YWx1ZSB3aWxsIGFsc28gZXh0cmFjdCBhbmRcbiAgICogdmFsaWRhdGUgdGhlIHZlcnNpb24uXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuXG5cbiAgKDAsIF9jcmVhdGVDbGFzczMuZGVmYXVsdCkoS2ludG9DbGllbnRCYXNlLCBbe1xuICAgIGtleTogXCJfcmVnaXN0ZXJIVFRQRXZlbnRzXCIsXG5cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBIVFRQIGV2ZW50cy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVnaXN0ZXJIVFRQRXZlbnRzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgLy8gUHJldmVudCByZWdpc3RlcmluZyBldmVudCBmcm9tIGEgYmF0Y2ggY2xpZW50IGluc3RhbmNlXG4gICAgICBpZiAoIXRoaXMuX2lzQmF0Y2gpIHtcbiAgICAgICAgdGhpcy5ldmVudHMub24oXCJiYWNrb2ZmXCIsIGZ1bmN0aW9uIChiYWNrb2ZmTXMpIHtcbiAgICAgICAgICBfdGhpcy5fYmFja29mZlJlbGVhc2VUaW1lID0gYmFja29mZk1zO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBhIGJ1Y2tldCBvYmplY3QgdG8gcGVyZm9ybSBvcGVyYXRpb25zIG9uIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgbmFtZSAgICAgICAgICAgICAgVGhlIGJ1Y2tldCBuYW1lLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSAgICAgIFRoZSByZXF1ZXN0IG9wdGlvbnMuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMuc2FmZV0gICAgVGhlIHJlc3VsdGluZyBzYWZlIG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeV0gICBUaGUgcmVzdWx0aW5nIHJldHJ5IG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5oZWFkZXJzXSBUaGUgZXh0ZW5kZWQgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgICAqIEByZXR1cm4ge0J1Y2tldH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImJ1Y2tldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBidWNrZXQobmFtZSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICByZXR1cm4gbmV3IF9idWNrZXQyLmRlZmF1bHQodGhpcywgbmFtZSwge1xuICAgICAgICBiYXRjaDogdGhpcy5faXNCYXRjaCxcbiAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgc2FmZTogdGhpcy5fZ2V0U2FmZShvcHRpb25zKSxcbiAgICAgICAgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgY2xpZW50IFwiaGVhZGVyc1wiIGZvciBldmVyeSByZXF1ZXN0LCB1cGRhdGluZyBwcmV2aW91cyBoZWFkZXJzIChpZiBhbnkpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGhlYWRlcnMgVGhlIGhlYWRlcnMgdG8gbWVyZ2Ugd2l0aCBleGlzdGluZyBvbmVzLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0SGVhZGVyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICAgIHRoaXMuX2hlYWRlcnMgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCB0aGlzLl9oZWFkZXJzLCBoZWFkZXJzKTtcbiAgICAgIHRoaXMuc2VydmVySW5mbyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2YWx1ZSBvZiBcImhlYWRlcnNcIiBmb3IgYSBnaXZlbiByZXF1ZXN0LCBtZXJnaW5nIHRoZVxuICAgICAqIHBlci1yZXF1ZXN0IGhlYWRlcnMgd2l0aCBvdXIgb3duIFwiZGVmYXVsdFwiIGhlYWRlcnMuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdW5saWtlIG90aGVyIG9wdGlvbnMsIGhlYWRlcnMgYXJlbid0IG92ZXJyaWRkZW4sIGJ1dFxuICAgICAqIG1lcmdlZCBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBmb3IgYSByZXF1ZXN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0SGVhZGVyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0SGVhZGVycyhvcHRpb25zKSB7XG4gICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgdGhpcy5faGVhZGVycywgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbHVlIG9mIFwic2FmZVwiIGZvciBhIGdpdmVuIHJlcXVlc3QsIHVzaW5nIHRoZVxuICAgICAqIHBlci1yZXF1ZXN0IG9wdGlvbiBpZiBwcmVzZW50IG9yIGZhbGxpbmcgYmFjayB0byBvdXIgZGVmYXVsdFxuICAgICAqIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgZm9yIGEgcmVxdWVzdC5cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRTYWZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTYWZlKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgc2FmZTogdGhpcy5fc2FmZSB9LCBvcHRpb25zKS5zYWZlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzIF9nZXRTYWZlLCBidXQgZm9yIFwicmV0cnlcIi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0UmV0cnlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFJldHJ5KG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgcmV0cnk6IHRoaXMuX3JldHJ5IH0sIG9wdGlvbnMpLnJldHJ5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgc2VydmVyJ3MgXCJoZWxsb1wiIGVuZHBvaW50LiBUaGlzIGVuZHBvaW50IHJldmVhbHNcbiAgICAgKiBzZXJ2ZXIgY2FwYWJpbGl0aWVzIGFuZCBzZXR0aW5ncyBhcyB3ZWxsIGFzIHRlbGxpbmcgdGhlIGNsaWVudFxuICAgICAqIFwid2hvIHRoZXkgYXJlXCIgYWNjb3JkaW5nIHRvIHRoZWlyIGdpdmVuIGF1dGhvcml6YXRpb24gaGVhZGVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnM9e31dIFRoZSByZXF1ZXN0IG9wdGlvbnMuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVycz17fV0gSGVhZGVycyB0byB1c2Ugd2hlbiBtYWtpbmdcbiAgICAgKiAgICAgdGhpcyByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLnJldHJ5PTBdICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRIZWxsb1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZiA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICAgICAgdmFyIHBhdGgsIF9yZWYyLCBqc29uO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBwYXRoID0gdGhpcy5yZW1vdGUgKyAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcInJvb3RcIik7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHsgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSB9LCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgX3JlZjIgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgICAgIGpzb24gPSBfcmVmMi5qc29uO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwganNvbik7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfZ2V0SGVsbG8oKSB7XG4gICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfZ2V0SGVsbG87XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgc2VydmVyIGluZm9ybWF0aW9uIGFuZCBwZXJzaXN0IHRoZW0gbG9jYWxseS4gVGhpcyBvcGVyYXRpb24gaXNcbiAgICAgKiB1c3VhbGx5IHBlcmZvcm1lZCBhIHNpbmdsZSB0aW1lIGR1cmluZyB0aGUgaW5zdGFuY2UgbGlmZWN5Y2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnM9e31dIFRoZSByZXF1ZXN0IG9wdGlvbnMuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF0gICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZmV0Y2hTZXJ2ZXJJbmZvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMyA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZXJ2ZXJJbmZvKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCB0aGlzLnNlcnZlckluZm8pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEhlbGxvKHsgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlckluZm8gPSBfY29udGV4dDIuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCB0aGlzLnNlcnZlckluZm8pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBmZXRjaFNlcnZlckluZm8oKSB7XG4gICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJJbmZvO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIEtpbnRvIHNlcnZlciBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSBUaGUgcmVxdWVzdCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLnJldHJ5PTBdICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZldGNoU2VydmVyU2V0dGluZ3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWY0ID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9yZWY1LCBzZXR0aW5ncztcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaFNlcnZlckluZm8ob3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIF9yZWY1ID0gX2NvbnRleHQzLnNlbnQ7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MgPSBfcmVmNS5zZXR0aW5ncztcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiLCBzZXR0aW5ncyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGZldGNoU2VydmVyU2V0dGluZ3MoX3g1KSB7XG4gICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJTZXR0aW5ncztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIHNlcnZlciBjYXBhYmlsaXRpZXMgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gVGhlIHJlcXVlc3Qgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeT0wXSAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmZXRjaFNlcnZlckNhcGFiaWxpdGllc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjYgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgICAgICB2YXIgX3JlZjcsIGNhcGFiaWxpdGllcztcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaFNlcnZlckluZm8ob3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIF9yZWY3ID0gX2NvbnRleHQ0LnNlbnQ7XG4gICAgICAgICAgICAgICAgY2FwYWJpbGl0aWVzID0gX3JlZjcuY2FwYWJpbGl0aWVzO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KFwicmV0dXJuXCIsIGNhcGFiaWxpdGllcyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGZldGNoU2VydmVyQ2FwYWJpbGl0aWVzKCkge1xuICAgICAgICByZXR1cm4gX3JlZjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZldGNoU2VydmVyQ2FwYWJpbGl0aWVzO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYXV0aGVudGljYXRlZCB1c2VyIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnM9e31dIFRoZSByZXF1ZXN0IG9wdGlvbnMuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVycz17fV0gSGVhZGVycyB0byB1c2Ugd2hlbiBtYWtpbmdcbiAgICAgKiAgICAgdGhpcyByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLnJldHJ5PTBdICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZldGNoVXNlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjggPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgICAgICB2YXIgX3JlZjksIHVzZXI7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEhlbGxvKG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBfcmVmOSA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgICAgIHVzZXIgPSBfcmVmOS51c2VyO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIHVzZXIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBmZXRjaFVzZXIoKSB7XG4gICAgICAgIHJldHVybiBfcmVmOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmV0Y2hVc2VyO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYXV0aGVudGljYXRlZCB1c2VyIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnM9e31dIFRoZSByZXF1ZXN0IG9wdGlvbnMuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF0gICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZmV0Y2hIVFRQQXBpVmVyc2lvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjEwID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICAgICAgdmFyIF9yZWYxMSwgaHR0cF9hcGlfdmVyc2lvbjtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0Nikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaFNlcnZlckluZm8ob3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIF9yZWYxMSA9IF9jb250ZXh0Ni5zZW50O1xuICAgICAgICAgICAgICAgIGh0dHBfYXBpX3ZlcnNpb24gPSBfcmVmMTEuaHR0cF9hcGlfdmVyc2lvbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdChcInJldHVyblwiLCBodHRwX2FwaV92ZXJzaW9uKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZmV0Y2hIVFRQQXBpVmVyc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYxMC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmV0Y2hIVFRQQXBpVmVyc2lvbjtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYmF0Y2ggcmVxdWVzdHMsIGNodW5raW5nIHRoZW0gYWNjb3JkaW5nIHRvIHRoZSBiYXRjaF9tYXhfcmVxdWVzdHNcbiAgICAgKiBzZXJ2ZXIgc2V0dGluZyB3aGVuIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge0FycmF5fSAgcmVxdWVzdHMgICAgIFRoZSBsaXN0IG9mIGJhdGNoIHN1YnJlcXVlc3RzIHRvIHBlcmZvcm0uXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfYmF0Y2hSZXF1ZXN0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjEyID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KHJlcXVlc3RzKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgICB2YXIgaGVhZGVycywgc2VydmVyU2V0dGluZ3MsIG1heFJlcXVlc3RzLCBjaHVua3MsIF9yZWYxMywgcmVzcG9uc2VzO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaGVhZGVycyA9IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdChcInJldHVyblwiLCBbXSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaFNlcnZlclNldHRpbmdzKHtcbiAgICAgICAgICAgICAgICAgIHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBzZXJ2ZXJTZXR0aW5ncyA9IF9jb250ZXh0Ny5zZW50O1xuICAgICAgICAgICAgICAgIG1heFJlcXVlc3RzID0gc2VydmVyU2V0dGluZ3NbXCJiYXRjaF9tYXhfcmVxdWVzdHNcIl07XG5cbiAgICAgICAgICAgICAgICBpZiAoIShtYXhSZXF1ZXN0cyAmJiByZXF1ZXN0cy5sZW5ndGggPiBtYXhSZXF1ZXN0cykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTA7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjaHVua3MgPSAoMCwgX3V0aWxzLnBhcnRpdGlvbikocmVxdWVzdHMsIG1heFJlcXVlc3RzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdChcInJldHVyblwiLCAoMCwgX3V0aWxzLnBNYXApKGNodW5rcywgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLl9iYXRjaFJlcXVlc3RzKGNodW5rLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGUoe1xuICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IGlzIHRoaXMgcmVhbGx5IG5lY2Vzc2FyeSwgc2luY2UgaXQncyBhbHNvIHByZXNlbnQgaW5cbiAgICAgICAgICAgICAgICAgIC8vIHRoZSBcImRlZmF1bHRzXCI/XG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgcGF0aDogKDAsIF9lbmRwb2ludDIuZGVmYXVsdCkoXCJiYXRjaFwiKSxcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRzOiB7IGhlYWRlcnM6IGhlYWRlcnMgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdHM6IHJlcXVlc3RzXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICBfcmVmMTMgPSBfY29udGV4dDcuc2VudDtcbiAgICAgICAgICAgICAgICByZXNwb25zZXMgPSBfcmVmMTMucmVzcG9uc2VzO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlcyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfYmF0Y2hSZXF1ZXN0cyhfeDkpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYxMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2JhdGNoUmVxdWVzdHM7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBTZW5kcyBiYXRjaCByZXF1ZXN0cyB0byB0aGUgcmVtb3RlIHNlcnZlci5cbiAgICAgKlxuICAgICAqIE5vdGU6IFJlc2VydmVkIGZvciBpbnRlcm5hbCB1c2Ugb25seS5cbiAgICAgKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gICAgICAgICAgICAgICAgICAgICAgICBUaGUgZnVuY3Rpb24gdG8gdXNlIGZvciBkZXNjcmliaW5nIGJhdGNoIG9wcy5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnM9e31dICAgICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gIFtvcHRpb25zLnNhZmVdICAgICAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBbb3B0aW9ucy5yZXRyeV0gICAgICAgICAgIFRoZSByZXRyeSBvcHRpb24uXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIFtvcHRpb25zLmJ1Y2tldF0gICAgICAgICAgVGhlIGJ1Y2tldCBuYW1lIG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgW29wdGlvbnMuY29sbGVjdGlvbl0gICAgICBUaGUgY29sbGVjdGlvbiBuYW1lIG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgICBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59ICBbb3B0aW9ucy5hZ2dyZWdhdGU9ZmFsc2VdIFByb2R1Y2VzIGFuIGFnZ3JlZ2F0ZWQgcmVzdWx0IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYmF0Y2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYxNCA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlOChmbikge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICAgIHZhciByb290QmF0Y2gsIGJ1Y2tldEJhdGNoLCBjb2xsQmF0Y2gsIGJhdGNoQ2xpZW50LCByZXNwb25zZXM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcm9vdEJhdGNoID0gbmV3IEtpbnRvQ2xpZW50QmFzZSh0aGlzLnJlbW90ZSwge1xuICAgICAgICAgICAgICAgICAgZXZlbnRzOiB0aGlzLmV2ZW50cyxcbiAgICAgICAgICAgICAgICAgIGJhdGNoOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgc2FmZTogdGhpcy5fZ2V0U2FmZShvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgIHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJ1Y2tldEJhdGNoID0gdm9pZCAwLCBjb2xsQmF0Y2ggPSB2b2lkIDA7XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5idWNrZXQpIHtcbiAgICAgICAgICAgICAgICAgIGJ1Y2tldEJhdGNoID0gcm9vdEJhdGNoLmJ1Y2tldChvcHRpb25zLmJ1Y2tldCk7XG4gICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5jb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxCYXRjaCA9IGJ1Y2tldEJhdGNoLmNvbGxlY3Rpb24ob3B0aW9ucy5jb2xsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYmF0Y2hDbGllbnQgPSBjb2xsQmF0Y2ggfHwgYnVja2V0QmF0Y2ggfHwgcm9vdEJhdGNoO1xuXG4gICAgICAgICAgICAgICAgZm4oYmF0Y2hDbGllbnQpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYmF0Y2hSZXF1ZXN0cyhyb290QmF0Y2guX3JlcXVlc3RzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VzID0gX2NvbnRleHQ4LnNlbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWdncmVnYXRlKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoXCJyZXR1cm5cIiwgKDAsIF9iYXRjaC5hZ2dyZWdhdGUpKHJlc3BvbnNlcywgcm9vdEJhdGNoLl9yZXF1ZXN0cykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcG9uc2VzKTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGJhdGNoKF94MTEpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYxNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmF0Y2g7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyBhbiBhdG9taWMgSFRUUCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICByZXF1ZXN0ICAgICAgICAgICAgIFRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICByZXF1ZXN0LnBhdGggICAgICAgIFRoZSBwYXRoIHRvIGZldGNoLCByZWxhdGl2ZVxuICAgICAqICAgICB0byB0aGUgS2ludG8gc2VydmVyIHJvb3QuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgW3JlcXVlc3QubWV0aG9kPVwiR0VUXCJdIFRoZSBtZXRob2QgdG8gdXNlIGluIHRoZVxuICAgICAqICAgICByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSAge0JvZHl9ICAgIFtyZXF1ZXN0LmJvZHldICAgICAgVGhlIHJlcXVlc3QgYm9keS5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbcmVxdWVzdC5oZWFkZXJzPXt9XSBUaGUgcmVxdWVzdCBoZWFkZXJzLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLnJhdz1mYWxzZV0gSWYgdHJ1ZSwgcmVzb2x2ZSB3aXRoIGZ1bGwgcmVzcG9uc2VcbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5zdHJpbmdpZnk9dHJ1ZV0gSWYgdHJ1ZSwgc2VyaWFsaXplIGJvZHkgZGF0YSB0b1xuICAgICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLnJldHJ5PTBdICAgVGhlIG51bWJlciBvZiB0aW1lcyB0b1xuICAgICAqICAgICByZXRyeSBhIHJlcXVlc3QgaWYgdGhlIHNlcnZlciByZXNwb25kcyB3aXRoIFJldHJ5LUFmdGVyLlxuICAgICAqIEpTT04uXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImV4ZWN1dGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYxNSA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlOShyZXF1ZXN0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgICB2YXIgX29wdGlvbnMkcmF3LCByYXcsIF9vcHRpb25zJHN0cmluZ2lmeSwgc3RyaW5naWZ5LCBtc2csIHJlc3VsdDtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9vcHRpb25zJHJhdyA9IG9wdGlvbnMucmF3LCByYXcgPSBfb3B0aW9ucyRyYXcgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX29wdGlvbnMkcmF3LCBfb3B0aW9ucyRzdHJpbmdpZnkgPSBvcHRpb25zLnN0cmluZ2lmeSwgc3RyaW5naWZ5ID0gX29wdGlvbnMkc3RyaW5naWZ5ID09PSB1bmRlZmluZWQgPyB0cnVlIDogX29wdGlvbnMkc3RyaW5naWZ5O1xuICAgICAgICAgICAgICAgIC8vIElmIHdlJ3JlIHdpdGhpbiBhIGJhdGNoLCBhZGQgdGhlIHJlcXVlc3QgdG8gdGhlIHN0YWNrIHRvIHNlbmQgYXQgb25jZS5cblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNCYXRjaCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdHMucHVzaChyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICAvLyBSZXNvbHZlIHdpdGggYSBtZXNzYWdlIGluIGNhc2UgcGVvcGxlIGF0dGVtcHQgYXQgY29uc3VtaW5nIHRoZSByZXN1bHRcbiAgICAgICAgICAgICAgICAvLyBmcm9tIHdpdGhpbiBhIGJhdGNoIG9wZXJhdGlvbi5cbiAgICAgICAgICAgICAgICBtc2cgPSBcIlRoaXMgcmVzdWx0IGlzIGdlbmVyYXRlZCBmcm9tIHdpdGhpbiBhIGJhdGNoIFwiICsgXCJvcGVyYXRpb24gYW5kIHNob3VsZCBub3QgYmUgY29uc3VtZWQuXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoXCJyZXR1cm5cIiwgcmF3ID8geyBqc29uOiBtc2csIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7fVxuICAgICAgICAgICAgICAgICAgfSB9IDogbXNnKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA3O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdCh0aGlzLnJlbW90ZSArIHJlcXVlc3QucGF0aCwgKDAsIF91dGlscy5jbGVhblVuZGVmaW5lZFByb3BlcnRpZXMpKHtcbiAgICAgICAgICAgICAgICAgIC8vIExpbWl0IHJlcXVlc3RzIHRvIG9ubHkgdGhvc2UgcGFydHMgdGhhdCB3b3VsZCBiZSBhbGxvd2VkIGluXG4gICAgICAgICAgICAgICAgICAvLyBhIGJhdGNoIHJlcXVlc3QgLS0gZG9uJ3QgcGFzcyB0aHJvdWdoIG90aGVyIGZhbmN5IGZldGNoKClcbiAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbnMgbGlrZSBpbnRlZ3JpdHksIHJlZGlyZWN0LCBtb2RlIGJlY2F1c2UgdGhleSB3aWxsXG4gICAgICAgICAgICAgICAgICAvLyBicmVhayBvbiBhIGJhdGNoIHJlcXVlc3QuICBBIGJhdGNoIHJlcXVlc3Qgb25seSBhbGxvd3NcbiAgICAgICAgICAgICAgICAgIC8vIGhlYWRlcnMsIG1ldGhvZCwgcGF0aCAoYWJvdmUpLCBhbmQgYm9keS5cbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICBib2R5OiBzdHJpbmdpZnkgPyBKU09OLnN0cmluZ2lmeShyZXF1ZXN0LmJvZHkpIDogcmVxdWVzdC5ib2R5XG4gICAgICAgICAgICAgICAgfSksIHsgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDkuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdChcInJldHVyblwiLCByYXcgPyByZXN1bHQgOiByZXN1bHQuanNvbik7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGV4ZWN1dGUoX3gxMykge1xuICAgICAgICByZXR1cm4gX3JlZjE1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBleGVjdXRlO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogRmV0Y2ggc29tZSBwYWdlcyBmcm9tIGEgcGFnaW5hdGVkIGxpc3QsIGZvbGxvd2luZyB0aGUgYG5leHQtcGFnZWBcbiAgICAgKiBoZWFkZXIgYXV0b21hdGljYWxseSB1bnRpbCB3ZSBoYXZlIGZldGNoZWQgdGhlIHJlcXVlc3RlZCBudW1iZXJcbiAgICAgKiBvZiBwYWdlcy4gUmV0dXJuIGEgcmVzcG9uc2Ugd2l0aCBhIGAubmV4dCgpYCBtZXRob2QgdGhhdCBjYW4gYmVcbiAgICAgKiBjYWxsZWQgdG8gZmV0Y2ggbW9yZSByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBwYXRoXG4gICAgICogICAgIFRoZSBwYXRoIHRvIG1ha2UgdGhlIHJlcXVlc3QgdG8uXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgcGFyYW1zXG4gICAgICogICAgIFRoZSBwYXJhbWV0ZXJzIHRvIHVzZSB3aGVuIG1ha2luZyB0aGUgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBbcGFyYW1zLnNvcnQ9XCItbGFzdF9tb2RpZmllZFwiXVxuICAgICAqICAgICBUaGUgc29ydGluZyBvcmRlciB0byB1c2Ugd2hlbiBmZXRjaGluZy5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbcGFyYW1zLmZpbHRlcnM9e31dXG4gICAgICogICAgIFRoZSBmaWx0ZXJzIHRvIHNlbmQgaW4gdGhlIHJlcXVlc3QuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgW3BhcmFtcy5saW1pdD11bmRlZmluZWRdXG4gICAgICogICAgIFRoZSBsaW1pdCB0byBzZW5kIGluIHRoZSByZXF1ZXN0LiBVbmRlZmluZWQgbWVhbnMgbm8gbGltaXQuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgW3BhcmFtcy5wYWdlcz11bmRlZmluZWRdXG4gICAgICogICAgIFRoZSBudW1iZXIgb2YgcGFnZXMgdG8gZmV0Y2guIFVuZGVmaW5lZCBtZWFucyBvbmUgcGFnZS4gUGFzc1xuICAgICAqICAgICBJbmZpbml0eSB0byBmZXRjaCBldmVyeXRoaW5nLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIFtwYXJhbXMuc2luY2U9dW5kZWZpbmVkXVxuICAgICAqICAgICBUaGUgRVRhZyBmcm9tIHdoaWNoIHRvIHN0YXJ0IGZldGNoaW5nLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XVxuICAgICAqICAgICBBZGRpdGlvbmFsIHJlcXVlc3QtbGV2ZWwgcGFyYW1ldGVycyB0byB1c2UgaW4gYWxsIHJlcXVlc3RzLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmhlYWRlcnM9e31dXG4gICAgICogICAgIEhlYWRlcnMgdG8gdXNlIGR1cmluZyBhbGwgcmVxdWVzdHMuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF1cbiAgICAgKiAgICAgTnVtYmVyIG9mIHRpbWVzIHRvIHJldHJ5IGVhY2ggcmVxdWVzdCBpZiB0aGUgc2VydmVyIHJlc3BvbmRzXG4gICAgICogICAgIHdpdGggUmV0cnktQWZ0ZXIuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwYWdpbmF0ZWRMaXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMTYgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKHBhdGgsIHBhcmFtcykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cbiAgICAgICAgdmFyIF9zb3J0JHBhcmFtcywgc29ydCwgZmlsdGVycywgbGltaXQsIHBhZ2VzLCBzaW5jZSwgcXVlcnlzdHJpbmcsIHJlc3VsdHMsIGN1cnJlbnQsIG5leHQsIHByb2Nlc3NOZXh0UGFnZSwgcGFnZVJlc3VsdHMsIGhhbmRsZVJlc3BvbnNlO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiB0aGlzIGlzIGNhbGxlZCBldmVuIGluIGJhdGNoIHJlcXVlc3RzLCB3aGljaCBkb2Vzbid0XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBhbnkgc2Vuc2UgKHNpbmNlIGFsbCBiYXRjaCByZXF1ZXN0cyBnZXQgYSBcImR1bW15XCJcbiAgICAgICAgICAgICAgICAvLyByZXNwb25zZTsgc2VlIGV4ZWN1dGUoKSBhYm92ZSkuXG4gICAgICAgICAgICAgICAgX3NvcnQkcGFyYW1zID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7XG4gICAgICAgICAgICAgICAgICBzb3J0OiBcIi1sYXN0X21vZGlmaWVkXCJcbiAgICAgICAgICAgICAgICB9LCBwYXJhbXMpLCBzb3J0ID0gX3NvcnQkcGFyYW1zLnNvcnQsIGZpbHRlcnMgPSBfc29ydCRwYXJhbXMuZmlsdGVycywgbGltaXQgPSBfc29ydCRwYXJhbXMubGltaXQsIHBhZ2VzID0gX3NvcnQkcGFyYW1zLnBhZ2VzLCBzaW5jZSA9IF9zb3J0JHBhcmFtcy5zaW5jZTtcbiAgICAgICAgICAgICAgICAvLyBTYWZldHkvQ29uc2lzdGVuY3kgY2hlY2sgb24gRVRhZyB2YWx1ZS5cblxuICAgICAgICAgICAgICAgIGlmICghKHNpbmNlICYmIHR5cGVvZiBzaW5jZSAhPT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBzaW5jZSAoXCIgKyBzaW5jZSArIFwiKSwgc2hvdWxkIGJlIEVUYWcgdmFsdWUuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBxdWVyeXN0cmluZyA9ICgwLCBfdXRpbHMucXNpZnkpKCgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGZpbHRlcnMsIHtcbiAgICAgICAgICAgICAgICAgIF9zb3J0OiBzb3J0LFxuICAgICAgICAgICAgICAgICAgX2xpbWl0OiBsaW1pdCxcbiAgICAgICAgICAgICAgICAgIF9zaW5jZTogc2luY2VcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdLCBjdXJyZW50ID0gMDtcblxuICAgICAgICAgICAgICAgIG5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgX3JlZjE3ID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMChuZXh0UGFnZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFBhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYWdpbmF0aW9uIGV4aGF1c3RlZC5cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdChcInJldHVyblwiLCBwcm9jZXNzTmV4dFBhZ2UobmV4dFBhZ2UpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTAsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmV4dChfeDE4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMTcuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSgpO1xuXG4gICAgICAgICAgICAgICAgcHJvY2Vzc05leHRQYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIF9yZWYxOCA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEobmV4dFBhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlcnM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS50MCA9IGhhbmRsZVJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KG5leHRQYWdlLCB7IGhlYWRlcnM6IGhlYWRlcnMgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEudDEgPSBfY29udGV4dDExLnNlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KFwicmV0dXJuXCIsICgwLCBfY29udGV4dDExLnQwKShfY29udGV4dDExLnQxKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTExLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDE5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMTguYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSgpLmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICBwYWdlUmVzdWx0cyA9IGZ1bmN0aW9uIHBhZ2VSZXN1bHRzKHJlc3VsdHMsIG5leHRQYWdlLCBldGFnLCB0b3RhbFJlY29yZHMpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEVUYWcgc3RyaW5nIGlzIHN1cHBvc2VkIHRvIGJlIG9wYXF1ZSBhbmQgc3RvcmVkIMKrYXMtaXPCuy5cbiAgICAgICAgICAgICAgICAgIC8vIEVUYWcgaGVhZGVyIHZhbHVlcyBhcmUgcXVvdGVkIChiZWNhdXNlIG9mICogYW5kIFcvXCJmb29cIikuXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBsYXN0X21vZGlmaWVkOiBldGFnID8gZXRhZy5yZXBsYWNlKC9cIi9nLCBcIlwiKSA6IGV0YWcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IG5leHQuYmluZChudWxsLCBuZXh0UGFnZSksXG4gICAgICAgICAgICAgICAgICAgIGhhc05leHRQYWdlOiAhIW5leHRQYWdlLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbFJlY29yZHM6IHRvdGFsUmVjb3Jkc1xuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaGFuZGxlUmVzcG9uc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgX3JlZjE5ID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMihfcmVmMjApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSBfcmVmMjAuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb24gPSBfcmVmMjAuanNvbjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRQYWdlLCBldGFnLCB0b3RhbFJlY29yZHM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQYWdlID0gaGVhZGVycy5nZXQoXCJOZXh0LVBhZ2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXRhZyA9IGhlYWRlcnMuZ2V0KFwiRVRhZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFJlY29yZHMgPSBwYXJzZUludChoZWFkZXJzLmdldChcIlRvdGFsLVJlY29yZHNcIiksIDEwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdChcInJldHVyblwiLCBwYWdlUmVzdWx0cyhqc29uLmRhdGEsIG5leHRQYWdlLCBldGFnLCB0b3RhbFJlY29yZHMpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWdncmVnYXRlIG5ldyByZXN1bHRzIHdpdGggcHJldmlvdXMgb25lc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChqc29uLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgKz0gMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGN1cnJlbnQgPj0gcGFnZXMgfHwgIW5leHRQYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gOTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdChcInJldHVyblwiLCBwYWdlUmVzdWx0cyhyZXN1bHRzLCBuZXh0UGFnZSwgZXRhZywgdG90YWxSZWNvcmRzKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLmFicnVwdChcInJldHVyblwiLCBwcm9jZXNzTmV4dFBhZ2UobmV4dFBhZ2UpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTEyLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKF94MjApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYxOS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KCk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnQwID0gaGFuZGxlUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZShcbiAgICAgICAgICAgICAgICAvLyBOLkIuOiBUaGlzIGRvZXNuJ3QgdXNlIF9nZXRIZWFkZXJzLCBiZWNhdXNlIGFsbCBjYWxscyB0b1xuICAgICAgICAgICAgICAgIC8vIGBwYWdpbmF0ZWRMaXN0YCBhcmUgYXNzdW1lZCB0byBjb21lIGZyb20gY2FsbHMgdGhhdCBhbHJlYWR5XG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBoZWFkZXJzIG1lcmdlZCBhdCBlLmcuIHRoZSBidWNrZXQgb3IgY29sbGVjdGlvbiBsZXZlbC5cbiAgICAgICAgICAgICAgICB7IGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycywgcGF0aDogcGF0aCArIFwiP1wiICsgcXVlcnlzdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAvLyBOLkIuIFRoaXMgZG9lc24ndCB1c2UgX2dldFJldHJ5LCBiZWNhdXNlIGFsbCBjYWxscyB0b1xuICAgICAgICAgICAgICAgIC8vIGBwYWdpbmF0ZWRMaXN0YCBhcmUgYXNzdW1lZCB0byBjb21lIGZyb20gY2FsbHMgdGhhdCBhbHJlYWR5XG4gICAgICAgICAgICAgICAgLy8gdXNlZCBgX2dldFJldHJ5YCBhdCBlLmcuIHRoZSBidWNrZXQgb3IgY29sbGVjdGlvbiBsZXZlbC5cbiAgICAgICAgICAgICAgICB7IHJhdzogdHJ1ZSwgcmV0cnk6IG9wdGlvbnMucmV0cnkgfHwgMCB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTMudDEgPSBfY29udGV4dDEzLnNlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KFwicmV0dXJuXCIsICgwLCBfY29udGV4dDEzLnQwKShfY29udGV4dDEzLnQxKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHBhZ2luYXRlZExpc3QoX3gxNSwgX3gxNikge1xuICAgICAgICByZXR1cm4gX3JlZjE2LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYWdpbmF0ZWRMaXN0O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogTGlzdHMgYWxsIHBlcm1pc3Npb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucz17fV0gICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucy5oZWFkZXJzPXt9XSBIZWFkZXJzIHRvIHVzZSB3aGVuIG1ha2luZ1xuICAgICAqICAgICB0aGlzIHJlcXVlc3QuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5yZXRyeT0wXSAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0W10sIEVycm9yPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxpc3RQZXJtaXNzaW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjIxID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgICB2YXIgcGF0aCwgcGFnaW5hdGlvbk9wdGlvbnM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHBhdGggPSAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcInBlcm1pc3Npb25zXCIpO1xuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgZGVmYXVsdCBzb3J0IHBhcmFtZXRlciBpcyBzb21ldGhpbmcgdGhhdCBleGlzdHMgaW4gcGVybWlzc2lvbnNcbiAgICAgICAgICAgICAgICAvLyBlbnRyaWVzLCBhcyBgbGFzdF9tb2RpZmllZGAgZG9lc24ndDsgaGVyZSwgd2UgcGljayBcImlkXCIuXG5cbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucyA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyBzb3J0OiBcImlkXCIgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMucGFnaW5hdGVkTGlzdChwYXRoLCBwYWdpbmF0aW9uT3B0aW9ucywge1xuICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgIHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTQsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBsaXN0UGVybWlzc2lvbnMoKSB7XG4gICAgICAgIHJldHVybiBfcmVmMjEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpc3RQZXJtaXNzaW9ucztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiBidWNrZXRzLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucz17fV0gICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucy5oZWFkZXJzPXt9XSBIZWFkZXJzIHRvIHVzZSB3aGVuIG1ha2luZ1xuICAgICAqICAgICB0aGlzIHJlcXVlc3QuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5yZXRyeT0wXSAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0W10sIEVycm9yPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxpc3RCdWNrZXRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMjIgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICAgIHZhciBwYXRoO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBwYXRoID0gKDAsIF9lbmRwb2ludDIuZGVmYXVsdCkoXCJidWNrZXRcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMucGFnaW5hdGVkTGlzdChwYXRoLCBvcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGxpc3RCdWNrZXRzKCkge1xuICAgICAgICByZXR1cm4gX3JlZjIyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsaXN0QnVja2V0cztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYnVja2V0IG9uIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd8bnVsbH0gIGlkICAgICAgICAgICAgICAgIFRoZSBidWNrZXQgbmFtZSAob3B0aW9uYWwpLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgW29wdGlvbnM9e31dICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59ICAgICAgW29wdGlvbnMuZGF0YV0gICAgVGhlIGJ1Y2tldCBkYXRhIG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSAgICAgIFtvcHRpb25zLnNhZmVdICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgIFtvcHRpb25zLmhlYWRlcnNdIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgICAgICBbb3B0aW9ucy5yZXRyeT0wXSBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVCdWNrZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYyMyA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoaWQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICAgIHZhciBfb3B0aW9ucyRkYXRhLCBkYXRhLCBwZXJtaXNzaW9ucywgcGF0aDtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTE2JChfY29udGV4dDE2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfb3B0aW9ucyRkYXRhID0gb3B0aW9ucy5kYXRhLCBkYXRhID0gX29wdGlvbnMkZGF0YSA9PT0gdW5kZWZpbmVkID8ge30gOiBfb3B0aW9ucyRkYXRhLCBwZXJtaXNzaW9ucyA9IG9wdGlvbnMucGVybWlzc2lvbnM7XG5cbiAgICAgICAgICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgZGF0YS5pZCA9IGlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXRoID0gZGF0YS5pZCA/ICgwLCBfZW5kcG9pbnQyLmRlZmF1bHQpKFwiYnVja2V0XCIsIGRhdGEuaWQpIDogKDAsIF9lbmRwb2ludDIuZGVmYXVsdCkoXCJidWNrZXRcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuZXhlY3V0ZShyZXF1ZXN0cy5jcmVhdGVSZXF1ZXN0KHBhdGgsIHsgZGF0YTogZGF0YSwgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zIH0sIHtcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSksIHsgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBjcmVhdGVCdWNrZXQoX3gyMykge1xuICAgICAgICByZXR1cm4gX3JlZjIzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjcmVhdGVCdWNrZXQ7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGEgYnVja2V0IGZyb20gdGhlIHNlcnZlci5cbiAgICAgKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R8U3RyaW5nfSBidWNrZXQgICAgICAgICAgICAgICAgICBUaGUgYnVja2V0IHRvIGRlbGV0ZS5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICBbb3B0aW9ucz17fV0gICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gICAgICAgW29wdGlvbnMuc2FmZV0gICAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgIFtvcHRpb25zLmhlYWRlcnNdICAgICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgICAgICAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICAgICBbb3B0aW9ucy5sYXN0X21vZGlmaWVkXSBUaGUgbGFzdF9tb2RpZmllZCBvcHRpb24uXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZUJ1Y2tldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjI0ID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNyhidWNrZXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICAgIHZhciBidWNrZXRPYmosIHBhdGgsIF9idWNrZXRPYmokb3B0aW9ucywgbGFzdF9tb2RpZmllZDtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBidWNrZXRPYmogPSAoMCwgX3V0aWxzLnRvRGF0YUJvZHkpKGJ1Y2tldCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYnVja2V0T2JqLmlkKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBidWNrZXQgaWQgaXMgcmVxdWlyZWQuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBwYXRoID0gKDAsIF9lbmRwb2ludDIuZGVmYXVsdCkoXCJidWNrZXRcIiwgYnVja2V0T2JqLmlkKTtcbiAgICAgICAgICAgICAgICBfYnVja2V0T2JqJG9wdGlvbnMgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBidWNrZXRPYmosIG9wdGlvbnMpLCBsYXN0X21vZGlmaWVkID0gX2J1Y2tldE9iaiRvcHRpb25zLmxhc3RfbW9kaWZpZWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuZXhlY3V0ZShyZXF1ZXN0cy5kZWxldGVSZXF1ZXN0KHBhdGgsIHtcbiAgICAgICAgICAgICAgICAgIGxhc3RfbW9kaWZpZWQ6IGxhc3RfbW9kaWZpZWQsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgc2FmZTogdGhpcy5fZ2V0U2FmZShvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pLCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE3LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZGVsZXRlQnVja2V0KF94MjUpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYyNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVsZXRlQnVja2V0O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhbGwgYnVja2V0cyBvbiB0aGUgc2VydmVyLlxuICAgICAqXG4gICAgICogQGlnbm9yZVxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5zYWZlXSAgICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5sYXN0X21vZGlmaWVkXSBUaGUgbGFzdF9tb2RpZmllZCBvcHRpb24uXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZUJ1Y2tldHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYyNSA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgICAgdmFyIHBhdGg7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHBhdGggPSAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcImJ1Y2tldFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5leGVjdXRlKHJlcXVlc3RzLmRlbGV0ZVJlcXVlc3QocGF0aCwge1xuICAgICAgICAgICAgICAgICAgbGFzdF9tb2RpZmllZDogb3B0aW9ucy5sYXN0X21vZGlmaWVkLFxuICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KSwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZUJ1Y2tldHMoKSB7XG4gICAgICAgIHJldHVybiBfcmVmMjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlbGV0ZUJ1Y2tldHM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3RlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVtb3RlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodXJsKSB7XG4gICAgICB2YXIgdmVyc2lvbiA9IHZvaWQgMDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZlcnNpb24gPSB1cmwubWF0Y2goL1xcLyh2XFxkKylcXC8/JC8pWzFdO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSByZW1vdGUgVVJMIG11c3QgY29udGFpbiB0aGUgdmVyc2lvbjogXCIgKyB1cmwpO1xuICAgICAgfVxuICAgICAgaWYgKHZlcnNpb24gIT09IFNVUFBPUlRFRF9QUk9UT0NPTF9WRVJTSU9OKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHByb3RvY29sIHZlcnNpb246IFwiICsgdmVyc2lvbik7XG4gICAgICB9XG4gICAgICB0aGlzLl9yZW1vdGUgPSB1cmw7XG4gICAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBzZXJ2ZXIgcHJvdG9jb2wgdmVyc2lvbiwgZWcuIGB2MWAuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInZlcnNpb25cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl92ZXJzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJhY2tvZmYgcmVtYWluaW5nIHRpbWUsIGluIG1pbGxpc2Vjb25kcy4gRGVmYXVsdHMgdG8gemVybyBpZiBubyBiYWNrb2ZmIGlzXG4gICAgICogb25nb2luZy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJiYWNrb2ZmXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIGlmICh0aGlzLl9iYWNrb2ZmUmVsZWFzZVRpbWUgJiYgY3VycmVudFRpbWUgPCB0aGlzLl9iYWNrb2ZmUmVsZWFzZVRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tvZmZSZWxlYXNlVGltZSAtIGN1cnJlbnRUaW1lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBLaW50b0NsaWVudEJhc2U7XG59KCksIChfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZmV0Y2hTZXJ2ZXJTZXR0aW5nc1wiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmZXRjaFNlcnZlclNldHRpbmdzXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImZldGNoU2VydmVyQ2FwYWJpbGl0aWVzXCIsIFtfZGVjMl0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmZXRjaFNlcnZlckNhcGFiaWxpdGllc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmZXRjaFVzZXJcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImZldGNoVXNlclwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmZXRjaEhUVFBBcGlWZXJzaW9uXCIsIFtfZGVjNF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJmZXRjaEhUVFBBcGlWZXJzaW9uXCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImJhdGNoXCIsIFtfZGVjNV0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJiYXRjaFwiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJsaXN0UGVybWlzc2lvbnNcIiwgW19kZWM2XSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImxpc3RQZXJtaXNzaW9uc1wiKSwgX2NsYXNzLnByb3RvdHlwZSksIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkZWxldGVCdWNrZXRzXCIsIFtfZGVjN10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJkZWxldGVCdWNrZXRzXCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuZXhwb3J0cy5kZWZhdWx0ID0gS2ludG9DbGllbnRCYXNlOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5hZ2dyZWdhdGUgPSBhZ2dyZWdhdGU7XG4vKipcbiAqIEV4cG9ydHMgYmF0Y2ggcmVzcG9uc2VzIGFzIGEgcmVzdWx0IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7QXJyYXl9IHJlc3BvbnNlcyBUaGUgYmF0Y2ggc3VicmVxdWVzdCByZXNwb25zZXMuXG4gKiBAcGFyYW0gIHtBcnJheX0gcmVxdWVzdHMgIFRoZSBpbml0aWFsIGlzc3VlZCByZXF1ZXN0cy5cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gYWdncmVnYXRlKCkge1xuICB2YXIgcmVzcG9uc2VzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcbiAgdmFyIHJlcXVlc3RzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcblxuICBpZiAocmVzcG9uc2VzLmxlbmd0aCAhPT0gcmVxdWVzdHMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzcG9uc2VzIGxlbmd0aCBzaG91bGQgbWF0Y2ggcmVxdWVzdHMgb25lLlwiKTtcbiAgfVxuICB2YXIgcmVzdWx0cyA9IHtcbiAgICBlcnJvcnM6IFtdLFxuICAgIHB1Ymxpc2hlZDogW10sXG4gICAgY29uZmxpY3RzOiBbXSxcbiAgICBza2lwcGVkOiBbXVxuICB9O1xuICByZXR1cm4gcmVzcG9uc2VzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCByZXNwb25zZSwgaW5kZXgpIHtcbiAgICB2YXIgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuXG4gICAgdmFyIHJlcXVlc3QgPSByZXF1ZXN0c1tpbmRleF07XG4gICAgaWYgKHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgNDAwKSB7XG4gICAgICBhY2MucHVibGlzaGVkLnB1c2gocmVzcG9uc2UuYm9keSk7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IDQwNCkge1xuICAgICAgLy8gRXh0cmFjdCB0aGUgaWQgbWFudWFsbHkgZnJvbSByZXF1ZXN0IHBhdGggd2hpbGUgd2FpdGluZyBmb3IgS2ludG8va2ludG8jODE4XG4gICAgICB2YXIgcmVnZXggPSAvKGJ1Y2tldHN8Z3JvdXBzfGNvbGxlY3Rpb25zfHJlY29yZHMpXFwvKFteL10rKSQvO1xuICAgICAgdmFyIGV4dHJhY3RzID0gcmVxdWVzdC5wYXRoLm1hdGNoKHJlZ2V4KTtcbiAgICAgIHZhciBpZCA9IGV4dHJhY3RzLmxlbmd0aCA9PT0gMyA/IGV4dHJhY3RzWzJdIDogdW5kZWZpbmVkO1xuICAgICAgYWNjLnNraXBwZWQucHVzaCh7XG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgcGF0aDogcmVxdWVzdC5wYXRoLFxuICAgICAgICBlcnJvcjogcmVzcG9uc2UuYm9keVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IDQxMikge1xuICAgICAgYWNjLmNvbmZsaWN0cy5wdXNoKHtcbiAgICAgICAgLy8gWFhYOiBzcGVjaWZ5aW5nIHRoZSB0eXBlIGlzIHByb2JhYmx5IHN1cGVyZmx1b3VzXG4gICAgICAgIHR5cGU6IFwib3V0Z29pbmdcIixcbiAgICAgICAgbG9jYWw6IHJlcXVlc3QuYm9keSxcbiAgICAgICAgcmVtb3RlOiByZXNwb25zZS5ib2R5LmRldGFpbHMgJiYgcmVzcG9uc2UuYm9keS5kZXRhaWxzLmV4aXN0aW5nIHx8IG51bGxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY2MuZXJyb3JzLnB1c2goe1xuICAgICAgICBwYXRoOiByZXF1ZXN0LnBhdGgsXG4gICAgICAgIHNlbnQ6IHJlcXVlc3QsXG4gICAgICAgIGVycm9yOiByZXNwb25zZS5ib2R5XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgcmVzdWx0cyk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfcmVnZW5lcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKTtcblxudmFyIF9yZWdlbmVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWdlbmVyYXRvcik7XG5cbnZhciBfYXN5bmNUb0dlbmVyYXRvcjIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3JcIik7XG5cbnZhciBfYXN5bmNUb0dlbmVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3luY1RvR2VuZXJhdG9yMik7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIik7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIik7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9kZWMsIF9kZXNjLCBfdmFsdWUsIF9jbGFzcztcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgX2NvbGxlY3Rpb24gPSByZXF1aXJlKFwiLi9jb2xsZWN0aW9uXCIpO1xuXG52YXIgX2NvbGxlY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29sbGVjdGlvbik7XG5cbnZhciBfcmVxdWVzdHMgPSByZXF1aXJlKFwiLi9yZXF1ZXN0c1wiKTtcblxudmFyIHJlcXVlc3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3JlcXVlc3RzKTtcblxudmFyIF9lbmRwb2ludCA9IHJlcXVpcmUoXCIuL2VuZHBvaW50XCIpO1xuXG52YXIgX2VuZHBvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VuZHBvaW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7XG4gIHZhciBkZXNjID0ge307XG4gIE9iamVjdFsna2UnICsgJ3lzJ10oZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldO1xuICB9KTtcbiAgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7XG4gIGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTtcblxuICBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHtcbiAgICBkZXNjLndyaXRhYmxlID0gdHJ1ZTtcbiAgfVxuXG4gIGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjO1xuICB9LCBkZXNjKTtcblxuICBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHtcbiAgICBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDtcbiAgICBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkge1xuICAgIE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpO1xuICAgIGRlc2MgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGRlc2M7XG59XG5cbi8qKlxuICogQWJzdHJhY3QgcmVwcmVzZW50YXRpb24gb2YgYSBzZWxlY3RlZCBidWNrZXQuXG4gKlxuICovXG52YXIgQnVja2V0ID0gKF9kZWMgPSAoMCwgX3V0aWxzLmNhcGFibGUpKFtcImhpc3RvcnlcIl0pLCAoX2NsYXNzID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ29uc3RydWN0b3IuXG4gICAqXG4gICAqIEBwYXJhbSAge0tpbnRvQ2xpZW50fSBjbGllbnQgICAgICAgICAgICBUaGUgY2xpZW50IGluc3RhbmNlLlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgbmFtZSAgICAgICAgICAgICAgVGhlIGJ1Y2tldCBuYW1lLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgW29wdGlvbnM9e31dICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgIFtvcHRpb25zLmhlYWRlcnNdIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59ICAgICBbb3B0aW9ucy5zYWZlXSAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gICAgICBbb3B0aW9ucy5yZXRyeV0gICBUaGUgcmV0cnkgb3B0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gQnVja2V0KGNsaWVudCwgbmFtZSkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBCdWNrZXQpO1xuXG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIC8qKlxuICAgICAqIFRoZSBidWNrZXQgbmFtZS5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuX2lzQmF0Y2ggPSAhIW9wdGlvbnMuYmF0Y2g7XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwge307XG4gICAgdGhpcy5fcmV0cnkgPSBvcHRpb25zLnJldHJ5IHx8IDA7XG4gICAgdGhpcy5fc2FmZSA9ICEhb3B0aW9ucy5zYWZlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgXCJoZWFkZXJzXCIgZm9yIGEgZ2l2ZW4gcmVxdWVzdCwgbWVyZ2luZyB0aGVcbiAgICogcGVyLXJlcXVlc3QgaGVhZGVycyB3aXRoIG91ciBvd24gXCJkZWZhdWx0XCIgaGVhZGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShCdWNrZXQsIFt7XG4gICAga2V5OiBcIl9nZXRIZWFkZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRIZWFkZXJzKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCB0aGlzLl9oZWFkZXJzLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmFsdWUgb2YgXCJzYWZlXCIgZm9yIGEgZ2l2ZW4gcmVxdWVzdCwgdXNpbmcgdGhlXG4gICAgICogcGVyLXJlcXVlc3Qgb3B0aW9uIGlmIHByZXNlbnQgb3IgZmFsbGluZyBiYWNrIHRvIG91ciBkZWZhdWx0XG4gICAgICogb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBmb3IgYSByZXF1ZXN0LlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldFNhZmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFNhZmUob3B0aW9ucykge1xuICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyBzYWZlOiB0aGlzLl9zYWZlIH0sIG9wdGlvbnMpLnNhZmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXMgX2dldFNhZmUsIGJ1dCBmb3IgXCJyZXRyeVwiLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRSZXRyeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0UmV0cnkob3B0aW9ucykge1xuICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyByZXRyeTogdGhpcy5fcmV0cnkgfSwgb3B0aW9ucykucmV0cnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyBhIGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBuYW1lICAgICAgICAgICAgICBUaGUgY29sbGVjdGlvbiBuYW1lLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5oZWFkZXJzXSBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLnNhZmVdICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtDb2xsZWN0aW9ufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29sbGVjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb2xsZWN0aW9uKG5hbWUpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgcmV0dXJuIG5ldyBfY29sbGVjdGlvbjIuZGVmYXVsdCh0aGlzLmNsaWVudCwgdGhpcywgbmFtZSwge1xuICAgICAgICBiYXRjaDogdGhpcy5faXNCYXRjaCxcbiAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpLFxuICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYnVja2V0IGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zPXt9XSAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zLmhlYWRlcnNdIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5yZXRyeT0wXSBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXREYXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgICAgICB2YXIgcmVxdWVzdCwgX3JlZjIsIGRhdGE7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSB7XG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgcGF0aDogKDAsIF9lbmRwb2ludDIuZGVmYXVsdCkoXCJidWNrZXRcIiwgdGhpcy5uYW1lKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIF9yZWYyID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICBkYXRhID0gX3JlZjIuZGF0YTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGRhdGEpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldERhdGE7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBTZXQgYnVja2V0IGRhdGEuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgZGF0YSAgICAgICAgICAgICAgICAgICAgVGhlIGJ1Y2tldCBkYXRhIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVycz17fV0gICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5zYWZlXSAgICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5wYXRjaF0gICAgICAgICBUaGUgcGF0Y2ggb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLmxhc3RfbW9kaWZpZWRdIFRoZSBsYXN0X21vZGlmaWVkIG9wdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0RGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjMgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZGF0YSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgICAgdmFyIGJ1Y2tldCwgYnVja2V0SWQsIHBhdGgsIHBhdGNoLCBwZXJtaXNzaW9ucywgX2RhdGEkb3B0aW9ucywgbGFzdF9tb2RpZmllZCwgcmVxdWVzdDtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICgoMCwgX3V0aWxzLmlzT2JqZWN0KShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBidWNrZXQgb2JqZWN0IGlzIHJlcXVpcmVkLlwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgYnVja2V0ID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgZGF0YSwgeyBpZDogdGhpcy5uYW1lIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gRm9yIGRlZmF1bHQgYnVja2V0LCB3ZSBuZWVkIHRvIGRyb3AgdGhlIGlkIGZyb20gdGhlIGRhdGEgb2JqZWN0LlxuICAgICAgICAgICAgICAgIC8vIEJ1ZyBpbiBLaW50byA8IDMuMS4xXG5cbiAgICAgICAgICAgICAgICBidWNrZXRJZCA9IGJ1Y2tldC5pZDtcblxuICAgICAgICAgICAgICAgIGlmIChidWNrZXQuaWQgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgYnVja2V0LmlkO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBhdGggPSAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcImJ1Y2tldFwiLCBidWNrZXRJZCk7XG4gICAgICAgICAgICAgICAgcGF0Y2ggPSBvcHRpb25zLnBhdGNoLCBwZXJtaXNzaW9ucyA9IG9wdGlvbnMucGVybWlzc2lvbnM7XG4gICAgICAgICAgICAgICAgX2RhdGEkb3B0aW9ucyA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGRhdGEsIG9wdGlvbnMpLCBsYXN0X21vZGlmaWVkID0gX2RhdGEkb3B0aW9ucy5sYXN0X21vZGlmaWVkO1xuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0cy51cGRhdGVSZXF1ZXN0KHBhdGgsIHsgZGF0YTogYnVja2V0LCBwZXJtaXNzaW9uczogcGVybWlzc2lvbnMgfSwge1xuICAgICAgICAgICAgICAgICAgbGFzdF9tb2RpZmllZDogbGFzdF9tb2RpZmllZCxcbiAgICAgICAgICAgICAgICAgIHBhdGNoOiBwYXRjaCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jbGllbnQuZXhlY3V0ZShyZXF1ZXN0LCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzZXREYXRhKF94NCkge1xuICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldERhdGE7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxpc3Qgb2YgaGlzdG9yeSBlbnRyaWVzIGluIHRoZSBjdXJyZW50IGJ1Y2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnM9e31dICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnMuaGVhZGVyc10gVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnJldHJ5PTBdIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxPYmplY3Q+LCBFcnJvcj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsaXN0SGlzdG9yeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjQgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgICAgdmFyIHBhdGg7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcGF0aCA9ICgwLCBfZW5kcG9pbnQyLmRlZmF1bHQpKFwiaGlzdG9yeVwiLCB0aGlzLm5hbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LnBhZ2luYXRlZExpc3QocGF0aCwgb3B0aW9ucywge1xuICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgIHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gbGlzdEhpc3RvcnkoKSB7XG4gICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGlzdEhpc3Rvcnk7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxpc3Qgb2YgY29sbGVjdGlvbnMgaW4gdGhlIGN1cnJlbnQgYnVja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucz17fV0gICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucy5oZWFkZXJzXSBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMucmV0cnk9MF0gTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PE9iamVjdD4sIEVycm9yPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxpc3RDb2xsZWN0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjUgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgICAgdmFyIHBhdGg7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcGF0aCA9ICgwLCBfZW5kcG9pbnQyLmRlZmF1bHQpKFwiY29sbGVjdGlvblwiLCB0aGlzLm5hbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LnBhZ2luYXRlZExpc3QocGF0aCwgb3B0aW9ucywge1xuICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgIHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gbGlzdENvbGxlY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpc3RDb2xsZWN0aW9ucztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29sbGVjdGlvbiBpbiBjdXJyZW50IGJ1Y2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1N0cmluZ3x1bmRlZmluZWR9ICBpZCAgICAgICAgICBUaGUgY29sbGVjdGlvbiBpZC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLnNhZmVdICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVyc10gICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF0gICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMucGVybWlzc2lvbnNdIFRoZSBwZXJtaXNzaW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuZGF0YV0gICAgICAgIFRoZSBkYXRhIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlQ29sbGVjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjYgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoaWQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICAgIHZhciBwZXJtaXNzaW9ucywgX29wdGlvbnMkZGF0YSwgZGF0YSwgcGF0aCwgcmVxdWVzdDtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zID0gb3B0aW9ucy5wZXJtaXNzaW9ucywgX29wdGlvbnMkZGF0YSA9IG9wdGlvbnMuZGF0YSwgZGF0YSA9IF9vcHRpb25zJGRhdGEgPT09IHVuZGVmaW5lZCA/IHt9IDogX29wdGlvbnMkZGF0YTtcblxuICAgICAgICAgICAgICAgIGRhdGEuaWQgPSBpZDtcbiAgICAgICAgICAgICAgICBwYXRoID0gKDAsIF9lbmRwb2ludDIuZGVmYXVsdCkoXCJjb2xsZWN0aW9uXCIsIHRoaXMubmFtZSwgaWQpO1xuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0cy5jcmVhdGVSZXF1ZXN0KHBhdGgsIHsgZGF0YTogZGF0YSwgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zIH0sIHtcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jbGllbnQuZXhlY3V0ZShyZXF1ZXN0LCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbGxlY3Rpb24oX3g4KSB7XG4gICAgICAgIHJldHVybiBfcmVmNi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3JlYXRlQ29sbGVjdGlvbjtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgYSBjb2xsZWN0aW9uIGZyb20gdGhlIGN1cnJlbnQgYnVja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fFN0cmluZ30gY29sbGVjdGlvbiAgICAgICAgICAgICAgVGhlIGNvbGxlY3Rpb24gdG8gZGVsZXRlLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgIFtvcHRpb25zPXt9XSAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICBbb3B0aW9ucy5oZWFkZXJzXSAgICAgICBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICAgICAgIFtvcHRpb25zLnJldHJ5PTBdICAgICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gICAgICAgW29wdGlvbnMuc2FmZV0gICAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICAgICAgIFtvcHRpb25zLmxhc3RfbW9kaWZpZWRdIFRoZSBsYXN0X21vZGlmaWVkIG9wdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlQ29sbGVjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjcgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgICAgdmFyIGNvbGxlY3Rpb25PYmosIGlkLCBfY29sbGVjdGlvbk9iaiRvcHRpb24sIGxhc3RfbW9kaWZpZWQsIHBhdGgsIHJlcXVlc3Q7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uT2JqID0gKDAsIF91dGlscy50b0RhdGFCb2R5KShjb2xsZWN0aW9uKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb2xsZWN0aW9uT2JqLmlkKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGNvbGxlY3Rpb24gaWQgaXMgcmVxdWlyZWQuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZCA9IGNvbGxlY3Rpb25PYmouaWQ7XG4gICAgICAgICAgICAgICAgX2NvbGxlY3Rpb25PYmokb3B0aW9uID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgY29sbGVjdGlvbk9iaiwgb3B0aW9ucyksIGxhc3RfbW9kaWZpZWQgPSBfY29sbGVjdGlvbk9iaiRvcHRpb24ubGFzdF9tb2RpZmllZDtcbiAgICAgICAgICAgICAgICBwYXRoID0gKDAsIF9lbmRwb2ludDIuZGVmYXVsdCkoXCJjb2xsZWN0aW9uXCIsIHRoaXMubmFtZSwgaWQpO1xuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0cy5kZWxldGVSZXF1ZXN0KHBhdGgsIHtcbiAgICAgICAgICAgICAgICAgIGxhc3RfbW9kaWZpZWQ6IGxhc3RfbW9kaWZpZWQsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgc2FmZTogdGhpcy5fZ2V0U2FmZShvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxldGVDb2xsZWN0aW9uKF94MTApIHtcbiAgICAgICAgcmV0dXJuIF9yZWY3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxldGVDb2xsZWN0aW9uO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBsaXN0IG9mIGdyb3VwcyBpbiB0aGUgY3VycmVudCBidWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zPXt9XSAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zLmhlYWRlcnNdIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5yZXRyeT0wXSBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8T2JqZWN0PiwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdEdyb3Vwc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjggPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgICAgdmFyIHBhdGg7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcGF0aCA9ICgwLCBfZW5kcG9pbnQyLmRlZmF1bHQpKFwiZ3JvdXBcIiwgdGhpcy5uYW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdChcInJldHVyblwiLCB0aGlzLmNsaWVudC5wYWdpbmF0ZWRMaXN0KHBhdGgsIG9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGxpc3RHcm91cHMoKSB7XG4gICAgICAgIHJldHVybiBfcmVmOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGlzdEdyb3VwcztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZ3JvdXAgaW4gY3VycmVudCBidWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGlkICAgICAgICAgICAgICAgIFRoZSBncm91cCBpZC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zPXt9XSAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zLmhlYWRlcnNdIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5yZXRyeT0wXSBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRHcm91cFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjkgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoaWQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgICB2YXIgcmVxdWVzdDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgIHBhdGg6ICgwLCBfZW5kcG9pbnQyLmRlZmF1bHQpKFwiZ3JvdXBcIiwgdGhpcy5uYW1lLCBpZClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTgsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRHcm91cChfeDEzKSB7XG4gICAgICAgIHJldHVybiBfcmVmOS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0R3JvdXA7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGdyb3VwIGluIGN1cnJlbnQgYnVja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtICB7U3RyaW5nfHVuZGVmaW5lZH0gIGlkICAgICAgICAgICAgICAgICAgICBUaGUgZ3JvdXAgaWQuXG4gICAgICogQHBhcmFtICB7QXJyYXk8U3RyaW5nPn0gICAgIFttZW1iZXJzPVtdXSAgICAgICAgICBUaGUgbGlzdCBvZiBwcmluY2lwYWxzLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgICBbb3B0aW9ucz17fV0gICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgICBbb3B0aW9ucy5kYXRhXSAgICAgICAgVGhlIGRhdGEgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgICBbb3B0aW9ucy5wZXJtaXNzaW9uc10gVGhlIHBlcm1pc3Npb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSAgICAgICAgICAgW29wdGlvbnMuc2FmZV0gICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICAgICAgW29wdGlvbnMuaGVhZGVyc10gICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgICAgICAgICAgIFtvcHRpb25zLnJldHJ5PTBdICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVHcm91cFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjEwID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KGlkKSB7XG4gICAgICAgIHZhciBtZW1iZXJzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgICB2YXIgZGF0YSwgcGF0aCwgcGVybWlzc2lvbnMsIHJlcXVlc3Q7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZGF0YSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG9wdGlvbnMuZGF0YSwge1xuICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgbWVtYmVyczogbWVtYmVyc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHBhdGggPSAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcImdyb3VwXCIsIHRoaXMubmFtZSwgaWQpO1xuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zID0gb3B0aW9ucy5wZXJtaXNzaW9ucztcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdHMuY3JlYXRlUmVxdWVzdChwYXRoLCB7IGRhdGE6IGRhdGEsIHBlcm1pc3Npb25zOiBwZXJtaXNzaW9ucyB9LCB7XG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgc2FmZTogdGhpcy5fZ2V0U2FmZShvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTksIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBjcmVhdGVHcm91cChfeDE1KSB7XG4gICAgICAgIHJldHVybiBfcmVmMTAuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNyZWF0ZUdyb3VwO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBhbiBleGlzdGluZyBncm91cCBpbiBjdXJyZW50IGJ1Y2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIGdyb3VwICAgICAgICAgICAgICAgICAgIFRoZSBncm91cCBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnM9e31dICAgICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmRhdGFdICAgICAgICAgIFRoZSBkYXRhIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5wZXJtaXNzaW9uc10gICBUaGUgcGVybWlzc2lvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLnNhZmVdICAgICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5oZWFkZXJzXSAgICAgICBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLnJldHJ5PTBdICAgICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMubGFzdF9tb2RpZmllZF0gVGhlIGxhc3RfbW9kaWZpZWQgb3B0aW9uLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVHcm91cFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjExID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMChncm91cCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgICAgdmFyIGRhdGEsIHBhdGgsIHBhdGNoLCBwZXJtaXNzaW9ucywgX2RhdGEkb3B0aW9uczIsIGxhc3RfbW9kaWZpZWQsIHJlcXVlc3Q7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKCgwLCBfdXRpbHMuaXNPYmplY3QpKGdyb3VwKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgZ3JvdXAgb2JqZWN0IGlzIHJlcXVpcmVkLlwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwLmlkKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA0O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBncm91cCBpZCBpcyByZXF1aXJlZC5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGRhdGEgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBvcHRpb25zLmRhdGEsIGdyb3VwKTtcbiAgICAgICAgICAgICAgICBwYXRoID0gKDAsIF9lbmRwb2ludDIuZGVmYXVsdCkoXCJncm91cFwiLCB0aGlzLm5hbWUsIGdyb3VwLmlkKTtcbiAgICAgICAgICAgICAgICBwYXRjaCA9IG9wdGlvbnMucGF0Y2gsIHBlcm1pc3Npb25zID0gb3B0aW9ucy5wZXJtaXNzaW9ucztcbiAgICAgICAgICAgICAgICBfZGF0YSRvcHRpb25zMiA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGRhdGEsIG9wdGlvbnMpLCBsYXN0X21vZGlmaWVkID0gX2RhdGEkb3B0aW9uczIubGFzdF9tb2RpZmllZDtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdHMudXBkYXRlUmVxdWVzdChwYXRoLCB7IGRhdGE6IGRhdGEsIHBlcm1pc3Npb25zOiBwZXJtaXNzaW9ucyB9LCB7XG4gICAgICAgICAgICAgICAgICBsYXN0X21vZGlmaWVkOiBsYXN0X21vZGlmaWVkLFxuICAgICAgICAgICAgICAgICAgcGF0Y2g6IHBhdGNoLFxuICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jbGllbnQuZXhlY3V0ZShyZXF1ZXN0LCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUdyb3VwKF94MTgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYxMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlR3JvdXA7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGEgZ3JvdXAgZnJvbSB0aGUgY3VycmVudCBidWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R8U3RyaW5nfSBncm91cCAgICAgICAgICAgICAgICAgICBUaGUgZ3JvdXAgdG8gZGVsZXRlLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgIFtvcHRpb25zPXt9XSAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICBbb3B0aW9ucy5oZWFkZXJzXSAgICAgICBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICAgICAgIFtvcHRpb25zLnJldHJ5PTBdICAgICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gICAgICAgW29wdGlvbnMuc2FmZV0gICAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICAgICAgIFtvcHRpb25zLmxhc3RfbW9kaWZpZWRdIFRoZSBsYXN0X21vZGlmaWVkIG9wdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlR3JvdXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYxMiA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEoZ3JvdXApIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICAgIHZhciBncm91cE9iaiwgaWQsIF9ncm91cE9iaiRvcHRpb25zLCBsYXN0X21vZGlmaWVkLCBwYXRoLCByZXF1ZXN0O1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGdyb3VwT2JqID0gKDAsIF91dGlscy50b0RhdGFCb2R5KShncm91cCk7XG4gICAgICAgICAgICAgICAgaWQgPSBncm91cE9iai5pZDtcbiAgICAgICAgICAgICAgICBfZ3JvdXBPYmokb3B0aW9ucyA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGdyb3VwT2JqLCBvcHRpb25zKSwgbGFzdF9tb2RpZmllZCA9IF9ncm91cE9iaiRvcHRpb25zLmxhc3RfbW9kaWZpZWQ7XG4gICAgICAgICAgICAgICAgcGF0aCA9ICgwLCBfZW5kcG9pbnQyLmRlZmF1bHQpKFwiZ3JvdXBcIiwgdGhpcy5uYW1lLCBpZCk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3RzLmRlbGV0ZVJlcXVlc3QocGF0aCwge1xuICAgICAgICAgICAgICAgICAgbGFzdF9tb2RpZmllZDogbGFzdF9tb2RpZmllZCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZUdyb3VwKF94MjApIHtcbiAgICAgICAgcmV0dXJuIF9yZWYxMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVsZXRlR3JvdXA7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxpc3Qgb2YgcGVybWlzc2lvbnMgZm9yIHRoaXMgYnVja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucz17fV0gICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucy5oZWFkZXJzXSBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMucmV0cnk9MF0gTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UGVybWlzc2lvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYxMyA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgICAgICB2YXIgcmVxdWVzdCwgX3JlZjE0LCBwZXJtaXNzaW9ucztcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgIHBhdGg6ICgwLCBfZW5kcG9pbnQyLmRlZmF1bHQpKFwiYnVja2V0XCIsIHRoaXMubmFtZSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIF9yZWYxNCA9IF9jb250ZXh0MTIuc2VudDtcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9ucyA9IF9yZWYxNC5wZXJtaXNzaW9ucztcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoXCJyZXR1cm5cIiwgcGVybWlzc2lvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFBlcm1pc3Npb25zKCkge1xuICAgICAgICByZXR1cm4gX3JlZjEzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRQZXJtaXNzaW9ucztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIGFsbCBleGlzdGluZyBidWNrZXQgcGVybWlzc2lvbnMgd2l0aCB0aGUgb25lcyBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIHBlcm1pc3Npb25zICAgICAgICAgICAgIFRoZSBwZXJtaXNzaW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnM9e31dICAgICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMuc2FmZV0gICAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmhlYWRlcnM9e31dICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5sYXN0X21vZGlmaWVkXSBUaGUgbGFzdF9tb2RpZmllZCBvcHRpb24uXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldFBlcm1pc3Npb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMTUgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKHBlcm1pc3Npb25zKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgdmFyIHBhdGgsIGxhc3RfbW9kaWZpZWQsIGRhdGEsIHJlcXVlc3Q7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICgoMCwgX3V0aWxzLmlzT2JqZWN0KShwZXJtaXNzaW9ucykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIHBlcm1pc3Npb25zIG9iamVjdCBpcyByZXF1aXJlZC5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHBhdGggPSAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcImJ1Y2tldFwiLCB0aGlzLm5hbWUpO1xuICAgICAgICAgICAgICAgIGxhc3RfbW9kaWZpZWQgPSBvcHRpb25zLmxhc3RfbW9kaWZpZWQ7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHsgbGFzdF9tb2RpZmllZDogbGFzdF9tb2RpZmllZCB9O1xuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0cy51cGRhdGVSZXF1ZXN0KHBhdGgsIHsgZGF0YTogZGF0YSwgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zIH0sIHtcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHNldFBlcm1pc3Npb25zKF94MjMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYxNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0UGVybWlzc2lvbnM7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmQgcHJpbmNpcGFscyB0byB0aGUgYnVja2V0IHBlcm1pc3Npb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgcGVybWlzc2lvbnMgICAgICAgICAgICAgVGhlIHBlcm1pc3Npb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5zYWZlXSAgICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeT0wXSAgICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmxhc3RfbW9kaWZpZWRdIFRoZSBsYXN0X21vZGlmaWVkIG9wdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkUGVybWlzc2lvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYxNiA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQocGVybWlzc2lvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgICB2YXIgcGF0aCwgbGFzdF9tb2RpZmllZCwgcmVxdWVzdDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKCgwLCBfdXRpbHMuaXNPYmplY3QpKHBlcm1pc3Npb25zKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgcGVybWlzc2lvbnMgb2JqZWN0IGlzIHJlcXVpcmVkLlwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcGF0aCA9ICgwLCBfZW5kcG9pbnQyLmRlZmF1bHQpKFwiYnVja2V0XCIsIHRoaXMubmFtZSk7XG4gICAgICAgICAgICAgICAgbGFzdF9tb2RpZmllZCA9IG9wdGlvbnMubGFzdF9tb2RpZmllZDtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdHMuanNvblBhdGNoUGVybWlzc2lvbnNSZXF1ZXN0KHBhdGgsIHBlcm1pc3Npb25zLCBcImFkZFwiLCB7XG4gICAgICAgICAgICAgICAgICBsYXN0X21vZGlmaWVkOiBsYXN0X21vZGlmaWVkLFxuICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jbGllbnQuZXhlY3V0ZShyZXF1ZXN0LCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYWRkUGVybWlzc2lvbnMoX3gyNSkge1xuICAgICAgICByZXR1cm4gX3JlZjE2LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZGRQZXJtaXNzaW9ucztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBwcmluY2lwYWxzIGZyb20gdGhlIGJ1Y2tldCBwZXJtaXNzaW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIHBlcm1pc3Npb25zICAgICAgICAgICAgIFRoZSBwZXJtaXNzaW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnM9e31dICAgICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMuc2FmZV0gICAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmhlYWRlcnNdICAgICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5sYXN0X21vZGlmaWVkXSBUaGUgbGFzdF9tb2RpZmllZCBvcHRpb24uXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVBlcm1pc3Npb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMTcgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KHBlcm1pc3Npb25zKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgdmFyIHBhdGgsIGxhc3RfbW9kaWZpZWQsIHJlcXVlc3Q7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICgoMCwgX3V0aWxzLmlzT2JqZWN0KShwZXJtaXNzaW9ucykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIHBlcm1pc3Npb25zIG9iamVjdCBpcyByZXF1aXJlZC5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHBhdGggPSAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcImJ1Y2tldFwiLCB0aGlzLm5hbWUpO1xuICAgICAgICAgICAgICAgIGxhc3RfbW9kaWZpZWQgPSBvcHRpb25zLmxhc3RfbW9kaWZpZWQ7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3RzLmpzb25QYXRjaFBlcm1pc3Npb25zUmVxdWVzdChwYXRoLCBwZXJtaXNzaW9ucywgXCJyZW1vdmVcIiwge1xuICAgICAgICAgICAgICAgICAgbGFzdF9tb2RpZmllZDogbGFzdF9tb2RpZmllZCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVBlcm1pc3Npb25zKF94MjcpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYxNy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVtb3ZlUGVybWlzc2lvbnM7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBiYXRjaCBvcGVyYXRpb25zIGF0IHRoZSBjdXJyZW50IGJ1Y2tldCBsZXZlbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICAgICAgICAgICAgICAgICBUaGUgYmF0Y2ggb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICBbb3B0aW9ucz17fV0gICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgIFtvcHRpb25zLmhlYWRlcnNdICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gIFtvcHRpb25zLnNhZmVdICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgW29wdGlvbnMucmV0cnk9MF0gICAgVGhlIHJldHJ5IG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSAgW29wdGlvbnMuYWdncmVnYXRlXSAgUHJvZHVjZXMgYSBncm91cGVkIHJlc3VsdCBvYmplY3QuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImJhdGNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMTggPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KGZuKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTYucHJldiA9IF9jb250ZXh0MTYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmJhdGNoKGZuLCB7XG4gICAgICAgICAgICAgICAgICBidWNrZXQ6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgYWdncmVnYXRlOiAhIW9wdGlvbnMuYWdncmVnYXRlXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGJhdGNoKF94MjkpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYxOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmF0Y2g7XG4gICAgfSgpXG4gIH1dKTtcbiAgcmV0dXJuIEJ1Y2tldDtcbn0oKSwgKF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJsaXN0SGlzdG9yeVwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJsaXN0SGlzdG9yeVwiKSwgX2NsYXNzLnByb3RvdHlwZSkpLCBfY2xhc3MpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJ1Y2tldDsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZGVmaW5lZDtcblxudmFyIF9zbGljZWRUb0FycmF5MiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheVwiKTtcblxudmFyIF9zbGljZWRUb0FycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NsaWNlZFRvQXJyYXkyKTtcblxudmFyIF9yZWdlbmVyYXRvciA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yXCIpO1xuXG52YXIgX3JlZ2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZ2VuZXJhdG9yKTtcblxudmFyIF9hc3luY1RvR2VuZXJhdG9yMiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvclwiKTtcblxudmFyIF9hc3luY1RvR2VuZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FzeW5jVG9HZW5lcmF0b3IyKTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX2RlYywgX2RlYzIsIF9kZWMzLCBfZGVzYywgX3ZhbHVlLCBfY2xhc3M7XG5cbnZhciBfdXVpZCA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbnZhciBfcmVxdWVzdHMgPSByZXF1aXJlKFwiLi9yZXF1ZXN0c1wiKTtcblxudmFyIHJlcXVlc3RzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3JlcXVlc3RzKTtcblxudmFyIF9lbmRwb2ludCA9IHJlcXVpcmUoXCIuL2VuZHBvaW50XCIpO1xuXG52YXIgX2VuZHBvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VuZHBvaW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcih0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7XG4gIHZhciBkZXNjID0ge307XG4gIE9iamVjdFsna2UnICsgJ3lzJ10oZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldO1xuICB9KTtcbiAgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7XG4gIGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTtcblxuICBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHtcbiAgICBkZXNjLndyaXRhYmxlID0gdHJ1ZTtcbiAgfVxuXG4gIGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7XG4gICAgcmV0dXJuIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5LCBkZXNjKSB8fCBkZXNjO1xuICB9LCBkZXNjKTtcblxuICBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHtcbiAgICBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDtcbiAgICBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkge1xuICAgIE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpO1xuICAgIGRlc2MgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGRlc2M7XG59XG5cbi8qKlxuICogQWJzdHJhY3QgcmVwcmVzZW50YXRpb24gb2YgYSBzZWxlY3RlZCBjb2xsZWN0aW9uLlxuICpcbiAqL1xudmFyIENvbGxlY3Rpb24gPSAoX2RlYyA9ICgwLCBfdXRpbHMuY2FwYWJsZSkoW1wiYXR0YWNobWVudHNcIl0pLCBfZGVjMiA9ICgwLCBfdXRpbHMuY2FwYWJsZSkoW1wiYXR0YWNobWVudHNcIl0pLCBfZGVjMyA9ICgwLCBfdXRpbHMuY2FwYWJsZSkoW1wiaGlzdG9yeVwiXSksIChfY2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3Rvci5cbiAgICpcbiAgICogQHBhcmFtICB7S2ludG9DbGllbnR9ICBjbGllbnQgICAgICAgICAgICBUaGUgY2xpZW50IGluc3RhbmNlLlxuICAgKiBAcGFyYW0gIHtCdWNrZXR9ICAgICAgIGJ1Y2tldCAgICAgICAgICAgIFRoZSBidWNrZXQgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgbmFtZSAgICAgICAgICAgICAgVGhlIGNvbGxlY3Rpb24gbmFtZS5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICBbb3B0aW9ucz17fV0gICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgW29wdGlvbnMuaGVhZGVyc10gVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gICAgICBbb3B0aW9ucy5zYWZlXSAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gICAgICAgW29wdGlvbnMucmV0cnldICAgVGhlIHJldHJ5IG9wdGlvbi5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gICAgICBbb3B0aW9ucy5iYXRjaF0gICAoUHJpdmF0ZSkgV2hldGhlciB0aGlzXG4gICAqICAgICBDb2xsZWN0aW9uIGlzIG9wZXJhdGluZyBhcyBwYXJ0IG9mIGEgYmF0Y2guXG4gICAqL1xuICBmdW5jdGlvbiBDb2xsZWN0aW9uKGNsaWVudCwgYnVja2V0LCBuYW1lKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIENvbGxlY3Rpb24pO1xuXG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB0aGlzLmJ1Y2tldCA9IGJ1Y2tldDtcbiAgICAvKipcbiAgICAgKiBUaGUgY29sbGVjdGlvbiBuYW1lLlxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcblxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB0aGlzLl9pc0JhdGNoID0gISFvcHRpb25zLmJhdGNoO1xuXG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuX3JldHJ5ID0gb3B0aW9ucy5yZXRyeSB8fCAwO1xuICAgIHRoaXMuX3NhZmUgPSAhIW9wdGlvbnMuc2FmZTtcbiAgICAvLyBGSVhNRTogVGhpcyBpcyBraW5kIG9mIHVnbHk7IHNob3VsZG4ndCB0aGUgYnVja2V0IGJlIHJlc3BvbnNpYmxlXG4gICAgLy8gZm9yIGRvaW5nIHRoZSBtZXJnZT9cbiAgICB0aGlzLl9oZWFkZXJzID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgdGhpcy5idWNrZXQuX2hlYWRlcnMsIG9wdGlvbnMuaGVhZGVycyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiBcImhlYWRlcnNcIiBmb3IgYSBnaXZlbiByZXF1ZXN0LCBtZXJnaW5nIHRoZVxuICAgKiBwZXItcmVxdWVzdCBoZWFkZXJzIHdpdGggb3VyIG93biBcImRlZmF1bHRcIiBoZWFkZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKENvbGxlY3Rpb24sIFt7XG4gICAga2V5OiBcIl9nZXRIZWFkZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRIZWFkZXJzKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCB0aGlzLl9oZWFkZXJzLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmFsdWUgb2YgXCJzYWZlXCIgZm9yIGEgZ2l2ZW4gcmVxdWVzdCwgdXNpbmcgdGhlXG4gICAgICogcGVyLXJlcXVlc3Qgb3B0aW9uIGlmIHByZXNlbnQgb3IgZmFsbGluZyBiYWNrIHRvIG91ciBkZWZhdWx0XG4gICAgICogb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBmb3IgYSByZXF1ZXN0LlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldFNhZmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFNhZmUob3B0aW9ucykge1xuICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyBzYWZlOiB0aGlzLl9zYWZlIH0sIG9wdGlvbnMpLnNhZmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXMgX2dldFNhZmUsIGJ1dCBmb3IgXCJyZXRyeVwiLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRSZXRyeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0UmV0cnkob3B0aW9ucykge1xuICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyByZXRyeTogdGhpcy5fcmV0cnkgfSwgb3B0aW9ucykucmV0cnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSB0b3RhbCBudW1iZXIgb2YgcmVjb3JkcyBpbiB0aGlzIGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zPXt9XSAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zLmhlYWRlcnNdIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5yZXRyeT0wXSBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8TnVtYmVyLCBFcnJvcj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRUb3RhbFJlY29yZHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgICAgIHZhciBwYXRoLCByZXF1ZXN0LCBfcmVmMiwgaGVhZGVycztcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcGF0aCA9ICgwLCBfZW5kcG9pbnQyLmRlZmF1bHQpKFwicmVjb3JkXCIsIHRoaXMuYnVja2V0Lm5hbWUsIHRoaXMubmFtZSk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkhFQURcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgcmF3OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIF9yZWYyID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICBoZWFkZXJzID0gX3JlZjIuaGVhZGVycztcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIHBhcnNlSW50KGhlYWRlcnMuZ2V0KFwiVG90YWwtUmVjb3Jkc1wiKSwgMTApKTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFRvdGFsUmVjb3JkcygpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFRvdGFsUmVjb3JkcztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBjb2xsZWN0aW9uIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zPXt9XSAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zLmhlYWRlcnNdIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5yZXRyeT0wXSBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXREYXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMyA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgICAgIHZhciBwYXRoLCByZXF1ZXN0LCBfcmVmNCwgZGF0YTtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHBhdGggPSAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcImNvbGxlY3Rpb25cIiwgdGhpcy5idWNrZXQubmFtZSwgdGhpcy5uYW1lKTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0geyBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLCBwYXRoOiBwYXRoIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsaWVudC5leGVjdXRlKHJlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgIHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBfcmVmNCA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgICAgICAgIGRhdGEgPSBfcmVmNC5kYXRhO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIGRhdGEpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXREYXRhKCkge1xuICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldERhdGE7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBTZXQgY29sbGVjdGlvbiBkYXRhLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICBkYXRhICAgICAgICAgICAgICAgICAgICBUaGUgY29sbGVjdGlvbiBkYXRhIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnM9e31dICAgICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICBbb3B0aW9ucy5oZWFkZXJzXSAgICAgICBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBbb3B0aW9ucy5yZXRyeT0wXSAgICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59ICBbb3B0aW9ucy5zYWZlXSAgICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gIFtvcHRpb25zLnBhdGNoXSAgICAgICAgIFRoZSBwYXRjaCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIFtvcHRpb25zLmxhc3RfbW9kaWZpZWRdIFRoZSBsYXN0X21vZGlmaWVkIG9wdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0RGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjUgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoZGF0YSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgICAgdmFyIHBhdGNoLCBwZXJtaXNzaW9ucywgX2RhdGEkb3B0aW9ucywgbGFzdF9tb2RpZmllZCwgcGF0aCwgcmVxdWVzdDtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICgoMCwgX3V0aWxzLmlzT2JqZWN0KShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBjb2xsZWN0aW9uIG9iamVjdCBpcyByZXF1aXJlZC5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHBhdGNoID0gb3B0aW9ucy5wYXRjaCwgcGVybWlzc2lvbnMgPSBvcHRpb25zLnBlcm1pc3Npb25zO1xuICAgICAgICAgICAgICAgIF9kYXRhJG9wdGlvbnMgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBkYXRhLCBvcHRpb25zKSwgbGFzdF9tb2RpZmllZCA9IF9kYXRhJG9wdGlvbnMubGFzdF9tb2RpZmllZDtcbiAgICAgICAgICAgICAgICBwYXRoID0gKDAsIF9lbmRwb2ludDIuZGVmYXVsdCkoXCJjb2xsZWN0aW9uXCIsIHRoaXMuYnVja2V0Lm5hbWUsIHRoaXMubmFtZSk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3RzLnVwZGF0ZVJlcXVlc3QocGF0aCwgeyBkYXRhOiBkYXRhLCBwZXJtaXNzaW9uczogcGVybWlzc2lvbnMgfSwge1xuICAgICAgICAgICAgICAgICAgbGFzdF9tb2RpZmllZDogbGFzdF9tb2RpZmllZCxcbiAgICAgICAgICAgICAgICAgIHBhdGNoOiBwYXRjaCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jbGllbnQuZXhlY3V0ZShyZXF1ZXN0LCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHNldERhdGEoX3g0KSB7XG4gICAgICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0RGF0YTtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiBwZXJtaXNzaW9ucyBmb3IgdGhpcyBjb2xsZWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucz17fV0gICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucy5oZWFkZXJzXSBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMucmV0cnk9MF0gTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UGVybWlzc2lvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWY2ID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICAgICAgdmFyIHBhdGgsIHJlcXVlc3QsIF9yZWY3LCBwZXJtaXNzaW9ucztcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHBhdGggPSAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcImNvbGxlY3Rpb25cIiwgdGhpcy5idWNrZXQubmFtZSwgdGhpcy5uYW1lKTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0geyBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLCBwYXRoOiBwYXRoIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsaWVudC5leGVjdXRlKHJlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgIHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBfcmVmNyA9IF9jb250ZXh0NC5zZW50O1xuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zID0gX3JlZjcucGVybWlzc2lvbnM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoXCJyZXR1cm5cIiwgcGVybWlzc2lvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRQZXJtaXNzaW9ucygpIHtcbiAgICAgICAgcmV0dXJuIF9yZWY2LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRQZXJtaXNzaW9ucztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIGFsbCBleGlzdGluZyBjb2xsZWN0aW9uIHBlcm1pc3Npb25zIHdpdGggdGhlIG9uZXMgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgcGVybWlzc2lvbnMgICAgICAgICAgICAgVGhlIHBlcm1pc3Npb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnM9e31dICAgICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgIFtvcHRpb25zLmhlYWRlcnNdICAgICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIFtvcHRpb25zLnJldHJ5PTBdICAgICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gIFtvcHRpb25zLnNhZmVdICAgICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgW29wdGlvbnMubGFzdF9tb2RpZmllZF0gVGhlIGxhc3RfbW9kaWZpZWQgb3B0aW9uLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRQZXJtaXNzaW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjggPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUocGVybWlzc2lvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgICB2YXIgcGF0aCwgZGF0YSwgcmVxdWVzdDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoKDAsIF91dGlscy5pc09iamVjdCkocGVybWlzc2lvbnMpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIHBlcm1pc3Npb25zIG9iamVjdCBpcyByZXF1aXJlZC5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHBhdGggPSAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcImNvbGxlY3Rpb25cIiwgdGhpcy5idWNrZXQubmFtZSwgdGhpcy5uYW1lKTtcbiAgICAgICAgICAgICAgICBkYXRhID0geyBsYXN0X21vZGlmaWVkOiBvcHRpb25zLmxhc3RfbW9kaWZpZWQgfTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdHMudXBkYXRlUmVxdWVzdChwYXRoLCB7IGRhdGE6IGRhdGEsIHBlcm1pc3Npb25zOiBwZXJtaXNzaW9ucyB9LCB7XG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgc2FmZTogdGhpcy5fZ2V0U2FmZShvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzZXRQZXJtaXNzaW9ucyhfeDcpIHtcbiAgICAgICAgcmV0dXJuIF9yZWY4LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRQZXJtaXNzaW9ucztcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZCBwcmluY2lwYWxzIHRvIHRoZSBjb2xsZWN0aW9uIHBlcm1pc3Npb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgcGVybWlzc2lvbnMgICAgICAgICAgICAgVGhlIHBlcm1pc3Npb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5zYWZlXSAgICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeT0wXSAgICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmxhc3RfbW9kaWZpZWRdIFRoZSBsYXN0X21vZGlmaWVkIG9wdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkUGVybWlzc2lvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWY5ID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KHBlcm1pc3Npb25zKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgdmFyIHBhdGgsIGxhc3RfbW9kaWZpZWQsIHJlcXVlc3Q7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKCgwLCBfdXRpbHMuaXNPYmplY3QpKHBlcm1pc3Npb25zKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBwZXJtaXNzaW9ucyBvYmplY3QgaXMgcmVxdWlyZWQuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBwYXRoID0gKDAsIF9lbmRwb2ludDIuZGVmYXVsdCkoXCJjb2xsZWN0aW9uXCIsIHRoaXMuYnVja2V0Lm5hbWUsIHRoaXMubmFtZSk7XG4gICAgICAgICAgICAgICAgbGFzdF9tb2RpZmllZCA9IG9wdGlvbnMubGFzdF9tb2RpZmllZDtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdHMuanNvblBhdGNoUGVybWlzc2lvbnNSZXF1ZXN0KHBhdGgsIHBlcm1pc3Npb25zLCBcImFkZFwiLCB7XG4gICAgICAgICAgICAgICAgICBsYXN0X21vZGlmaWVkOiBsYXN0X21vZGlmaWVkLFxuICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdChcInJldHVyblwiLCB0aGlzLmNsaWVudC5leGVjdXRlKHJlcXVlc3QsIHsgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYWRkUGVybWlzc2lvbnMoX3g5KSB7XG4gICAgICAgIHJldHVybiBfcmVmOS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWRkUGVybWlzc2lvbnM7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgcHJpbmNpcGFscyBmcm9tIHRoZSBjb2xsZWN0aW9uIHBlcm1pc3Npb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgcGVybWlzc2lvbnMgICAgICAgICAgICAgVGhlIHBlcm1pc3Npb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5zYWZlXSAgICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeT0wXSAgICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmxhc3RfbW9kaWZpZWRdIFRoZSBsYXN0X21vZGlmaWVkIG9wdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlUGVybWlzc2lvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYxMCA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlNyhwZXJtaXNzaW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICAgIHZhciBwYXRoLCBsYXN0X21vZGlmaWVkLCByZXF1ZXN0O1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0Nykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICgoMCwgX3V0aWxzLmlzT2JqZWN0KShwZXJtaXNzaW9ucykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgcGVybWlzc2lvbnMgb2JqZWN0IGlzIHJlcXVpcmVkLlwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcGF0aCA9ICgwLCBfZW5kcG9pbnQyLmRlZmF1bHQpKFwiY29sbGVjdGlvblwiLCB0aGlzLmJ1Y2tldC5uYW1lLCB0aGlzLm5hbWUpO1xuICAgICAgICAgICAgICAgIGxhc3RfbW9kaWZpZWQgPSBvcHRpb25zLmxhc3RfbW9kaWZpZWQ7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3RzLmpzb25QYXRjaFBlcm1pc3Npb25zUmVxdWVzdChwYXRoLCBwZXJtaXNzaW9ucywgXCJyZW1vdmVcIiwge1xuICAgICAgICAgICAgICAgICAgbGFzdF9tb2RpZmllZDogbGFzdF9tb2RpZmllZCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jbGllbnQuZXhlY3V0ZShyZXF1ZXN0LCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVBlcm1pc3Npb25zKF94MTEpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYxMC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVtb3ZlUGVybWlzc2lvbnM7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcmVjb3JkIGluIGN1cnJlbnQgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIHJlY29yZCAgICAgICAgICAgICAgICBUaGUgcmVjb3JkIHRvIGNyZWF0ZS5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmhlYWRlcnNdICAgICBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLnJldHJ5PTBdICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLnNhZmVdICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMucGVybWlzc2lvbnNdIFRoZSBwZXJtaXNzaW9ucyBvcHRpb24uXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVJlY29yZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjExID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KHJlY29yZCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICAgIHZhciBwZXJtaXNzaW9ucywgcGF0aCwgcmVxdWVzdDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9ucyA9IG9wdGlvbnMucGVybWlzc2lvbnM7XG4gICAgICAgICAgICAgICAgcGF0aCA9ICgwLCBfZW5kcG9pbnQyLmRlZmF1bHQpKFwicmVjb3JkXCIsIHRoaXMuYnVja2V0Lm5hbWUsIHRoaXMubmFtZSwgcmVjb3JkLmlkKTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdHMuY3JlYXRlUmVxdWVzdChwYXRoLCB7IGRhdGE6IHJlY29yZCwgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zIH0sIHtcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jbGllbnQuZXhlY3V0ZShyZXF1ZXN0LCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZVJlY29yZChfeDEzKSB7XG4gICAgICAgIHJldHVybiBfcmVmMTEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNyZWF0ZVJlY29yZDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gYXR0YWNobWVudCB0byBhIHJlY29yZCwgY3JlYXRpbmcgdGhlIHJlY29yZCB3aGVuIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBkYXRhVVJMICAgICAgICAgICAgICAgICBUaGUgZGF0YSB1cmwuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW3JlY29yZD17fV0gICAgICAgICAgICAgVGhlIHJlY29yZCBkYXRhLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5oZWFkZXJzXSAgICAgICBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLnJldHJ5PTBdICAgICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMuc2FmZV0gICAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLmxhc3RfbW9kaWZpZWRdIFRoZSBsYXN0X21vZGlmaWVkIG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5wZXJtaXNzaW9uc10gICBUaGUgcGVybWlzc2lvbnMgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIFtvcHRpb25zLmZpbGVuYW1lXSAgICAgIEZvcmNlIHRoZSBhdHRhY2htZW50IGZpbGVuYW1lLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIFtvcHRpb25zLmd6aXBwZWRdICAgICAgIEZvcmNlIHRoZSBhdHRhY2htZW50IHRvIGJlIGd6aXBwZWQgb3Igbm90LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRBdHRhY2htZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMTIgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoZGF0YVVSSSkge1xuICAgICAgICB2YXIgcmVjb3JkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuXG4gICAgICAgIHZhciBwZXJtaXNzaW9ucywgaWQsIHBhdGgsIF9yZWNvcmQkb3B0aW9ucywgbGFzdF9tb2RpZmllZCwgYWRkQXR0YWNobWVudFJlcXVlc3Q7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9ucyA9IG9wdGlvbnMucGVybWlzc2lvbnM7XG4gICAgICAgICAgICAgICAgaWQgPSByZWNvcmQuaWQgfHwgX3V1aWQudjQudjQoKTtcbiAgICAgICAgICAgICAgICBwYXRoID0gKDAsIF9lbmRwb2ludDIuZGVmYXVsdCkoXCJhdHRhY2htZW50XCIsIHRoaXMuYnVja2V0Lm5hbWUsIHRoaXMubmFtZSwgaWQpO1xuICAgICAgICAgICAgICAgIF9yZWNvcmQkb3B0aW9ucyA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHJlY29yZCwgb3B0aW9ucyksIGxhc3RfbW9kaWZpZWQgPSBfcmVjb3JkJG9wdGlvbnMubGFzdF9tb2RpZmllZDtcbiAgICAgICAgICAgICAgICBhZGRBdHRhY2htZW50UmVxdWVzdCA9IHJlcXVlc3RzLmFkZEF0dGFjaG1lbnRSZXF1ZXN0KHBhdGgsIGRhdGFVUkksIHsgZGF0YTogcmVjb3JkLCBwZXJtaXNzaW9uczogcGVybWlzc2lvbnMgfSwge1xuICAgICAgICAgICAgICAgICAgbGFzdF9tb2RpZmllZDogbGFzdF9tb2RpZmllZCxcbiAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBvcHRpb25zLmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgZ3ppcHBlZDogb3B0aW9ucy5nemlwcGVkLFxuICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LmV4ZWN1dGUoYWRkQXR0YWNobWVudFJlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgIHN0cmluZ2lmeTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5nZXRSZWNvcmQoaWQpKTtcblxuICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYWRkQXR0YWNobWVudChfeDE1KSB7XG4gICAgICAgIHJldHVybiBfcmVmMTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFkZEF0dGFjaG1lbnQ7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIGF0dGFjaG1lbnQgZnJvbSBhIGdpdmVuIHJlY29yZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIHJlY29yZElkICAgICAgICAgICAgICAgIFRoZSByZWNvcmQgaWQuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnM9e31dICAgICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmhlYWRlcnNdICAgICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5zYWZlXSAgICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMubGFzdF9tb2RpZmllZF0gVGhlIGxhc3RfbW9kaWZpZWQgb3B0aW9uLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlQXR0YWNobWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjEzID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMChyZWNvcmRJZCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICAgIHZhciBsYXN0X21vZGlmaWVkLCBwYXRoLCByZXF1ZXN0O1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBsYXN0X21vZGlmaWVkID0gb3B0aW9ucy5sYXN0X21vZGlmaWVkO1xuICAgICAgICAgICAgICAgIHBhdGggPSAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcImF0dGFjaG1lbnRcIiwgdGhpcy5idWNrZXQubmFtZSwgdGhpcy5uYW1lLCByZWNvcmRJZCk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3RzLmRlbGV0ZVJlcXVlc3QocGF0aCwge1xuICAgICAgICAgICAgICAgICAgbGFzdF9tb2RpZmllZDogbGFzdF9tb2RpZmllZCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZUF0dGFjaG1lbnQoX3gxOCkge1xuICAgICAgICByZXR1cm4gX3JlZjEzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW1vdmVBdHRhY2htZW50O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBhIHJlY29yZCBpbiBjdXJyZW50IGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICByZWNvcmQgICAgICAgICAgICAgICAgICBUaGUgcmVjb3JkIHRvIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeT0wXSAgICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLnNhZmVdICAgICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5sYXN0X21vZGlmaWVkXSBUaGUgbGFzdF9tb2RpZmllZCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMucGVybWlzc2lvbnNdICAgVGhlIHBlcm1pc3Npb25zIG9wdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUmVjb3JkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMTQgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKHJlY29yZCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgICAgdmFyIHBlcm1pc3Npb25zLCBfcmVjb3JkJG9wdGlvbnMyLCBsYXN0X21vZGlmaWVkLCBwYXRoLCByZXF1ZXN0O1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICgoMCwgX3V0aWxzLmlzT2JqZWN0KShyZWNvcmQpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSByZWNvcmQgb2JqZWN0IGlzIHJlcXVpcmVkLlwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5pZCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgcmVjb3JkIGlkIGlzIHJlcXVpcmVkLlwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbnMgPSBvcHRpb25zLnBlcm1pc3Npb25zO1xuICAgICAgICAgICAgICAgIF9yZWNvcmQkb3B0aW9uczIgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCByZWNvcmQsIG9wdGlvbnMpLCBsYXN0X21vZGlmaWVkID0gX3JlY29yZCRvcHRpb25zMi5sYXN0X21vZGlmaWVkO1xuICAgICAgICAgICAgICAgIHBhdGggPSAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcInJlY29yZFwiLCB0aGlzLmJ1Y2tldC5uYW1lLCB0aGlzLm5hbWUsIHJlY29yZC5pZCk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3RzLnVwZGF0ZVJlcXVlc3QocGF0aCwgeyBkYXRhOiByZWNvcmQsIHBlcm1pc3Npb25zOiBwZXJtaXNzaW9ucyB9LCB7XG4gICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgc2FmZTogdGhpcy5fZ2V0U2FmZShvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgIGxhc3RfbW9kaWZpZWQ6IGxhc3RfbW9kaWZpZWQsXG4gICAgICAgICAgICAgICAgICBwYXRjaDogISFvcHRpb25zLnBhdGNoXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVJlY29yZChfeDIwKSB7XG4gICAgICAgIHJldHVybiBfcmVmMTQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZGF0ZVJlY29yZDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgYSByZWNvcmQgZnJvbSB0aGUgY3VycmVudCBjb2xsZWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fFN0cmluZ30gcmVjb3JkICAgICAgICAgICAgICAgICAgVGhlIHJlY29yZCB0byBkZWxldGUuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICAgW29wdGlvbnM9e31dICAgICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgIFtvcHRpb25zLmhlYWRlcnNdICAgICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgICAgICAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSAgICAgICBbb3B0aW9ucy5zYWZlXSAgICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgICAgICAgW29wdGlvbnMubGFzdF9tb2RpZmllZF0gVGhlIGxhc3RfbW9kaWZpZWQgb3B0aW9uLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVSZWNvcmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYxNSA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIocmVjb3JkKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgICB2YXIgcmVjb3JkT2JqLCBpZCwgX3JlY29yZE9iaiRvcHRpb25zLCBsYXN0X21vZGlmaWVkLCBwYXRoLCByZXF1ZXN0O1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTIkKF9jb250ZXh0MTIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJlY29yZE9iaiA9ICgwLCBfdXRpbHMudG9EYXRhQm9keSkocmVjb3JkKTtcblxuICAgICAgICAgICAgICAgIGlmIChyZWNvcmRPYmouaWQpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIHJlY29yZCBpZCBpcyByZXF1aXJlZC5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlkID0gcmVjb3JkT2JqLmlkO1xuICAgICAgICAgICAgICAgIF9yZWNvcmRPYmokb3B0aW9ucyA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHJlY29yZE9iaiwgb3B0aW9ucyksIGxhc3RfbW9kaWZpZWQgPSBfcmVjb3JkT2JqJG9wdGlvbnMubGFzdF9tb2RpZmllZDtcbiAgICAgICAgICAgICAgICBwYXRoID0gKDAsIF9lbmRwb2ludDIuZGVmYXVsdCkoXCJyZWNvcmRcIiwgdGhpcy5idWNrZXQubmFtZSwgdGhpcy5uYW1lLCBpZCk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3RzLmRlbGV0ZVJlcXVlc3QocGF0aCwge1xuICAgICAgICAgICAgICAgICAgbGFzdF9tb2RpZmllZDogbGFzdF9tb2RpZmllZCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZVJlY29yZChfeDIyKSB7XG4gICAgICAgIHJldHVybiBfcmVmMTUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlbGV0ZVJlY29yZDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHJlY29yZCBmcm9tIHRoZSBjdXJyZW50IGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGlkICAgICAgICAgICAgICAgIFRoZSByZWNvcmQgaWQgdG8gcmV0cmlldmUuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucz17fV0gICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucy5oZWFkZXJzXSBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMucmV0cnk9MF0gTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UmVjb3JkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMTYgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKGlkKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgdmFyIHBhdGgsIHJlcXVlc3Q7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHBhdGggPSAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcInJlY29yZFwiLCB0aGlzLmJ1Y2tldC5uYW1lLCB0aGlzLm5hbWUsIGlkKTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0geyBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLCBwYXRoOiBwYXRoIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFJlY29yZChfeDI0KSB7XG4gICAgICAgIHJldHVybiBfcmVmMTYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFJlY29yZDtcbiAgICB9KClcblxuICAgIC8qKlxuICAgICAqIExpc3RzIHJlY29yZHMgZnJvbSB0aGUgY3VycmVudCBjb2xsZWN0aW9uLlxuICAgICAqXG4gICAgICogU29ydGluZyBpcyBkb25lIGJ5IHBhc3NpbmcgYSBgc29ydGAgc3RyaW5nIG9wdGlvbjpcbiAgICAgKlxuICAgICAqIC0gVGhlIGZpZWxkIHRvIG9yZGVyIHRoZSByZXN1bHRzIGJ5LCBwcmVmaXhlZCB3aXRoIGAtYCBmb3IgZGVzY2VuZGluZy5cbiAgICAgKiBEZWZhdWx0OiBgLWxhc3RfbW9kaWZpZWRgLlxuICAgICAqXG4gICAgICogQHNlZSBodHRwOi8va2ludG8ucmVhZHRoZWRvY3MuaW8vZW4vc3RhYmxlL2FwaS8xLngvc29ydGluZy5odG1sXG4gICAgICpcbiAgICAgKiBGaWx0ZXJpbmcgaXMgZG9uZSBieSBwYXNzaW5nIGEgYGZpbHRlcnNgIG9wdGlvbiBvYmplY3Q6XG4gICAgICpcbiAgICAgKiAtIGB7ZmllbGRuYW1lOiBcInZhbHVlXCJ9YFxuICAgICAqIC0gYHttaW5fZmllbGRuYW1lOiA0MDAwfWBcbiAgICAgKiAtIGB7aW5fZmllbGRuYW1lOiBcIjEsMiwzXCJ9YFxuICAgICAqIC0gYHtub3RfZmllbGRuYW1lOiAwfWBcbiAgICAgKiAtIGB7ZXhjbHVkZV9maWVsZG5hbWU6IFwiMCwxXCJ9YFxuICAgICAqXG4gICAgICogQHNlZSBodHRwOi8va2ludG8ucmVhZHRoZWRvY3MuaW8vZW4vc3RhYmxlL2FwaS8xLngvZmlsdGVyaW5nLmh0bWxcbiAgICAgKlxuICAgICAqIFBhZ2luYXRpbmcgaXMgZG9uZSBieSBwYXNzaW5nIGEgYGxpbWl0YCBvcHRpb24sIHRoZW4gY2FsbGluZyB0aGUgYG5leHQoKWBcbiAgICAgKiBtZXRob2QgZnJvbSB0aGUgcmVzb2x2ZWQgcmVzdWx0IG9iamVjdCB0byBmZXRjaCB0aGUgbmV4dCBwYWdlLCBpZiBhbnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnM9e31dICAgICAgICAgICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgIFtvcHRpb25zLmhlYWRlcnNdICAgICAgICAgICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgICAgICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gICBbb3B0aW9ucy5maWx0ZXJzPVtdXSAgICAgICAgICAgIFRoZSBmaWx0ZXJzIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgW29wdGlvbnMuc29ydD1cIi1sYXN0X21vZGlmaWVkXCJdIFRoZSBzb3J0IGZpZWxkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBbb3B0aW9ucy5hdF0gICAgICAgICAgICAgICAgICAgIFRoZSB0aW1lc3RhbXAgdG8gZ2V0IGEgc25hcHNob3QgYXQuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIFtvcHRpb25zLmxpbWl0PW51bGxdICAgICAgICAgICAgVGhlIGxpbWl0IGZpZWxkLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBbb3B0aW9ucy5wYWdlcz0xXSAgICAgICAgICAgICAgIFRoZSBudW1iZXIgb2YgcmVzdWx0IHBhZ2VzIHRvIGFnZ3JlZ2F0ZS5cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgW29wdGlvbnMuc2luY2U9bnVsbF0gICAgICAgICAgICBPbmx5IHJldHJpZXZlIHJlY29yZHMgbW9kaWZpZWQgc2luY2UgdGhlIHByb3ZpZGVkIHRpbWVzdGFtcC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdFJlY29yZHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYxNyA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgICAgdmFyIHBhdGg7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHBhdGggPSAoMCwgX2VuZHBvaW50Mi5kZWZhdWx0KShcInJlY29yZFwiLCB0aGlzLmJ1Y2tldC5uYW1lLCB0aGlzLm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KFwiYXRcIikpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5nZXRTbmFwc2hvdChvcHRpb25zLmF0KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LmFicnVwdChcInJldHVyblwiLCB0aGlzLmNsaWVudC5wYWdpbmF0ZWRMaXN0KHBhdGgsIG9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gbGlzdFJlY29yZHMoKSB7XG4gICAgICAgIHJldHVybiBfcmVmMTcuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpc3RSZWNvcmRzO1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzSGlzdG9yeUNvbXBsZXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMTggPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkge1xuICAgICAgICB2YXIgX3JlZjE5LCBfcmVmMTkkZGF0YSwgb2xkZXN0SGlzdG9yeUVudHJ5O1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVja2V0Lmxpc3RIaXN0b3J5KHtcbiAgICAgICAgICAgICAgICAgIGxpbWl0OiAxLFxuICAgICAgICAgICAgICAgICAgZmlsdGVyczoge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiY3JlYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlX25hbWU6IFwiY29sbGVjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uX2lkOiB0aGlzLm5hbWVcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgX3JlZjE5ID0gX2NvbnRleHQxNS5zZW50O1xuICAgICAgICAgICAgICAgIF9yZWYxOSRkYXRhID0gKDAsIF9zbGljZWRUb0FycmF5My5kZWZhdWx0KShfcmVmMTkuZGF0YSwgMSk7XG4gICAgICAgICAgICAgICAgb2xkZXN0SGlzdG9yeUVudHJ5ID0gX3JlZjE5JGRhdGFbMF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KFwicmV0dXJuXCIsICEhb2xkZXN0SGlzdG9yeUVudHJ5KTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBpc0hpc3RvcnlDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYxOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNIaXN0b3J5Q29tcGxldGU7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdENoYW5nZXNCYWNrVG9cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYyMCA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoYXQpIHtcbiAgICAgICAgdmFyIF9yZWYyMSwgY2hhbmdlcztcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTE2JChfY29udGV4dDE2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlzSGlzdG9yeUNvbXBsZXRlKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmIChfY29udGV4dDE2LnNlbnQpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb21wdXRpbmcgYSBzbmFwc2hvdCBpcyBvbmx5IHBvc3NpYmxlIHdoZW4gdGhlIGZ1bGwgaGlzdG9yeSBmb3IgYSBcIiArIFwiY29sbGVjdGlvbiBpcyBhdmFpbGFibGUuIEhlcmUsIHRoZSBoaXN0b3J5IHBsdWdpbiBzZWVtcyB0byBoYXZlIFwiICsgXCJiZWVuIGVuYWJsZWQgYWZ0ZXIgdGhlIGNyZWF0aW9uIG9mIHRoZSBjb2xsZWN0aW9uLlwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idWNrZXQubGlzdEhpc3Rvcnkoe1xuICAgICAgICAgICAgICAgICAgcGFnZXM6IEluZmluaXR5LCAvLyBhbGwgcGFnZXMgdXAgdG8gdGFyZ2V0IHRpbWVzdGFtcCBhcmUgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgIHNvcnQ6IFwiLXRhcmdldC5kYXRhLmxhc3RfbW9kaWZpZWRcIixcbiAgICAgICAgICAgICAgICAgIGZpbHRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfbmFtZTogXCJyZWNvcmRcIixcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9pZDogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBcIm1heF90YXJnZXQuZGF0YS5sYXN0X21vZGlmaWVkXCI6IFN0cmluZyhhdCkgLy8gZXEuIHRvIDw9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIF9yZWYyMSA9IF9jb250ZXh0MTYuc2VudDtcbiAgICAgICAgICAgICAgICBjaGFuZ2VzID0gX3JlZjIxLmRhdGE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KFwicmV0dXJuXCIsIGNoYW5nZXMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGxpc3RDaGFuZ2VzQmFja1RvKF94MjcpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYyMC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGlzdENoYW5nZXNCYWNrVG87XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U25hcHNob3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYyMiA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcoYXQpIHtcbiAgICAgICAgdmFyIGNoYW5nZXMsIHNlZW5JZHMsIHNuYXBzaG90LCBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uLCBfZGlkSXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yRXJyb3IsIF9sb29wLCBfaXRlcmF0b3IsIF9zdGVwO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICghKCFOdW1iZXIuaXNJbnRlZ2VyKGF0KSB8fCBhdCA8PSAwKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQsIGV4cGVjdGVkIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdENoYW5nZXNCYWNrVG8oYXQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBjaGFuZ2VzID0gX2NvbnRleHQxNy5zZW50O1xuXG4gICAgICAgICAgICAgICAgLy8gUmVwbGF5IGNoYW5nZXMgdG8gY29tcHV0ZSB0aGUgcmVxdWVzdGVkIHNuYXBzaG90LlxuICAgICAgICAgICAgICAgIHNlZW5JZHMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgc25hcHNob3QgPSBbXTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTcucHJldiA9IDEwO1xuXG4gICAgICAgICAgICAgICAgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMjMgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSBfcmVmMjMuYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IF9yZWYyMy50YXJnZXQuZGF0YTtcblxuICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PSBcImRlbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlZW5JZHMuYWRkKHJlY29yZC5pZCk7IC8vIGVuc3VyZSBub3QgcmVwcm9jZXNzaW5nIGRlbGV0ZWQgZW50cmllc1xuICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdCA9IHNuYXBzaG90LmZpbHRlcihmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByLmlkICE9PSByZWNvcmQuaWQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghc2Vlbklkcy5oYXMocmVjb3JkLmlkKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWVuSWRzLmFkZChyZWNvcmQuaWQpO1xuICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdC5wdXNoKHJlY29yZCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yID0gY2hhbmdlc1tTeW1ib2wuaXRlcmF0b3JdKCk7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgX2xvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMTk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDE3LnByZXYgPSAxNTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE3LnQwID0gX2NvbnRleHQxN1tcImNhdGNoXCJdKDEwKTtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBfY29udGV4dDE3LnQwO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNy5wcmV2ID0gMTk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNy5wcmV2ID0gMjA7XG5cbiAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTcucHJldiA9IDIyO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMjU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblxuICAgICAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LmZpbmlzaCgyMik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5maW5pc2goMTkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuYWJydXB0KFwicmV0dXJuXCIsIHtcbiAgICAgICAgICAgICAgICAgIGxhc3RfbW9kaWZpZWQ6IFN0cmluZyhhdCksXG4gICAgICAgICAgICAgICAgICBkYXRhOiBzbmFwc2hvdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiLmxhc3RfbW9kaWZpZWQgLSBhLmxhc3RfbW9kaWZpZWQ7XG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNuYXBzaG90cyBkb24ndCBzdXBwb3J0IHBhZ2luYXRpb25cIik7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgdG90YWxSZWNvcmRzOiBzbmFwc2hvdC5sZW5ndGhcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI4OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE3LCB0aGlzLCBbWzEwLCAxNSwgMTksIDI3XSwgWzIwLCwgMjIsIDI2XV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRTbmFwc2hvdChfeDI4KSB7XG4gICAgICAgIHJldHVybiBfcmVmMjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFNuYXBzaG90O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYmF0Y2ggb3BlcmF0aW9ucyBhdCB0aGUgY3VycmVudCBjb2xsZWN0aW9uIGxldmVsLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgICAgICAgICAgICAgICAgIFRoZSBiYXRjaCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgIFtvcHRpb25zPXt9XSAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnMuaGVhZGVyc10gICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSAgW29wdGlvbnMuc2FmZV0gICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBbb3B0aW9ucy5yZXRyeV0gICAgICBUaGUgcmV0cnkgb3B0aW9uLlxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59ICBbb3B0aW9ucy5hZ2dyZWdhdGVdICBQcm9kdWNlcyBhIGdyb3VwZWQgcmVzdWx0IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYmF0Y2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYyNCA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgoZm4pIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jbGllbnQuYmF0Y2goZm4sIHtcbiAgICAgICAgICAgICAgICAgIGJ1Y2tldDogdGhpcy5idWNrZXQubmFtZSxcbiAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgYWdncmVnYXRlOiAhIW9wdGlvbnMuYWdncmVnYXRlXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGJhdGNoKF94MjkpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYyNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmF0Y2g7XG4gICAgfSgpXG4gIH1dKTtcbiAgcmV0dXJuIENvbGxlY3Rpb247XG59KCksIChfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiYWRkQXR0YWNobWVudFwiLCBbX2RlY10sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgXCJhZGRBdHRhY2htZW50XCIpLCBfY2xhc3MucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlbW92ZUF0dGFjaG1lbnRcIiwgW19kZWMyXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcInJlbW92ZUF0dGFjaG1lbnRcIiksIF9jbGFzcy5wcm90b3R5cGUpLCBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsIFwiZ2V0U25hcHNob3RcIiwgW19kZWMzXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCBcImdldFNuYXBzaG90XCIpLCBfY2xhc3MucHJvdG90eXBlKSksIF9jbGFzcykpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ29sbGVjdGlvbjsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGVuZHBvaW50O1xuLyoqXG4gKiBFbmRwb2ludHMgdGVtcGxhdGVzLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIEVORFBPSU5UUyA9IHtcbiAgcm9vdDogZnVuY3Rpb24gcm9vdCgpIHtcbiAgICByZXR1cm4gXCIvXCI7XG4gIH0sXG4gIGJhdGNoOiBmdW5jdGlvbiBiYXRjaCgpIHtcbiAgICByZXR1cm4gXCIvYmF0Y2hcIjtcbiAgfSxcbiAgcGVybWlzc2lvbnM6IGZ1bmN0aW9uIHBlcm1pc3Npb25zKCkge1xuICAgIHJldHVybiBcIi9wZXJtaXNzaW9uc1wiO1xuICB9LFxuICBidWNrZXQ6IGZ1bmN0aW9uIGJ1Y2tldChfYnVja2V0KSB7XG4gICAgcmV0dXJuIFwiL2J1Y2tldHNcIiArIChfYnVja2V0ID8gXCIvXCIgKyBfYnVja2V0IDogXCJcIik7XG4gIH0sXG4gIGhpc3Rvcnk6IGZ1bmN0aW9uIGhpc3RvcnkoYnVja2V0KSB7XG4gICAgcmV0dXJuIEVORFBPSU5UUy5idWNrZXQoYnVja2V0KSArIFwiL2hpc3RvcnlcIjtcbiAgfSxcbiAgY29sbGVjdGlvbjogZnVuY3Rpb24gY29sbGVjdGlvbihidWNrZXQsIGNvbGwpIHtcbiAgICByZXR1cm4gRU5EUE9JTlRTLmJ1Y2tldChidWNrZXQpICsgXCIvY29sbGVjdGlvbnNcIiArIChjb2xsID8gXCIvXCIgKyBjb2xsIDogXCJcIik7XG4gIH0sXG4gIGdyb3VwOiBmdW5jdGlvbiBncm91cChidWNrZXQsIF9ncm91cCkge1xuICAgIHJldHVybiBFTkRQT0lOVFMuYnVja2V0KGJ1Y2tldCkgKyBcIi9ncm91cHNcIiArIChfZ3JvdXAgPyBcIi9cIiArIF9ncm91cCA6IFwiXCIpO1xuICB9LFxuICByZWNvcmQ6IGZ1bmN0aW9uIHJlY29yZChidWNrZXQsIGNvbGwsIGlkKSB7XG4gICAgcmV0dXJuIEVORFBPSU5UUy5jb2xsZWN0aW9uKGJ1Y2tldCwgY29sbCkgKyBcIi9yZWNvcmRzXCIgKyAoaWQgPyBcIi9cIiArIGlkIDogXCJcIik7XG4gIH0sXG4gIGF0dGFjaG1lbnQ6IGZ1bmN0aW9uIGF0dGFjaG1lbnQoYnVja2V0LCBjb2xsLCBpZCkge1xuICAgIHJldHVybiBFTkRQT0lOVFMucmVjb3JkKGJ1Y2tldCwgY29sbCwgaWQpICsgXCIvYXR0YWNobWVudFwiO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHJpZXZlcyBhIHNlcnZlciBlbnBvaW50IGJ5IGl0cyBuYW1lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICAgIG5hbWUgVGhlIGVuZHBvaW50IG5hbWUuXG4gKiBAcGFyYW0gIHsuLi5zdHJpbmd9IGFyZ3MgVGhlIGVuZHBvaW50IHBhcmFtZXRlcnMuXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVuZHBvaW50KG5hbWUpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gRU5EUE9JTlRTW25hbWVdLmFwcGx5KEVORFBPSU5UUywgYXJncyk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlVucGFyc2VhYmxlUmVzcG9uc2VFcnJvciA9IGV4cG9ydHMuU2VydmVyUmVzcG9uc2UgPSBleHBvcnRzLk5ldHdvcmtUaW1lb3V0RXJyb3IgPSB1bmRlZmluZWQ7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIik7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2V4dGVuZGFibGVCdWlsdGluNShjbHMpIHtcbiAgZnVuY3Rpb24gRXh0ZW5kYWJsZUJ1aWx0aW4oKSB7XG4gICAgdmFyIGluc3RhbmNlID0gUmVmbGVjdC5jb25zdHJ1Y3QoY2xzLCBBcnJheS5mcm9tKGFyZ3VtZW50cykpO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICBFeHRlbmRhYmxlQnVpbHRpbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGNscy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IGNscyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoRXh0ZW5kYWJsZUJ1aWx0aW4sIGNscyk7XG4gIH0gZWxzZSB7XG4gICAgRXh0ZW5kYWJsZUJ1aWx0aW4uX19wcm90b19fID0gY2xzO1xuICB9XG5cbiAgcmV0dXJuIEV4dGVuZGFibGVCdWlsdGluO1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kYWJsZUJ1aWx0aW4zKGNscykge1xuICBmdW5jdGlvbiBFeHRlbmRhYmxlQnVpbHRpbigpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBSZWZsZWN0LmNvbnN0cnVjdChjbHMsIEFycmF5LmZyb20oYXJndW1lbnRzKSk7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGluc3RhbmNlLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuXG4gIEV4dGVuZGFibGVCdWlsdGluLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoY2xzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogY2xzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihFeHRlbmRhYmxlQnVpbHRpbiwgY2xzKTtcbiAgfSBlbHNlIHtcbiAgICBFeHRlbmRhYmxlQnVpbHRpbi5fX3Byb3RvX18gPSBjbHM7XG4gIH1cblxuICByZXR1cm4gRXh0ZW5kYWJsZUJ1aWx0aW47XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRhYmxlQnVpbHRpbihjbHMpIHtcbiAgZnVuY3Rpb24gRXh0ZW5kYWJsZUJ1aWx0aW4oKSB7XG4gICAgdmFyIGluc3RhbmNlID0gUmVmbGVjdC5jb25zdHJ1Y3QoY2xzLCBBcnJheS5mcm9tKGFyZ3VtZW50cykpO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICBFeHRlbmRhYmxlQnVpbHRpbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGNscy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IGNscyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoRXh0ZW5kYWJsZUJ1aWx0aW4sIGNscyk7XG4gIH0gZWxzZSB7XG4gICAgRXh0ZW5kYWJsZUJ1aWx0aW4uX19wcm90b19fID0gY2xzO1xuICB9XG5cbiAgcmV0dXJuIEV4dGVuZGFibGVCdWlsdGluO1xufVxuXG4vKipcbiAqIEtpbnRvIHNlcnZlciBlcnJvciBjb2RlIGRlc2NyaXB0b3JzLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIEVSUk9SX0NPREVTID0ge1xuICAxMDQ6IFwiTWlzc2luZyBBdXRob3JpemF0aW9uIFRva2VuXCIsXG4gIDEwNTogXCJJbnZhbGlkIEF1dGhvcml6YXRpb24gVG9rZW5cIixcbiAgMTA2OiBcIlJlcXVlc3QgYm9keSB3YXMgbm90IHZhbGlkIEpTT05cIixcbiAgMTA3OiBcIkludmFsaWQgcmVxdWVzdCBwYXJhbWV0ZXJcIixcbiAgMTA4OiBcIk1pc3NpbmcgcmVxdWVzdCBwYXJhbWV0ZXJcIixcbiAgMTA5OiBcIkludmFsaWQgcG9zdGVkIGRhdGFcIixcbiAgMTEwOiBcIkludmFsaWQgVG9rZW4gLyBpZFwiLFxuICAxMTE6IFwiTWlzc2luZyBUb2tlbiAvIGlkXCIsXG4gIDExMjogXCJDb250ZW50LUxlbmd0aCBoZWFkZXIgd2FzIG5vdCBwcm92aWRlZFwiLFxuICAxMTM6IFwiUmVxdWVzdCBib2R5IHRvbyBsYXJnZVwiLFxuICAxMTQ6IFwiUmVzb3VyY2Ugd2FzIGNyZWF0ZWQsIHVwZGF0ZWQgb3IgZGVsZXRlZCBtZWFud2hpbGVcIixcbiAgMTE1OiBcIk1ldGhvZCBub3QgYWxsb3dlZCBvbiB0aGlzIGVuZCBwb2ludCAoaGludDogc2VydmVyIG1heSBiZSByZWFkb25seSlcIixcbiAgMTE2OiBcIlJlcXVlc3RlZCB2ZXJzaW9uIG5vdCBhdmFpbGFibGUgb24gdGhpcyBzZXJ2ZXJcIixcbiAgMTE3OiBcIkNsaWVudCBoYXMgc2VudCB0b28gbWFueSByZXF1ZXN0c1wiLFxuICAxMjE6IFwiUmVzb3VyY2UgYWNjZXNzIGlzIGZvcmJpZGRlbiBmb3IgdGhpcyB1c2VyXCIsXG4gIDEyMjogXCJBbm90aGVyIHJlc291cmNlIHZpb2xhdGVzIGNvbnN0cmFpbnRcIixcbiAgMjAxOiBcIlNlcnZpY2UgVGVtcG9yYXJ5IHVuYXZhaWxhYmxlIGR1ZSB0byBoaWdoIGxvYWRcIixcbiAgMjAyOiBcIlNlcnZpY2UgZGVwcmVjYXRlZFwiLFxuICA5OTk6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCJcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEVSUk9SX0NPREVTO1xuXG52YXIgTmV0d29ya1RpbWVvdXRFcnJvciA9IGZ1bmN0aW9uIChfZXh0ZW5kYWJsZUJ1aWx0aW4yKSB7XG4gICgwLCBfaW5oZXJpdHMzLmRlZmF1bHQpKE5ldHdvcmtUaW1lb3V0RXJyb3IsIF9leHRlbmRhYmxlQnVpbHRpbjIpO1xuXG4gIGZ1bmN0aW9uIE5ldHdvcmtUaW1lb3V0RXJyb3IodXJsLCBvcHRpb25zKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgTmV0d29ya1RpbWVvdXRFcnJvcik7XG5cbiAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChOZXR3b3JrVGltZW91dEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTmV0d29ya1RpbWVvdXRFcnJvcikpLmNhbGwodGhpcywgXCJUaW1lb3V0IHdoaWxlIHRyeWluZyB0byBhY2Nlc3MgXCIgKyB1cmwgKyBcIiB3aXRoIFwiICsgSlNPTi5zdHJpbmdpZnkob3B0aW9ucykpKTtcblxuICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoX3RoaXMsIE5ldHdvcmtUaW1lb3V0RXJyb3IpO1xuICAgIH1cblxuICAgIF90aGlzLnVybCA9IHVybDtcbiAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICByZXR1cm4gTmV0d29ya1RpbWVvdXRFcnJvcjtcbn0oX2V4dGVuZGFibGVCdWlsdGluKEVycm9yKSk7XG5cbnZhciBVbnBhcnNlYWJsZVJlc3BvbnNlRXJyb3IgPSBmdW5jdGlvbiAoX2V4dGVuZGFibGVCdWlsdGluNCkge1xuICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShVbnBhcnNlYWJsZVJlc3BvbnNlRXJyb3IsIF9leHRlbmRhYmxlQnVpbHRpbjQpO1xuXG4gIGZ1bmN0aW9uIFVucGFyc2VhYmxlUmVzcG9uc2VFcnJvcihyZXNwb25zZSwgYm9keSwgZXJyb3IpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBVbnBhcnNlYWJsZVJlc3BvbnNlRXJyb3IpO1xuICAgIHZhciBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG5cbiAgICB2YXIgX3RoaXMyID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoVW5wYXJzZWFibGVSZXNwb25zZUVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVW5wYXJzZWFibGVSZXNwb25zZUVycm9yKSkuY2FsbCh0aGlzLCBcIlJlc3BvbnNlIGZyb20gc2VydmVyIHVucGFyc2VhYmxlIChIVFRQIFwiICsgKHN0YXR1cyB8fCAwKSArIFwiOyBcIiArIGVycm9yICsgXCIpOiBcIiArIGJvZHkpKTtcblxuICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoX3RoaXMyLCBVbnBhcnNlYWJsZVJlc3BvbnNlRXJyb3IpO1xuICAgIH1cblxuICAgIF90aGlzMi5zdGF0dXMgPSBzdGF0dXM7XG4gICAgX3RoaXMyLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgX3RoaXMyLnN0YWNrID0gZXJyb3Iuc3RhY2s7XG4gICAgX3RoaXMyLmVycm9yID0gZXJyb3I7XG4gICAgcmV0dXJuIF90aGlzMjtcbiAgfVxuXG4gIHJldHVybiBVbnBhcnNlYWJsZVJlc3BvbnNlRXJyb3I7XG59KF9leHRlbmRhYmxlQnVpbHRpbjMoRXJyb3IpKTtcblxuLyoqXG4gKiBcIkVycm9yXCIgc3ViY2xhc3MgcmVwcmVzZW50aW5nIGEgPj00MDAgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICpcbiAqIFdoZXRoZXIgb3Igbm90IHRoaXMgaXMgYW4gZXJyb3IgZGVwZW5kcyBvbiB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqIFRoZSBganNvbmAgZmllbGQgY2FuIGJlIHVuZGVmaW5lZCBpZiB0aGUgc2VydmVyIHJlc3BvbmRlZCB3aXRoIGFuXG4gKiBlbXB0eSByZXNwb25zZSBib2R5LiBUaGlzIHNob3VsZG4ndCBnZW5lcmFsbHkgaGFwcGVuLiBNb3N0IFwiYmFkXCJcbiAqIHJlc3BvbnNlcyBjb21lIHdpdGggYSBKU09OIGVycm9yIGRlc2NyaXB0aW9uLCBvciAoaWYgdGhleSdyZVxuICogZnJvbnRlZCBieSBhIENETiBvciBuZ2lueCBvciBzb21ldGhpbmcpIG9jY2FzaW9uYWxseSBub24tSlNPTlxuICogcmVzcG9uc2VzICh3aGljaCBiZWNvbWUgVW5wYXJzZWFibGVSZXNwb25zZUVycm9ycywgYWJvdmUpLlxuICovXG5cblxudmFyIFNlcnZlclJlc3BvbnNlID0gZnVuY3Rpb24gKF9leHRlbmRhYmxlQnVpbHRpbjYpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoU2VydmVyUmVzcG9uc2UsIF9leHRlbmRhYmxlQnVpbHRpbjYpO1xuXG4gIGZ1bmN0aW9uIFNlcnZlclJlc3BvbnNlKHJlc3BvbnNlLCBqc29uKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgU2VydmVyUmVzcG9uc2UpO1xuICAgIHZhciBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgdmFyIHN0YXR1c1RleHQgPSByZXNwb25zZS5zdGF0dXNUZXh0O1xuXG4gICAgdmFyIGVycm5vTXNnID0gdm9pZCAwO1xuXG4gICAgaWYgKGpzb24pIHtcbiAgICAgIC8vIFRyeSB0byBmaWxsIGluIGluZm9ybWF0aW9uIGZyb20gdGhlIEpTT04gZXJyb3IuXG4gICAgICBzdGF0dXNUZXh0ID0ganNvbi5lcnJvciB8fCBzdGF0dXNUZXh0O1xuXG4gICAgICAvLyBUYWtlIGVycm5vTXNnIGZyb20gZWl0aGVyIEVSUk9SX0NPREVTIG9yIGpzb24ubWVzc2FnZS5cbiAgICAgIGlmIChqc29uLmVycm5vICYmIGpzb24uZXJybm8gaW4gRVJST1JfQ09ERVMpIHtcbiAgICAgICAgZXJybm9Nc2cgPSBFUlJPUl9DT0RFU1tqc29uLmVycm5vXTtcbiAgICAgIH0gZWxzZSBpZiAoanNvbi5tZXNzYWdlKSB7XG4gICAgICAgIGVycm5vTXNnID0ganNvbi5tZXNzYWdlO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB3ZSBoYWQgYm90aCBFUlJPUl9DT0RFUyBhbmQganNvbi5tZXNzYWdlLCBhbmQgdGhleSBkaWZmZXIsXG4gICAgICAvLyBjb21iaW5lIHRoZW0uXG4gICAgICBpZiAoZXJybm9Nc2cgJiYganNvbi5tZXNzYWdlICYmIGpzb24ubWVzc2FnZSAhPT0gZXJybm9Nc2cpIHtcbiAgICAgICAgZXJybm9Nc2cgKz0gXCIgKFwiICsganNvbi5tZXNzYWdlICsgXCIpXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG1lc3NhZ2UgPSBcIkhUVFAgXCIgKyBzdGF0dXMgKyBcIiBcIiArIHN0YXR1c1RleHQ7XG4gICAgaWYgKGVycm5vTXNnKSB7XG4gICAgICBtZXNzYWdlICs9IFwiOiBcIiArIGVycm5vTXNnO1xuICAgIH1cblxuICAgIHZhciBfdGhpczMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKHRoaXMsIChTZXJ2ZXJSZXNwb25zZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNlcnZlclJlc3BvbnNlKSkuY2FsbCh0aGlzLCBtZXNzYWdlLnRyaW0oKSkpO1xuXG4gICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShfdGhpczMsIFNlcnZlclJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICBfdGhpczMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICBfdGhpczMuZGF0YSA9IGpzb247XG4gICAgcmV0dXJuIF90aGlzMztcbiAgfVxuXG4gIHJldHVybiBTZXJ2ZXJSZXNwb25zZTtcbn0oX2V4dGVuZGFibGVCdWlsdGluNShFcnJvcikpO1xuXG5leHBvcnRzLk5ldHdvcmtUaW1lb3V0RXJyb3IgPSBOZXR3b3JrVGltZW91dEVycm9yO1xuZXhwb3J0cy5TZXJ2ZXJSZXNwb25zZSA9IFNlcnZlclJlc3BvbnNlO1xuZXhwb3J0cy5VbnBhcnNlYWJsZVJlc3BvbnNlRXJyb3IgPSBVbnBhcnNlYWJsZVJlc3BvbnNlRXJyb3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIik7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfcmVnZW5lcmF0b3IgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvclwiKTtcblxudmFyIF9yZWdlbmVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWdlbmVyYXRvcik7XG5cbnZhciBfYXN5bmNUb0dlbmVyYXRvcjIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3JcIik7XG5cbnZhciBfYXN5bmNUb0dlbmVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3luY1RvR2VuZXJhdG9yMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3NcIik7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgX2Vycm9ycyA9IHJlcXVpcmUoXCIuL2Vycm9yc1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBFbmhhbmNlZCBIVFRQIGNsaWVudCBmb3IgdGhlIEtpbnRvIHByb3RvY29sLlxuICogQHByaXZhdGVcbiAqL1xudmFyIEhUVFAgPSBmdW5jdGlvbiAoKSB7XG4gICgwLCBfY3JlYXRlQ2xhc3MzLmRlZmF1bHQpKEhUVFAsIG51bGwsIFt7XG4gICAga2V5OiBcIkRFRkFVTFRfUkVRVUVTVF9IRUFERVJTXCIsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEhUVFAgcmVxdWVzdCBoZWFkZXJzIGFwcGxpZWQgdG8gZWFjaCBvdXRnb2luZyByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWZhdWx0T3B0aW9uc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHsgdGltZW91dDogbnVsbCwgcmVxdWVzdE1vZGU6IFwiY29yc1wiIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZXZlbnRzICAgICAgICAgICAgICAgICAgICAgICBUaGUgZXZlbnQgaGFuZGxlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gICAgICAgW29wdGlvbnM9e319ICAgICAgICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9ICAgICAgIFtvcHRpb25zLnRpbWVvdXQ9bnVsbF0gICAgICAgVGhlIHJlcXVlc3QgdGltZW91dCBpbiBtcywgaWYgYW55IChkZWZhdWx0OiBgbnVsbGApLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICAgICBbb3B0aW9ucy5yZXF1ZXN0TW9kZT1cImNvcnNcIl0gVGhlIEhUVFAgcmVxdWVzdCBtb2RlIChkZWZhdWx0OiBgXCJjb3JzXCJgKS5cbiAgICAgKi9cblxuICB9XSk7XG5cbiAgZnVuY3Rpb24gSFRUUChldmVudHMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgSFRUUCk7XG5cbiAgICAvLyBwdWJsaWMgcHJvcGVydGllc1xuICAgIC8qKlxuICAgICAqIFRoZSBldmVudCBlbWl0dGVyIGluc3RhbmNlLlxuICAgICAqIEB0eXBlIHtFdmVudEVtaXR0ZXJ9XG4gICAgICovXG4gICAgaWYgKCFldmVudHMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGV2ZW50cyBoYW5kbGVyIHByb3ZpZGVkXCIpO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcblxuICAgIC8qKlxuICAgICAqIFRoZSByZXF1ZXN0IG1vZGUuXG4gICAgICogQHNlZSAgaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI3JlcXVlc3Rtb2RlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnJlcXVlc3RNb2RlID0gb3B0aW9ucy5yZXF1ZXN0TW9kZSB8fCBIVFRQLmRlZmF1bHRPcHRpb25zLnJlcXVlc3RNb2RlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlcXVlc3QgdGltZW91dC5cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCBIVFRQLmRlZmF1bHRPcHRpb25zLnRpbWVvdXQ7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICAoMCwgX2NyZWF0ZUNsYXNzMy5kZWZhdWx0KShIVFRQLCBbe1xuICAgIGtleTogXCJ0aW1lZEZldGNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRpbWVkRmV0Y2godXJsLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgaGFzVGltZWRvdXQgPSBmYWxzZTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vIERldGVjdCBpZiBhIHJlcXVlc3QgaGFzIHRpbWVkIG91dC5cbiAgICAgICAgdmFyIF90aW1lb3V0SWQgPSB2b2lkIDA7XG4gICAgICAgIGlmIChfdGhpcy50aW1lb3V0KSB7XG4gICAgICAgICAgX3RpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaGFzVGltZWRvdXQgPSB0cnVlO1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBfZXJyb3JzLk5ldHdvcmtUaW1lb3V0RXJyb3IodXJsLCBvcHRpb25zKSk7XG4gICAgICAgICAgfSwgX3RoaXMudGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcHJvY2VlZFdpdGhIYW5kbGVyKGZuKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgICAgIGlmICghaGFzVGltZWRvdXQpIHtcbiAgICAgICAgICAgICAgaWYgKF90aW1lb3V0SWQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RpbWVvdXRJZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZm4oYXJnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGZldGNoKHVybCwgb3B0aW9ucykudGhlbihwcm9jZWVkV2l0aEhhbmRsZXIocmVzb2x2ZSkpLmNhdGNoKHByb2NlZWRXaXRoSGFuZGxlcihyZWplY3QpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwcm9jZXNzUmVzcG9uc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXNwb25zZSkge1xuICAgICAgICB2YXIgc3RhdHVzLCBoZWFkZXJzLCB0ZXh0LCBqc29uO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzLCBoZWFkZXJzID0gcmVzcG9uc2UuaGVhZGVycztcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0ZXh0ID0gX2NvbnRleHQuc2VudDtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYSBib2R5OyBpZiBzbyBwYXJzZSBpdCBhcyBKU09OLlxuICAgICAgICAgICAgICAgIGpzb24gPSB2b2lkIDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoISh0ZXh0Lmxlbmd0aCAhPT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2O1xuXG4gICAgICAgICAgICAgICAganNvbiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEwO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSg2KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgX2Vycm9ycy5VbnBhcnNlYWJsZVJlc3BvbnNlRXJyb3IocmVzcG9uc2UsIHRleHQsIF9jb250ZXh0LnQwKTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgIGlmICghKHN0YXR1cyA+PSA0MDApKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgX2Vycm9ycy5TZXJ2ZXJSZXNwb25zZShyZXNwb25zZSwganNvbik7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIHsgc3RhdHVzOiBzdGF0dXMsIGpzb246IGpzb24sIGhlYWRlcnM6IGhlYWRlcnMgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzYsIDEwXV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBwcm9jZXNzUmVzcG9uc2UoX3gyKSB7XG4gICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9jZXNzUmVzcG9uc2U7XG4gICAgfSgpXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmV0cnlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYyID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHVybCwgcmV0cnlBZnRlciwgcmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF91dGlscy5kZWxheSkocmV0cnlBZnRlcik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMucmVxdWVzdCh1cmwsIHJlcXVlc3QsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIG9wdGlvbnMsIHsgcmV0cnk6IG9wdGlvbnMucmV0cnkgLSAxIH0pKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJldHJ5KF94MywgX3g0LCBfeDUsIF94Nikge1xuICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldHJ5O1xuICAgIH0oKVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYW4gSFRUUCByZXF1ZXN0IHRvIHRoZSBLaW50byBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBSZXNvbHZlcyB3aXRoIGFuIG9iamV0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBIVFRQIHJlc3BvbnNlIHByb3BlcnRpZXM6XG4gICAgICogLSBge051bWJlcn0gIHN0YXR1c2AgIFRoZSBIVFRQIHN0YXR1cyBjb2RlLlxuICAgICAqIC0gYHtPYmplY3R9ICBqc29uYCAgICBUaGUgSlNPTiByZXNwb25zZSBib2R5LlxuICAgICAqIC0gYHtIZWFkZXJzfSBoZWFkZXJzYCBUaGUgcmVzcG9uc2UgaGVhZGVycyBvYmplY3Q7IHNlZSB0aGUgRVM2IGZldGNoKCkgc3BlYy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gdXJsICAgICAgICAgICAgICAgVGhlIFVSTC5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IFtyZXF1ZXN0PXt9XSAgICAgIFRoZSByZXF1ZXN0IG9iamVjdCwgcGFzc2VkIHRvXG4gICAgICogICAgIGZldGNoKCkgYXMgaXRzIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gW3JlcXVlc3QuaGVhZGVyc10gVGhlIHJlcXVlc3QgaGVhZGVycyBvYmplY3QgKGRlZmF1bHQ6IHt9KVxuICAgICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnM9e31dICAgICAgT3B0aW9ucyBmb3IgbWFraW5nIHRoZVxuICAgICAqICAgICByZXF1ZXN0XG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5yZXRyeV0gICBOdW1iZXIgb2YgcmV0cmllcyAoZGVmYXVsdDogMClcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVxdWVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjMgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTModXJsKSB7XG4gICAgICAgIHZhciBfcmVxdWVzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogeyBoZWFkZXJzOiB7fSB9O1xuXG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7IHJldHJ5OiAwIH07XG4gICAgICAgIHZhciByZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzLCByZXRyeUFmdGVyO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBkZWZhdWx0IHJlcXVlc3QgaGVhZGVycyBhcmUgYWx3YXlzIHNldFxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmhlYWRlcnMgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBIVFRQLkRFRkFVTFRfUkVRVUVTVF9IRUFERVJTLCBfcmVxdWVzdC5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAvLyBJZiBhIG11bHRpcGFydCBib2R5IGlzIHByb3ZpZGVkLCByZW1vdmUgYW55IGN1c3RvbSBDb250ZW50LVR5cGUgaGVhZGVyIGFzXG4gICAgICAgICAgICAgICAgLy8gdGhlIGZldGNoKCkgaW1wbGVtZW50YXRpb24gd2lsbCBhZGQgdGhlIGNvcnJlY3Qgb25lIGZvciB1cy5cbiAgICAgICAgICAgICAgICBpZiAoX3JlcXVlc3QuYm9keSAmJiB0eXBlb2YgX3JlcXVlc3QuYm9keS5hcHBlbmQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIF9yZXF1ZXN0LmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0Lm1vZGUgPSB0aGlzLnJlcXVlc3RNb2RlO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbWVkRmV0Y2godXJsLCBfcmVxdWVzdCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7XG4gICAgICAgICAgICAgICAgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzLCBoZWFkZXJzID0gcmVzcG9uc2UuaGVhZGVycztcblxuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tGb3JEZXByZWNhdGlvbkhlYWRlcihoZWFkZXJzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0ZvckJhY2tvZmZIZWFkZXIoc3RhdHVzLCBoZWFkZXJzKTtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZXJ2ZXIgc3VtbW9ucyB0aGUgY2xpZW50IHRvIHJldHJ5IGFmdGVyIGEgd2hpbGUuXG4gICAgICAgICAgICAgICAgcmV0cnlBZnRlciA9IHRoaXMuX2NoZWNrRm9yUmV0cnlBZnRlckhlYWRlcihzdGF0dXMsIGhlYWRlcnMpO1xuICAgICAgICAgICAgICAgIC8vIElmIG51bWJlciBvZiBhbGxvd2VkIG9mIHJldHJpZXMgaXMgbm90IGV4aGF1c3RlZCwgcmV0cnkgdGhlIHNhbWUgcmVxdWVzdC5cblxuICAgICAgICAgICAgICAgIGlmICghKHJldHJ5QWZ0ZXIgJiYgb3B0aW9ucy5yZXRyeSA+IDApKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5yZXRyeSh1cmwsIHJldHJ5QWZ0ZXIsIF9yZXF1ZXN0LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiLCB0aGlzLnByb2Nlc3NSZXNwb25zZShyZXNwb25zZSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmVxdWVzdChfeDcpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcIl9jaGVja0ZvckRlcHJlY2F0aW9uSGVhZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9jaGVja0ZvckRlcHJlY2F0aW9uSGVhZGVyKGhlYWRlcnMpIHtcbiAgICAgIHZhciBhbGVydEhlYWRlciA9IGhlYWRlcnMuZ2V0KFwiQWxlcnRcIik7XG4gICAgICBpZiAoIWFsZXJ0SGVhZGVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBhbGVydCA9IHZvaWQgMDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGFsZXJ0ID0gSlNPTi5wYXJzZShhbGVydEhlYWRlcik7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVW5hYmxlIHRvIHBhcnNlIEFsZXJ0IGhlYWRlciBtZXNzYWdlXCIsIGFsZXJ0SGVhZGVyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc29sZS53YXJuKGFsZXJ0Lm1lc3NhZ2UsIGFsZXJ0LnVybCk7XG4gICAgICB0aGlzLmV2ZW50cy5lbWl0KFwiZGVwcmVjYXRlZFwiLCBhbGVydCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9jaGVja0ZvckJhY2tvZmZIZWFkZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NoZWNrRm9yQmFja29mZkhlYWRlcihzdGF0dXMsIGhlYWRlcnMpIHtcbiAgICAgIHZhciBiYWNrb2ZmTXMgPSB2b2lkIDA7XG4gICAgICB2YXIgYmFja29mZlNlY29uZHMgPSBwYXJzZUludChoZWFkZXJzLmdldChcIkJhY2tvZmZcIiksIDEwKTtcbiAgICAgIGlmIChiYWNrb2ZmU2Vjb25kcyA+IDApIHtcbiAgICAgICAgYmFja29mZk1zID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBiYWNrb2ZmU2Vjb25kcyAqIDEwMDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYWNrb2ZmTXMgPSAwO1xuICAgICAgfVxuICAgICAgdGhpcy5ldmVudHMuZW1pdChcImJhY2tvZmZcIiwgYmFja29mZk1zKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2NoZWNrRm9yUmV0cnlBZnRlckhlYWRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2hlY2tGb3JSZXRyeUFmdGVySGVhZGVyKHN0YXR1cywgaGVhZGVycykge1xuICAgICAgdmFyIHJldHJ5QWZ0ZXIgPSBoZWFkZXJzLmdldChcIlJldHJ5LUFmdGVyXCIpO1xuICAgICAgaWYgKCFyZXRyeUFmdGVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBkZWxheSA9IHBhcnNlSW50KHJldHJ5QWZ0ZXIsIDEwKSAqIDEwMDA7XG4gICAgICByZXRyeUFmdGVyID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBkZWxheTtcbiAgICAgIHRoaXMuZXZlbnRzLmVtaXQoXCJyZXRyeS1hZnRlclwiLCByZXRyeUFmdGVyKTtcbiAgICAgIHJldHVybiBkZWxheTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEhUVFA7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEhUVFA7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB1bmRlZmluZWQ7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX2V2ZW50cyA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5cbnZhciBfYmFzZSA9IHJlcXVpcmUoXCIuL2Jhc2VcIik7XG5cbnZhciBfYmFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIEtpbnRvQ2xpZW50ID0gZnVuY3Rpb24gKF9LaW50b0NsaWVudEJhc2UpIHtcbiAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoS2ludG9DbGllbnQsIF9LaW50b0NsaWVudEJhc2UpO1xuXG4gIGZ1bmN0aW9uIEtpbnRvQ2xpZW50KHJlbW90ZSkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBLaW50b0NsaWVudCk7XG5cbiAgICB2YXIgZXZlbnRzID0gb3B0aW9ucy5ldmVudHMgfHwgbmV3IF9ldmVudHMuRXZlbnRFbWl0dGVyKCk7XG5cbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCAoS2ludG9DbGllbnQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihLaW50b0NsaWVudCkpLmNhbGwodGhpcywgcmVtb3RlLCBPYmplY3QuYXNzaWduKHsgZXZlbnRzOiBldmVudHMgfSwgb3B0aW9ucykpKTtcbiAgfVxuXG4gIHJldHVybiBLaW50b0NsaWVudDtcbn0oX2Jhc2UyLmRlZmF1bHQpO1xuXG4vLyBUaGlzIGlzIGEgaGFjayB0byBhdm9pZCBCcm93c2VyaWZ5IHRvIGV4cG9zZSB0aGUgYWJvdmUgY2xhc3Ncbi8vIGF0IGBuZXcgS2ludG9DbGllbnQoKWAgaW5zdGVhZCBvZiBgbmV3IEtpbnRvQ2xpZW50LmRlZmF1bHQoKWAuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0tpbnRvL2tpbnRvLWh0dHAuanMvaXNzdWVzLzc3XG5cblxuZXhwb3J0cy5kZWZhdWx0ID0gS2ludG9DbGllbnQ7XG5pZiAoKHR5cGVvZiBtb2R1bGUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKG1vZHVsZSkpID09PSBcIm9iamVjdFwiKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gS2ludG9DbGllbnQ7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfc2xpY2VkVG9BcnJheTIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXlcIik7XG5cbnZhciBfc2xpY2VkVG9BcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zbGljZWRUb0FycmF5Mik7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIik7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbmV4cG9ydHMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG5leHBvcnRzLnVwZGF0ZVJlcXVlc3QgPSB1cGRhdGVSZXF1ZXN0O1xuZXhwb3J0cy5qc29uUGF0Y2hQZXJtaXNzaW9uc1JlcXVlc3QgPSBqc29uUGF0Y2hQZXJtaXNzaW9uc1JlcXVlc3Q7XG5leHBvcnRzLmRlbGV0ZVJlcXVlc3QgPSBkZWxldGVSZXF1ZXN0O1xuZXhwb3J0cy5hZGRBdHRhY2htZW50UmVxdWVzdCA9IGFkZEF0dGFjaG1lbnRSZXF1ZXN0O1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciByZXF1ZXN0RGVmYXVsdHMgPSB7XG4gIHNhZmU6IGZhbHNlLFxuICAvLyBjaGVjayBpZiB3ZSBzaG91bGQgc2V0IGRlZmF1bHQgY29udGVudCB0eXBlIGhlcmVcbiAgaGVhZGVyczoge30sXG4gIHBlcm1pc3Npb25zOiB1bmRlZmluZWQsXG4gIGRhdGE6IHVuZGVmaW5lZCxcbiAgcGF0Y2g6IGZhbHNlXG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNhZmVIZWFkZXIoc2FmZSwgbGFzdF9tb2RpZmllZCkge1xuICBpZiAoIXNhZmUpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgaWYgKGxhc3RfbW9kaWZpZWQpIHtcbiAgICByZXR1cm4geyBcIklmLU1hdGNoXCI6IFwiXFxcIlwiICsgbGFzdF9tb2RpZmllZCArIFwiXFxcIlwiIH07XG4gIH1cbiAgcmV0dXJuIHsgXCJJZi1Ob25lLU1hdGNoXCI6IFwiKlwiIH07XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmVxdWVzdChwYXRoLCBfcmVmKSB7XG4gIHZhciBkYXRhID0gX3JlZi5kYXRhLFxuICAgICAgcGVybWlzc2lvbnMgPSBfcmVmLnBlcm1pc3Npb25zO1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cbiAgdmFyIF9yZXF1ZXN0RGVmYXVsdHMkb3B0aSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHJlcXVlc3REZWZhdWx0cywgb3B0aW9ucyksXG4gICAgICBoZWFkZXJzID0gX3JlcXVlc3REZWZhdWx0cyRvcHRpLmhlYWRlcnMsXG4gICAgICBzYWZlID0gX3JlcXVlc3REZWZhdWx0cyRvcHRpLnNhZmU7XG5cbiAgcmV0dXJuIHtcbiAgICBtZXRob2Q6IGRhdGEgJiYgZGF0YS5pZCA/IFwiUFVUXCIgOiBcIlBPU1RcIixcbiAgICBwYXRoOiBwYXRoLFxuICAgIGhlYWRlcnM6ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGhlYWRlcnMsIHNhZmVIZWFkZXIoc2FmZSkpLFxuICAgIGJvZHk6IHsgZGF0YTogZGF0YSwgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB1cGRhdGVSZXF1ZXN0KHBhdGgsIF9yZWYyKSB7XG4gIHZhciBkYXRhID0gX3JlZjIuZGF0YSxcbiAgICAgIHBlcm1pc3Npb25zID0gX3JlZjIucGVybWlzc2lvbnM7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcblxuICB2YXIgX3JlcXVlc3REZWZhdWx0cyRvcHRpMiA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHJlcXVlc3REZWZhdWx0cywgb3B0aW9ucyksXG4gICAgICBoZWFkZXJzID0gX3JlcXVlc3REZWZhdWx0cyRvcHRpMi5oZWFkZXJzLFxuICAgICAgc2FmZSA9IF9yZXF1ZXN0RGVmYXVsdHMkb3B0aTIuc2FmZSxcbiAgICAgIHBhdGNoID0gX3JlcXVlc3REZWZhdWx0cyRvcHRpMi5wYXRjaDtcblxuICB2YXIgX2RhdGEkb3B0aW9ucyA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGRhdGEsIG9wdGlvbnMpLFxuICAgICAgbGFzdF9tb2RpZmllZCA9IF9kYXRhJG9wdGlvbnMubGFzdF9tb2RpZmllZDtcblxuICBpZiAoT2JqZWN0LmtleXMoKDAsIF91dGlscy5vbWl0KShkYXRhLCBcImlkXCIsIFwibGFzdF9tb2RpZmllZFwiKSkubGVuZ3RoID09PSAwKSB7XG4gICAgZGF0YSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbWV0aG9kOiBwYXRjaCA/IFwiUEFUQ0hcIiA6IFwiUFVUXCIsXG4gICAgcGF0aDogcGF0aCxcbiAgICBoZWFkZXJzOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBoZWFkZXJzLCBzYWZlSGVhZGVyKHNhZmUsIGxhc3RfbW9kaWZpZWQpKSxcbiAgICBib2R5OiB7IGRhdGE6IGRhdGEsIHBlcm1pc3Npb25zOiBwZXJtaXNzaW9ucyB9XG4gIH07XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24ganNvblBhdGNoUGVybWlzc2lvbnNSZXF1ZXN0KHBhdGgsIHBlcm1pc3Npb25zLCBvcFR5cGUpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuXG4gIHZhciBfcmVxdWVzdERlZmF1bHRzJG9wdGkzID0gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgcmVxdWVzdERlZmF1bHRzLCBvcHRpb25zKSxcbiAgICAgIGhlYWRlcnMgPSBfcmVxdWVzdERlZmF1bHRzJG9wdGkzLmhlYWRlcnMsXG4gICAgICBzYWZlID0gX3JlcXVlc3REZWZhdWx0cyRvcHRpMy5zYWZlLFxuICAgICAgbGFzdF9tb2RpZmllZCA9IF9yZXF1ZXN0RGVmYXVsdHMkb3B0aTMubGFzdF9tb2RpZmllZDtcblxuICB2YXIgb3BzID0gW107XG5cbiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gT2JqZWN0LmVudHJpZXMocGVybWlzc2lvbnMpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgdmFyIF9zdGVwJHZhbHVlID0gKDAsIF9zbGljZWRUb0FycmF5My5kZWZhdWx0KShfc3RlcC52YWx1ZSwgMiksXG4gICAgICAgICAgdHlwZSA9IF9zdGVwJHZhbHVlWzBdLFxuICAgICAgICAgIHByaW5jaXBhbHMgPSBfc3RlcCR2YWx1ZVsxXTtcblxuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBwcmluY2lwYWxzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgdmFyIHByaW5jaXBhbCA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgIG9wcy5wdXNoKHtcbiAgICAgICAgICAgIG9wOiBvcFR5cGUsXG4gICAgICAgICAgICBwYXRoOiBcIi9wZXJtaXNzaW9ucy9cIiArIHR5cGUgKyBcIi9cIiArIHByaW5jaXBhbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgcGF0aDogcGF0aCxcbiAgICBoZWFkZXJzOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBoZWFkZXJzLCBzYWZlSGVhZGVyKHNhZmUsIGxhc3RfbW9kaWZpZWQpLCB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb24tcGF0Y2granNvblwiXG4gICAgfSksXG4gICAgYm9keTogb3BzXG4gIH07XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGVsZXRlUmVxdWVzdChwYXRoKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICB2YXIgX3JlcXVlc3REZWZhdWx0cyRvcHRpNCA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHJlcXVlc3REZWZhdWx0cywgb3B0aW9ucyksXG4gICAgICBoZWFkZXJzID0gX3JlcXVlc3REZWZhdWx0cyRvcHRpNC5oZWFkZXJzLFxuICAgICAgc2FmZSA9IF9yZXF1ZXN0RGVmYXVsdHMkb3B0aTQuc2FmZSxcbiAgICAgIGxhc3RfbW9kaWZpZWQgPSBfcmVxdWVzdERlZmF1bHRzJG9wdGk0Lmxhc3RfbW9kaWZpZWQ7XG5cbiAgaWYgKHNhZmUgJiYgIWxhc3RfbW9kaWZpZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTYWZlIGNvbmN1cnJlbmN5IGNoZWNrIHJlcXVpcmVzIGEgbGFzdF9tb2RpZmllZCB2YWx1ZS5cIik7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgcGF0aDogcGF0aCxcbiAgICBoZWFkZXJzOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBoZWFkZXJzLCBzYWZlSGVhZGVyKHNhZmUsIGxhc3RfbW9kaWZpZWQpKVxuICB9O1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZEF0dGFjaG1lbnRSZXF1ZXN0KHBhdGgsIGRhdGFVUkkpIHtcbiAgdmFyIF9yZWYzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fSxcbiAgICAgIGRhdGEgPSBfcmVmMy5kYXRhLFxuICAgICAgcGVybWlzc2lvbnMgPSBfcmVmMy5wZXJtaXNzaW9ucztcblxuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG5cbiAgdmFyIF9yZXF1ZXN0RGVmYXVsdHMkb3B0aTUgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCByZXF1ZXN0RGVmYXVsdHMsIG9wdGlvbnMpLFxuICAgICAgaGVhZGVycyA9IF9yZXF1ZXN0RGVmYXVsdHMkb3B0aTUuaGVhZGVycyxcbiAgICAgIHNhZmUgPSBfcmVxdWVzdERlZmF1bHRzJG9wdGk1LnNhZmUsXG4gICAgICBnemlwcGVkID0gX3JlcXVlc3REZWZhdWx0cyRvcHRpNS5nemlwcGVkO1xuXG4gIHZhciBfZGF0YSRvcHRpb25zMiA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGRhdGEsIG9wdGlvbnMpLFxuICAgICAgbGFzdF9tb2RpZmllZCA9IF9kYXRhJG9wdGlvbnMyLmxhc3RfbW9kaWZpZWQ7XG5cbiAgdmFyIGJvZHkgPSB7IGRhdGE6IGRhdGEsIHBlcm1pc3Npb25zOiBwZXJtaXNzaW9ucyB9O1xuICB2YXIgZm9ybURhdGEgPSAoMCwgX3V0aWxzLmNyZWF0ZUZvcm1EYXRhKShkYXRhVVJJLCBib2R5LCBvcHRpb25zKTtcblxuICB2YXIgY3VzdG9tUGF0aCA9IGd6aXBwZWQgIT0gbnVsbCA/IGN1c3RvbVBhdGggPSBwYXRoICsgXCI/Z3ppcHBlZD1cIiArIChnemlwcGVkID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpIDogcGF0aDtcblxuICByZXR1cm4ge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgcGF0aDogY3VzdG9tUGF0aCxcbiAgICBoZWFkZXJzOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBoZWFkZXJzLCBzYWZlSGVhZGVyKHNhZmUsIGxhc3RfbW9kaWZpZWQpKSxcbiAgICBib2R5OiBmb3JtRGF0YVxuICB9O1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5wTWFwID0gdW5kZWZpbmVkO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9leHRlbmRzMyA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiKTtcblxudmFyIF9leHRlbmRzNCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMzKTtcblxudmFyIF90b0FycmF5MiA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9BcnJheVwiKTtcblxudmFyIF90b0FycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvQXJyYXkyKTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkyID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5XCIpO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2xpY2VkVG9BcnJheTIpO1xuXG52YXIgX3JlZ2VuZXJhdG9yID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3JcIik7XG5cbnZhciBfcmVnZW5lcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVnZW5lcmF0b3IpO1xuXG52YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yXCIpO1xuXG52YXIgX2FzeW5jVG9HZW5lcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXN5bmNUb0dlbmVyYXRvcjIpO1xuXG4vKipcbiAqIE1hcHMgYSBsaXN0IHRvIHByb21pc2VzIHVzaW5nIHRoZSBwcm92aWRlZCBtYXBwaW5nIGZ1bmN0aW9uLCBleGVjdXRlcyB0aGVtXG4gKiBzZXF1ZW50aWFsbHkgdGhlbiByZXR1cm5zIGEgUHJvbWlzZSByZXNvbHZpbmcgd2l0aCBvcmRlcmVkIHJlc3VsdHMgb2J0YWluZWQuXG4gKiBUaGluayBvZiB0aGlzIGFzIGEgc2VxdWVudGlhbCBQcm9taXNlLmFsbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7QXJyYXl9ICAgIGxpc3QgVGhlIGxpc3QgdG8gbWFwLlxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgVGhlIG1hcHBpbmcgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG52YXIgcE1hcCA9IGV4cG9ydHMucE1hcCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIobGlzdCwgZm4pIHtcbiAgICB2YXIgcmVzdWx0cztcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzO1xuICAgICAgICAgICAgcmV0dXJuIGxpc3QucmVkdWNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIF9yZWYyID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KSggLyojX19QVVJFX18qL19yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocHJvbWlzZSwgZW50cnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSByZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4oZW50cnkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyA9IF9jb250ZXh0LnQwLmNvbmNhdC5jYWxsKF9jb250ZXh0LnQwLCBfY29udGV4dC50MSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMsIF94NCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSgpLCBQcm9taXNlLnJlc29sdmUoKSk7XG5cbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCByZXN1bHRzKTtcblxuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIF9jYWxsZWUyLCB0aGlzKTtcbiAgfSkpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBwTWFwKF94LCBfeDIpIHtcbiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuXG4vKipcbiAqIFRha2VzIGFuIG9iamVjdCBhbmQgcmV0dXJucyBhIGNvcHkgb2YgaXQgd2l0aCB0aGUgcHJvdmlkZWQga2V5cyBvbWl0dGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtPYmplY3R9ICAgIG9iaiAgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0gIHsuLi5TdHJpbmd9IGtleXMgVGhlIGtleXMgdG8gb21pdC5cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuXG5cbmV4cG9ydHMucGFydGl0aW9uID0gcGFydGl0aW9uO1xuZXhwb3J0cy5kZWxheSA9IGRlbGF5O1xuZXhwb3J0cy5vbWl0ID0gb21pdDtcbmV4cG9ydHMudG9EYXRhQm9keSA9IHRvRGF0YUJvZHk7XG5leHBvcnRzLnFzaWZ5ID0gcXNpZnk7XG5leHBvcnRzLmNoZWNrVmVyc2lvbiA9IGNoZWNrVmVyc2lvbjtcbmV4cG9ydHMuc3VwcG9ydCA9IHN1cHBvcnQ7XG5leHBvcnRzLmNhcGFibGUgPSBjYXBhYmxlO1xuZXhwb3J0cy5ub2JhdGNoID0gbm9iYXRjaDtcbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcbmV4cG9ydHMucGFyc2VEYXRhVVJMID0gcGFyc2VEYXRhVVJMO1xuZXhwb3J0cy5leHRyYWN0RmlsZUluZm8gPSBleHRyYWN0RmlsZUluZm87XG5leHBvcnRzLmNyZWF0ZUZvcm1EYXRhID0gY3JlYXRlRm9ybURhdGE7XG5leHBvcnRzLmNsZWFuVW5kZWZpbmVkUHJvcGVydGllcyA9IGNsZWFuVW5kZWZpbmVkUHJvcGVydGllcztcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBDaHVua3MgYW4gYXJyYXkgaW50byBuIHBpZWNlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7QXJyYXl9ICBhcnJheVxuICogQHBhcmFtICB7TnVtYmVyfSBuXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gcGFydGl0aW9uKGFycmF5LCBuKSB7XG4gIGlmIChuIDw9IDApIHtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cbiAgcmV0dXJuIGFycmF5LnJlZHVjZShmdW5jdGlvbiAoYWNjLCB4LCBpKSB7XG4gICAgaWYgKGkgPT09IDAgfHwgaSAlIG4gPT09IDApIHtcbiAgICAgIGFjYy5wdXNoKFt4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjY1thY2MubGVuZ3RoIC0gMV0ucHVzaCh4KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgW10pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBQcm9taXNlIGFsd2F5cyByZXNvbHZpbmcgYWZ0ZXIgdGhlIHNwZWNpZmllZCBhbW91bnQgaW4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEByZXR1cm4gUHJvbWlzZTx2b2lkPlxuICovXG5mdW5jdGlvbiBkZWxheShtcykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlLCBtcyk7XG4gIH0pO1xufWZ1bmN0aW9uIG9taXQob2JqKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBrZXlzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGtleXNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgIGlmIChrZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgIGFjY1trZXldID0gb2JqW2tleV07XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbn1cblxuLyoqXG4gKiBBbHdheXMgcmV0dXJucyBhIHJlc291cmNlIGRhdGEgb2JqZWN0IGZyb20gdGhlIHByb3ZpZGVkIGFyZ3VtZW50LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtPYmplY3R8U3RyaW5nfSByZXNvdXJjZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiB0b0RhdGFCb2R5KHJlc291cmNlKSB7XG4gIGlmIChpc09iamVjdChyZXNvdXJjZSkpIHtcbiAgICByZXR1cm4gcmVzb3VyY2U7XG4gIH1cbiAgaWYgKHR5cGVvZiByZXNvdXJjZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB7IGlkOiByZXNvdXJjZSB9O1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQuXCIpO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgYW4gb2JqZWN0IGludG8gYW4gVVJMIHF1ZXJ5IHN0cmluZywgc3RyaXBwaW5nIG91dCBhbnkgdW5kZWZpbmVkXG4gKiB2YWx1ZXMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcXNpZnkob2JqKSB7XG4gIHZhciBlbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUodikge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodHlwZW9mIHYgPT09IFwiYm9vbGVhblwiID8gU3RyaW5nKHYpIDogdik7XG4gIH07XG4gIHZhciBzdHJpcFVuZGVmaW5lZCA9IGZ1bmN0aW9uIHN0cmlwVW5kZWZpbmVkKG8pIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvKSk7XG4gIH07XG4gIHZhciBzdHJpcHBlZCA9IHN0cmlwVW5kZWZpbmVkKG9iaik7XG4gIHJldHVybiBPYmplY3Qua2V5cyhzdHJpcHBlZCkubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgdmFyIGtzID0gZW5jb2RlKGspICsgXCI9XCI7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3RyaXBwZWRba10pKSB7XG4gICAgICByZXR1cm4ga3MgKyBzdHJpcHBlZFtrXS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIGVuY29kZSh2KTtcbiAgICAgIH0pLmpvaW4oXCIsXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ga3MgKyBlbmNvZGUoc3RyaXBwZWRba10pO1xuICAgIH1cbiAgfSkuam9pbihcIiZcIik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgdmVyc2lvbiBpcyB3aXRoaW4gdGhlIHByb3ZpZGVkIHJhbmdlLlxuICpcbiAqIEBwYXJhbSAge1N0cmluZ30gdmVyc2lvbiAgICBUaGUgdmVyc2lvbiB0byBjaGVjay5cbiAqIEBwYXJhbSAge1N0cmluZ30gbWluVmVyc2lvbiBUaGUgbWluaW11bSBzdXBwb3J0ZWQgdmVyc2lvbiAoaW5jbHVzaXZlKS5cbiAqIEBwYXJhbSAge1N0cmluZ30gbWF4VmVyc2lvbiBUaGUgbWluaW11bSBzdXBwb3J0ZWQgdmVyc2lvbiAoZXhjbHVzaXZlKS5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgdmVyc2lvbiBpcyBvdXRzaWRlIG9mIHRoZSBwcm92aWRlZCByYW5nZS5cbiAqL1xuZnVuY3Rpb24gY2hlY2tWZXJzaW9uKHZlcnNpb24sIG1pblZlcnNpb24sIG1heFZlcnNpb24pIHtcbiAgdmFyIGV4dHJhY3QgPSBmdW5jdGlvbiBleHRyYWN0KHN0cikge1xuICAgIHJldHVybiBzdHIuc3BsaXQoXCIuXCIpLm1hcChmdW5jdGlvbiAoeCkge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KHgsIDEwKTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgX2V4dHJhY3QgPSBleHRyYWN0KHZlcnNpb24pLFxuICAgICAgX2V4dHJhY3QyID0gKDAsIF9zbGljZWRUb0FycmF5My5kZWZhdWx0KShfZXh0cmFjdCwgMiksXG4gICAgICB2ZXJNYWpvciA9IF9leHRyYWN0MlswXSxcbiAgICAgIHZlck1pbm9yID0gX2V4dHJhY3QyWzFdO1xuXG4gIHZhciBfZXh0cmFjdDMgPSBleHRyYWN0KG1pblZlcnNpb24pLFxuICAgICAgX2V4dHJhY3Q0ID0gKDAsIF9zbGljZWRUb0FycmF5My5kZWZhdWx0KShfZXh0cmFjdDMsIDIpLFxuICAgICAgbWluTWFqb3IgPSBfZXh0cmFjdDRbMF0sXG4gICAgICBtaW5NaW5vciA9IF9leHRyYWN0NFsxXTtcblxuICB2YXIgX2V4dHJhY3Q1ID0gZXh0cmFjdChtYXhWZXJzaW9uKSxcbiAgICAgIF9leHRyYWN0NiA9ICgwLCBfc2xpY2VkVG9BcnJheTMuZGVmYXVsdCkoX2V4dHJhY3Q1LCAyKSxcbiAgICAgIG1heE1ham9yID0gX2V4dHJhY3Q2WzBdLFxuICAgICAgbWF4TWlub3IgPSBfZXh0cmFjdDZbMV07XG5cbiAgdmFyIGNoZWNrcyA9IFt2ZXJNYWpvciA8IG1pbk1ham9yLCB2ZXJNYWpvciA9PT0gbWluTWFqb3IgJiYgdmVyTWlub3IgPCBtaW5NaW5vciwgdmVyTWFqb3IgPiBtYXhNYWpvciwgdmVyTWFqb3IgPT09IG1heE1ham9yICYmIHZlck1pbm9yID49IG1heE1pbm9yXTtcbiAgaWYgKGNoZWNrcy5zb21lKGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIHg7XG4gIH0pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVmVyc2lvbiBcIiArIHZlcnNpb24gKyBcIiBkb2Vzbid0IHNhdGlzZnkgXCIgKyBtaW5WZXJzaW9uICsgXCIgPD0geCA8IFwiICsgbWF4VmVyc2lvbik7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBkZWNvcmF0b3IgZnVuY3Rpb24gZW5zdXJpbmcgYSB2ZXJzaW9uIGNoZWNrIGlzIHBlcmZvcm1lZCBhZ2FpbnN0XG4gKiB0aGUgcHJvdmlkZWQgcmVxdWlyZW1lbnRzIGJlZm9yZSBleGVjdXRpbmcgaXQuXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBtaW4gVGhlIHJlcXVpcmVkIG1pbiB2ZXJzaW9uIChpbmNsdXNpdmUpLlxuICogQHBhcmFtICB7U3RyaW5nfSBtYXggVGhlIHJlcXVpcmVkIG1heCB2ZXJzaW9uIChpbmNsdXNpdmUpLlxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHN1cHBvcnQobWluLCBtYXgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xuICAgIHZhciBmbiA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHZhciB3cmFwcGVkTWV0aG9kID0gZnVuY3Rpb24gd3JhcHBlZE1ldGhvZCgpIHtcbiAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFwidGhpc1wiIGlzIHRoZSBjdXJyZW50IGluc3RhbmNlIHdoaWNoIGl0cyBtZXRob2QgaXMgZGVjb3JhdGVkLlxuICAgICAgICAgIHZhciBjbGllbnQgPSBcImNsaWVudFwiIGluIF90aGlzID8gX3RoaXMuY2xpZW50IDogX3RoaXM7XG4gICAgICAgICAgcmV0dXJuIGNsaWVudC5mZXRjaEhUVFBBcGlWZXJzaW9uKCkudGhlbihmdW5jdGlvbiAodmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrVmVyc2lvbih2ZXJzaW9uLCBtaW4sIG1heCk7XG4gICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkoX3RoaXMsIGFyZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgICAgdmFsdWU6IHdyYXBwZWRNZXRob2QsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gd3JhcHBlZE1ldGhvZDtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIGRlY29yYXRvciBmdW5jdGlvbiBlbnN1cmluZyB0aGF0IHRoZSBzcGVjaWZpZWQgY2FwYWJpbGl0aWVzIGFyZVxuICogYXZhaWxhYmxlIG9uIHRoZSBzZXJ2ZXIgYmVmb3JlIGV4ZWN1dGluZyBpdC5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheTxTdHJpbmc+fSBjYXBhYmlsaXRpZXMgVGhlIHJlcXVpcmVkIGNhcGFiaWxpdGllcy5cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjYXBhYmxlKGNhcGFiaWxpdGllcykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgdmFyIGZuID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICByZXR1cm4ge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciB3cmFwcGVkTWV0aG9kID0gZnVuY3Rpb24gd3JhcHBlZE1ldGhvZCgpIHtcbiAgICAgICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFwidGhpc1wiIGlzIHRoZSBjdXJyZW50IGluc3RhbmNlIHdoaWNoIGl0cyBtZXRob2QgaXMgZGVjb3JhdGVkLlxuICAgICAgICAgIHZhciBjbGllbnQgPSBcImNsaWVudFwiIGluIF90aGlzMiA/IF90aGlzMi5jbGllbnQgOiBfdGhpczI7XG4gICAgICAgICAgcmV0dXJuIGNsaWVudC5mZXRjaFNlcnZlckNhcGFiaWxpdGllcygpLnRoZW4oZnVuY3Rpb24gKGF2YWlsYWJsZSkge1xuICAgICAgICAgICAgdmFyIG1pc3NpbmcgPSBjYXBhYmlsaXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgIHJldHVybiAhKGMgaW4gYXZhaWxhYmxlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICB2YXIgbWlzc2luZ1N0ciA9IG1pc3Npbmcuam9pbihcIiwgXCIpO1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXF1aXJlZCBjYXBhYmlsaXRpZXMgXCIgKyBtaXNzaW5nU3RyICsgXCIgbm90IHByZXNlbnQgb24gc2VydmVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KF90aGlzMiwgYXJncyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgICB2YWx1ZTogd3JhcHBlZE1ldGhvZCxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB3cmFwcGVkTWV0aG9kO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgZGVjb3JhdG9yIGZ1bmN0aW9uIGVuc3VyaW5nIGFuIG9wZXJhdGlvbiBpcyBub3QgcGVyZm9ybWVkIGZyb21cbiAqIHdpdGhpbiBhIGJhdGNoIHJlcXVlc3QuXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlIHRvIHRocm93LlxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIG5vYmF0Y2gobWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgdmFyIGZuID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICByZXR1cm4ge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgIHZhciB3cmFwcGVkTWV0aG9kID0gZnVuY3Rpb24gd3JhcHBlZE1ldGhvZCgpIHtcbiAgICAgICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFwidGhpc1wiIGlzIHRoZSBjdXJyZW50IGluc3RhbmNlIHdoaWNoIGl0cyBtZXRob2QgaXMgZGVjb3JhdGVkLlxuICAgICAgICAgIGlmIChfdGhpczMuX2lzQmF0Y2gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KF90aGlzMywgYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgICB2YWx1ZTogd3JhcHBlZE1ldGhvZCxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB3cmFwcGVkTWV0aG9kO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYW4gb2JqZWN0IChpLmUuIG5vdCBhbiBhcnJheSBub3IgbnVsbCkuXG4gKiBAcGFyYW0gIHtPYmplY3R9IHRoaW5nIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHJldHVybiB7Ym9vbH1cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodGhpbmcpIHtcbiAgcmV0dXJuICh0eXBlb2YgdGhpbmcgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKHRoaW5nKSkgPT09IFwib2JqZWN0XCIgJiYgdGhpbmcgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkodGhpbmcpO1xufVxuXG4vKipcbiAqIFBhcnNlcyBhIGRhdGEgdXJsLlxuICogQHBhcmFtICB7U3RyaW5nfSBkYXRhVVJMIFRoZSBkYXRhIHVybC5cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcGFyc2VEYXRhVVJMKGRhdGFVUkwpIHtcbiAgdmFyIHJlZ2V4ID0gL15kYXRhOiguKik7YmFzZTY0LCguKikvO1xuICB2YXIgbWF0Y2ggPSBkYXRhVVJMLm1hdGNoKHJlZ2V4KTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0YS11cmw6IFwiICsgU3RyaW5nKGRhdGFVUkwpLnN1YnN0cigwLCAzMikgKyBcIi4uLlwiKTtcbiAgfVxuICB2YXIgcHJvcHMgPSBtYXRjaFsxXTtcbiAgdmFyIGJhc2U2NCA9IG1hdGNoWzJdO1xuXG4gIHZhciBfcHJvcHMkc3BsaXQgPSBwcm9wcy5zcGxpdChcIjtcIiksXG4gICAgICBfcHJvcHMkc3BsaXQyID0gKDAsIF90b0FycmF5My5kZWZhdWx0KShfcHJvcHMkc3BsaXQpLFxuICAgICAgdHlwZSA9IF9wcm9wcyRzcGxpdDJbMF0sXG4gICAgICByYXdQYXJhbXMgPSBfcHJvcHMkc3BsaXQyLnNsaWNlKDEpO1xuXG4gIHZhciBwYXJhbXMgPSByYXdQYXJhbXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBhcmFtKSB7XG4gICAgdmFyIF9wYXJhbSRzcGxpdCA9IHBhcmFtLnNwbGl0KFwiPVwiKSxcbiAgICAgICAgX3BhcmFtJHNwbGl0MiA9ICgwLCBfc2xpY2VkVG9BcnJheTMuZGVmYXVsdCkoX3BhcmFtJHNwbGl0LCAyKSxcbiAgICAgICAga2V5ID0gX3BhcmFtJHNwbGl0MlswXSxcbiAgICAgICAgdmFsdWUgPSBfcGFyYW0kc3BsaXQyWzFdO1xuXG4gICAgcmV0dXJuICgwLCBfZXh0ZW5kczQuZGVmYXVsdCkoe30sIGFjYywgKDAsIF9kZWZpbmVQcm9wZXJ0eTMuZGVmYXVsdCkoe30sIGtleSwgdmFsdWUpKTtcbiAgfSwge30pO1xuICByZXR1cm4gKDAsIF9leHRlbmRzNC5kZWZhdWx0KSh7fSwgcGFyYW1zLCB7IHR5cGU6IHR5cGUsIGJhc2U2NDogYmFzZTY0IH0pO1xufVxuXG4vKipcbiAqIEV4dHJhY3RzIGZpbGUgaW5mb3JtYXRpb24gZnJvbSBhIGRhdGEgdXJsLlxuICogQHBhcmFtICB7U3RyaW5nfSBkYXRhVVJMIFRoZSBkYXRhIHVybC5cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZXh0cmFjdEZpbGVJbmZvKGRhdGFVUkwpIHtcbiAgdmFyIF9wYXJzZURhdGFVUkwgPSBwYXJzZURhdGFVUkwoZGF0YVVSTCksXG4gICAgICBuYW1lID0gX3BhcnNlRGF0YVVSTC5uYW1lLFxuICAgICAgdHlwZSA9IF9wYXJzZURhdGFVUkwudHlwZSxcbiAgICAgIGJhc2U2NCA9IF9wYXJzZURhdGFVUkwuYmFzZTY0O1xuXG4gIHZhciBiaW5hcnkgPSBhdG9iKGJhc2U2NCk7XG4gIHZhciBhcnJheSA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJpbmFyeS5sZW5ndGg7IGkrKykge1xuICAgIGFycmF5LnB1c2goYmluYXJ5LmNoYXJDb2RlQXQoaSkpO1xuICB9XG4gIHZhciBibG9iID0gbmV3IEJsb2IoW25ldyBVaW50OEFycmF5KGFycmF5KV0sIHsgdHlwZTogdHlwZSB9KTtcbiAgcmV0dXJuIHsgYmxvYjogYmxvYiwgbmFtZTogbmFtZSB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBGb3JtRGF0YSBpbnN0YW5jZSBmcm9tIGEgZGF0YSB1cmwgYW5kIGFuIGV4aXN0aW5nIEpTT04gcmVzcG9uc2VcbiAqIGJvZHkuXG4gKiBAcGFyYW0gIHtTdHJpbmd9IGRhdGFVUkwgICAgICAgICAgICBUaGUgZGF0YSB1cmwuXG4gKiBAcGFyYW0gIHtPYmplY3R9IGJvZHkgICAgICAgICAgICAgICBUaGUgcmVzcG9uc2UgYm9keS5cbiAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnM9e31dICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnMuZmlsZW5hbWVdIEZvcmNlIGF0dGFjaG1lbnQgZmlsZSBuYW1lLlxuICogQHJldHVybiB7Rm9ybURhdGF9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUZvcm1EYXRhKGRhdGFVUkwsIGJvZHkpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICB2YXIgX29wdGlvbnMkZmlsZW5hbWUgPSBvcHRpb25zLmZpbGVuYW1lLFxuICAgICAgZmlsZW5hbWUgPSBfb3B0aW9ucyRmaWxlbmFtZSA9PT0gdW5kZWZpbmVkID8gXCJ1bnRpdGxlZFwiIDogX29wdGlvbnMkZmlsZW5hbWU7XG5cbiAgdmFyIF9leHRyYWN0RmlsZUluZm8gPSBleHRyYWN0RmlsZUluZm8oZGF0YVVSTCksXG4gICAgICBibG9iID0gX2V4dHJhY3RGaWxlSW5mby5ibG9iLFxuICAgICAgbmFtZSA9IF9leHRyYWN0RmlsZUluZm8ubmFtZTtcblxuICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgZm9ybURhdGEuYXBwZW5kKFwiYXR0YWNobWVudFwiLCBibG9iLCBuYW1lIHx8IGZpbGVuYW1lKTtcbiAgZm9yICh2YXIgcHJvcGVydHkgaW4gYm9keSkge1xuICAgIGlmICh0eXBlb2YgYm9keVtwcm9wZXJ0eV0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZChwcm9wZXJ0eSwgSlNPTi5zdHJpbmdpZnkoYm9keVtwcm9wZXJ0eV0pKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZvcm1EYXRhO1xufVxuXG4vKipcbiAqIENsb25lcyBhbiBvYmplY3Qgd2l0aCBhbGwgaXRzIHVuZGVmaW5lZCBrZXlzIHJlbW92ZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhblVuZGVmaW5lZFByb3BlcnRpZXMob2JqKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmICh0eXBlb2Ygb2JqW2tleV0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gb2JqW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59IiwiLy8gVGhpcyBtZXRob2Qgb2Ygb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0IG5lZWRzIHRvIGJlXG4vLyBrZXB0IGlkZW50aWNhbCB0byB0aGUgd2F5IGl0IGlzIG9idGFpbmVkIGluIHJ1bnRpbWUuanNcbnZhciBnID1cbiAgdHlwZW9mIGdsb2JhbCA9PT0gXCJvYmplY3RcIiA/IGdsb2JhbCA6XG4gIHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIgPyB3aW5kb3cgOlxuICB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIiA/IHNlbGYgOiB0aGlzO1xuXG4vLyBVc2UgYGdldE93blByb3BlcnR5TmFtZXNgIGJlY2F1c2Ugbm90IGFsbCBicm93c2VycyBzdXBwb3J0IGNhbGxpbmdcbi8vIGBoYXNPd25Qcm9wZXJ0eWAgb24gdGhlIGdsb2JhbCBgc2VsZmAgb2JqZWN0IGluIGEgd29ya2VyLiBTZWUgIzE4My5cbnZhciBoYWRSdW50aW1lID0gZy5yZWdlbmVyYXRvclJ1bnRpbWUgJiZcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZykuaW5kZXhPZihcInJlZ2VuZXJhdG9yUnVudGltZVwiKSA+PSAwO1xuXG4vLyBTYXZlIHRoZSBvbGQgcmVnZW5lcmF0b3JSdW50aW1lIGluIGNhc2UgaXQgbmVlZHMgdG8gYmUgcmVzdG9yZWQgbGF0ZXIuXG52YXIgb2xkUnVudGltZSA9IGhhZFJ1bnRpbWUgJiYgZy5yZWdlbmVyYXRvclJ1bnRpbWU7XG5cbi8vIEZvcmNlIHJlZXZhbHV0YXRpb24gb2YgcnVudGltZS5qcy5cbmcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3J1bnRpbWVcIik7XG5cbmlmIChoYWRSdW50aW1lKSB7XG4gIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHJ1bnRpbWUuXG4gIGcucmVnZW5lcmF0b3JSdW50aW1lID0gb2xkUnVudGltZTtcbn0gZWxzZSB7XG4gIC8vIFJlbW92ZSB0aGUgZ2xvYmFsIHByb3BlcnR5IGFkZGVkIGJ5IHJ1bnRpbWUuanMuXG4gIHRyeSB7XG4gICAgZGVsZXRlIGcucmVnZW5lcmF0b3JSdW50aW1lO1xuICB9IGNhdGNoKGUpIHtcbiAgICBnLnJlZ2VuZXJhdG9yUnVudGltZSA9IHVuZGVmaW5lZDtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogaHR0cHM6Ly9yYXcuZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9tYXN0ZXIvTElDRU5TRSBmaWxlLiBBblxuICogYWRkaXRpb25hbCBncmFudCBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluXG4gKiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuIShmdW5jdGlvbihnbG9iYWwpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICB2YXIgaW5Nb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiO1xuICB2YXIgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWU7XG4gIGlmIChydW50aW1lKSB7XG4gICAgaWYgKGluTW9kdWxlKSB7XG4gICAgICAvLyBJZiByZWdlbmVyYXRvclJ1bnRpbWUgaXMgZGVmaW5lZCBnbG9iYWxseSBhbmQgd2UncmUgaW4gYSBtb2R1bGUsXG4gICAgICAvLyBtYWtlIHRoZSBleHBvcnRzIG9iamVjdCBpZGVudGljYWwgdG8gcmVnZW5lcmF0b3JSdW50aW1lLlxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBydW50aW1lO1xuICAgIH1cbiAgICAvLyBEb24ndCBib3RoZXIgZXZhbHVhdGluZyB0aGUgcmVzdCBvZiB0aGlzIGZpbGUgaWYgdGhlIHJ1bnRpbWUgd2FzXG4gICAgLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIERlZmluZSB0aGUgcnVudGltZSBnbG9iYWxseSAoYXMgZXhwZWN0ZWQgYnkgZ2VuZXJhdGVkIGNvZGUpIGFzIGVpdGhlclxuICAvLyBtb2R1bGUuZXhwb3J0cyAoaWYgd2UncmUgaW4gYSBtb2R1bGUpIG9yIGEgbmV3LCBlbXB0eSBvYmplY3QuXG4gIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lID0gaW5Nb2R1bGUgPyBtb2R1bGUuZXhwb3J0cyA6IHt9O1xuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIHJ1bnRpbWUud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIEl0ZXJhdG9yUHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdwLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlW3RvU3RyaW5nVGFnU3ltYm9sXSA9XG4gICAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgcnVudGltZS5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBpZiAoISh0b1N0cmluZ1RhZ1N5bWJvbCBpbiBnZW5GdW4pKSB7XG4gICAgICAgIGdlbkZ1blt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIHJ1bnRpbWUuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgaG93ZXZlciwgdGhlXG4gICAgICAgICAgLy8gcmVzdWx0IGZvciB0aGlzIGl0ZXJhdGlvbiB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHNhbWVcbiAgICAgICAgICAvLyByZWFzb24uIE5vdGUgdGhhdCByZWplY3Rpb25zIG9mIHlpZWxkZWQgUHJvbWlzZXMgYXJlIG5vdFxuICAgICAgICAgIC8vIHRocm93biBiYWNrIGludG8gdGhlIGdlbmVyYXRvciBmdW5jdGlvbiwgYXMgaXMgdGhlIGNhc2VcbiAgICAgICAgICAvLyB3aGVuIGFuIGF3YWl0ZWQgUHJvbWlzZSBpcyByZWplY3RlZC4gVGhpcyBkaWZmZXJlbmNlIGluXG4gICAgICAgICAgLy8gYmVoYXZpb3IgYmV0d2VlbiB5aWVsZCBhbmQgYXdhaXQgaXMgaW1wb3J0YW50LCBiZWNhdXNlIGl0XG4gICAgICAgICAgLy8gYWxsb3dzIHRoZSBjb25zdW1lciB0byBkZWNpZGUgd2hhdCB0byBkbyB3aXRoIHRoZSB5aWVsZGVkXG4gICAgICAgICAgLy8gcmVqZWN0aW9uIChzd2FsbG93IGl0IGFuZCBjb250aW51ZSwgbWFudWFsbHkgLnRocm93IGl0IGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBnZW5lcmF0b3IsIGFiYW5kb24gaXRlcmF0aW9uLCB3aGF0ZXZlcikuIFdpdGhcbiAgICAgICAgICAvLyBhd2FpdCwgYnkgY29udHJhc3QsIHRoZXJlIGlzIG5vIG9wcG9ydHVuaXR5IHRvIGV4YW1pbmUgdGhlXG4gICAgICAgICAgLy8gcmVqZWN0aW9uIHJlYXNvbiBvdXRzaWRlIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24sIHNvIHRoZVxuICAgICAgICAgIC8vIG9ubHkgb3B0aW9uIGlzIHRvIHRocm93IGl0IGZyb20gdGhlIGF3YWl0IGV4cHJlc3Npb24sIGFuZFxuICAgICAgICAgIC8vIGxldCB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhbmRsZSB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MuZG9tYWluKSB7XG4gICAgICBpbnZva2UgPSBwcm9jZXNzLmRvbWFpbi5iaW5kKGludm9rZSk7XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9XG4gICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcbiAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xuICAgICAgICApIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuICBydW50aW1lLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBydW50aW1lLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdClcbiAgICApO1xuXG4gICAgcmV0dXJuIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIgfHxcbiAgICAgICAgICAgICAgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiICYmIGRlbGVnYXRlLml0ZXJhdG9yW21ldGhvZF0gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIC8vIEEgcmV0dXJuIG9yIHRocm93ICh3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gdGhyb3dcbiAgICAgICAgICAgIC8vIG1ldGhvZCkgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICAgIHZhciByZXR1cm5NZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXTtcbiAgICAgICAgICAgIGlmIChyZXR1cm5NZXRob2QpIHtcbiAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKHJldHVybk1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGFyZyk7XG4gICAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJldHVybiBtZXRob2QgdGhyZXcgYW4gZXhjZXB0aW9uLCBsZXQgdGhhdFxuICAgICAgICAgICAgICAgIC8vIGV4Y2VwdGlvbiBwcmV2YWlsIG92ZXIgdGhlIG9yaWdpbmFsIHJldHVybiBvciB0aHJvdy5cbiAgICAgICAgICAgICAgICBtZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgICAgICAgYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggdGhlIG91dGVyIHJldHVybiwgbm93IHRoYXQgdGhlIGRlbGVnYXRlXG4gICAgICAgICAgICAgIC8vIGl0ZXJhdG9yIGhhcyBiZWVuIHRlcm1pbmF0ZWQuXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChcbiAgICAgICAgICAgIGRlbGVnYXRlLml0ZXJhdG9yW21ldGhvZF0sXG4gICAgICAgICAgICBkZWxlZ2F0ZS5pdGVyYXRvcixcbiAgICAgICAgICAgIGFyZ1xuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIExpa2UgcmV0dXJuaW5nIGdlbmVyYXRvci50aHJvdyh1bmNhdWdodCksIGJ1dCB3aXRob3V0IHRoZVxuICAgICAgICAgICAgLy8gb3ZlcmhlYWQgb2YgYW4gZXh0cmEgZnVuY3Rpb24gY2FsbC5cbiAgICAgICAgICAgIG1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBEZWxlZ2F0ZSBnZW5lcmF0b3IgcmFuIGFuZCBoYW5kbGVkIGl0cyBvd24gZXhjZXB0aW9ucyBzb1xuICAgICAgICAgIC8vIHJlZ2FyZGxlc3Mgb2Ygd2hhdCB0aGUgbWV0aG9kIHdhcywgd2UgY29udGludWUgYXMgaWYgaXQgaXNcbiAgICAgICAgICAvLyBcIm5leHRcIiB3aXRoIGFuIHVuZGVmaW5lZCBhcmcuXG4gICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuICAgICAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuICAgICAgICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuICAgICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGFyZykpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICB2YXIgaW5mbyA9IHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dC5kZWxlZ2F0ZSAmJiBtZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihhcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yXCI7XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBydW50aW1lLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuICAgICAgICByZXR1cm4gISFjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcbiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJlxuICAgICAgICAgICh0eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxuICAgICAgICAgIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmXG4gICAgICAgICAgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xufSkoXG4gIC8vIEFtb25nIHRoZSB2YXJpb3VzIHRyaWNrcyBmb3Igb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWxcbiAgLy8gb2JqZWN0LCB0aGlzIHNlZW1zIHRvIGJlIHRoZSBtb3N0IHJlbGlhYmxlIHRlY2huaXF1ZSB0aGF0IGRvZXMgbm90XG4gIC8vIHVzZSBpbmRpcmVjdCBldmFsICh3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSkuXG4gIHR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOlxuICB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiID8gd2luZG93IDpcbiAgdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDogdGhpc1xuKTtcbiIsInZhciB2MSA9IHJlcXVpcmUoJy4vdjEnKTtcbnZhciB2NCA9IHJlcXVpcmUoJy4vdjQnKTtcblxudmFyIHV1aWQgPSB2NDtcbnV1aWQudjEgPSB2MTtcbnV1aWQudjQgPSB2NDtcblxubW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuIiwiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbn1cblxuZnVuY3Rpb24gYnl0ZXNUb1V1aWQoYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGJ0aCA9IGJ5dGVUb0hleDtcbiAgcmV0dXJuICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgJy0nICtcbiAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArICctJyArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICtcbiAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnl0ZXNUb1V1aWQ7XG4iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxudmFyIHJuZztcblxudmFyIGNyeXB0byA9IGdsb2JhbC5jcnlwdG8gfHwgZ2xvYmFsLm1zQ3J5cHRvOyAvLyBmb3IgSUUgMTFcbmlmIChjcnlwdG8gJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICBybmcgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG4gICAgcmV0dXJuIHJuZHM4O1xuICB9O1xufVxuXG5pZiAoIXJuZykge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciAgcm5kcyA9IG5ldyBBcnJheSgxNik7XG4gIHJuZyA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICBybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiBybmRzO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJuZztcbiIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuICBXZSBmZWF0dXJlXG4vLyBkZXRlY3QgdG8gZGV0ZXJtaW5lIHRoZSBiZXN0IFJORyBzb3VyY2UsIG5vcm1hbGl6aW5nIHRvIGEgZnVuY3Rpb24gdGhhdFxuLy8gcmV0dXJucyAxMjgtYml0cyBvZiByYW5kb21uZXNzLCBzaW5jZSB0aGF0J3Mgd2hhdCdzIHVzdWFsbHkgcmVxdWlyZWRcbnZhciBybmcgPSByZXF1aXJlKCcuL2xpYi9ybmcnKTtcbnZhciBieXRlc1RvVXVpZCA9IHJlcXVpcmUoJy4vbGliL2J5dGVzVG9VdWlkJyk7XG5cbi8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbi8vXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxuLy8gcmFuZG9tICMncyB3ZSBuZWVkIHRvIGluaXQgbm9kZSBhbmQgY2xvY2tzZXFcbnZhciBfc2VlZEJ5dGVzID0gcm5nKCk7XG5cbi8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxudmFyIF9ub2RlSWQgPSBbXG4gIF9zZWVkQnl0ZXNbMF0gfCAweDAxLFxuICBfc2VlZEJ5dGVzWzFdLCBfc2VlZEJ5dGVzWzJdLCBfc2VlZEJ5dGVzWzNdLCBfc2VlZEJ5dGVzWzRdLCBfc2VlZEJ5dGVzWzVdXG5dO1xuXG4vLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxudmFyIF9jbG9ja3NlcSA9IChfc2VlZEJ5dGVzWzZdIDw8IDggfCBfc2VlZEJ5dGVzWzddKSAmIDB4M2ZmZjtcblxuLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG52YXIgX2xhc3RNU2VjcyA9IDAsIF9sYXN0TlNlY3MgPSAwO1xuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2Jyb29mYS9ub2RlLXV1aWQgZm9yIEFQSSBkZXRhaWxzXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgdmFyIGIgPSBidWYgfHwgW107XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTtcblxuICAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cbiAgdmFyIG1zZWNzID0gb3B0aW9ucy5tc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tc2VjcyA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gIC8vIFBlciA0LjIuMS4yLCB1c2UgY291bnQgb2YgdXVpZCdzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGN1cnJlbnQgY2xvY2tcbiAgLy8gY3ljbGUgdG8gc2ltdWxhdGUgaGlnaGVyIHJlc29sdXRpb24gY2xvY2tcbiAgdmFyIG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxO1xuXG4gIC8vIFRpbWUgc2luY2UgbGFzdCB1dWlkIGNyZWF0aW9uIChpbiBtc2VjcylcbiAgdmFyIGR0ID0gKG1zZWNzIC0gX2xhc3RNU2VjcykgKyAobnNlY3MgLSBfbGFzdE5TZWNzKS8xMDAwMDtcblxuICAvLyBQZXIgNC4yLjEuMiwgQnVtcCBjbG9ja3NlcSBvbiBjbG9jayByZWdyZXNzaW9uXG4gIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2xvY2tzZXEgPSBjbG9ja3NlcSArIDEgJiAweDNmZmY7XG4gIH1cblxuICAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAvLyB0aW1lIGludGVydmFsXG4gIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbnNlY3MgPSAwO1xuICB9XG5cbiAgLy8gUGVyIDQuMi4xLjIgVGhyb3cgZXJyb3IgaWYgdG9vIG1hbnkgdXVpZHMgYXJlIHJlcXVlc3RlZFxuICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3V1aWQudjEoKTogQ2FuXFwndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWMnKTtcbiAgfVxuXG4gIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgX2xhc3ROU2VjcyA9IG5zZWNzO1xuICBfY2xvY2tzZXEgPSBjbG9ja3NlcTtcblxuICAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcbiAgbXNlY3MgKz0gMTIyMTkyOTI4MDAwMDA7XG5cbiAgLy8gYHRpbWVfbG93YFxuICB2YXIgdGwgPSAoKG1zZWNzICYgMHhmZmZmZmZmKSAqIDEwMDAwICsgbnNlY3MpICUgMHgxMDAwMDAwMDA7XG4gIGJbaSsrXSA9IHRsID4+PiAyNCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiAxNiAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdGwgJiAweGZmO1xuXG4gIC8vIGB0aW1lX21pZGBcbiAgdmFyIHRtaCA9IChtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDApICYgMHhmZmZmZmZmO1xuICBiW2krK10gPSB0bWggPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bWggJiAweGZmO1xuXG4gIC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMjQgJiAweGYgfCAweDEwOyAvLyBpbmNsdWRlIHZlcnNpb25cbiAgYltpKytdID0gdG1oID4+PiAxNiAmIDB4ZmY7XG5cbiAgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG4gIGJbaSsrXSA9IGNsb2Nrc2VxID4+PiA4IHwgMHg4MDtcblxuICAvLyBgY2xvY2tfc2VxX2xvd2BcbiAgYltpKytdID0gY2xvY2tzZXEgJiAweGZmO1xuXG4gIC8vIGBub2RlYFxuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICBmb3IgKHZhciBuID0gMDsgbiA8IDY7ICsrbikge1xuICAgIGJbaSArIG5dID0gbm9kZVtuXTtcbiAgfVxuXG4gIHJldHVybiBidWYgPyBidWYgOiBieXRlc1RvVXVpZChiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2MTtcbiIsInZhciBybmcgPSByZXF1aXJlKCcuL2xpYi9ybmcnKTtcbnZhciBieXRlc1RvVXVpZCA9IHJlcXVpcmUoJy4vbGliL2J5dGVzVG9VdWlkJyk7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuXG4gIGlmICh0eXBlb2Yob3B0aW9ucykgPT0gJ3N0cmluZycpIHtcbiAgICBidWYgPSBvcHRpb25zID09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tIFwiLi9jb2xsZWN0aW9uXCI7XG5pbXBvcnQgQmFzZUFkYXB0ZXIgZnJvbSBcIi4vYWRhcHRlcnMvYmFzZVwiO1xuXG5jb25zdCBERUZBVUxUX0JVQ0tFVF9OQU1FID0gXCJkZWZhdWx0XCI7XG5jb25zdCBERUZBVUxUX1JFTU9URSA9IFwiaHR0cDovL2xvY2FsaG9zdDo4ODg4L3YxXCI7XG5jb25zdCBERUZBVUxUX1JFVFJZID0gMTtcblxuLyoqXG4gKiBLaW50b0Jhc2UgY2xhc3MuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtpbnRvQmFzZSB7XG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIHB1YmxpYyBhY2Nlc3MgdG8gdGhlIGJhc2UgYWRhcHRlciBjbGFzcy4gVXNlcnMgY2FuIGNyZWF0ZSBhXG4gICAqIGN1c3RvbSBEQiBhZGFwdGVyIGJ5IGV4dGVuZGluZyB7QGxpbmsgQmFzZUFkYXB0ZXJ9LlxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgc3RhdGljIGdldCBhZGFwdGVycygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgQmFzZUFkYXB0ZXI6IEJhc2VBZGFwdGVyLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU3luY2hyb25pemF0aW9uIHN0cmF0ZWdpZXMuIEF2YWlsYWJsZSBzdHJhdGVnaWVzIGFyZTpcbiAgICpcbiAgICogLSBgTUFOVUFMYDogQ29uZmxpY3RzIHdpbGwgYmUgcmVwb3J0ZWQgaW4gYSBkZWRpY2F0ZWQgYXJyYXkuXG4gICAqIC0gYFNFUlZFUl9XSU5TYDogQ29uZmxpY3RzIGFyZSByZXNvbHZlZCB1c2luZyByZW1vdGUgZGF0YS5cbiAgICogLSBgQ0xJRU5UX1dJTlNgOiBDb25mbGljdHMgYXJlIHJlc29sdmVkIHVzaW5nIGxvY2FsIGRhdGEuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHN5bmNTdHJhdGVneSgpIHtcbiAgICByZXR1cm4gQ29sbGVjdGlvbi5zdHJhdGVneTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3Rvci5cbiAgICpcbiAgICogT3B0aW9uczpcbiAgICogLSBge1N0cmluZ31gICAgICAgIGByZW1vdGVgICAgICAgICAgVGhlIHNlcnZlciBVUkwgdG8gdXNlLlxuICAgKiAtIGB7U3RyaW5nfWAgICAgICAgYGJ1Y2tldGAgICAgICAgICBUaGUgY29sbGVjdGlvbiBidWNrZXQgbmFtZS5cbiAgICogLSBge0V2ZW50RW1pdHRlcn1gIGBldmVudHNgICAgICAgICAgRXZlbnRzIGhhbmRsZXIuXG4gICAqIC0gYHtCYXNlQWRhcHRlcn1gICBgYWRhcHRlcmAgICAgICAgIFRoZSBiYXNlIERCIGFkYXB0ZXIgY2xhc3MuXG4gICAqIC0gYHtPYmplY3R9YCAgICAgICBgYWRhcHRlck9wdGlvbnNgIE9wdGlvbnMgZ2l2ZW4gdG8gdGhlIGFkYXB0ZXIuXG4gICAqIC0gYHtTdHJpbmd9YCAgICAgICBgZGJQcmVmaXhgICAgICAgIFRoZSBEQiBuYW1lIHByZWZpeC5cbiAgICogLSBge09iamVjdH1gICAgICAgIGBoZWFkZXJzYCAgICAgICAgVGhlIEhUVFAgaGVhZGVycyB0byB1c2UuXG4gICAqIC0gYHtPYmplY3R9YCAgICAgICBgcmV0cnlgICAgICAgICAgIE51bWJlciBvZiByZXRyaWVzIHdoZW4gdGhlIHNlcnZlciBmYWlscyB0byBwcm9jZXNzIHRoZSByZXF1ZXN0IChkZWZhdWx0OiBgMWApXG4gICAqIC0gYHtTdHJpbmd9YCAgICAgICBgcmVxdWVzdE1vZGVgICAgIFRoZSBIVFRQIENPUlMgbW9kZSB0byB1c2UuXG4gICAqIC0gYHtOdW1iZXJ9YCAgICAgICBgdGltZW91dGAgICAgICAgIFRoZSByZXF1ZXN0cyB0aW1lb3V0IGluIG1zIChkZWZhdWx0OiBgNTAwMGApLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgICBidWNrZXQ6IERFRkFVTFRfQlVDS0VUX05BTUUsXG4gICAgICByZW1vdGU6IERFRkFVTFRfUkVNT1RFLFxuICAgICAgcmV0cnk6IERFRkFVTFRfUkVUUlksXG4gICAgfTtcbiAgICB0aGlzLl9vcHRpb25zID0geyAuLi5kZWZhdWx0cywgLi4ub3B0aW9ucyB9O1xuICAgIGlmICghdGhpcy5fb3B0aW9ucy5hZGFwdGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhZGFwdGVyIHByb3ZpZGVkXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIEFwaUNsYXNzLFxuICAgICAgZXZlbnRzLFxuICAgICAgaGVhZGVycyxcbiAgICAgIHJlbW90ZSxcbiAgICAgIHJlcXVlc3RNb2RlLFxuICAgICAgcmV0cnksXG4gICAgICB0aW1lb3V0LFxuICAgIH0gPSB0aGlzLl9vcHRpb25zO1xuXG4gICAgLy8gcHVibGljIHByb3BlcnRpZXNcblxuICAgIC8qKlxuICAgICAqIFRoZSBraW50byBIVFRQIGNsaWVudCBpbnN0YW5jZS5cbiAgICAgKiBAdHlwZSB7S2ludG9DbGllbnR9XG4gICAgICovXG4gICAgdGhpcy5hcGkgPSBuZXcgQXBpQ2xhc3MocmVtb3RlLCB7XG4gICAgICBldmVudHMsXG4gICAgICBoZWFkZXJzLFxuICAgICAgcmVxdWVzdE1vZGUsXG4gICAgICByZXRyeSxcbiAgICAgIHRpbWVvdXQsXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IGVtaXR0ZXIgaW5zdGFuY2UuXG4gICAgICogQHR5cGUge0V2ZW50RW1pdHRlcn1cbiAgICAgKi9cbiAgICB0aGlzLmV2ZW50cyA9IHRoaXMuX29wdGlvbnMuZXZlbnRzO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB7QGxpbmsgQ29sbGVjdGlvbn0gaW5zdGFuY2UuIFRoZSBzZWNvbmQgKG9wdGlvbmFsKSBwYXJhbWV0ZXJcbiAgICogd2lsbCBzZXQgY29sbGVjdGlvbi1sZXZlbCBvcHRpb25zIGxpa2UgZS5nLiBgcmVtb3RlVHJhbnNmb3JtZXJzYC5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSBjb2xsTmFtZSBUaGUgY29sbGVjdGlvbiBuYW1lLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zPXt9XSAgICAgICAgICAgICAgICAgRXh0cmEgb3B0aW9ucyBvciBvdmVycmlkZSBjbGllbnQncyBvcHRpb25zLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zLmlkU2NoZW1hXSAgICAgICAgICAgSWRTY2hlbWEgaW5zdGFuY2UgKGRlZmF1bHQ6IFVVSUQpXG4gICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnMucmVtb3RlVHJhbnNmb3JtZXJzXSBBcnJheTxSZW1vdGVUcmFuc2Zvcm1lcj4gKGRlZmF1bHQ6IGBbXWBdKVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zLmhvb2tzXSAgICAgICAgICAgICAgQXJyYXk8SG9vaz4gKGRlZmF1bHQ6IGBbXWBdKVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zLmxvY2FsRmllbGRzXSAgICAgICAgQXJyYXk8RmllbGQ+IChkZWZhdWx0OiBgW11gXSlcbiAgICogQHJldHVybiB7Q29sbGVjdGlvbn1cbiAgICovXG4gIGNvbGxlY3Rpb24oY29sbE5hbWUsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghY29sbE5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgY29sbGVjdGlvbiBuYW1lXCIpO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1Y2tldCwgZXZlbnRzLCBhZGFwdGVyLCBhZGFwdGVyT3B0aW9ucywgZGJQcmVmaXggfSA9IHtcbiAgICAgIC4uLnRoaXMuX29wdGlvbnMsXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH07XG4gICAgY29uc3QgeyBpZFNjaGVtYSwgcmVtb3RlVHJhbnNmb3JtZXJzLCBob29rcywgbG9jYWxGaWVsZHMgfSA9IG9wdGlvbnM7XG5cbiAgICByZXR1cm4gbmV3IENvbGxlY3Rpb24oYnVja2V0LCBjb2xsTmFtZSwgdGhpcy5hcGksIHtcbiAgICAgIGV2ZW50cyxcbiAgICAgIGFkYXB0ZXIsXG4gICAgICBhZGFwdGVyT3B0aW9ucyxcbiAgICAgIGRiUHJlZml4LFxuICAgICAgaWRTY2hlbWEsXG4gICAgICByZW1vdGVUcmFuc2Zvcm1lcnMsXG4gICAgICBob29rcyxcbiAgICAgIGxvY2FsRmllbGRzLFxuICAgIH0pO1xuICB9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IEJhc2VBZGFwdGVyIGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IGZpbHRlck9iamVjdCwgb21pdEtleXMsIHNvcnRPYmplY3RzIH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbmNvbnN0IElOREVYRURfRklFTERTID0gW1wiaWRcIiwgXCJfc3RhdHVzXCIsIFwibGFzdF9tb2RpZmllZFwiXTtcblxuLyoqXG4gKiBJREIgY3Vyc29yIGhhbmRsZXJzLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuY29uc3QgY3Vyc29ySGFuZGxlcnMgPSB7XG4gIGFsbChmaWx0ZXJzLCBkb25lKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIHJldHVybiBmdW5jdGlvbihldmVudCkge1xuICAgICAgY29uc3QgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgaWYgKGZpbHRlck9iamVjdChmaWx0ZXJzLCBjdXJzb3IudmFsdWUpKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGN1cnNvci52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKHJlc3VsdHMpO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG5cbiAgaW4odmFsdWVzLCBkb25lKSB7XG4gICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBkb25lKFtdKTtcbiAgICB9XG4gICAgY29uc3Qgc29ydGVkVmFsdWVzID0gW10uc2xpY2UuY2FsbCh2YWx1ZXMpLnNvcnQoKTtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBjb25zdCBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgZG9uZShyZXN1bHRzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSBjdXJzb3I7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICB3aGlsZSAoa2V5ID4gc29ydGVkVmFsdWVzW2ldKSB7XG4gICAgICAgIC8vIFRoZSBjdXJzb3IgaGFzIHBhc3NlZCBiZXlvbmQgdGhpcyBrZXkuIENoZWNrIG5leHQuXG4gICAgICAgICsraTtcbiAgICAgICAgaWYgKGkgPT09IHNvcnRlZFZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICBkb25lKHJlc3VsdHMpOyAvLyBUaGVyZSBpcyBubyBuZXh0LiBTdG9wIHNlYXJjaGluZy5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09IHNvcnRlZFZhbHVlc1tpXSkge1xuICAgICAgICByZXN1bHRzLnB1c2godmFsdWUpO1xuICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnNvci5jb250aW51ZShzb3J0ZWRWYWx1ZXNbaV0pO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG59O1xuXG4vKipcbiAqIEV4dHJhY3QgZnJvbSBmaWx0ZXJzIGRlZmluaXRpb24gdGhlIGZpcnN0IGluZGV4ZWQgZmllbGQuIFNpbmNlIGluZGV4ZXMgd2VyZVxuICogY3JlYXRlZCBvbiBzaW5nbGUtY29sdW1ucywgZXh0cmFjdGluZyBhIHNpbmdsZSBvbmUgbWFrZXMgc2Vuc2UuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBmaWx0ZXJzIFRoZSBmaWx0ZXJzIG9iamVjdC5cbiAqIEByZXR1cm4ge1N0cmluZ3x1bmRlZmluZWR9XG4gKi9cbmZ1bmN0aW9uIGZpbmRJbmRleGVkRmllbGQoZmlsdGVycykge1xuICBjb25zdCBmaWx0ZXJlZEZpZWxkcyA9IE9iamVjdC5rZXlzKGZpbHRlcnMpO1xuICBjb25zdCBpbmRleGVkRmllbGRzID0gZmlsdGVyZWRGaWVsZHMuZmlsdGVyKGZpZWxkID0+IHtcbiAgICByZXR1cm4gSU5ERVhFRF9GSUVMRFMuaW5jbHVkZXMoZmllbGQpO1xuICB9KTtcbiAgcmV0dXJuIGluZGV4ZWRGaWVsZHNbMF07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBJREIgcmVxdWVzdCBhbmQgYXR0YWNoIGl0IHRoZSBhcHByb3ByaWF0ZSBjdXJzb3IgZXZlbnQgaGFuZGxlciB0b1xuICogcGVyZm9ybSBhIGxpc3QgcXVlcnkuXG4gKlxuICogTXVsdGlwbGUgbWF0Y2hpbmcgdmFsdWVzIGFyZSBoYW5kbGVkIGJ5IHBhc3NpbmcgYW4gYXJyYXkuXG4gKlxuICogQHBhcmFtICB7SURCU3RvcmV9ICAgICAgICAgc3RvcmUgICAgICBUaGUgSURCIHN0b3JlLlxuICogQHBhcmFtICB7U3RyaW5nfHVuZGVmaW5lZH0gaW5kZXhGaWVsZCBUaGUgaW5kZXhlZCBmaWVsZCB0byBxdWVyeSwgaWYgYW55LlxuICogQHBhcmFtICB7QW55fSAgICAgICAgICAgICAgdmFsdWUgICAgICBUaGUgdmFsdWUgdG8gZmlsdGVyLCBpZiBhbnkuXG4gKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICAgICBmaWx0ZXJzICAgIE1vcmUgZmlsdGVycy5cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICAgIGRvbmUgICAgICAgVGhlIG9wZXJhdGlvbiBjb21wbGV0aW9uIGhhbmRsZXIuXG4gKiBAcmV0dXJuIHtJREJSZXF1ZXN0fVxuICovXG5mdW5jdGlvbiBjcmVhdGVMaXN0UmVxdWVzdChzdG9yZSwgaW5kZXhGaWVsZCwgdmFsdWUsIGZpbHRlcnMsIGRvbmUpIHtcbiAgaWYgKCFpbmRleEZpZWxkKSB7XG4gICAgLy8gR2V0IGFsbCByZWNvcmRzLlxuICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBjdXJzb3JIYW5kbGVycy5hbGwoZmlsdGVycywgZG9uZSk7XG4gICAgcmV0dXJuIHJlcXVlc3Q7XG4gIH1cblxuICAvLyBXSEVSRSBJTiBlcXVpdmFsZW50IGNsYXVzZVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuaW5kZXgoaW5kZXhGaWVsZCkub3BlbkN1cnNvcigpO1xuICAgIHJlcXVlc3Qub25zdWNjZXNzID0gY3Vyc29ySGFuZGxlcnMuaW4odmFsdWUsIGRvbmUpO1xuICAgIHJldHVybiByZXF1ZXN0O1xuICB9XG5cbiAgLy8gV0hFUkUgZmllbGQgPSB2YWx1ZSBjbGF1c2VcbiAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmluZGV4KGluZGV4RmllbGQpLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2Uub25seSh2YWx1ZSkpO1xuICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGN1cnNvckhhbmRsZXJzLmFsbChmaWx0ZXJzLCBkb25lKTtcbiAgcmV0dXJuIHJlcXVlc3Q7XG59XG5cbi8qKlxuICogSW5kZXhlZERCIGFkYXB0ZXIuXG4gKlxuICogVGhpcyBhZGFwdGVyIGRvZXNuJ3Qgc3VwcG9ydCBhbnkgb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSURCIGV4dGVuZHMgQmFzZUFkYXB0ZXIge1xuICAvKipcbiAgICogQ29uc3RydWN0b3IuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gc3RvcmUgVGhlIHN0b3JlIG5hbWUuXG4gICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyBBZGFwdGVyIG9wdGlvbnMuXG4gICAqIEBwYXJhbSAge1N0cmluZ30gb3B0aW9ucy5kYm5hbWUgVGhlIEluZGV4ZWREQiBuYW1lIChkZWZhdWx0OiBzYW1lIGFzIHN0b3JlKS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHN0b3JlTmFtZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9kYiA9IG51bGw7XG4gICAgLy8gcHVibGljIHByb3BlcnRpZXNcbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YWJhc2UgbmFtZS5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuc3RvcmVOYW1lID0gc3RvcmVOYW1lO1xuICAgIGNvbnN0IHsgZGJuYW1lID0gc3RvcmVOYW1lIH0gPSBvcHRpb25zO1xuICAgIHRoaXMuZGJuYW1lID0gZGJuYW1lO1xuICB9XG5cbiAgX2hhbmRsZUVycm9yKG1ldGhvZCwgZXJyKSB7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IobWV0aG9kICsgXCIoKSBcIiArIGVyci5tZXNzYWdlKTtcbiAgICBlcnJvci5zdGFjayA9IGVyci5zdGFjaztcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnN1cmVzIGEgY29ubmVjdGlvbiB0byB0aGUgSW5kZXhlZERCIGRhdGFiYXNlIGhhcyBiZWVuIG9wZW5lZC5cbiAgICpcbiAgICogQG92ZXJyaWRlXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBvcGVuKCkge1xuICAgIGlmICh0aGlzLl9kYikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3Blbih0aGlzLmRibmFtZSwgMSk7XG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IGV2ZW50ID0+IHtcbiAgICAgICAgLy8gREIgb2JqZWN0XG4gICAgICAgIGNvbnN0IGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgLy8gTWFpbiBjb2xsZWN0aW9uIHN0b3JlXG4gICAgICAgIGNvbnN0IGNvbGxTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKHRoaXMuc3RvcmVOYW1lLCB7XG4gICAgICAgICAga2V5UGF0aDogXCJpZFwiLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gUHJpbWFyeSBrZXkgKGdlbmVyYXRlZCBieSBJZFNjaGVtYSwgVVVJRCBieSBkZWZhdWx0KVxuICAgICAgICBjb2xsU3RvcmUuY3JlYXRlSW5kZXgoXCJpZFwiLCBcImlkXCIsIHsgdW5pcXVlOiB0cnVlIH0pO1xuICAgICAgICAvLyBMb2NhbCByZWNvcmQgc3RhdHVzIChcInN5bmNlZFwiLCBcImNyZWF0ZWRcIiwgXCJ1cGRhdGVkXCIsIFwiZGVsZXRlZFwiKVxuICAgICAgICBjb2xsU3RvcmUuY3JlYXRlSW5kZXgoXCJfc3RhdHVzXCIsIFwiX3N0YXR1c1wiKTtcbiAgICAgICAgLy8gTGFzdCBtb2RpZmllZCBmaWVsZFxuICAgICAgICBjb2xsU3RvcmUuY3JlYXRlSW5kZXgoXCJsYXN0X21vZGlmaWVkXCIsIFwibGFzdF9tb2RpZmllZFwiKTtcblxuICAgICAgICAvLyBNZXRhZGF0YSBzdG9yZVxuICAgICAgICBjb25zdCBtZXRhU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShcIl9fbWV0YV9fXCIsIHtcbiAgICAgICAgICBrZXlQYXRoOiBcIm5hbWVcIixcbiAgICAgICAgfSk7XG4gICAgICAgIG1ldGFTdG9yZS5jcmVhdGVJbmRleChcIm5hbWVcIiwgXCJuYW1lXCIsIHsgdW5pcXVlOiB0cnVlIH0pO1xuICAgICAgfTtcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9IGV2ZW50ID0+IHJlamVjdChldmVudC50YXJnZXQuZXJyb3IpO1xuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBldmVudCA9PiB7XG4gICAgICAgIHRoaXMuX2RiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgcmVzb2x2ZSh0aGlzKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIGN1cnJlbnQgY29ubmVjdGlvbiB0byB0aGUgZGF0YWJhc2UuXG4gICAqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgaWYgKHRoaXMuX2RiKSB7XG4gICAgICB0aGlzLl9kYi5jbG9zZSgpOyAvLyBpbmRleGVkREIuY2xvc2UgaXMgc3luY2hyb25vdXNcbiAgICAgIHRoaXMuX2RiID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSB0cmFuc2FjdGlvbiBhbmQgYW4gb2JqZWN0IHN0b3JlIGZvciB0aGlzIGNvbGxlY3Rpb24uXG4gICAqXG4gICAqIFRvIGRldGVybWluZSBpZiBhIHRyYW5zYWN0aW9uIGhhcyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LCB3ZSBzaG91bGQgcmF0aGVyXG4gICAqIGxpc3RlbiB0byB0aGUgdHJhbnNhY3Rpb27igJlzIGNvbXBsZXRlIGV2ZW50IHJhdGhlciB0aGFuIHRoZSBJREJPYmplY3RTdG9yZVxuICAgKiByZXF1ZXN04oCZcyBzdWNjZXNzIGV2ZW50LCBiZWNhdXNlIHRoZSB0cmFuc2FjdGlvbiBtYXkgc3RpbGwgZmFpbCBhZnRlciB0aGVcbiAgICogc3VjY2VzcyBldmVudCBmaXJlcy5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSAgICAgIG1vZGUgIFRyYW5zYWN0aW9uIG1vZGUgKFwicmVhZHdyaXRlXCIgb3IgdW5kZWZpbmVkKVxuICAgKiBAcGFyYW0gIHtTdHJpbmd8bnVsbH0gbmFtZSAgU3RvcmUgbmFtZSAoZGVmYXVsdHMgdG8gY29sbCBuYW1lKVxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBwcmVwYXJlKG1vZGUgPSB1bmRlZmluZWQsIG5hbWUgPSBudWxsKSB7XG4gICAgY29uc3Qgc3RvcmVOYW1lID0gbmFtZSB8fCB0aGlzLnN0b3JlTmFtZTtcbiAgICAvLyBPbiBTYWZhcmksIGNhbGxpbmcgSURCRGF0YWJhc2UudHJhbnNhY3Rpb24gd2l0aCBtb2RlID09IHVuZGVmaW5lZCByYWlzZXNcbiAgICAvLyBhIFR5cGVFcnJvci5cbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IG1vZGVcbiAgICAgID8gdGhpcy5fZGIudHJhbnNhY3Rpb24oW3N0b3JlTmFtZV0sIG1vZGUpXG4gICAgICA6IHRoaXMuX2RiLnRyYW5zYWN0aW9uKFtzdG9yZU5hbWVdKTtcbiAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgcmV0dXJuIHsgdHJhbnNhY3Rpb24sIHN0b3JlIH07XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBldmVyeSByZWNvcmRzIGluIHRoZSBjdXJyZW50IGNvbGxlY3Rpb24uXG4gICAqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgYXN5bmMgY2xlYXIoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMub3BlbigpO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgeyB0cmFuc2FjdGlvbiwgc3RvcmUgfSA9IHRoaXMucHJlcGFyZShcInJlYWR3cml0ZVwiKTtcbiAgICAgICAgc3RvcmUuY2xlYXIoKTtcbiAgICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9IGV2ZW50ID0+IHJlamVjdChuZXcgRXJyb3IoZXZlbnQudGFyZ2V0LmVycm9yKSk7XG4gICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLl9oYW5kbGVFcnJvcihcImNsZWFyXCIsIGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgc2V0IG9mIHN5bmNocm9ub3VzIENSVUQgb3BlcmF0aW9ucyBkZXNjcmliZWQgaW4gdGhlIHByb3ZpZGVkXG4gICAqIGNhbGxiYWNrIHdpdGhpbiBhbiBJbmRleGVkREIgdHJhbnNhY3Rpb24sIGZvciBjdXJyZW50IGRiIHN0b3JlLlxuICAgKlxuICAgKiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBwcm92aWRlZCBhbiBvYmplY3QgZXhwb3NpbmcgdGhlIGZvbGxvd2luZyBzeW5jaHJvbm91c1xuICAgKiBDUlVEIG9wZXJhdGlvbiBtZXRob2RzOiBnZXQsIGNyZWF0ZSwgdXBkYXRlLCBkZWxldGUuXG4gICAqXG4gICAqIEltcG9ydGFudCBub3RlOiBiZWNhdXNlIGxpbWl0YXRpb25zIGluIEluZGV4ZWREQiBpbXBsZW1lbnRhdGlvbnMsIG5vXG4gICAqIGFzeW5jaHJvbm91cyBjb2RlIHNob3VsZCBiZSBwZXJmb3JtZWQgd2l0aGluIHRoZSBwcm92aWRlZCBjYWxsYmFjazsgdGhlXG4gICAqIHByb21pc2Ugd2lsbCB0aGVyZWZvcmUgYmUgcmVqZWN0ZWQgaWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYSBQcm9taXNlLlxuICAgKlxuICAgKiBPcHRpb25zOlxuICAgKiAtIHtBcnJheX0gcHJlbG9hZDogVGhlIGxpc3Qgb2YgcmVjb3JkIElEcyB0byBmZXRjaCBhbmQgbWFrZSBhdmFpbGFibGUgdG9cbiAgICogICB0aGUgdHJhbnNhY3Rpb24gb2JqZWN0IGdldCgpIG1ldGhvZCAoZGVmYXVsdDogW10pXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IGRiID0gbmV3IElEQihcImV4YW1wbGVcIik7XG4gICAqIGRiLmV4ZWN1dGUodHJhbnNhY3Rpb24gPT4ge1xuICAgKiAgIHRyYW5zYWN0aW9uLmNyZWF0ZSh7aWQ6IDEsIHRpdGxlOiBcImZvb1wifSk7XG4gICAqICAgdHJhbnNhY3Rpb24udXBkYXRlKHtpZDogMiwgdGl0bGU6IFwiYmFyXCJ9KTtcbiAgICogICB0cmFuc2FjdGlvbi5kZWxldGUoMyk7XG4gICAqICAgcmV0dXJuIFwiZm9vXCI7XG4gICAqIH0pXG4gICAqICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKSk7XG4gICAqICAgLnRoZW4oY29uc29sZS5sb2cuYmluZChjb25zb2xlKSk7IC8vID0+IFwiZm9vXCJcbiAgICpcbiAgICogQG92ZXJyaWRlXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgb3BlcmF0aW9uIGRlc2NyaXB0aW9uIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgb3B0aW9ucyAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgYXN5bmMgZXhlY3V0ZShjYWxsYmFjaywgb3B0aW9ucyA9IHsgcHJlbG9hZDogW10gfSkge1xuICAgIC8vIFRyYW5zYWN0aW9ucyBpbiBJbmRleGVkREIgYXJlIGF1dG9jb21taXRlZCB3aGVuIGEgY2FsbGJhY2sgZG9lcyBub3RcbiAgICAvLyBwZXJmb3JtIGFueSBhZGRpdGlvbmFsIG9wZXJhdGlvbi5cbiAgICAvLyBUaGUgd2F5IFByb21pc2VzIGFyZSBpbXBsZW1lbnRlZCBpbiBGaXJlZm94IChzZWUgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTE5MzM5NClcbiAgICAvLyBwcmV2ZW50cyB1c2luZyB3aXRoaW4gYW4gb3BlbmVkIHRyYW5zYWN0aW9uLlxuICAgIC8vIFRvIGF2b2lkIG1hbmFnaW5nIGFzeW5jaHJvbm9jaXR5IGluIHRoZSBzcGVjaWZpZWQgYGNhbGxiYWNrYCwgd2UgcHJlbG9hZFxuICAgIC8vIGEgbGlzdCBvZiByZWNvcmQgaW4gb3JkZXIgdG8gZXhlY3V0ZSB0aGUgYGNhbGxiYWNrYCBzeW5jaHJvbm91c2x5LlxuICAgIC8vIFNlZSBhbHNvOlxuICAgIC8vIC0gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjgzODg4MDUvMzMwOTExXG4gICAgLy8gLSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMDQwNTE5NlxuICAgIC8vIC0gaHR0cHM6Ly9qYWtlYXJjaGliYWxkLmNvbS8yMDE1L3Rhc2tzLW1pY3JvdGFza3MtcXVldWVzLWFuZC1zY2hlZHVsZXMvXG4gICAgYXdhaXQgdGhpcy5vcGVuKCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIC8vIFN0YXJ0IHRyYW5zYWN0aW9uLlxuICAgICAgY29uc3QgeyB0cmFuc2FjdGlvbiwgc3RvcmUgfSA9IHRoaXMucHJlcGFyZShcInJlYWR3cml0ZVwiKTtcbiAgICAgIC8vIFByZWxvYWQgc3BlY2lmaWVkIHJlY29yZHMgdXNpbmcgaW5kZXguXG4gICAgICBjb25zdCBpZHMgPSBvcHRpb25zLnByZWxvYWQ7XG4gICAgICBzdG9yZS5pbmRleChcImlkXCIpLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSBjdXJzb3JIYW5kbGVycy5pbihcbiAgICAgICAgaWRzLFxuICAgICAgICByZWNvcmRzID0+IHtcbiAgICAgICAgICAvLyBTdG9yZSBvYnRhaW5lZCByZWNvcmRzIGJ5IGlkLlxuICAgICAgICAgIGNvbnN0IHByZWxvYWRlZCA9IHJlY29yZHMucmVkdWNlKChhY2MsIHJlY29yZCkgPT4ge1xuICAgICAgICAgICAgYWNjW3JlY29yZC5pZF0gPSByZWNvcmQ7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAvLyBFeHBvc2UgYSBjb25zaXN0ZW50IEFQSSBmb3IgZXZlcnkgYWRhcHRlciBpbnN0ZWFkIG9mIHJhdyBzdG9yZSBtZXRob2RzLlxuICAgICAgICAgIGNvbnN0IHByb3h5ID0gdHJhbnNhY3Rpb25Qcm94eShzdG9yZSwgcHJlbG9hZGVkKTtcbiAgICAgICAgICAvLyBUaGUgY2FsbGJhY2sgaXMgZXhlY3V0ZWQgc3luY2hyb25vdXNseSB3aXRoaW4gdGhlIHNhbWUgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2socHJveHkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLmFib3J0KCk7XG4gICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAvLyBYWFg6IGludmVzdGlnYXRlIGhvdyB0byBwcm92aWRlIGRvY3VtZW50YXRpb24gZGV0YWlscyBpbiBlcnJvci5cbiAgICAgICAgICAgIHJlamVjdChcbiAgICAgICAgICAgICAgbmV3IEVycm9yKFwiZXhlY3V0ZSgpIGNhbGxiYWNrIHNob3VsZCBub3QgcmV0dXJuIGEgUHJvbWlzZS5cIilcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFhYWCB1bnN1cmUgaWYgd2Ugc2hvdWxkIG1hbnVhbGx5IGFib3J0IHRoZSB0cmFuc2FjdGlvbiBvbiBlcnJvclxuICAgICAgICAgIHRyYW5zYWN0aW9uLm9uZXJyb3IgPSBldmVudCA9PiByZWplY3QobmV3IEVycm9yKGV2ZW50LnRhcmdldC5lcnJvcikpO1xuICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSBldmVudCA9PiByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgYSByZWNvcmQgYnkgaXRzIHByaW1hcnkga2V5IGZyb20gdGhlIEluZGV4ZWREQiBkYXRhYmFzZS5cbiAgICpcbiAgICogQG92ZXJyaWRlXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaWQgVGhlIHJlY29yZCBpZC5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGFzeW5jIGdldChpZCkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLm9wZW4oKTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdHJhbnNhY3Rpb24sIHN0b3JlIH0gPSB0aGlzLnByZXBhcmUoKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHN0b3JlLmdldChpZCk7XG4gICAgICAgIHRyYW5zYWN0aW9uLm9uZXJyb3IgPSBldmVudCA9PiByZWplY3QobmV3IEVycm9yKGV2ZW50LnRhcmdldC5lcnJvcikpO1xuICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4gcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLl9oYW5kbGVFcnJvcihcImdldFwiLCBlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgYWxsIHJlY29yZHMgZnJvbSB0aGUgSW5kZXhlZERCIGRhdGFiYXNlLlxuICAgKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHBhcmFtICB7T2JqZWN0fSBwYXJhbXMgIFRoZSBmaWx0ZXJzIGFuZCBvcmRlciB0byBhcHBseSB0byB0aGUgcmVzdWx0cy5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGFzeW5jIGxpc3QocGFyYW1zID0geyBmaWx0ZXJzOiB7fSB9KSB7XG4gICAgY29uc3QgeyBmaWx0ZXJzIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgaW5kZXhGaWVsZCA9IGZpbmRJbmRleGVkRmllbGQoZmlsdGVycyk7XG4gICAgY29uc3QgdmFsdWUgPSBmaWx0ZXJzW2luZGV4RmllbGRdO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLm9wZW4oKTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxldCByZXN1bHRzID0gW107XG4gICAgICAgIC8vIElmIGBpbmRleEZpZWxkYCB3YXMgdXNlZCBhbHJlYWR5LCBkb24ndCBmaWx0ZXIgYWdhaW4uXG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ0ZpbHRlcnMgPSBvbWl0S2V5cyhmaWx0ZXJzLCBpbmRleEZpZWxkKTtcblxuICAgICAgICBjb25zdCB7IHRyYW5zYWN0aW9uLCBzdG9yZSB9ID0gdGhpcy5wcmVwYXJlKCk7XG4gICAgICAgIGNyZWF0ZUxpc3RSZXF1ZXN0KFxuICAgICAgICAgIHN0b3JlLFxuICAgICAgICAgIGluZGV4RmllbGQsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgcmVtYWluaW5nRmlsdGVycyxcbiAgICAgICAgICBfcmVzdWx0cyA9PiB7XG4gICAgICAgICAgICAvLyB3ZSBoYXZlIHJlY2VpdmVkIGFsbCByZXF1ZXN0ZWQgcmVjb3JkcywgcGFya2luZyB0aGVtIHdpdGhpblxuICAgICAgICAgICAgLy8gY3VycmVudCBzY29wZVxuICAgICAgICAgICAgcmVzdWx0cyA9IF9yZXN1bHRzO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9IGV2ZW50ID0+IHJlamVjdChuZXcgRXJyb3IoZXZlbnQudGFyZ2V0LmVycm9yKSk7XG4gICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSBldmVudCA9PiByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFRoZSByZXN1bHRpbmcgbGlzdCBvZiByZWNvcmRzIGlzIHNvcnRlZC5cbiAgICAgIC8vIFhYWDogd2l0aCBzb21lIGVmZm9ydHMsIHRoaXMgY291bGQgYmUgZnVsbHkgaW1wbGVtZW50ZWQgdXNpbmcgSURCIEFQSS5cbiAgICAgIHJldHVybiBwYXJhbXMub3JkZXIgPyBzb3J0T2JqZWN0cyhwYXJhbXMub3JkZXIsIHJlc3VsdHMpIDogcmVzdWx0cztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLl9oYW5kbGVFcnJvcihcImxpc3RcIiwgZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlIHRoZSBsYXN0TW9kaWZpZWQgdmFsdWUgaW50byBtZXRhZGF0YSBzdG9yZS5cbiAgICpcbiAgICogQG92ZXJyaWRlXG4gICAqIEBwYXJhbSAge051bWJlcn0gIGxhc3RNb2RpZmllZFxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgYXN5bmMgc2F2ZUxhc3RNb2RpZmllZChsYXN0TW9kaWZpZWQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGxhc3RNb2RpZmllZCwgMTApIHx8IG51bGw7XG4gICAgYXdhaXQgdGhpcy5vcGVuKCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHsgdHJhbnNhY3Rpb24sIHN0b3JlIH0gPSB0aGlzLnByZXBhcmUoXCJyZWFkd3JpdGVcIiwgXCJfX21ldGFfX1wiKTtcbiAgICAgIHN0b3JlLnB1dCh7IG5hbWU6IGAke3RoaXMuc3RvcmVOYW1lfS1sYXN0TW9kaWZpZWRgLCB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICB0cmFuc2FjdGlvbi5vbmVycm9yID0gZXZlbnQgPT4gcmVqZWN0KGV2ZW50LnRhcmdldC5lcnJvcik7XG4gICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gZXZlbnQgPT4gcmVzb2x2ZSh2YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgc2F2ZWQgbGFzdE1vZGlmaWVkIHZhbHVlLlxuICAgKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGFzeW5jIGdldExhc3RNb2RpZmllZCgpIHtcbiAgICBhd2FpdCB0aGlzLm9wZW4oKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgeyB0cmFuc2FjdGlvbiwgc3RvcmUgfSA9IHRoaXMucHJlcGFyZSh1bmRlZmluZWQsIFwiX19tZXRhX19cIik7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZ2V0KGAke3RoaXMuc3RvcmVOYW1lfS1sYXN0TW9kaWZpZWRgKTtcbiAgICAgIHRyYW5zYWN0aW9uLm9uZXJyb3IgPSBldmVudCA9PiByZWplY3QoZXZlbnQudGFyZ2V0LmVycm9yKTtcbiAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSBldmVudCA9PiB7XG4gICAgICAgIHJlc29sdmUoKHJlcXVlc3QucmVzdWx0ICYmIHJlcXVlc3QucmVzdWx0LnZhbHVlKSB8fCBudWxsKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhIGR1bXAgb2YgcmVjb3JkcyBleHBvcnRlZCBmcm9tIGEgc2VydmVyLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtICB7QXJyYXl9IHJlY29yZHMgVGhlIHJlY29yZHMgdG8gbG9hZC5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGFzeW5jIGxvYWREdW1wKHJlY29yZHMpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5leGVjdXRlKHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgcmVjb3Jkcy5mb3JFYWNoKHJlY29yZCA9PiB0cmFuc2FjdGlvbi51cGRhdGUocmVjb3JkKSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHByZXZpb3VzTGFzdE1vZGlmaWVkID0gYXdhaXQgdGhpcy5nZXRMYXN0TW9kaWZpZWQoKTtcbiAgICAgIGNvbnN0IGxhc3RNb2RpZmllZCA9IE1hdGgubWF4KFxuICAgICAgICAuLi5yZWNvcmRzLm1hcChyZWNvcmQgPT4gcmVjb3JkLmxhc3RfbW9kaWZpZWQpXG4gICAgICApO1xuICAgICAgaWYgKGxhc3RNb2RpZmllZCA+IHByZXZpb3VzTGFzdE1vZGlmaWVkKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZUxhc3RNb2RpZmllZChsYXN0TW9kaWZpZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlY29yZHM7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5faGFuZGxlRXJyb3IoXCJsb2FkRHVtcFwiLCBlKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJREIgdHJhbnNhY3Rpb24gcHJveHkuXG4gKlxuICogQHBhcmFtICB7SURCU3RvcmV9IHN0b3JlICAgICBUaGUgSW5kZXhlZERCIGRhdGFiYXNlIHN0b3JlLlxuICogQHBhcmFtICB7QXJyYXl9ICAgIHByZWxvYWRlZCBUaGUgbGlzdCBvZiByZWNvcmRzIHRvIG1ha2UgYXZhaWxhYmxlIHRvXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldCgpIChkZWZhdWx0OiBbXSkuXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHRyYW5zYWN0aW9uUHJveHkoc3RvcmUsIHByZWxvYWRlZCA9IFtdKSB7XG4gIHJldHVybiB7XG4gICAgY3JlYXRlKHJlY29yZCkge1xuICAgICAgc3RvcmUuYWRkKHJlY29yZCk7XG4gICAgfSxcblxuICAgIHVwZGF0ZShyZWNvcmQpIHtcbiAgICAgIHN0b3JlLnB1dChyZWNvcmQpO1xuICAgIH0sXG5cbiAgICBkZWxldGUoaWQpIHtcbiAgICAgIHN0b3JlLmRlbGV0ZShpZCk7XG4gICAgfSxcblxuICAgIGdldChpZCkge1xuICAgICAgcmV0dXJuIHByZWxvYWRlZFtpZF07XG4gICAgfSxcbiAgfTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEJhc2UgZGIgYWRhcHRlci5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZUFkYXB0ZXIge1xuICAvKipcbiAgICogRGVsZXRlcyBldmVyeSByZWNvcmRzIHByZXNlbnQgaW4gdGhlIGRhdGFiYXNlLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBJbXBsZW1lbnRlZC5cIik7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBiYXRjaCBvZiBvcGVyYXRpb25zIHdpdGhpbiBhIHNpbmdsZSB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgb3BlcmF0aW9uIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgb3B0aW9ucyAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgZXhlY3V0ZShjYWxsYmFjaywgb3B0aW9ucyA9IHsgcHJlbG9hZDogW10gfSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBJbXBsZW1lbnRlZC5cIik7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgYSByZWNvcmQgYnkgaXRzIHByaW1hcnkga2V5IGZyb20gdGhlIGRhdGFiYXNlLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtICB7U3RyaW5nfSBpZCBUaGUgcmVjb3JkIGlkLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgZ2V0KGlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IEltcGxlbWVudGVkLlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0cyBhbGwgcmVjb3JkcyBmcm9tIHRoZSBkYXRhYmFzZS5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSAge09iamVjdH0gcGFyYW1zICBUaGUgZmlsdGVycyBhbmQgb3JkZXIgdG8gYXBwbHkgdG8gdGhlIHJlc3VsdHMuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBsaXN0KHBhcmFtcyA9IHsgZmlsdGVyczoge30sIG9yZGVyOiBcIlwiIH0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgSW1wbGVtZW50ZWQuXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlIHRoZSBsYXN0TW9kaWZpZWQgdmFsdWUuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBsYXN0TW9kaWZpZWRcbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIHNhdmVMYXN0TW9kaWZpZWQobGFzdE1vZGlmaWVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IEltcGxlbWVudGVkLlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBzYXZlZCBsYXN0TW9kaWZpZWQgdmFsdWUuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgZ2V0TGFzdE1vZGlmaWVkKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBJbXBsZW1lbnRlZC5cIik7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhIGR1bXAgb2YgcmVjb3JkcyBleHBvcnRlZCBmcm9tIGEgc2VydmVyLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtICB7QXJyYXl9IHJlY29yZHMgVGhlIHJlY29yZHMgdG8gbG9hZC5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGxvYWREdW1wKHJlY29yZHMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgSW1wbGVtZW50ZWQuXCIpO1xuICB9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IEJhc2VBZGFwdGVyIGZyb20gXCIuL2FkYXB0ZXJzL2Jhc2VcIjtcbmltcG9ydCBJREIgZnJvbSBcIi4vYWRhcHRlcnMvSURCXCI7XG5pbXBvcnQgeyB3YXRlcmZhbGwsIGRlZXBFcXVhbCB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyB2NCBhcyB1dWlkNCB9IGZyb20gXCJ1dWlkXCI7XG5pbXBvcnQgeyBpc1VVSUQsIG9taXRLZXlzIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuY29uc3QgUkVDT1JEX0ZJRUxEU19UT19DTEVBTiA9IFtcIl9zdGF0dXNcIl07XG5jb25zdCBBVkFJTEFCTEVfSE9PS1MgPSBbXCJpbmNvbWluZy1jaGFuZ2VzXCJdO1xuXG4vKipcbiAqIENvbXBhcmUgdHdvIHJlY29yZHMgb21pdHRpbmcgbG9jYWwgZmllbGRzIGFuZCBzeW5jaHJvbml6YXRpb25cbiAqIGF0dHJpYnV0ZXMgKGxpa2UgX3N0YXR1cyBhbmQgbGFzdF9tb2RpZmllZClcbiAqIEBwYXJhbSB7T2JqZWN0fSBhICAgIEEgcmVjb3JkIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gYiAgICBBIHJlY29yZCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtBcnJheX0gbG9jYWxGaWVsZHMgQWRkaXRpb25hbCBmaWVsZHMgdG8gaWdub3JlIGR1cmluZyB0aGUgY29tcGFyaXNvblxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZHNFcXVhbChhLCBiLCBsb2NhbEZpZWxkcyA9IFtdKSB7XG4gIGNvbnN0IGZpZWxkc1RvQ2xlYW4gPSBSRUNPUkRfRklFTERTX1RPX0NMRUFOLmNvbmNhdChbXCJsYXN0X21vZGlmaWVkXCJdKS5jb25jYXQoXG4gICAgbG9jYWxGaWVsZHNcbiAgKTtcbiAgY29uc3QgY2xlYW5Mb2NhbCA9IHIgPT4gb21pdEtleXMociwgZmllbGRzVG9DbGVhbik7XG4gIHJldHVybiBkZWVwRXF1YWwoY2xlYW5Mb2NhbChhKSwgY2xlYW5Mb2NhbChiKSk7XG59XG5cbi8qKlxuICogU3luY2hyb25pemF0aW9uIHJlc3VsdCBvYmplY3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBTeW5jUmVzdWx0T2JqZWN0IHtcbiAgLyoqXG4gICAqIE9iamVjdCBkZWZhdWx0IHZhbHVlcy5cbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIHN0YXRpYyBnZXQgZGVmYXVsdHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9rOiB0cnVlLFxuICAgICAgbGFzdE1vZGlmaWVkOiBudWxsLFxuICAgICAgZXJyb3JzOiBbXSxcbiAgICAgIGNyZWF0ZWQ6IFtdLFxuICAgICAgdXBkYXRlZDogW10sXG4gICAgICBkZWxldGVkOiBbXSxcbiAgICAgIHB1Ymxpc2hlZDogW10sXG4gICAgICBjb25mbGljdHM6IFtdLFxuICAgICAgc2tpcHBlZDogW10sXG4gICAgICByZXNvbHZlZDogW10sXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgY29uc3RydWN0b3IuXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBDdXJyZW50IHN5bmNocm9uaXphdGlvbiByZXN1bHQgc3RhdHVzOyBiZWNvbWVzIGBmYWxzZWAgd2hlbiBjb25mbGljdHMgb3JcbiAgICAgKiBlcnJvcnMgYXJlIHJlZ2lzdGVyZWQuXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5vayA9IHRydWU7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBTeW5jUmVzdWx0T2JqZWN0LmRlZmF1bHRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGVudHJpZXMgZm9yIGEgZ2l2ZW4gcmVzdWx0IHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlICAgIFRoZSByZXN1bHQgdHlwZS5cbiAgICogQHBhcmFtIHtBcnJheX0gIGVudHJpZXMgVGhlIHJlc3VsdCBlbnRyaWVzLlxuICAgKiBAcmV0dXJuIHtTeW5jUmVzdWx0T2JqZWN0fVxuICAgKi9cbiAgYWRkKHR5cGUsIGVudHJpZXMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpc1t0eXBlXSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGVudHJpZXMpKSB7XG4gICAgICBlbnRyaWVzID0gW2VudHJpZXNdO1xuICAgIH1cbiAgICAvLyBEZWR1cGxpY2F0ZSBlbnRyaWVzIGJ5IGlkLiBJZiB0aGUgdmFsdWVzIGRvbid0IGhhdmUgYGlkYCBhdHRyaWJ1dGUsIGp1c3RcbiAgICAvLyBrZWVwIGFsbC5cbiAgICBjb25zdCByZWNvcmRzV2l0aG91dElkID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHJlY29yZHNCeUlkID0gbmV3IE1hcCgpO1xuICAgIGZ1bmN0aW9uIGFkZE9uZVJlY29yZChyZWNvcmQpIHtcbiAgICAgIGlmICghcmVjb3JkLmlkKSB7XG4gICAgICAgIHJlY29yZHNXaXRob3V0SWQuYWRkKHJlY29yZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWNvcmRzQnlJZC5zZXQocmVjb3JkLmlkLCByZWNvcmQpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzW3R5cGVdLmZvckVhY2goYWRkT25lUmVjb3JkKTtcbiAgICBlbnRyaWVzLmZvckVhY2goYWRkT25lUmVjb3JkKTtcblxuICAgIHRoaXNbdHlwZV0gPSBBcnJheS5mcm9tKHJlY29yZHNCeUlkLnZhbHVlcygpKS5jb25jYXQoXG4gICAgICBBcnJheS5mcm9tKHJlY29yZHNXaXRob3V0SWQpXG4gICAgKTtcbiAgICB0aGlzLm9rID0gdGhpcy5lcnJvcnMubGVuZ3RoICsgdGhpcy5jb25mbGljdHMubGVuZ3RoID09PSAwO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlaW5pdGlhbGl6ZXMgcmVzdWx0IGVudHJpZXMgZm9yIGEgZ2l2ZW4gcmVzdWx0IHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZSBUaGUgcmVzdWx0IHR5cGUuXG4gICAqIEByZXR1cm4ge1N5bmNSZXN1bHRPYmplY3R9XG4gICAqL1xuICByZXNldCh0eXBlKSB7XG4gICAgdGhpc1t0eXBlXSA9IFN5bmNSZXN1bHRPYmplY3QuZGVmYXVsdHNbdHlwZV07XG4gICAgdGhpcy5vayA9IHRoaXMuZXJyb3JzLmxlbmd0aCArIHRoaXMuY29uZmxpY3RzLmxlbmd0aCA9PT0gMDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVVVUlEU2NoZW1hKCkge1xuICByZXR1cm4ge1xuICAgIGdlbmVyYXRlKCkge1xuICAgICAgcmV0dXJuIHV1aWQ0KCk7XG4gICAgfSxcblxuICAgIHZhbGlkYXRlKGlkKSB7XG4gICAgICByZXR1cm4gaXNVVUlEKGlkKTtcbiAgICB9LFxuICB9O1xufVxuXG5mdW5jdGlvbiBtYXJrU3RhdHVzKHJlY29yZCwgc3RhdHVzKSB7XG4gIHJldHVybiB7IC4uLnJlY29yZCwgX3N0YXR1czogc3RhdHVzIH07XG59XG5cbmZ1bmN0aW9uIG1hcmtEZWxldGVkKHJlY29yZCkge1xuICByZXR1cm4gbWFya1N0YXR1cyhyZWNvcmQsIFwiZGVsZXRlZFwiKTtcbn1cblxuZnVuY3Rpb24gbWFya1N5bmNlZChyZWNvcmQpIHtcbiAgcmV0dXJuIG1hcmtTdGF0dXMocmVjb3JkLCBcInN5bmNlZFwiKTtcbn1cblxuLyoqXG4gKiBJbXBvcnQgYSByZW1vdGUgY2hhbmdlIGludG8gdGhlIGxvY2FsIGRhdGFiYXNlLlxuICpcbiAqIEBwYXJhbSAge0lEQlRyYW5zYWN0aW9uUHJveHl9IHRyYW5zYWN0aW9uIFRoZSB0cmFuc2FjdGlvbiBoYW5kbGVyLlxuICogQHBhcmFtICB7T2JqZWN0fSAgICAgICAgICAgICAgcmVtb3RlICAgICAgVGhlIHJlbW90ZSBjaGFuZ2Ugb2JqZWN0IHRvIGltcG9ydC5cbiAqIEBwYXJhbSAge0FycmF5PFN0cmluZz59ICAgICAgIGxvY2FsRmllbGRzIFRoZSBsaXN0IG9mIGZpZWxkcyB0aGF0IHJlbWFpbiBsb2NhbC5cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gaW1wb3J0Q2hhbmdlKHRyYW5zYWN0aW9uLCByZW1vdGUsIGxvY2FsRmllbGRzKSB7XG4gIGNvbnN0IGxvY2FsID0gdHJhbnNhY3Rpb24uZ2V0KHJlbW90ZS5pZCk7XG4gIGlmICghbG9jYWwpIHtcbiAgICAvLyBOb3QgZm91bmQgbG9jYWxseSBidXQgcmVtb3RlIGNoYW5nZSBpcyBtYXJrZWQgYXMgZGVsZXRlZDsgc2tpcCB0b1xuICAgIC8vIGF2b2lkIHJlY3JlYXRpb24uXG4gICAgaWYgKHJlbW90ZS5kZWxldGVkKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInNraXBwZWRcIiwgZGF0YTogcmVtb3RlIH07XG4gICAgfVxuICAgIGNvbnN0IHN5bmNlZCA9IG1hcmtTeW5jZWQocmVtb3RlKTtcbiAgICB0cmFuc2FjdGlvbi5jcmVhdGUoc3luY2VkKTtcbiAgICByZXR1cm4geyB0eXBlOiBcImNyZWF0ZWRcIiwgZGF0YTogc3luY2VkIH07XG4gIH1cbiAgLy8gQ29tcGFyZSBsb2NhbCBhbmQgcmVtb3RlLCBpZ25vcmluZyBsb2NhbCBmaWVsZHMuXG4gIGNvbnN0IGlzSWRlbnRpY2FsID0gcmVjb3Jkc0VxdWFsKGxvY2FsLCByZW1vdGUsIGxvY2FsRmllbGRzKTtcbiAgLy8gQXBwbHkgcmVtb3RlIGNoYW5nZXMgb24gbG9jYWwgcmVjb3JkLlxuICBjb25zdCBzeW5jZWQgPSB7IC4uLmxvY2FsLCAuLi5tYXJrU3luY2VkKHJlbW90ZSkgfTtcbiAgLy8gRGV0ZWN0IG9yIGlnbm9yZSBjb25mbGljdHMgaWYgcmVjb3JkIGhhcyBhbHNvIGJlZW4gbW9kaWZpZWQgbG9jYWxseS5cbiAgaWYgKGxvY2FsLl9zdGF0dXMgIT09IFwic3luY2VkXCIpIHtcbiAgICAvLyBMb2NhbGx5IGRlbGV0ZWQsIHVuc3luY2VkOiBzY2hlZHVsZWQgZm9yIHJlbW90ZSBkZWxldGlvbi5cbiAgICBpZiAobG9jYWwuX3N0YXR1cyA9PT0gXCJkZWxldGVkXCIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwic2tpcHBlZFwiLCBkYXRhOiBsb2NhbCB9O1xuICAgIH1cbiAgICBpZiAoaXNJZGVudGljYWwpIHtcbiAgICAgIC8vIElmIHJlY29yZHMgYXJlIGlkZW50aWNhbCwgaW1wb3J0IGFueXdheSwgc28gd2UgYnVtcCB0aGVcbiAgICAgIC8vIGxvY2FsIGxhc3RfbW9kaWZpZWQgdmFsdWUgZnJvbSB0aGUgc2VydmVyIGFuZCBzZXQgcmVjb3JkXG4gICAgICAvLyBzdGF0dXMgdG8gXCJzeW5jZWRcIi5cbiAgICAgIHRyYW5zYWN0aW9uLnVwZGF0ZShzeW5jZWQpO1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ1cGRhdGVkXCIsIGRhdGE6IHsgb2xkOiBsb2NhbCwgbmV3OiBzeW5jZWQgfSB9O1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBsb2NhbC5sYXN0X21vZGlmaWVkICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIGxvY2FsLmxhc3RfbW9kaWZpZWQgPT09IHJlbW90ZS5sYXN0X21vZGlmaWVkXG4gICAgKSB7XG4gICAgICAvLyBJZiBvdXIgbG9jYWwgdmVyc2lvbiBoYXMgdGhlIHNhbWUgbGFzdF9tb2RpZmllZCBhcyB0aGUgcmVtb3RlXG4gICAgICAvLyBvbmUsIHRoaXMgcmVwcmVzZW50cyBhbiBvYmplY3QgdGhhdCBjb3JyZXNwb25kcyB0byBhIHJlc29sdmVkXG4gICAgICAvLyBjb25mbGljdC4gT3VyIGxvY2FsIHZlcnNpb24gcmVwcmVzZW50cyB0aGUgZmluYWwgb3V0cHV0LCBzb1xuICAgICAgLy8gd2Uga2VlcCB0aGF0IG9uZS4gKE5vIHRyYW5zYWN0aW9uIG9wZXJhdGlvbiB0byBkby4pXG4gICAgICAvLyBCdXQgaWYgb3VyIGxhc3RfbW9kaWZpZWQgaXMgdW5kZWZpbmVkLFxuICAgICAgLy8gdGhhdCBtZWFucyB3ZSd2ZSBjcmVhdGVkIHRoZSBzYW1lIG9iamVjdCBsb2NhbGx5IGFzIG9uZSBvblxuICAgICAgLy8gdGhlIHNlcnZlciwgd2hpY2ggKm11c3QqIGJlIGEgY29uZmxpY3QuXG4gICAgICByZXR1cm4geyB0eXBlOiBcInZvaWRcIiB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJjb25mbGljdHNcIixcbiAgICAgIGRhdGE6IHsgdHlwZTogXCJpbmNvbWluZ1wiLCBsb2NhbDogbG9jYWwsIHJlbW90ZTogcmVtb3RlIH0sXG4gICAgfTtcbiAgfVxuICAvLyBMb2NhbCByZWNvcmQgd2FzIHN5bmNlZC5cbiAgaWYgKHJlbW90ZS5kZWxldGVkKSB7XG4gICAgdHJhbnNhY3Rpb24uZGVsZXRlKHJlbW90ZS5pZCk7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJkZWxldGVkXCIsIGRhdGE6IGxvY2FsIH07XG4gIH1cbiAgLy8gSW1wb3J0IGxvY2FsbHkuXG4gIHRyYW5zYWN0aW9uLnVwZGF0ZShzeW5jZWQpO1xuICAvLyBpZiBpZGVudGljYWwsIHNpbXBseSBleGNsdWRlIGl0IGZyb20gYWxsIFN5bmNSZXN1bHRPYmplY3QgbGlzdHNcbiAgY29uc3QgdHlwZSA9IGlzSWRlbnRpY2FsID8gXCJ2b2lkXCIgOiBcInVwZGF0ZWRcIjtcbiAgcmV0dXJuIHsgdHlwZSwgZGF0YTogeyBvbGQ6IGxvY2FsLCBuZXc6IHN5bmNlZCB9IH07XG59XG5cbi8qKlxuICogQWJzdHJhY3RzIGEgY29sbGVjdGlvbiBvZiByZWNvcmRzIHN0b3JlZCBpbiB0aGUgbG9jYWwgZGF0YWJhc2UsIHByb3ZpZGluZ1xuICogQ1JVRCBvcGVyYXRpb25zIGFuZCBzeW5jaHJvbml6YXRpb24gaGVscGVycy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sbGVjdGlvbiB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3Rvci5cbiAgICpcbiAgICogT3B0aW9uczpcbiAgICogLSBge0Jhc2VBZGFwdGVyfSBhZGFwdGVyYCBUaGUgREIgYWRhcHRlciAoZGVmYXVsdDogYElEQmApXG4gICAqIC0gYHtTdHJpbmd9IGRiUHJlZml4YCAgICAgVGhlIERCIG5hbWUgcHJlZml4IChkZWZhdWx0OiBgXCJcImApXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gYnVja2V0ICBUaGUgYnVja2V0IGlkZW50aWZpZXIuXG4gICAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSAgICBUaGUgY29sbGVjdGlvbiBuYW1lLlxuICAgKiBAcGFyYW0gIHtBcGl9ICAgIGFwaSAgICAgVGhlIEFwaSBpbnN0YW5jZS5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGJ1Y2tldCwgbmFtZSwgYXBpLCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLl9idWNrZXQgPSBidWNrZXQ7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGFzdE1vZGlmaWVkID0gbnVsbDtcblxuICAgIGNvbnN0IERCQWRhcHRlciA9IG9wdGlvbnMuYWRhcHRlciB8fCBJREI7XG4gICAgaWYgKCFEQkFkYXB0ZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFkYXB0ZXIgcHJvdmlkZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IGRiUHJlZml4ID0gb3B0aW9ucy5kYlByZWZpeCB8fCBcIlwiO1xuICAgIGNvbnN0IGRiID0gbmV3IERCQWRhcHRlcihcbiAgICAgIGAke2RiUHJlZml4fSR7YnVja2V0fS8ke25hbWV9YCxcbiAgICAgIG9wdGlvbnMuYWRhcHRlck9wdGlvbnNcbiAgICApO1xuICAgIGlmICghKGRiIGluc3RhbmNlb2YgQmFzZUFkYXB0ZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBhZGFwdGVyLlwiKTtcbiAgICB9XG4gICAgLy8gcHVibGljIHByb3BlcnRpZXNcbiAgICAvKipcbiAgICAgKiBUaGUgZGIgYWRhcHRlciBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtCYXNlQWRhcHRlcn1cbiAgICAgKi9cbiAgICB0aGlzLmRiID0gZGI7XG4gICAgLyoqXG4gICAgICogVGhlIEFwaSBpbnN0YW5jZS5cbiAgICAgKiBAdHlwZSB7S2ludG9DbGllbnR9XG4gICAgICovXG4gICAgdGhpcy5hcGkgPSBhcGk7XG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IGVtaXR0ZXIgaW5zdGFuY2UuXG4gICAgICogQHR5cGUge0V2ZW50RW1pdHRlcn1cbiAgICAgKi9cbiAgICB0aGlzLmV2ZW50cyA9IG9wdGlvbnMuZXZlbnRzO1xuICAgIC8qKlxuICAgICAqIFRoZSBJZFNjaGVtYSBpbnN0YW5jZS5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuaWRTY2hlbWEgPSB0aGlzLl92YWxpZGF0ZUlkU2NoZW1hKG9wdGlvbnMuaWRTY2hlbWEpO1xuICAgIC8qKlxuICAgICAqIFRoZSBsaXN0IG9mIHJlbW90ZSB0cmFuc2Zvcm1lcnMuXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMucmVtb3RlVHJhbnNmb3JtZXJzID0gdGhpcy5fdmFsaWRhdGVSZW1vdGVUcmFuc2Zvcm1lcnMoXG4gICAgICBvcHRpb25zLnJlbW90ZVRyYW5zZm9ybWVyc1xuICAgICk7XG4gICAgLyoqXG4gICAgICogVGhlIGxpc3Qgb2YgaG9va3MuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmhvb2tzID0gdGhpcy5fdmFsaWRhdGVIb29rcyhvcHRpb25zLmhvb2tzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgbGlzdCBvZiBmaWVsZHMgbmFtZXMgdGhhdCB3aWxsIHJlbWFpbiBsb2NhbC5cbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5sb2NhbEZpZWxkcyA9IG9wdGlvbnMubG9jYWxGaWVsZHMgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNvbGxlY3Rpb24gbmFtZS5cbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIGdldCBuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBidWNrZXQgbmFtZS5cbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIGdldCBidWNrZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2J1Y2tldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbGFzdCBtb2RpZmllZCB0aW1lc3RhbXAuXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICBnZXQgbGFzdE1vZGlmaWVkKCkge1xuICAgIHJldHVybiB0aGlzLl9sYXN0TW9kaWZpZWQ7XG4gIH1cblxuICAvKipcbiAgICogU3luY2hyb25pemF0aW9uIHN0cmF0ZWdpZXMuIEF2YWlsYWJsZSBzdHJhdGVnaWVzIGFyZTpcbiAgICpcbiAgICogLSBgTUFOVUFMYDogQ29uZmxpY3RzIHdpbGwgYmUgcmVwb3J0ZWQgaW4gYSBkZWRpY2F0ZWQgYXJyYXkuXG4gICAqIC0gYFNFUlZFUl9XSU5TYDogQ29uZmxpY3RzIGFyZSByZXNvbHZlZCB1c2luZyByZW1vdGUgZGF0YS5cbiAgICogLSBgQ0xJRU5UX1dJTlNgOiBDb25mbGljdHMgYXJlIHJlc29sdmVkIHVzaW5nIGxvY2FsIGRhdGEuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHN0cmF0ZWd5KCkge1xuICAgIHJldHVybiB7XG4gICAgICBDTElFTlRfV0lOUzogXCJjbGllbnRfd2luc1wiLFxuICAgICAgU0VSVkVSX1dJTlM6IFwic2VydmVyX3dpbnNcIixcbiAgICAgIE1BTlVBTDogXCJtYW51YWxcIixcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyBhbiBpZFNjaGVtYS5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fHVuZGVmaW5lZH0gaWRTY2hlbWFcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cbiAgX3ZhbGlkYXRlSWRTY2hlbWEoaWRTY2hlbWEpIHtcbiAgICBpZiAodHlwZW9mIGlkU2NoZW1hID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gY3JlYXRlVVVJRFNjaGVtYSgpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGlkU2NoZW1hICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpZFNjaGVtYSBtdXN0IGJlIGFuIG9iamVjdC5cIik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaWRTY2hlbWEuZ2VuZXJhdGUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWRTY2hlbWEgbXVzdCBwcm92aWRlIGEgZ2VuZXJhdGUgZnVuY3Rpb24uXCIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGlkU2NoZW1hLnZhbGlkYXRlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlkU2NoZW1hIG11c3QgcHJvdmlkZSBhIHZhbGlkYXRlIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGlkU2NoZW1hO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyBhIGxpc3Qgb2YgcmVtb3RlIHRyYW5zZm9ybWVycy5cbiAgICpcbiAgICogQHBhcmFtICB7QXJyYXl8dW5kZWZpbmVkfSByZW1vdGVUcmFuc2Zvcm1lcnNcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICBfdmFsaWRhdGVSZW1vdGVUcmFuc2Zvcm1lcnMocmVtb3RlVHJhbnNmb3JtZXJzKSB7XG4gICAgaWYgKHR5cGVvZiByZW1vdGVUcmFuc2Zvcm1lcnMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJlbW90ZVRyYW5zZm9ybWVycykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInJlbW90ZVRyYW5zZm9ybWVycyBzaG91bGQgYmUgYW4gYXJyYXkuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVtb3RlVHJhbnNmb3JtZXJzLm1hcCh0cmFuc2Zvcm1lciA9PiB7XG4gICAgICBpZiAodHlwZW9mIHRyYW5zZm9ybWVyICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgdHJhbnNmb3JtZXIgbXVzdCBiZSBhbiBvYmplY3QuXCIpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdHJhbnNmb3JtZXIuZW5jb2RlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSB0cmFuc2Zvcm1lciBtdXN0IHByb3ZpZGUgYW4gZW5jb2RlIGZ1bmN0aW9uLlwiKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRyYW5zZm9ybWVyLmRlY29kZSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgdHJhbnNmb3JtZXIgbXVzdCBwcm92aWRlIGEgZGVjb2RlIGZ1bmN0aW9uLlwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmFuc2Zvcm1lcjtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSB0aGUgcGFzc2VkIGhvb2sgaXMgY29ycmVjdC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheXx1bmRlZmluZWR9IGhvb2suXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKiovXG4gIF92YWxpZGF0ZUhvb2soaG9vaykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShob29rKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBob29rIGRlZmluaXRpb24gc2hvdWxkIGJlIGFuIGFycmF5IG9mIGZ1bmN0aW9ucy5cIik7XG4gICAgfVxuICAgIHJldHVybiBob29rLm1hcChmbiA9PiB7XG4gICAgICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBob29rIGRlZmluaXRpb24gc2hvdWxkIGJlIGFuIGFycmF5IG9mIGZ1bmN0aW9ucy5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZm47XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGVzIGEgbGlzdCBvZiBob29rcy5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fHVuZGVmaW5lZH0gaG9va3NcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cbiAgX3ZhbGlkYXRlSG9va3MoaG9va3MpIHtcbiAgICBpZiAodHlwZW9mIGhvb2tzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGhvb2tzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaG9va3Mgc2hvdWxkIGJlIGFuIG9iamVjdCwgbm90IGFuIGFycmF5LlwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBob29rcyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaG9va3Mgc2hvdWxkIGJlIGFuIG9iamVjdC5cIik7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsaWRhdGVkSG9va3MgPSB7fTtcblxuICAgIGZvciAoY29uc3QgaG9vayBpbiBob29rcykge1xuICAgICAgaWYgKCFBVkFJTEFCTEVfSE9PS1MuaW5jbHVkZXMoaG9vaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiVGhlIGhvb2sgc2hvdWxkIGJlIG9uZSBvZiBcIiArIEFWQUlMQUJMRV9IT09LUy5qb2luKFwiLCBcIilcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZhbGlkYXRlZEhvb2tzW2hvb2tdID0gdGhpcy5fdmFsaWRhdGVIb29rKGhvb2tzW2hvb2tdKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbGlkYXRlZEhvb2tzO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgZXZlcnkgcmVjb3JkcyBpbiB0aGUgY3VycmVudCBjb2xsZWN0aW9uIGFuZCBtYXJrcyB0aGUgY29sbGVjdGlvbiBhc1xuICAgKiBuZXZlciBzeW5jZWQuXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBhc3luYyBjbGVhcigpIHtcbiAgICBhd2FpdCB0aGlzLmRiLmNsZWFyKCk7XG4gICAgYXdhaXQgdGhpcy5kYi5zYXZlTGFzdE1vZGlmaWVkKG51bGwpO1xuICAgIHJldHVybiB7IGRhdGE6IFtdLCBwZXJtaXNzaW9uczoge30gfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmNvZGVzIGEgcmVjb3JkLlxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUgICBFaXRoZXIgXCJyZW1vdGVcIiBvciBcImxvY2FsXCIuXG4gICAqIEBwYXJhbSAge09iamVjdH0gcmVjb3JkIFRoZSByZWNvcmQgb2JqZWN0IHRvIGVuY29kZS5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIF9lbmNvZGVSZWNvcmQodHlwZSwgcmVjb3JkKSB7XG4gICAgaWYgKCF0aGlzW2Ake3R5cGV9VHJhbnNmb3JtZXJzYF0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlY29yZCk7XG4gICAgfVxuICAgIHJldHVybiB3YXRlcmZhbGwoXG4gICAgICB0aGlzW2Ake3R5cGV9VHJhbnNmb3JtZXJzYF0ubWFwKHRyYW5zZm9ybWVyID0+IHtcbiAgICAgICAgcmV0dXJuIHJlY29yZCA9PiB0cmFuc2Zvcm1lci5lbmNvZGUocmVjb3JkKTtcbiAgICAgIH0pLFxuICAgICAgcmVjb3JkXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWNvZGVzIGEgcmVjb3JkLlxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUgICBFaXRoZXIgXCJyZW1vdGVcIiBvciBcImxvY2FsXCIuXG4gICAqIEBwYXJhbSAge09iamVjdH0gcmVjb3JkIFRoZSByZWNvcmQgb2JqZWN0IHRvIGRlY29kZS5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIF9kZWNvZGVSZWNvcmQodHlwZSwgcmVjb3JkKSB7XG4gICAgaWYgKCF0aGlzW2Ake3R5cGV9VHJhbnNmb3JtZXJzYF0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlY29yZCk7XG4gICAgfVxuICAgIHJldHVybiB3YXRlcmZhbGwoXG4gICAgICB0aGlzW2Ake3R5cGV9VHJhbnNmb3JtZXJzYF0ucmV2ZXJzZSgpLm1hcCh0cmFuc2Zvcm1lciA9PiB7XG4gICAgICAgIHJldHVybiByZWNvcmQgPT4gdHJhbnNmb3JtZXIuZGVjb2RlKHJlY29yZCk7XG4gICAgICB9KSxcbiAgICAgIHJlY29yZFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIHJlY29yZCB0byB0aGUgbG9jYWwgZGF0YWJhc2UsIGFzc2VydGluZyB0aGF0IG5vbmVcbiAgICogYWxyZWFkeSBleGlzdCB3aXRoIHRoaXMgSUQuXG4gICAqXG4gICAqIE5vdGU6IElmIGVpdGhlciB0aGUgYHVzZVJlY29yZElkYCBvciBgc3luY2VkYCBvcHRpb25zIGFyZSB0cnVlLCB0aGVuIHRoZVxuICAgKiByZWNvcmQgb2JqZWN0IG11c3QgY29udGFpbiB0aGUgaWQgZmllbGQgdG8gYmUgdmFsaWRhdGVkLiBJZiBub25lIG9mIHRoZXNlXG4gICAqIG9wdGlvbnMgYXJlIHRydWUsIGFuIGlkIGlzIGdlbmVyYXRlZCB1c2luZyB0aGUgY3VycmVudCBJZFNjaGVtYTsgaW4gdGhpc1xuICAgKiBjYXNlLCB0aGUgcmVjb3JkIHBhc3NlZCBtdXN0IG5vdCBoYXZlIGFuIGlkLlxuICAgKlxuICAgKiBPcHRpb25zOlxuICAgKiAtIHtCb29sZWFufSBzeW5jZWQgICAgICAgU2V0cyByZWNvcmQgc3RhdHVzIHRvIFwic3luY2VkXCIgKGRlZmF1bHQ6IGBmYWxzZWApLlxuICAgKiAtIHtCb29sZWFufSB1c2VSZWNvcmRJZCAgRm9yY2VzIHRoZSBgaWRgIGZpZWxkIGZyb20gdGhlIHJlY29yZCB0byBiZSB1c2VkLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGVhZCBvZiBvbmUgdGhhdCBpcyBnZW5lcmF0ZWQgYXV0b21hdGljYWxseVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKGRlZmF1bHQ6IGBmYWxzZWApLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHJlY29yZFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGNyZWF0ZShyZWNvcmQsIG9wdGlvbnMgPSB7IHVzZVJlY29yZElkOiBmYWxzZSwgc3luY2VkOiBmYWxzZSB9KSB7XG4gICAgLy8gVmFsaWRhdGUgdGhlIHJlY29yZCBhbmQgaXRzIElEIChpZiBhbnkpLCBldmVuIHRob3VnaCB0aGlzXG4gICAgLy8gdmFsaWRhdGlvbiBpcyBhbHNvIGRvbmUgaW4gdGhlIENvbGxlY3Rpb25UcmFuc2FjdGlvbiBtZXRob2QsXG4gICAgLy8gYmVjYXVzZSB3ZSBuZWVkIHRvIHBhc3MgdGhlIElEIHRvIHByZWxvYWRJZHMuXG4gICAgY29uc3QgcmVqZWN0ID0gbXNnID0+IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihtc2cpKTtcbiAgICBpZiAodHlwZW9mIHJlY29yZCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuIHJlamVjdChcIlJlY29yZCBpcyBub3QgYW4gb2JqZWN0LlwiKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKG9wdGlvbnMuc3luY2VkIHx8IG9wdGlvbnMudXNlUmVjb3JkSWQpICYmXG4gICAgICAhcmVjb3JkLmhhc093blByb3BlcnR5KFwiaWRcIilcbiAgICApIHtcbiAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgIFwiTWlzc2luZyByZXF1aXJlZCBJZDsgc3luY2VkIGFuZCB1c2VSZWNvcmRJZCBvcHRpb25zIHJlcXVpcmUgb25lXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICFvcHRpb25zLnN5bmNlZCAmJlxuICAgICAgIW9wdGlvbnMudXNlUmVjb3JkSWQgJiZcbiAgICAgIHJlY29yZC5oYXNPd25Qcm9wZXJ0eShcImlkXCIpXG4gICAgKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KFwiRXh0cmFuZW91cyBJZDsgY2FuJ3QgY3JlYXRlIGEgcmVjb3JkIGhhdmluZyBvbmUgc2V0LlwiKTtcbiAgICB9XG4gICAgY29uc3QgbmV3UmVjb3JkID0ge1xuICAgICAgLi4ucmVjb3JkLFxuICAgICAgaWQ6XG4gICAgICAgIG9wdGlvbnMuc3luY2VkIHx8IG9wdGlvbnMudXNlUmVjb3JkSWRcbiAgICAgICAgICA/IHJlY29yZC5pZFxuICAgICAgICAgIDogdGhpcy5pZFNjaGVtYS5nZW5lcmF0ZShyZWNvcmQpLFxuICAgICAgX3N0YXR1czogb3B0aW9ucy5zeW5jZWQgPyBcInN5bmNlZFwiIDogXCJjcmVhdGVkXCIsXG4gICAgfTtcbiAgICBpZiAoIXRoaXMuaWRTY2hlbWEudmFsaWRhdGUobmV3UmVjb3JkLmlkKSkge1xuICAgICAgcmV0dXJuIHJlamVjdChgSW52YWxpZCBJZDogJHtuZXdSZWNvcmQuaWR9YCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmV4ZWN1dGUodHhuID0+IHR4bi5jcmVhdGUobmV3UmVjb3JkKSwge1xuICAgICAgcHJlbG9hZElkczogW25ld1JlY29yZC5pZF0sXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgIGlmIChvcHRpb25zLnVzZVJlY29yZElkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIkNvdWxkbid0IGNyZWF0ZSByZWNvcmQuIEl0IG1heSBoYXZlIGJlZW4gdmlydHVhbGx5IGRlbGV0ZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaWtlIHtAbGluayBDb2xsZWN0aW9uVHJhbnNhY3Rpb24jdXBkYXRlfSwgYnV0IHdyYXBwZWQgaW4gaXRzIG93biB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogT3B0aW9uczpcbiAgICogLSB7Qm9vbGVhbn0gc3luY2VkOiBTZXRzIHJlY29yZCBzdGF0dXMgdG8gXCJzeW5jZWRcIiAoZGVmYXVsdDogZmFsc2UpXG4gICAqIC0ge0Jvb2xlYW59IHBhdGNoOiAgRXh0ZW5kcyB0aGUgZXhpc3RpbmcgcmVjb3JkIGluc3RlYWQgb2Ygb3ZlcndyaXRpbmcgaXRcbiAgICogICAoZGVmYXVsdDogZmFsc2UpXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gcmVjb3JkXG4gICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgdXBkYXRlKHJlY29yZCwgb3B0aW9ucyA9IHsgc3luY2VkOiBmYWxzZSwgcGF0Y2g6IGZhbHNlIH0pIHtcbiAgICAvLyBWYWxpZGF0ZSB0aGUgcmVjb3JkIGFuZCBpdHMgSUQsIGV2ZW4gdGhvdWdoIHRoaXMgdmFsaWRhdGlvbiBpc1xuICAgIC8vIGFsc28gZG9uZSBpbiB0aGUgQ29sbGVjdGlvblRyYW5zYWN0aW9uIG1ldGhvZCwgYmVjYXVzZSB3ZSBuZWVkXG4gICAgLy8gdG8gcGFzcyB0aGUgSUQgdG8gcHJlbG9hZElkcy5cbiAgICBpZiAodHlwZW9mIHJlY29yZCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlJlY29yZCBpcyBub3QgYW4gb2JqZWN0LlwiKSk7XG4gICAgfVxuICAgIGlmICghcmVjb3JkLmhhc093blByb3BlcnR5KFwiaWRcIikpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGEgcmVjb3JkIG1pc3NpbmcgaWQuXCIpKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmlkU2NoZW1hLnZhbGlkYXRlKHJlY29yZC5pZCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYEludmFsaWQgSWQ6ICR7cmVjb3JkLmlkfWApKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5leGVjdXRlKHR4biA9PiB0eG4udXBkYXRlKHJlY29yZCwgb3B0aW9ucyksIHtcbiAgICAgIHByZWxvYWRJZHM6IFtyZWNvcmQuaWRdLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExpa2Uge0BsaW5rIENvbGxlY3Rpb25UcmFuc2FjdGlvbiN1cHNlcnR9LCBidXQgd3JhcHBlZCBpbiBpdHMgb3duIHRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHJlY29yZFxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgdXBzZXJ0KHJlY29yZCkge1xuICAgIC8vIFZhbGlkYXRlIHRoZSByZWNvcmQgYW5kIGl0cyBJRCwgZXZlbiB0aG91Z2ggdGhpcyB2YWxpZGF0aW9uIGlzXG4gICAgLy8gYWxzbyBkb25lIGluIHRoZSBDb2xsZWN0aW9uVHJhbnNhY3Rpb24gbWV0aG9kLCBiZWNhdXNlIHdlIG5lZWRcbiAgICAvLyB0byBwYXNzIHRoZSBJRCB0byBwcmVsb2FkSWRzLlxuICAgIGlmICh0eXBlb2YgcmVjb3JkICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiUmVjb3JkIGlzIG5vdCBhbiBvYmplY3QuXCIpKTtcbiAgICB9XG4gICAgaWYgKCFyZWNvcmQuaGFzT3duUHJvcGVydHkoXCJpZFwiKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkNhbm5vdCB1cGRhdGUgYSByZWNvcmQgbWlzc2luZyBpZC5cIikpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuaWRTY2hlbWEudmFsaWRhdGUocmVjb3JkLmlkKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgSW52YWxpZCBJZDogJHtyZWNvcmQuaWR9YCkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmV4ZWN1dGUodHhuID0+IHR4bi51cHNlcnQocmVjb3JkKSwgeyBwcmVsb2FkSWRzOiBbcmVjb3JkLmlkXSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaWtlIHtAbGluayBDb2xsZWN0aW9uVHJhbnNhY3Rpb24jZ2V0fSwgYnV0IHdyYXBwZWQgaW4gaXRzIG93biB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogT3B0aW9uczpcbiAgICogLSB7Qm9vbGVhbn0gaW5jbHVkZURlbGV0ZWQ6IEluY2x1ZGUgdmlydHVhbGx5IGRlbGV0ZWQgcmVjb3Jkcy5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSBpZFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGdldChpZCwgb3B0aW9ucyA9IHsgaW5jbHVkZURlbGV0ZWQ6IGZhbHNlIH0pIHtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlKHR4biA9PiB0eG4uZ2V0KGlkLCBvcHRpb25zKSwgeyBwcmVsb2FkSWRzOiBbaWRdIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExpa2Uge0BsaW5rIENvbGxlY3Rpb25UcmFuc2FjdGlvbiNnZXRBbnl9LCBidXQgd3JhcHBlZCBpbiBpdHMgb3duIHRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGlkXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBnZXRBbnkoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlKHR4biA9PiB0eG4uZ2V0QW55KGlkKSwgeyBwcmVsb2FkSWRzOiBbaWRdIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhbWUgYXMge0BsaW5rIENvbGxlY3Rpb24jZGVsZXRlfSwgYnV0IHdyYXBwZWQgaW4gaXRzIG93biB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogT3B0aW9uczpcbiAgICogLSB7Qm9vbGVhbn0gdmlydHVhbDogV2hlbiBzZXQgdG8gYHRydWVgLCBkb2Vzbid0IGFjdHVhbGx5IGRlbGV0ZSB0aGUgcmVjb3JkLFxuICAgKiAgIHVwZGF0ZSBpdHMgYF9zdGF0dXNgIGF0dHJpYnV0ZSB0byBgZGVsZXRlZGAgaW5zdGVhZCAoZGVmYXVsdDogdHJ1ZSlcbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSBpZCAgICAgICBUaGUgcmVjb3JkJ3MgSWQuXG4gICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgZGVsZXRlKGlkLCBvcHRpb25zID0geyB2aXJ0dWFsOiB0cnVlIH0pIHtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlKFxuICAgICAgdHJhbnNhY3Rpb24gPT4ge1xuICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb24uZGVsZXRlKGlkLCBvcHRpb25zKTtcbiAgICAgIH0sXG4gICAgICB7IHByZWxvYWRJZHM6IFtpZF0gfVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2FtZSBhcyB7QGxpbmsgQ29sbGVjdGlvbiNkZWxldGVBbGx9LCBidXQgd3JhcHBlZCBpbiBpdHMgb3duIHRyYW5zYWN0aW9uLCBleGVjdWxkaW5nIHRoZSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBhc3luYyBkZWxldGVBbGwoKSB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmxpc3Qoe30sIHsgaW5jbHVkZURlbGV0ZWQ6IGZhbHNlIH0pO1xuICAgIGNvbnN0IHJlY29yZElkcyA9IGRhdGEubWFwKHJlY29yZCA9PiByZWNvcmQuaWQpO1xuICAgIHJldHVybiB0aGlzLmV4ZWN1dGUoXG4gICAgICB0cmFuc2FjdGlvbiA9PiB7XG4gICAgICAgIHJldHVybiB0cmFuc2FjdGlvbi5kZWxldGVBbGwocmVjb3JkSWRzKTtcbiAgICAgIH0sXG4gICAgICB7IHByZWxvYWRJZHM6IHJlY29yZElkcyB9XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgc2FtZSBhcyB7QGxpbmsgQ29sbGVjdGlvblRyYW5zYWN0aW9uI2RlbGV0ZUFueX0sIGJ1dCB3cmFwcGVkXG4gICAqIGluIGl0cyBvd24gdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaWQgICAgICAgVGhlIHJlY29yZCdzIElkLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgZGVsZXRlQW55KGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZSh0eG4gPT4gdHhuLmRlbGV0ZUFueShpZCksIHsgcHJlbG9hZElkczogW2lkXSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0cyByZWNvcmRzIGZyb20gdGhlIGxvY2FsIGRhdGFiYXNlLlxuICAgKlxuICAgKiBQYXJhbXM6XG4gICAqIC0ge09iamVjdH0gZmlsdGVycyBGaWx0ZXIgdGhlIHJlc3VsdHMgKGRlZmF1bHQ6IGB7fWApLlxuICAgKiAtIHtTdHJpbmd9IG9yZGVyICAgVGhlIG9yZGVyIHRvIGFwcGx5ICAgKGRlZmF1bHQ6IGAtbGFzdF9tb2RpZmllZGApLlxuICAgKlxuICAgKiBPcHRpb25zOlxuICAgKiAtIHtCb29sZWFufSBpbmNsdWRlRGVsZXRlZDogSW5jbHVkZSB2aXJ0dWFsbHkgZGVsZXRlZCByZWNvcmRzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHBhcmFtcyAgVGhlIGZpbHRlcnMgYW5kIG9yZGVyIHRvIGFwcGx5IHRvIHRoZSByZXN1bHRzLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgYXN5bmMgbGlzdChwYXJhbXMgPSB7fSwgb3B0aW9ucyA9IHsgaW5jbHVkZURlbGV0ZWQ6IGZhbHNlIH0pIHtcbiAgICBwYXJhbXMgPSB7IG9yZGVyOiBcIi1sYXN0X21vZGlmaWVkXCIsIGZpbHRlcnM6IHt9LCAuLi5wYXJhbXMgfTtcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5kYi5saXN0KHBhcmFtcyk7XG4gICAgbGV0IGRhdGEgPSByZXN1bHRzO1xuICAgIGlmICghb3B0aW9ucy5pbmNsdWRlRGVsZXRlZCkge1xuICAgICAgZGF0YSA9IHJlc3VsdHMuZmlsdGVyKHJlY29yZCA9PiByZWNvcmQuX3N0YXR1cyAhPT0gXCJkZWxldGVkXCIpO1xuICAgIH1cbiAgICByZXR1cm4geyBkYXRhLCBwZXJtaXNzaW9uczoge30gfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbXBvcnRzIHJlbW90ZSBjaGFuZ2VzIGludG8gdGhlIGxvY2FsIGRhdGFiYXNlLlxuICAgKiBUaGlzIG1ldGhvZCBpcyBpbiBjaGFyZ2Ugb2YgZGV0ZWN0aW5nIHRoZSBjb25mbGljdHMsIGFuZCByZXNvbHZlIHRoZW1cbiAgICogYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgc3RyYXRlZ3kuXG4gICAqIEBwYXJhbSAge1N5bmNSZXN1bHRPYmplY3R9IHN5bmNSZXN1bHRPYmplY3QgVGhlIHN5bmMgcmVzdWx0IG9iamVjdC5cbiAgICogQHBhcmFtICB7QXJyYXl9ICAgICAgICAgICAgZGVjb2RlZENoYW5nZXMgICBUaGUgbGlzdCBvZiBjaGFuZ2VzIHRvIGltcG9ydCBpbiB0aGUgbG9jYWwgZGF0YWJhc2UuXG4gICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIHN0cmF0ZWd5ICAgICAgICAgVGhlIHtAbGluayBDb2xsZWN0aW9uLnN0cmF0ZWd5fSAoZGVmYXVsdDogTUFOVUFMKVxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgYXN5bmMgaW1wb3J0Q2hhbmdlcyhcbiAgICBzeW5jUmVzdWx0T2JqZWN0LFxuICAgIGRlY29kZWRDaGFuZ2VzLFxuICAgIHN0cmF0ZWd5ID0gQ29sbGVjdGlvbi5zdHJhdGVneS5NQU5VQUxcbiAgKSB7XG4gICAgLy8gUmV0cmlldmUgcmVjb3JkcyBtYXRjaGluZyBjaGFuZ2UgaWRzLlxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGltcG9ydHMsIHJlc29sdmVkIH0gPSBhd2FpdCB0aGlzLmRiLmV4ZWN1dGUoXG4gICAgICAgIHRyYW5zYWN0aW9uID0+IHtcbiAgICAgICAgICBjb25zdCBpbXBvcnRzID0gZGVjb2RlZENoYW5nZXMubWFwKHJlbW90ZSA9PiB7XG4gICAgICAgICAgICAvLyBTdG9yZSByZW1vdGUgY2hhbmdlIGludG8gbG9jYWwgZGF0YWJhc2UuXG4gICAgICAgICAgICByZXR1cm4gaW1wb3J0Q2hhbmdlKHRyYW5zYWN0aW9uLCByZW1vdGUsIHRoaXMubG9jYWxGaWVsZHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IGNvbmZsaWN0cyA9IGltcG9ydHNcbiAgICAgICAgICAgIC5maWx0ZXIoaSA9PiBpLnR5cGUgPT09IFwiY29uZmxpY3RzXCIpXG4gICAgICAgICAgICAubWFwKGkgPT4gaS5kYXRhKTtcbiAgICAgICAgICBjb25zdCByZXNvbHZlZCA9IHRoaXMuX2hhbmRsZUNvbmZsaWN0cyhcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLFxuICAgICAgICAgICAgY29uZmxpY3RzLFxuICAgICAgICAgICAgc3RyYXRlZ3lcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB7IGltcG9ydHMsIHJlc29sdmVkIH07XG4gICAgICAgIH0sXG4gICAgICAgIHsgcHJlbG9hZDogZGVjb2RlZENoYW5nZXMubWFwKHJlY29yZCA9PiByZWNvcmQuaWQpIH1cbiAgICAgICk7XG5cbiAgICAgIC8vIExpc3RzIG9mIGNyZWF0ZWQvdXBkYXRlZC9kZWxldGVkIHJlY29yZHNcbiAgICAgIGltcG9ydHMuZm9yRWFjaCgoeyB0eXBlLCBkYXRhIH0pID0+IHN5bmNSZXN1bHRPYmplY3QuYWRkKHR5cGUsIGRhdGEpKTtcblxuICAgICAgLy8gQXV0b21hdGljYWxseSByZXNvbHZlZCBjb25mbGljdHMgKGlmIG5vdCBtYW51YWwpXG4gICAgICBpZiAocmVzb2x2ZWQubGVuZ3RoID4gMCkge1xuICAgICAgICBzeW5jUmVzdWx0T2JqZWN0LnJlc2V0KFwiY29uZmxpY3RzXCIpLmFkZChcInJlc29sdmVkXCIsIHJlc29sdmVkKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIHR5cGU6IFwiaW5jb21pbmdcIixcbiAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBlcnIuc3RhY2ssXG4gICAgICB9O1xuICAgICAgLy8gWFhYIG9uZSBlcnJvciBvZiB0aGUgd2hvbGUgdHJhbnNhY3Rpb24gaW5zdGVhZCBvZiBwZXIgYXRvbWljIG9wXG4gICAgICBzeW5jUmVzdWx0T2JqZWN0LmFkZChcImVycm9yc1wiLCBkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3luY1Jlc3VsdE9iamVjdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbXBvcnRzIHRoZSByZXNwb25zZXMgb2YgcHVzaGVkIGNoYW5nZXMgaW50byB0aGUgbG9jYWwgZGF0YWJhc2UuXG4gICAqIEJhc2ljYWxseSBpdCBzdG9yZXMgdGhlIHRpbWVzdGFtcCBhc3NpZ25lZCBieSB0aGUgc2VydmVyIGludG8gdGhlIGxvY2FsXG4gICAqIGRhdGFiYXNlLlxuICAgKiBAcGFyYW0gIHtTeW5jUmVzdWx0T2JqZWN0fSBzeW5jUmVzdWx0T2JqZWN0IFRoZSBzeW5jIHJlc3VsdCBvYmplY3QuXG4gICAqIEBwYXJhbSAge0FycmF5fSAgICAgICAgICAgIHRvQXBwbHlMb2NhbGx5ICAgVGhlIGxpc3Qgb2YgY2hhbmdlcyB0byBpbXBvcnQgaW4gdGhlIGxvY2FsIGRhdGFiYXNlLlxuICAgKiBAcGFyYW0gIHtBcnJheX0gICAgICAgICAgICBjb25mbGljdHMgICAgICAgIFRoZSBsaXN0IG9mIGNvbmZsaWN0cyB0aGF0IGhhdmUgdG8gYmUgcmVzb2x2ZWQuXG4gICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgICAgIHN0cmF0ZWd5ICAgICAgICAgVGhlIHtAbGluayBDb2xsZWN0aW9uLnN0cmF0ZWd5fS5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGFzeW5jIF9hcHBseVB1c2hlZFJlc3VsdHMoXG4gICAgc3luY1Jlc3VsdE9iamVjdCxcbiAgICB0b0FwcGx5TG9jYWxseSxcbiAgICBjb25mbGljdHMsXG4gICAgc3RyYXRlZ3kgPSBDb2xsZWN0aW9uLnN0cmF0ZWd5Lk1BTlVBTFxuICApIHtcbiAgICBjb25zdCB0b0RlbGV0ZUxvY2FsbHkgPSB0b0FwcGx5TG9jYWxseS5maWx0ZXIociA9PiByLmRlbGV0ZWQpO1xuICAgIGNvbnN0IHRvVXBkYXRlTG9jYWxseSA9IHRvQXBwbHlMb2NhbGx5LmZpbHRlcihyID0+ICFyLmRlbGV0ZWQpO1xuXG4gICAgY29uc3QgeyBwdWJsaXNoZWQsIHJlc29sdmVkIH0gPSBhd2FpdCB0aGlzLmRiLmV4ZWN1dGUodHJhbnNhY3Rpb24gPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZCA9IHRvVXBkYXRlTG9jYWxseS5tYXAocmVjb3JkID0+IHtcbiAgICAgICAgY29uc3Qgc3luY2VkID0gbWFya1N5bmNlZChyZWNvcmQpO1xuICAgICAgICB0cmFuc2FjdGlvbi51cGRhdGUoc3luY2VkKTtcbiAgICAgICAgcmV0dXJuIHN5bmNlZDtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZGVsZXRlZCA9IHRvRGVsZXRlTG9jYWxseS5tYXAocmVjb3JkID0+IHtcbiAgICAgICAgdHJhbnNhY3Rpb24uZGVsZXRlKHJlY29yZC5pZCk7XG4gICAgICAgIC8vIEFtZW5kIHJlc3VsdCBkYXRhIHdpdGggdGhlIGRlbGV0ZWQgYXR0cmlidXRlIHNldFxuICAgICAgICByZXR1cm4geyBpZDogcmVjb3JkLmlkLCBkZWxldGVkOiB0cnVlIH07XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHB1Ymxpc2hlZCA9IHVwZGF0ZWQuY29uY2F0KGRlbGV0ZWQpO1xuICAgICAgLy8gSGFuZGxlIGNvbmZsaWN0cywgaWYgYW55XG4gICAgICBjb25zdCByZXNvbHZlZCA9IHRoaXMuX2hhbmRsZUNvbmZsaWN0cyh0cmFuc2FjdGlvbiwgY29uZmxpY3RzLCBzdHJhdGVneSk7XG4gICAgICByZXR1cm4geyBwdWJsaXNoZWQsIHJlc29sdmVkIH07XG4gICAgfSk7XG5cbiAgICBzeW5jUmVzdWx0T2JqZWN0LmFkZChcInB1Ymxpc2hlZFwiLCBwdWJsaXNoZWQpO1xuXG4gICAgaWYgKHJlc29sdmVkLmxlbmd0aCA+IDApIHtcbiAgICAgIHN5bmNSZXN1bHRPYmplY3RcbiAgICAgICAgLnJlc2V0KFwiY29uZmxpY3RzXCIpXG4gICAgICAgIC5yZXNldChcInJlc29sdmVkXCIpXG4gICAgICAgIC5hZGQoXCJyZXNvbHZlZFwiLCByZXNvbHZlZCk7XG4gICAgfVxuICAgIHJldHVybiBzeW5jUmVzdWx0T2JqZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgc3luY2hyb25pemF0aW9uIGNvbmZsaWN0cyBhY2NvcmRpbmcgdG8gc3BlY2lmaWVkIHN0cmF0ZWd5LlxuICAgKlxuICAgKiBAcGFyYW0gIHtTeW5jUmVzdWx0T2JqZWN0fSByZXN1bHQgICAgVGhlIHN5bmMgcmVzdWx0IG9iamVjdC5cbiAgICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgICAgc3RyYXRlZ3kgIFRoZSB7QGxpbmsgQ29sbGVjdGlvbi5zdHJhdGVneX0uXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8T2JqZWN0Pj59IFRoZSByZXNvbHZlZCBjb25mbGljdHMsIGFzIGFuXG4gICAqICAgIGFycmF5IG9mIHthY2NlcHRlZCwgcmVqZWN0ZWR9IG9iamVjdHNcbiAgICovXG4gIF9oYW5kbGVDb25mbGljdHModHJhbnNhY3Rpb24sIGNvbmZsaWN0cywgc3RyYXRlZ3kpIHtcbiAgICBpZiAoc3RyYXRlZ3kgPT09IENvbGxlY3Rpb24uc3RyYXRlZ3kuTUFOVUFMKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBjb25mbGljdHMubWFwKGNvbmZsaWN0ID0+IHtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPVxuICAgICAgICBzdHJhdGVneSA9PT0gQ29sbGVjdGlvbi5zdHJhdGVneS5DTElFTlRfV0lOU1xuICAgICAgICAgID8gY29uZmxpY3QubG9jYWxcbiAgICAgICAgICA6IGNvbmZsaWN0LnJlbW90ZTtcbiAgICAgIGNvbnN0IHJlamVjdGVkID1cbiAgICAgICAgc3RyYXRlZ3kgPT09IENvbGxlY3Rpb24uc3RyYXRlZ3kuQ0xJRU5UX1dJTlNcbiAgICAgICAgICA/IGNvbmZsaWN0LnJlbW90ZVxuICAgICAgICAgIDogY29uZmxpY3QubG9jYWw7XG4gICAgICBsZXQgYWNjZXB0ZWQsIHN0YXR1cywgaWQ7XG4gICAgICBpZiAocmVzb2x1dGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSBcInJlc29sdmVkXCIgd2l0aCB0aGUgc2VydmVyLXNpZGUgZGVsZXRpb24uIERlbGV0ZSBsb2NhbGx5LlxuICAgICAgICAvLyBUaGlzIG9ubHkgaGFwcGVucyBkdXJpbmcgU0VSVkVSX1dJTlMgYmVjYXVzZSB0aGUgbG9jYWxcbiAgICAgICAgLy8gdmVyc2lvbiBvZiBhIHJlY29yZCBjYW4gbmV2ZXIgYmUgbnVsbC5cbiAgICAgICAgLy8gV2UgY2FuIGdldCBcIm51bGxcIiBmcm9tIHRoZSByZW1vdGUgc2lkZSBpZiB3ZSBnb3QgYSBjb25mbGljdFxuICAgICAgICAvLyBhbmQgdGhlcmUgaXMgbm8gcmVtb3RlIHZlcnNpb24gYXZhaWxhYmxlOyBzZWUga2ludG8taHR0cC5qc1xuICAgICAgICAvLyBiYXRjaC5qczphZ2dyZWdhdGUuXG4gICAgICAgIHRyYW5zYWN0aW9uLmRlbGV0ZShjb25mbGljdC5sb2NhbC5pZCk7XG4gICAgICAgIGFjY2VwdGVkID0gbnVsbDtcbiAgICAgICAgLy8gVGhlIHJlY29yZCB3YXMgZGVsZXRlZCwgYnV0IHRoYXQgc3RhdHVzIGlzIFwic3luY2VkXCIgd2l0aFxuICAgICAgICAvLyB0aGUgc2VydmVyLCBzbyB3ZSBkb24ndCBuZWVkIHRvIHB1c2ggdGhlIGNoYW5nZS5cbiAgICAgICAgc3RhdHVzID0gXCJzeW5jZWRcIjtcbiAgICAgICAgaWQgPSBjb25mbGljdC5sb2NhbC5pZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSB0aGlzLl9yZXNvbHZlUmF3KGNvbmZsaWN0LCByZXNvbHV0aW9uKTtcbiAgICAgICAgdHJhbnNhY3Rpb24udXBkYXRlKHVwZGF0ZWQpO1xuICAgICAgICBhY2NlcHRlZCA9IHVwZGF0ZWQ7XG4gICAgICAgIHN0YXR1cyA9IHVwZGF0ZWQuX3N0YXR1cztcbiAgICAgICAgaWQgPSB1cGRhdGVkLmlkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgcmVqZWN0ZWQsIGFjY2VwdGVkLCBpZCwgX3N0YXR1czogc3RhdHVzIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBhIGJ1bmNoIG9mIG9wZXJhdGlvbnMgaW4gYSB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogVGhpcyB0cmFuc2FjdGlvbiBzaG91bGQgYmUgYXRvbWljIC0tIGVpdGhlciBhbGwgb2YgaXRzIG9wZXJhdGlvbnNcbiAgICogd2lsbCBzdWNjZWVkLCBvciBub25lIHdpbGwuXG4gICAqXG4gICAqIFRoZSBhcmd1bWVudCB0byB0aGlzIGZ1bmN0aW9uIGlzIGl0c2VsZiBhIGZ1bmN0aW9uIHdoaWNoIHdpbGwgYmVcbiAgICogY2FsbGVkIHdpdGggYSB7QGxpbmsgQ29sbGVjdGlvblRyYW5zYWN0aW9ufS4gQ29sbGVjdGlvbiBtZXRob2RzXG4gICAqIGFyZSBhdmFpbGFibGUgb24gdGhpcyB0cmFuc2FjdGlvbiwgYnV0IGluc3RlYWQgb2YgcmV0dXJuaW5nXG4gICAqIHByb21pc2VzLCB0aGV5IGFyZSBzeW5jaHJvbm91cy4gZXhlY3V0ZSgpIHJldHVybnMgYSBQcm9taXNlIHdob3NlXG4gICAqIHZhbHVlIHdpbGwgYmUgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgZnVuY3Rpb24uXG4gICAqXG4gICAqIE1vc3Qgb3BlcmF0aW9ucyB3aWxsIHJlcXVpcmUgYWNjZXNzIHRvIHRoZSByZWNvcmQgaXRzZWxmLCB3aGljaFxuICAgKiBtdXN0IGJlIHByZWxvYWRlZCBieSBwYXNzaW5nIGl0cyBJRCBpbiB0aGUgcHJlbG9hZElkcyBvcHRpb24uXG4gICAqXG4gICAqIE9wdGlvbnM6XG4gICAqIC0ge0FycmF5fSBwcmVsb2FkSWRzOiBsaXN0IG9mIElEcyB0byBmZXRjaCBhdCB0aGUgYmVnaW5uaW5nIG9mXG4gICAqICAgdGhlIHRyYW5zYWN0aW9uXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgZ2l2ZW4gZnVuY3Rpb25cbiAgICogICAgd2hlbiB0aGUgdHJhbnNhY3Rpb24gY29tbWl0cy5cbiAgICovXG4gIGV4ZWN1dGUoZG9PcGVyYXRpb25zLCB7IHByZWxvYWRJZHMgPSBbXSB9ID0ge30pIHtcbiAgICBmb3IgKGNvbnN0IGlkIG9mIHByZWxvYWRJZHMpIHtcbiAgICAgIGlmICghdGhpcy5pZFNjaGVtYS52YWxpZGF0ZShpZCkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKGBJbnZhbGlkIElkOiAke2lkfWApKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5kYi5leGVjdXRlKFxuICAgICAgdHJhbnNhY3Rpb24gPT4ge1xuICAgICAgICBjb25zdCB0eG4gPSBuZXcgQ29sbGVjdGlvblRyYW5zYWN0aW9uKHRoaXMsIHRyYW5zYWN0aW9uKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZG9PcGVyYXRpb25zKHR4bik7XG4gICAgICAgIHR4bi5lbWl0RXZlbnRzKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgeyBwcmVsb2FkOiBwcmVsb2FkSWRzIH1cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgbG9jYWwgcmVjb3JkcyBhcyBpZiB0aGV5IHdlcmUgbmV2ZXIgc3luY2VkOyBleGlzdGluZyByZWNvcmRzIGFyZVxuICAgKiBtYXJrZWQgYXMgbmV3bHkgY3JlYXRlZCwgZGVsZXRlZCByZWNvcmRzIGFyZSBkcm9wcGVkLlxuICAgKlxuICAgKiBBIG5leHQgY2FsbCB0byB7QGxpbmsgQ29sbGVjdGlvbi5zeW5jfSB3aWxsIHRodXMgcmVwdWJsaXNoIHRoZSB3aG9sZVxuICAgKiBjb250ZW50IG9mIHRoZSBsb2NhbCBjb2xsZWN0aW9uIHRvIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIHdpdGggdGhlIG51bWJlciBvZiBwcm9jZXNzZWQgcmVjb3Jkcy5cbiAgICovXG4gIGFzeW5jIHJlc2V0U3luY1N0YXR1cygpIHtcbiAgICBjb25zdCB1bnN5bmNlZCA9IGF3YWl0IHRoaXMubGlzdChcbiAgICAgIHsgZmlsdGVyczogeyBfc3RhdHVzOiBbXCJkZWxldGVkXCIsIFwic3luY2VkXCJdIH0sIG9yZGVyOiBcIlwiIH0sXG4gICAgICB7IGluY2x1ZGVEZWxldGVkOiB0cnVlIH1cbiAgICApO1xuICAgIGF3YWl0IHRoaXMuZGIuZXhlY3V0ZSh0cmFuc2FjdGlvbiA9PiB7XG4gICAgICB1bnN5bmNlZC5kYXRhLmZvckVhY2gocmVjb3JkID0+IHtcbiAgICAgICAgaWYgKHJlY29yZC5fc3RhdHVzID09PSBcImRlbGV0ZWRcIikge1xuICAgICAgICAgIC8vIEdhcmJhZ2UgY29sbGVjdCBkZWxldGVkIHJlY29yZHMuXG4gICAgICAgICAgdHJhbnNhY3Rpb24uZGVsZXRlKHJlY29yZC5pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmVjb3JkcyB0aGF0IHdlcmUgc3luY2VkIGJlY29tZSDCq2NyZWF0ZWTCuy5cbiAgICAgICAgICB0cmFuc2FjdGlvbi51cGRhdGUoe1xuICAgICAgICAgICAgLi4ucmVjb3JkLFxuICAgICAgICAgICAgbGFzdF9tb2RpZmllZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgX3N0YXR1czogXCJjcmVhdGVkXCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuX2xhc3RNb2RpZmllZCA9IG51bGw7XG4gICAgYXdhaXQgdGhpcy5kYi5zYXZlTGFzdE1vZGlmaWVkKG51bGwpO1xuICAgIHJldHVybiB1bnN5bmNlZC5kYXRhLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHR3byBsaXN0czpcbiAgICpcbiAgICogLSBgdG9EZWxldGVgOiB1bnN5bmNlZCBkZWxldGVkIHJlY29yZHMgd2UgY2FuIHNhZmVseSBkZWxldGU7XG4gICAqIC0gYHRvU3luY2A6IGxvY2FsIHVwZGF0ZXMgdG8gc2VuZCB0byB0aGUgc2VydmVyLlxuICAgKlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKi9cbiAgYXN5bmMgZ2F0aGVyTG9jYWxDaGFuZ2VzKCkge1xuICAgIGNvbnN0IHVuc3luY2VkID0gYXdhaXQgdGhpcy5saXN0KHtcbiAgICAgIGZpbHRlcnM6IHsgX3N0YXR1czogW1wiY3JlYXRlZFwiLCBcInVwZGF0ZWRcIl0gfSxcbiAgICAgIG9yZGVyOiBcIlwiLFxuICAgIH0pO1xuICAgIGNvbnN0IGRlbGV0ZWQgPSBhd2FpdCB0aGlzLmxpc3QoXG4gICAgICB7IGZpbHRlcnM6IHsgX3N0YXR1czogXCJkZWxldGVkXCIgfSwgb3JkZXI6IFwiXCIgfSxcbiAgICAgIHsgaW5jbHVkZURlbGV0ZWQ6IHRydWUgfVxuICAgICk7XG5cbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICB1bnN5bmNlZC5kYXRhXG4gICAgICAgIC5jb25jYXQoZGVsZXRlZC5kYXRhKVxuICAgICAgICAubWFwKHRoaXMuX2VuY29kZVJlY29yZC5iaW5kKHRoaXMsIFwicmVtb3RlXCIpKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggcmVtb3RlIGNoYW5nZXMsIGltcG9ydCB0aGVtIHRvIHRoZSBsb2NhbCBkYXRhYmFzZSwgYW5kIGhhbmRsZVxuICAgKiBjb25mbGljdHMgYWNjb3JkaW5nIHRvIGBvcHRpb25zLnN0cmF0ZWd5YC4gVGhlbiwgdXBkYXRlcyB0aGUgcGFzc2VkXG4gICAqIHtAbGluayBTeW5jUmVzdWx0T2JqZWN0fSB3aXRoIGltcG9ydCByZXN1bHRzLlxuICAgKlxuICAgKiBPcHRpb25zOlxuICAgKiAtIHtTdHJpbmd9IHN0cmF0ZWd5OiBUaGUgc2VsZWN0ZWQgc3luYyBzdHJhdGVneS5cbiAgICpcbiAgICogQHBhcmFtICB7S2ludG9DbGllbnQuQ29sbGVjdGlvbn0gY2xpZW50ICAgICAgICAgICBLaW50byBjbGllbnQgQ29sbGVjdGlvbiBpbnN0YW5jZS5cbiAgICogQHBhcmFtICB7U3luY1Jlc3VsdE9iamVjdH0gICAgICAgc3luY1Jlc3VsdE9iamVjdCBUaGUgc3luYyByZXN1bHQgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICAgICAgICAgICBvcHRpb25zXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBhc3luYyBwdWxsQ2hhbmdlcyhjbGllbnQsIHN5bmNSZXN1bHRPYmplY3QsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghc3luY1Jlc3VsdE9iamVjdC5vaykge1xuICAgICAgcmV0dXJuIHN5bmNSZXN1bHRPYmplY3Q7XG4gICAgfVxuXG4gICAgY29uc3Qgc2luY2UgPSB0aGlzLmxhc3RNb2RpZmllZFxuICAgICAgPyB0aGlzLmxhc3RNb2RpZmllZFxuICAgICAgOiBhd2FpdCB0aGlzLmRiLmdldExhc3RNb2RpZmllZCgpO1xuXG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIHN0cmF0ZWd5OiBDb2xsZWN0aW9uLnN0cmF0ZWd5Lk1BTlVBTCxcbiAgICAgIGxhc3RNb2RpZmllZDogc2luY2UsXG4gICAgICBoZWFkZXJzOiB7fSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfTtcblxuICAgIC8vIE9wdGlvbmFsbHkgaWdub3JlIHNvbWUgcmVjb3JkcyB3aGVuIHB1bGxpbmcgZm9yIGNoYW5nZXMuXG4gICAgLy8gKGF2b2lkIHJlZG93bmxvYWRpbmcgb3VyIG93biBjaGFuZ2VzIG9uIGxhc3Qgc3RlcCBvZiAjc3luYygpKVxuICAgIGxldCBmaWx0ZXJzO1xuICAgIGlmIChvcHRpb25zLmV4Y2x1ZGUpIHtcbiAgICAgIC8vIExpbWl0IHRoZSBsaXN0IG9mIGV4Y2x1ZGVkIHJlY29yZHMgdG8gdGhlIGZpcnN0IDUwIHJlY29yZHMgaW4gb3JkZXJcbiAgICAgIC8vIHRvIHJlbWFpbiB1bmRlciBkZS1mYWN0byBVUkwgc2l6ZSBsaW1pdCAofjIwMDAgY2hhcnMpLlxuICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80MTcxNDIvd2hhdC1pcy10aGUtbWF4aW11bS1sZW5ndGgtb2YtYS11cmwtaW4tZGlmZmVyZW50LWJyb3dzZXJzLzQxNzE4NCM0MTcxODRcbiAgICAgIGNvbnN0IGV4Y2x1ZGVfaWQgPSBvcHRpb25zLmV4Y2x1ZGVcbiAgICAgICAgLnNsaWNlKDAsIDUwKVxuICAgICAgICAubWFwKHIgPT4gci5pZClcbiAgICAgICAgLmpvaW4oXCIsXCIpO1xuICAgICAgZmlsdGVycyA9IHsgZXhjbHVkZV9pZCB9O1xuICAgIH1cbiAgICAvLyBGaXJzdCBmZXRjaCByZW1vdGUgY2hhbmdlcyBmcm9tIHRoZSBzZXJ2ZXJcbiAgICBjb25zdCB7IGRhdGEsIGxhc3RfbW9kaWZpZWQgfSA9IGF3YWl0IGNsaWVudC5saXN0UmVjb3Jkcyh7XG4gICAgICAvLyBTaW5jZSBzaG91bGQgYmUgRVRhZyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9LaW50by9raW50by5qcy9pc3N1ZXMvMzU2KVxuICAgICAgc2luY2U6IG9wdGlvbnMubGFzdE1vZGlmaWVkID8gYCR7b3B0aW9ucy5sYXN0TW9kaWZpZWR9YCA6IHVuZGVmaW5lZCxcbiAgICAgIGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycyxcbiAgICAgIHJldHJ5OiBvcHRpb25zLnJldHJ5LFxuICAgICAgLy8gRmV0Y2ggZXZlcnkgcGFnZSBieSBkZWZhdWx0IChGSVhNRTogb3B0aW9uIHRvIGxpbWl0IHBhZ2VzLCBzZWUgIzI3NylcbiAgICAgIHBhZ2VzOiBJbmZpbml0eSxcbiAgICAgIGZpbHRlcnMsXG4gICAgfSk7XG4gICAgLy8gbGFzdF9tb2RpZmllZCBpcyB0aGUgRVRhZyBoZWFkZXIgdmFsdWUgKHN0cmluZykuXG4gICAgLy8gRm9yIHJldHJvLWNvbXBhdGliaWxpdHkgd2l0aCBmaXJzdCBraW50by5qcyB2ZXJzaW9uc1xuICAgIC8vIHBhcnNlIGl0IHRvIGludGVnZXIuXG4gICAgY29uc3QgdW5xdW90ZWQgPSBsYXN0X21vZGlmaWVkID8gcGFyc2VJbnQobGFzdF9tb2RpZmllZCwgMTApIDogdW5kZWZpbmVkO1xuXG4gICAgLy8gQ2hlY2sgaWYgc2VydmVyIHdhcyBmbHVzaGVkLlxuICAgIC8vIFRoaXMgaXMgcmVsZXZhbnQgZm9yIHRoZSBLaW50byBkZW1vIHNlcnZlclxuICAgIC8vIChhbmQgdGh1cyBmb3IgbWFueSBuZXcgY29tZXJzKS5cbiAgICBjb25zdCBsb2NhbFN5bmNlZCA9IG9wdGlvbnMubGFzdE1vZGlmaWVkO1xuICAgIGNvbnN0IHNlcnZlckNoYW5nZWQgPSB1bnF1b3RlZCA+IG9wdGlvbnMubGFzdE1vZGlmaWVkO1xuICAgIGNvbnN0IGVtcHR5Q29sbGVjdGlvbiA9IGRhdGEubGVuZ3RoID09PSAwO1xuICAgIGlmICghb3B0aW9ucy5leGNsdWRlICYmIGxvY2FsU3luY2VkICYmIHNlcnZlckNoYW5nZWQgJiYgZW1wdHlDb2xsZWN0aW9uKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIlNlcnZlciBoYXMgYmVlbiBmbHVzaGVkLlwiKTtcbiAgICB9XG5cbiAgICBzeW5jUmVzdWx0T2JqZWN0Lmxhc3RNb2RpZmllZCA9IHVucXVvdGVkO1xuXG4gICAgLy8gRGVjb2RlIGluY29taW5nIGNoYW5nZXMuXG4gICAgY29uc3QgZGVjb2RlZENoYW5nZXMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIGRhdGEubWFwKGNoYW5nZSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWNvZGVSZWNvcmQoXCJyZW1vdGVcIiwgY2hhbmdlKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgICAvLyBIb29rIHJlY2VpdmVzIGRlY29kZWQgcmVjb3Jkcy5cbiAgICBjb25zdCBwYXlsb2FkID0geyBsYXN0TW9kaWZpZWQ6IHVucXVvdGVkLCBjaGFuZ2VzOiBkZWNvZGVkQ2hhbmdlcyB9O1xuICAgIGNvbnN0IGFmdGVySG9va3MgPSBhd2FpdCB0aGlzLmFwcGx5SG9vayhcImluY29taW5nLWNoYW5nZXNcIiwgcGF5bG9hZCk7XG5cbiAgICAvLyBObyBjaGFuZ2UsIG5vdGhpbmcgdG8gaW1wb3J0LlxuICAgIGlmIChhZnRlckhvb2tzLmNoYW5nZXMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gUmVmbGVjdCB0aGVzZSBjaGFuZ2VzIGxvY2FsbHlcbiAgICAgIGF3YWl0IHRoaXMuaW1wb3J0Q2hhbmdlcyhcbiAgICAgICAgc3luY1Jlc3VsdE9iamVjdCxcbiAgICAgICAgYWZ0ZXJIb29rcy5jaGFuZ2VzLFxuICAgICAgICBvcHRpb25zLnN0cmF0ZWd5XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gc3luY1Jlc3VsdE9iamVjdDtcbiAgfVxuXG4gIGFwcGx5SG9vayhob29rTmFtZSwgcGF5bG9hZCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5ob29rc1tob29rTmFtZV0gPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwYXlsb2FkKTtcbiAgICB9XG4gICAgcmV0dXJuIHdhdGVyZmFsbChcbiAgICAgIHRoaXMuaG9va3NbaG9va05hbWVdLm1hcChob29rID0+IHtcbiAgICAgICAgcmV0dXJuIHJlY29yZCA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gaG9vayhwYXlsb2FkLCB0aGlzKTtcbiAgICAgICAgICBjb25zdCByZXN1bHRUaGVuYWJsZSA9IHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0LnRoZW4gPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgICBjb25zdCByZXN1bHRDaGFuZ2VzID0gcmVzdWx0ICYmIHJlc3VsdC5oYXNPd25Qcm9wZXJ0eShcImNoYW5nZXNcIik7XG4gICAgICAgICAgaWYgKCEocmVzdWx0VGhlbmFibGUgfHwgcmVzdWx0Q2hhbmdlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYEludmFsaWQgcmV0dXJuIHZhbHVlIGZvciBob29rOiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgICApfSBoYXMgbm8gJ3RoZW4oKScgb3IgJ2NoYW5nZXMnIHByb3BlcnRpZXNgXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBwYXlsb2FkXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaXNoIGxvY2FsIGNoYW5nZXMgdG8gdGhlIHJlbW90ZSBzZXJ2ZXIgYW5kIHVwZGF0ZXMgdGhlIHBhc3NlZFxuICAgKiB7QGxpbmsgU3luY1Jlc3VsdE9iamVjdH0gd2l0aCBwdWJsaWNhdGlvbiByZXN1bHRzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtLaW50b0NsaWVudC5Db2xsZWN0aW9ufSBjbGllbnQgICAgICAgICAgIEtpbnRvIGNsaWVudCBDb2xsZWN0aW9uIGluc3RhbmNlLlxuICAgKiBAcGFyYW0gIHtTeW5jUmVzdWx0T2JqZWN0fSAgICAgICBzeW5jUmVzdWx0T2JqZWN0IFRoZSBzeW5jIHJlc3VsdCBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgICAgICAgIGNoYW5nZXMgICAgICAgICAgVGhlIGNoYW5nZSBvYmplY3QuXG4gICAqIEBwYXJhbSAge0FycmF5fSAgICAgICAgICAgICAgICAgIGNoYW5nZXMudG9EZWxldGUgVGhlIGxpc3Qgb2YgcmVjb3JkcyB0byBkZWxldGUuXG4gICAqIEBwYXJhbSAge0FycmF5fSAgICAgICAgICAgICAgICAgIGNoYW5nZXMudG9TeW5jICAgVGhlIGxpc3Qgb2YgcmVjb3JkcyB0byBjcmVhdGUvdXBkYXRlLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICAgICAgICAgICBvcHRpb25zICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGFzeW5jIHB1c2hDaGFuZ2VzKGNsaWVudCwgY2hhbmdlcywgc3luY1Jlc3VsdE9iamVjdCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFzeW5jUmVzdWx0T2JqZWN0Lm9rKSB7XG4gICAgICByZXR1cm4gc3luY1Jlc3VsdE9iamVjdDtcbiAgICB9XG4gICAgY29uc3Qgc2FmZSA9XG4gICAgICAhb3B0aW9ucy5zdHJhdGVneSB8fCBvcHRpb25zLnN0cmF0ZWd5ICE9PSBDb2xsZWN0aW9uLkNMSUVOVF9XSU5TO1xuICAgIGNvbnN0IHRvRGVsZXRlID0gY2hhbmdlcy5maWx0ZXIociA9PiByLl9zdGF0dXMgPT0gXCJkZWxldGVkXCIpO1xuICAgIGNvbnN0IHRvU3luYyA9IGNoYW5nZXMuZmlsdGVyKHIgPT4gci5fc3RhdHVzICE9IFwiZGVsZXRlZFwiKTtcblxuICAgIC8vIFBlcmZvcm0gYSBiYXRjaCByZXF1ZXN0IHdpdGggZXZlcnkgY2hhbmdlcy5cbiAgICBjb25zdCBzeW5jZWQgPSBhd2FpdCBjbGllbnQuYmF0Y2goXG4gICAgICBiYXRjaCA9PiB7XG4gICAgICAgIHRvRGVsZXRlLmZvckVhY2gociA9PiB7XG4gICAgICAgICAgLy8gbmV2ZXIgcHVibGlzaGVkIGxvY2FsbHkgZGVsZXRlZCByZWNvcmRzIHNob3VsZCBub3QgYmUgcHVzYmxpc2hlZFxuICAgICAgICAgIGlmIChyLmxhc3RfbW9kaWZpZWQpIHtcbiAgICAgICAgICAgIGJhdGNoLmRlbGV0ZVJlY29yZChyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0b1N5bmMuZm9yRWFjaChyID0+IHtcbiAgICAgICAgICAvLyBDbGVhbiBsb2NhbCBmaWVsZHMgKGxpa2UgX3N0YXR1cykgYmVmb3JlIHNlbmRpbmcgdG8gc2VydmVyLlxuICAgICAgICAgIGNvbnN0IHB1Ymxpc2hlZCA9IHRoaXMuY2xlYW5Mb2NhbEZpZWxkcyhyKTtcbiAgICAgICAgICBpZiAoci5fc3RhdHVzID09PSBcImNyZWF0ZWRcIikge1xuICAgICAgICAgICAgYmF0Y2guY3JlYXRlUmVjb3JkKHB1Ymxpc2hlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhdGNoLnVwZGF0ZVJlY29yZChwdWJsaXNoZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgIHJldHJ5OiBvcHRpb25zLnJldHJ5LFxuICAgICAgICBzYWZlLFxuICAgICAgICBhZ2dyZWdhdGU6IHRydWUsXG4gICAgICB9XG4gICAgKTtcblxuICAgIC8vIFN0b3JlIG91dGdvaW5nIGVycm9ycyBpbnRvIHN5bmMgcmVzdWx0IG9iamVjdFxuICAgIHN5bmNSZXN1bHRPYmplY3QuYWRkKFxuICAgICAgXCJlcnJvcnNcIixcbiAgICAgIHN5bmNlZC5lcnJvcnMubWFwKGUgPT4gKHsgLi4uZSwgdHlwZTogXCJvdXRnb2luZ1wiIH0pKVxuICAgICk7XG5cbiAgICAvLyBTdG9yZSBvdXRnb2luZyBjb25mbGljdHMgaW50byBzeW5jIHJlc3VsdCBvYmplY3RcbiAgICBjb25zdCBjb25mbGljdHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHsgdHlwZSwgbG9jYWwsIHJlbW90ZSB9IG9mIHN5bmNlZC5jb25mbGljdHMpIHtcbiAgICAgIC8vIE5vdGU6IHdlIGVuc3VyZSB0aGF0IGxvY2FsIGRhdGEgYXJlIGFjdHVhbGx5IGF2YWlsYWJsZSwgYXMgdGhleSBtYXlcbiAgICAgIC8vIGJlIG1pc3NpbmcgaW4gdGhlIGNhc2Ugb2YgYSBwdWJsaXNoZWQgZGVsZXRpb24uXG4gICAgICBjb25zdCBzYWZlTG9jYWwgPSAobG9jYWwgJiYgbG9jYWwuZGF0YSkgfHwgeyBpZDogcmVtb3RlLmlkIH07XG4gICAgICBjb25zdCByZWFsTG9jYWwgPSBhd2FpdCB0aGlzLl9kZWNvZGVSZWNvcmQoXCJyZW1vdGVcIiwgc2FmZUxvY2FsKTtcbiAgICAgIC8vIFdlIGNhbiBnZXQgXCJudWxsXCIgZnJvbSB0aGUgcmVtb3RlIHNpZGUgaWYgd2UgZ290IGEgY29uZmxpY3RcbiAgICAgIC8vIGFuZCB0aGVyZSBpcyBubyByZW1vdGUgdmVyc2lvbiBhdmFpbGFibGU7IHNlZSBraW50by1odHRwLmpzXG4gICAgICAvLyBiYXRjaC5qczphZ2dyZWdhdGUuXG4gICAgICBjb25zdCByZWFsUmVtb3RlID0gcmVtb3RlICYmIChhd2FpdCB0aGlzLl9kZWNvZGVSZWNvcmQoXCJyZW1vdGVcIiwgcmVtb3RlKSk7XG4gICAgICBjb25zdCBjb25mbGljdCA9IHsgdHlwZSwgbG9jYWw6IHJlYWxMb2NhbCwgcmVtb3RlOiByZWFsUmVtb3RlIH07XG4gICAgICBjb25mbGljdHMucHVzaChjb25mbGljdCk7XG4gICAgfVxuICAgIHN5bmNSZXN1bHRPYmplY3QuYWRkKFwiY29uZmxpY3RzXCIsIGNvbmZsaWN0cyk7XG5cbiAgICAvLyBSZWNvcmRzIHRoYXQgbXVzdCBiZSBkZWxldGVkIGFyZSBlaXRoZXIgZGVsZXRpb25zIHRoYXQgd2VyZSBwdXNoZWRcbiAgICAvLyB0byBzZXJ2ZXIgKHB1Ymxpc2hlZCkgb3IgZGVsZXRlZCByZWNvcmRzIHRoYXQgd2VyZSBuZXZlciBwdXNoZWQgKHNraXBwZWQpLlxuICAgIGNvbnN0IG1pc3NpbmdSZW1vdGVseSA9IHN5bmNlZC5za2lwcGVkLm1hcChyID0+ICh7IC4uLnIsIGRlbGV0ZWQ6IHRydWUgfSkpO1xuXG4gICAgLy8gRm9yIGNyZWF0ZWQgYW5kIHVwZGF0ZWQgcmVjb3JkcywgdGhlIGxhc3RfbW9kaWZpZWQgY29taW5nIGZyb20gc2VydmVyXG4gICAgLy8gd2lsbCBiZSBzdG9yZWQgbG9jYWxseS5cbiAgICAvLyBSZWZsZWN0IHB1YmxpY2F0aW9uIHJlc3VsdHMgbG9jYWxseSB1c2luZyB0aGUgcmVzcG9uc2UgZnJvbVxuICAgIC8vIHRoZSBiYXRjaCByZXF1ZXN0LlxuICAgIGNvbnN0IHB1Ymxpc2hlZCA9IHN5bmNlZC5wdWJsaXNoZWQubWFwKGMgPT4gYy5kYXRhKTtcbiAgICBjb25zdCB0b0FwcGx5TG9jYWxseSA9IHB1Ymxpc2hlZC5jb25jYXQobWlzc2luZ1JlbW90ZWx5KTtcblxuICAgIC8vIEFwcGx5IHRoZSBkZWNvZGUgdHJhbnNmb3JtZXJzLCBpZiBhbnlcbiAgICBjb25zdCBkZWNvZGVkID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICB0b0FwcGx5TG9jYWxseS5tYXAocmVjb3JkID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlY29kZVJlY29yZChcInJlbW90ZVwiLCByZWNvcmQpO1xuICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8gV2UgaGF2ZSB0byB1cGRhdGUgdGhlIGxvY2FsIHJlY29yZHMgd2l0aCB0aGUgcmVzcG9uc2VzIG9mIHRoZSBzZXJ2ZXJcbiAgICAvLyAoZWcuIGxhc3RfbW9kaWZpZWQgdmFsdWVzIGV0Yy4pLlxuICAgIGlmIChkZWNvZGVkLmxlbmd0aCA+IDAgfHwgY29uZmxpY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgIGF3YWl0IHRoaXMuX2FwcGx5UHVzaGVkUmVzdWx0cyhcbiAgICAgICAgc3luY1Jlc3VsdE9iamVjdCxcbiAgICAgICAgZGVjb2RlZCxcbiAgICAgICAgY29uZmxpY3RzLFxuICAgICAgICBvcHRpb25zLnN0cmF0ZWd5XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBzeW5jUmVzdWx0T2JqZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGNvcHkgb2YgdGhlIHNwZWNpZmllZCByZWNvcmQgd2l0aG91dCB0aGUgbG9jYWwgZmllbGRzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHJlY29yZCAgQSByZWNvcmQgd2l0aCBwb3RlbnRpYWwgbG9jYWwgZmllbGRzLlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBjbGVhbkxvY2FsRmllbGRzKHJlY29yZCkge1xuICAgIGNvbnN0IGxvY2FsS2V5cyA9IFJFQ09SRF9GSUVMRFNfVE9fQ0xFQU4uY29uY2F0KHRoaXMubG9jYWxGaWVsZHMpO1xuICAgIHJldHVybiBvbWl0S2V5cyhyZWNvcmQsIGxvY2FsS2V5cyk7XG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZXMgYSBjb25mbGljdCwgdXBkYXRpbmcgbG9jYWwgcmVjb3JkIGFjY29yZGluZyB0byBwcm9wb3NlZFxuICAgKiByZXNvbHV0aW9uIOKAlCBrZWVwaW5nIHJlbW90ZSByZWNvcmQgYGxhc3RfbW9kaWZpZWRgIHZhbHVlIGFzIGEgcmVmZXJlbmNlIGZvclxuICAgKiBmdXJ0aGVyIGJhdGNoIHNlbmRpbmcuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gY29uZmxpY3QgICBUaGUgY29uZmxpY3Qgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHJlc29sdXRpb24gVGhlIHByb3Bvc2VkIHJlY29yZC5cbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIHJlc29sdmUoY29uZmxpY3QsIHJlc29sdXRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5kYi5leGVjdXRlKHRyYW5zYWN0aW9uID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSB0aGlzLl9yZXNvbHZlUmF3KGNvbmZsaWN0LCByZXNvbHV0aW9uKTtcbiAgICAgIHRyYW5zYWN0aW9uLnVwZGF0ZSh1cGRhdGVkKTtcbiAgICAgIHJldHVybiB7IGRhdGE6IHVwZGF0ZWQsIHBlcm1pc3Npb25zOiB7fSB9O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVzb2x2ZVJhdyhjb25mbGljdCwgcmVzb2x1dGlvbikge1xuICAgIGNvbnN0IHJlc29sdmVkID0ge1xuICAgICAgLi4ucmVzb2x1dGlvbixcbiAgICAgIC8vIEVuc3VyZSBsb2NhbCByZWNvcmQgaGFzIHRoZSBsYXRlc3QgYXV0aG9yaXRhdGl2ZSB0aW1lc3RhbXBcbiAgICAgIGxhc3RfbW9kaWZpZWQ6IGNvbmZsaWN0LnJlbW90ZSAmJiBjb25mbGljdC5yZW1vdGUubGFzdF9tb2RpZmllZCxcbiAgICB9O1xuICAgIC8vIElmIHRoZSByZXNvbHV0aW9uIG9iamVjdCBpcyBzdHJpY3RseSBlcXVhbCB0byB0aGVcbiAgICAvLyByZW1vdGUgcmVjb3JkLCB0aGVuIHdlIGNhbiBtYXJrIGl0IGFzIHN5bmNlZCBsb2NhbGx5LlxuICAgIC8vIE90aGVyd2lzZSwgbWFyayBpdCBhcyB1cGRhdGVkIChzbyB0aGF0IHRoZSByZXNvbHV0aW9uIGlzIHB1c2hlZCkuXG4gICAgY29uc3Qgc3luY2VkID0gZGVlcEVxdWFsKHJlc29sdmVkLCBjb25mbGljdC5yZW1vdGUpO1xuICAgIHJldHVybiBtYXJrU3RhdHVzKHJlc29sdmVkLCBzeW5jZWQgPyBcInN5bmNlZFwiIDogXCJ1cGRhdGVkXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmNocm9uaXplIHJlbW90ZSBhbmQgbG9jYWwgZGF0YS4gVGhlIHByb21pc2Ugd2lsbCByZXNvbHZlIHdpdGggYVxuICAgKiB7QGxpbmsgU3luY1Jlc3VsdE9iamVjdH0sIHRob3VnaCB3aWxsIHJlamVjdDpcbiAgICpcbiAgICogLSBpZiB0aGUgc2VydmVyIGlzIGN1cnJlbnRseSBiYWNrZWQgb2ZmO1xuICAgKiAtIGlmIHRoZSBzZXJ2ZXIgaGFzIGJlZW4gZGV0ZWN0ZWQgZmx1c2hlZC5cbiAgICpcbiAgICogT3B0aW9uczpcbiAgICogLSB7T2JqZWN0fSBoZWFkZXJzOiBIVFRQIGhlYWRlcnMgdG8gYXR0YWNoIHRvIG91dGdvaW5nIHJlcXVlc3RzLlxuICAgKiAtIHtOdW1iZXJ9IHJldHJ5OiBOdW1iZXIgb2YgcmV0cmllcyB3aGVuIHNlcnZlciBmYWlscyB0byBwcm9jZXNzIHRoZSByZXF1ZXN0IChkZWZhdWx0OiAxKS5cbiAgICogLSB7Q29sbGVjdGlvbi5zdHJhdGVneX0gc3RyYXRlZ3k6IFNlZSB7QGxpbmsgQ29sbGVjdGlvbi5zdHJhdGVneX0uXG4gICAqIC0ge0Jvb2xlYW59IGlnbm9yZUJhY2tvZmY6IEZvcmNlIHN5bmNocm9uaXphdGlvbiBldmVuIGlmIHNlcnZlciBpcyBjdXJyZW50bHlcbiAgICogICBiYWNrZWQgb2ZmLlxuICAgKiAtIHtTdHJpbmd9IGJ1Y2tldDogVGhlIHJlbW92ZSBidWNrZXQgaWQgdG8gdXNlIChkZWZhdWx0OiBudWxsKVxuICAgKiAtIHtTdHJpbmd9IGNvbGxlY3Rpb246IFRoZSByZW1vdmUgY29sbGVjdGlvbiBpZCB0byB1c2UgKGRlZmF1bHQ6IG51bGwpXG4gICAqIC0ge1N0cmluZ30gcmVtb3RlIFRoZSByZW1vdGUgS2ludG8gc2VydmVyIGVuZHBvaW50IHRvIHVzZSAoZGVmYXVsdDogbnVsbCkuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucyBPcHRpb25zLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgYW4gaW52YWxpZCByZW1vdGUgb3B0aW9uIGlzIHBhc3NlZC5cbiAgICovXG4gIGFzeW5jIHN5bmMoXG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIHN0cmF0ZWd5OiBDb2xsZWN0aW9uLnN0cmF0ZWd5Lk1BTlVBTCxcbiAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgcmV0cnk6IDEsXG4gICAgICBpZ25vcmVCYWNrb2ZmOiBmYWxzZSxcbiAgICAgIGJ1Y2tldDogbnVsbCxcbiAgICAgIGNvbGxlY3Rpb246IG51bGwsXG4gICAgICByZW1vdGU6IG51bGwsXG4gICAgfVxuICApIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGJ1Y2tldDogb3B0aW9ucy5idWNrZXQgfHwgdGhpcy5idWNrZXQsXG4gICAgICBjb2xsZWN0aW9uOiBvcHRpb25zLmNvbGxlY3Rpb24gfHwgdGhpcy5uYW1lLFxuICAgIH07XG5cbiAgICBjb25zdCBwcmV2aW91c1JlbW90ZSA9IHRoaXMuYXBpLnJlbW90ZTtcbiAgICBpZiAob3B0aW9ucy5yZW1vdGUpIHtcbiAgICAgIC8vIE5vdGU6IHNldHRpbmcgdGhlIHJlbW90ZSBlbnN1cmVzIGl0J3MgdmFsaWQsIHRocm93cyB3aGVuIGludmFsaWQuXG4gICAgICB0aGlzLmFwaS5yZW1vdGUgPSBvcHRpb25zLnJlbW90ZTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmlnbm9yZUJhY2tvZmYgJiYgdGhpcy5hcGkuYmFja29mZiA+IDApIHtcbiAgICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmNlaWwodGhpcy5hcGkuYmFja29mZiAvIDEwMDApO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBuZXcgRXJyb3IoXG4gICAgICAgICAgYFNlcnZlciBpcyBhc2tpbmcgY2xpZW50cyB0byBiYWNrIG9mZjsgcmV0cnkgaW4gJHtzZWNvbmRzfXMgb3IgdXNlIHRoZSBpZ25vcmVCYWNrb2ZmIG9wdGlvbi5gXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgY2xpZW50ID0gdGhpcy5hcGlcbiAgICAgIC5idWNrZXQob3B0aW9ucy5idWNrZXQpXG4gICAgICAuY29sbGVjdGlvbihvcHRpb25zLmNvbGxlY3Rpb24pO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IFN5bmNSZXN1bHRPYmplY3QoKTtcbiAgICB0cnkge1xuICAgICAgLy8gRmV0Y2ggbGFzdCBjaGFuZ2VzIGZyb20gdGhlIHNlcnZlci5cbiAgICAgIGF3YWl0IHRoaXMucHVsbENoYW5nZXMoY2xpZW50LCByZXN1bHQsIG9wdGlvbnMpO1xuICAgICAgY29uc3QgeyBsYXN0TW9kaWZpZWQgfSA9IHJlc3VsdDtcblxuICAgICAgLy8gRmV0Y2ggbG9jYWwgY2hhbmdlc1xuICAgICAgY29uc3QgdG9TeW5jID0gYXdhaXQgdGhpcy5nYXRoZXJMb2NhbENoYW5nZXMoKTtcblxuICAgICAgLy8gUHVibGlzaCBsb2NhbCBjaGFuZ2VzIGFuZCBwdWxsIGxvY2FsIHJlc29sdXRpb25zXG4gICAgICBhd2FpdCB0aGlzLnB1c2hDaGFuZ2VzKGNsaWVudCwgdG9TeW5jLCByZXN1bHQsIG9wdGlvbnMpO1xuXG4gICAgICAvLyBQdWJsaXNoIGxvY2FsIHJlc29sdXRpb24gb2YgcHVzaCBjb25mbGljdHMgdG8gc2VydmVyIChvbiBDTElFTlRfV0lOUylcbiAgICAgIGNvbnN0IHJlc29sdmVkVW5zeW5jZWQgPSByZXN1bHQucmVzb2x2ZWQuZmlsdGVyKFxuICAgICAgICByID0+IHIuX3N0YXR1cyAhPT0gXCJzeW5jZWRcIlxuICAgICAgKTtcbiAgICAgIGlmIChyZXNvbHZlZFVuc3luY2VkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRFbmNvZGVkID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgcmVzb2x2ZWRVbnN5bmNlZC5tYXAocmVzb2x1dGlvbiA9PiB7XG4gICAgICAgICAgICBsZXQgcmVjb3JkID0gcmVzb2x1dGlvbi5hY2NlcHRlZDtcbiAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmVjb3JkID0geyBpZDogcmVzb2x1dGlvbi5pZCwgX3N0YXR1czogcmVzb2x1dGlvbi5fc3RhdHVzIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZW5jb2RlUmVjb3JkKFwicmVtb3RlXCIsIHJlY29yZCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wdXNoQ2hhbmdlcyhjbGllbnQsIHJlc29sdmVkRW5jb2RlZCwgcmVzdWx0LCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIC8vIFBlcmZvcm0gYSBsYXN0IHB1bGwgdG8gY2F0Y2ggY2hhbmdlcyB0aGF0IG9jY3VyZWQgYWZ0ZXIgdGhlIGxhc3QgcHVsbCxcbiAgICAgIC8vIHdoaWxlIGxvY2FsIGNoYW5nZXMgd2VyZSBwdXNoZWQuIERvIG5vdCBkbyBpdCBub3RoaW5nIHdhcyBwdXNoZWQuXG4gICAgICBpZiAocmVzdWx0LnB1Ymxpc2hlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEF2b2lkIHJlZG93bmxvYWRpbmcgb3VyIG93biBjaGFuZ2VzIGR1cmluZyB0aGUgbGFzdCBwdWxsLlxuICAgICAgICBjb25zdCBwdWxsT3B0cyA9IHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIGxhc3RNb2RpZmllZCxcbiAgICAgICAgICBleGNsdWRlOiByZXN1bHQucHVibGlzaGVkLFxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCB0aGlzLnB1bGxDaGFuZ2VzKGNsaWVudCwgcmVzdWx0LCBwdWxsT3B0cyk7XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IHBlcnNpc3QgbGFzdE1vZGlmaWVkIHZhbHVlIGlmIGFueSBjb25mbGljdCBvciBlcnJvciBvY2N1cmVkXG4gICAgICBpZiAocmVzdWx0Lm9rKSB7XG4gICAgICAgIC8vIE5vIGNvbmZsaWN0IG9jY3VyZWQsIHBlcnNpc3QgY29sbGVjdGlvbidzIGxhc3RNb2RpZmllZCB2YWx1ZVxuICAgICAgICB0aGlzLl9sYXN0TW9kaWZpZWQgPSBhd2FpdCB0aGlzLmRiLnNhdmVMYXN0TW9kaWZpZWQoXG4gICAgICAgICAgcmVzdWx0Lmxhc3RNb2RpZmllZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuZXZlbnRzLmVtaXQoXCJzeW5jOmVycm9yXCIsIHsgLi4ub3B0aW9ucywgZXJyb3I6IGUgfSk7XG4gICAgICB0aHJvdyBlO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBFbnN1cmUgQVBJIGRlZmF1bHQgcmVtb3RlIGlzIHJldmVydGVkIGlmIGEgY3VzdG9tIG9uZSdzIGJlZW4gdXNlZFxuICAgICAgdGhpcy5hcGkucmVtb3RlID0gcHJldmlvdXNSZW1vdGU7XG4gICAgfVxuICAgIHRoaXMuZXZlbnRzLmVtaXQoXCJzeW5jOnN1Y2Nlc3NcIiwgeyAuLi5vcHRpb25zLCByZXN1bHQgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGEgbGlzdCBvZiByZWNvcmRzIGFscmVhZHkgc3luY2VkIHdpdGggdGhlIHJlbW90ZSBzZXJ2ZXIuXG4gICAqXG4gICAqIFRoZSBsb2NhbCByZWNvcmRzIHdoaWNoIGFyZSB1bnN5bmNlZCBvciB3aG9zZSB0aW1lc3RhbXAgaXMgZWl0aGVyIG1pc3NpbmdcbiAgICogb3Igc3VwZXJpb3IgdG8gdGhvc2UgYmVpbmcgbG9hZGVkIHdpbGwgYmUgaWdub3JlZC5cbiAgICpcbiAgICogQHBhcmFtICB7QXJyYXl9IHJlY29yZHMgVGhlIHByZXZpb3VzbHkgZXhwb3J0ZWQgbGlzdCBvZiByZWNvcmRzIHRvIGxvYWQuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IHdpdGggdGhlIGVmZmVjdGl2ZWx5IGltcG9ydGVkIHJlY29yZHMuXG4gICAqL1xuICBhc3luYyBsb2FkRHVtcChyZWNvcmRzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJlY29yZHMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWNvcmRzIGlzIG5vdCBhbiBhcnJheS5cIik7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgaWYgKCFyZWNvcmQuaGFzT3duUHJvcGVydHkoXCJpZFwiKSB8fCAhdGhpcy5pZFNjaGVtYS52YWxpZGF0ZShyZWNvcmQuaWQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlY29yZCBoYXMgaW52YWxpZCBJRDogXCIgKyBKU09OLnN0cmluZ2lmeShyZWNvcmQpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFyZWNvcmQubGFzdF9tb2RpZmllZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJSZWNvcmQgaGFzIG5vIGxhc3RfbW9kaWZpZWQgdmFsdWU6IFwiICsgSlNPTi5zdHJpbmdpZnkocmVjb3JkKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZldGNoIGFsbCBleGlzdGluZyByZWNvcmRzIGZyb20gbG9jYWwgZGF0YWJhc2UsXG4gICAgLy8gYW5kIHNraXAgdGhvc2Ugd2hvIGFyZSBuZXdlciBvciBub3QgbWFya2VkIGFzIHN5bmNlZC5cblxuICAgIC8vIFhYWCBmaWx0ZXIgYnkgc3RhdHVzIC8gaWRzIGluIHJlY29yZHNcblxuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5saXN0KHt9LCB7IGluY2x1ZGVEZWxldGVkOiB0cnVlIH0pO1xuICAgIGNvbnN0IGV4aXN0aW5nQnlJZCA9IGRhdGEucmVkdWNlKChhY2MsIHJlY29yZCkgPT4ge1xuICAgICAgYWNjW3JlY29yZC5pZF0gPSByZWNvcmQ7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcblxuICAgIGNvbnN0IG5ld1JlY29yZHMgPSByZWNvcmRzLmZpbHRlcihyZWNvcmQgPT4ge1xuICAgICAgY29uc3QgbG9jYWxSZWNvcmQgPSBleGlzdGluZ0J5SWRbcmVjb3JkLmlkXTtcbiAgICAgIGNvbnN0IHNob3VsZEtlZXAgPVxuICAgICAgICAvLyBObyBsb2NhbCByZWNvcmQgd2l0aCB0aGlzIGlkLlxuICAgICAgICBsb2NhbFJlY29yZCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIC8vIE9yIGxvY2FsIHJlY29yZCBpcyBzeW5jZWRcbiAgICAgICAgKGxvY2FsUmVjb3JkLl9zdGF0dXMgPT09IFwic3luY2VkXCIgJiZcbiAgICAgICAgICAvLyBBbmQgd2FzIHN5bmNlZCBmcm9tIHNlcnZlclxuICAgICAgICAgIGxvY2FsUmVjb3JkLmxhc3RfbW9kaWZpZWQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIC8vIEFuZCBpcyBvbGRlciB0aGFuIGltcG9ydGVkIG9uZS5cbiAgICAgICAgICByZWNvcmQubGFzdF9tb2RpZmllZCA+IGxvY2FsUmVjb3JkLmxhc3RfbW9kaWZpZWQpO1xuICAgICAgcmV0dXJuIHNob3VsZEtlZXA7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYi5sb2FkRHVtcChuZXdSZWNvcmRzLm1hcChtYXJrU3luY2VkKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBIENvbGxlY3Rpb24tb3JpZW50ZWQgd3JhcHBlciBmb3IgYW4gYWRhcHRlcidzIHRyYW5zYWN0aW9uLlxuICpcbiAqIFRoaXMgZGVmaW5lcyB0aGUgaGlnaC1sZXZlbCBmdW5jdGlvbnMgYXZhaWxhYmxlIG9uIGEgY29sbGVjdGlvbi5cbiAqIFRoZSBjb2xsZWN0aW9uIGl0c2VsZiBvZmZlcnMgZnVuY3Rpb25zIG9mIHRoZSBzYW1lIG5hbWUuIFRoZXNlIHdpbGxcbiAqIHBlcmZvcm0ganVzdCBvbmUgb3BlcmF0aW9uIGluIGl0cyBvd24gdHJhbnNhY3Rpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2xsZWN0aW9uVHJhbnNhY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcihjb2xsZWN0aW9uLCBhZGFwdGVyVHJhbnNhY3Rpb24pIHtcbiAgICB0aGlzLmNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xuICAgIHRoaXMuYWRhcHRlclRyYW5zYWN0aW9uID0gYWRhcHRlclRyYW5zYWN0aW9uO1xuXG4gICAgdGhpcy5fZXZlbnRzID0gW107XG4gIH1cblxuICBfcXVldWVFdmVudChhY3Rpb24sIHBheWxvYWQpIHtcbiAgICB0aGlzLl9ldmVudHMucHVzaCh7IGFjdGlvbiwgcGF5bG9hZCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0IHF1ZXVlZCBldmVudHMsIHRvIGJlIGNhbGxlZCBvbmNlIGV2ZXJ5IHRyYW5zYWN0aW9uIG9wZXJhdGlvbnMgaGF2ZVxuICAgKiBiZWVuIGV4ZWN1dGVkIHN1Y2Nlc3NmdWxseS5cbiAgICovXG4gIGVtaXRFdmVudHMoKSB7XG4gICAgZm9yIChjb25zdCB7IGFjdGlvbiwgcGF5bG9hZCB9IG9mIHRoaXMuX2V2ZW50cykge1xuICAgICAgdGhpcy5jb2xsZWN0aW9uLmV2ZW50cy5lbWl0KGFjdGlvbiwgcGF5bG9hZCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9ldmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgdGFyZ2V0cyA9IHRoaXMuX2V2ZW50cy5tYXAoKHsgYWN0aW9uLCBwYXlsb2FkIH0pID0+ICh7XG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgIH0pKTtcbiAgICAgIHRoaXMuY29sbGVjdGlvbi5ldmVudHMuZW1pdChcImNoYW5nZVwiLCB7IHRhcmdldHMgfSk7XG4gICAgfVxuICAgIHRoaXMuX2V2ZW50cyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGEgcmVjb3JkIGJ5IGl0cyBpZCBmcm9tIHRoZSBsb2NhbCBkYXRhYmFzZSwgb3JcbiAgICogdW5kZWZpbmVkIGlmIG5vbmUgZXhpc3RzLlxuICAgKlxuICAgKiBUaGlzIHdpbGwgYWxzbyByZXR1cm4gdmlydHVhbGx5IGRlbGV0ZWQgcmVjb3Jkcy5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSBpZFxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBnZXRBbnkoaWQpIHtcbiAgICBjb25zdCByZWNvcmQgPSB0aGlzLmFkYXB0ZXJUcmFuc2FjdGlvbi5nZXQoaWQpO1xuICAgIHJldHVybiB7IGRhdGE6IHJlY29yZCwgcGVybWlzc2lvbnM6IHt9IH07XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgYSByZWNvcmQgYnkgaXRzIGlkIGZyb20gdGhlIGxvY2FsIGRhdGFiYXNlLlxuICAgKlxuICAgKiBPcHRpb25zOlxuICAgKiAtIHtCb29sZWFufSBpbmNsdWRlRGVsZXRlZDogSW5jbHVkZSB2aXJ0dWFsbHkgZGVsZXRlZCByZWNvcmRzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGlkXG4gICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBnZXQoaWQsIG9wdGlvbnMgPSB7IGluY2x1ZGVEZWxldGVkOiBmYWxzZSB9KSB7XG4gICAgY29uc3QgcmVzID0gdGhpcy5nZXRBbnkoaWQpO1xuICAgIGlmIChcbiAgICAgICFyZXMuZGF0YSB8fFxuICAgICAgKCFvcHRpb25zLmluY2x1ZGVEZWxldGVkICYmIHJlcy5kYXRhLl9zdGF0dXMgPT09IFwiZGVsZXRlZFwiKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZWNvcmQgd2l0aCBpZD0ke2lkfSBub3QgZm91bmQuYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGEgcmVjb3JkIGZyb20gdGhlIGxvY2FsIGRhdGFiYXNlLlxuICAgKlxuICAgKiBPcHRpb25zOlxuICAgKiAtIHtCb29sZWFufSB2aXJ0dWFsOiBXaGVuIHNldCB0byBgdHJ1ZWAsIGRvZXNuJ3QgYWN0dWFsbHkgZGVsZXRlIHRoZSByZWNvcmQsXG4gICAqICAgdXBkYXRlIGl0cyBgX3N0YXR1c2AgYXR0cmlidXRlIHRvIGBkZWxldGVkYCBpbnN0ZWFkIChkZWZhdWx0OiB0cnVlKVxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGlkICAgICAgIFRoZSByZWNvcmQncyBJZC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIGRlbGV0ZShpZCwgb3B0aW9ucyA9IHsgdmlydHVhbDogdHJ1ZSB9KSB7XG4gICAgLy8gRW5zdXJlIHRoZSByZWNvcmQgYWN0dWFsbHkgZXhpc3RzLlxuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5hZGFwdGVyVHJhbnNhY3Rpb24uZ2V0KGlkKTtcbiAgICBjb25zdCBhbHJlYWR5RGVsZXRlZCA9IGV4aXN0aW5nICYmIGV4aXN0aW5nLl9zdGF0dXMgPT0gXCJkZWxldGVkXCI7XG4gICAgaWYgKCFleGlzdGluZyB8fCAoYWxyZWFkeURlbGV0ZWQgJiYgb3B0aW9ucy52aXJ0dWFsKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZWNvcmQgd2l0aCBpZD0ke2lkfSBub3QgZm91bmQuYCk7XG4gICAgfVxuICAgIC8vIFZpcnR1YWwgdXBkYXRlcyBzdGF0dXMuXG4gICAgaWYgKG9wdGlvbnMudmlydHVhbCkge1xuICAgICAgdGhpcy5hZGFwdGVyVHJhbnNhY3Rpb24udXBkYXRlKG1hcmtEZWxldGVkKGV4aXN0aW5nKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERlbGV0ZSBmb3IgcmVhbC5cbiAgICAgIHRoaXMuYWRhcHRlclRyYW5zYWN0aW9uLmRlbGV0ZShpZCk7XG4gICAgfVxuICAgIHRoaXMuX3F1ZXVlRXZlbnQoXCJkZWxldGVcIiwgeyBkYXRhOiBleGlzdGluZyB9KTtcbiAgICByZXR1cm4geyBkYXRhOiBleGlzdGluZywgcGVybWlzc2lvbnM6IHt9IH07XG4gIH1cblxuICAvKipcbiAgICogU29mdCBkZWxldGUgYWxsIHJlY29yZHMgZnJvbSB0aGUgbG9jYWwgZGF0YWJhc2UuXG4gICAqXG4gICAqIEBwYXJhbSAge0FycmF5fSBpZHMgICAgICAgIEFycmF5IG9mIG5vbi1kZWxldGVkIFJlY29yZCBJZHMuXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIGRlbGV0ZUFsbChpZHMpIHtcbiAgICBjb25zdCBleGlzdGluZ1JlY29yZHMgPSBbXTtcbiAgICBpZHMuZm9yRWFjaChpZCA9PiB7XG4gICAgICBleGlzdGluZ1JlY29yZHMucHVzaCh0aGlzLmFkYXB0ZXJUcmFuc2FjdGlvbi5nZXQoaWQpKTtcbiAgICAgIHRoaXMuZGVsZXRlKGlkKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3F1ZXVlRXZlbnQoXCJkZWxldGVBbGxcIiwgeyBkYXRhOiBleGlzdGluZ1JlY29yZHMgfSk7XG4gICAgcmV0dXJuIHsgZGF0YTogZXhpc3RpbmdSZWNvcmRzLCBwZXJtaXNzaW9uczoge30gfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGEgcmVjb3JkIGZyb20gdGhlIGxvY2FsIGRhdGFiYXNlLCBpZiBhbnkgZXhpc3RzLlxuICAgKiBPdGhlcndpc2UsIGRvIG5vdGhpbmcuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaWQgICAgICAgVGhlIHJlY29yZCdzIElkLlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBkZWxldGVBbnkoaWQpIHtcbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuYWRhcHRlclRyYW5zYWN0aW9uLmdldChpZCk7XG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICB0aGlzLmFkYXB0ZXJUcmFuc2FjdGlvbi51cGRhdGUobWFya0RlbGV0ZWQoZXhpc3RpbmcpKTtcbiAgICAgIHRoaXMuX3F1ZXVlRXZlbnQoXCJkZWxldGVcIiwgeyBkYXRhOiBleGlzdGluZyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZGF0YTogeyBpZCwgLi4uZXhpc3RpbmcgfSwgZGVsZXRlZDogISFleGlzdGluZywgcGVybWlzc2lvbnM6IHt9IH07XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIHJlY29yZCB0byB0aGUgbG9jYWwgZGF0YWJhc2UsIGFzc2VydGluZyB0aGF0IG5vbmVcbiAgICogYWxyZWFkeSBleGlzdCB3aXRoIHRoaXMgSUQuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gcmVjb3JkLCB3aGljaCBtdXN0IGNvbnRhaW4gYW4gSURcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKi9cbiAgY3JlYXRlKHJlY29yZCkge1xuICAgIGlmICh0eXBlb2YgcmVjb3JkICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWNvcmQgaXMgbm90IGFuIG9iamVjdC5cIik7XG4gICAgfVxuICAgIGlmICghcmVjb3JkLmhhc093blByb3BlcnR5KFwiaWRcIikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjcmVhdGUgYSByZWNvcmQgbWlzc2luZyBpZFwiKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmNvbGxlY3Rpb24uaWRTY2hlbWEudmFsaWRhdGUocmVjb3JkLmlkKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIElkOiAke3JlY29yZC5pZH1gKTtcbiAgICB9XG5cbiAgICB0aGlzLmFkYXB0ZXJUcmFuc2FjdGlvbi5jcmVhdGUocmVjb3JkKTtcbiAgICB0aGlzLl9xdWV1ZUV2ZW50KFwiY3JlYXRlXCIsIHsgZGF0YTogcmVjb3JkIH0pO1xuICAgIHJldHVybiB7IGRhdGE6IHJlY29yZCwgcGVybWlzc2lvbnM6IHt9IH07XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBhIHJlY29yZCBmcm9tIHRoZSBsb2NhbCBkYXRhYmFzZS5cbiAgICpcbiAgICogT3B0aW9uczpcbiAgICogLSB7Qm9vbGVhbn0gc3luY2VkOiBTZXRzIHJlY29yZCBzdGF0dXMgdG8gXCJzeW5jZWRcIiAoZGVmYXVsdDogZmFsc2UpXG4gICAqIC0ge0Jvb2xlYW59IHBhdGNoOiAgRXh0ZW5kcyB0aGUgZXhpc3RpbmcgcmVjb3JkIGluc3RlYWQgb2Ygb3ZlcndyaXRpbmcgaXRcbiAgICogICAoZGVmYXVsdDogZmFsc2UpXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gcmVjb3JkXG4gICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICB1cGRhdGUocmVjb3JkLCBvcHRpb25zID0geyBzeW5jZWQ6IGZhbHNlLCBwYXRjaDogZmFsc2UgfSkge1xuICAgIGlmICh0eXBlb2YgcmVjb3JkICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWNvcmQgaXMgbm90IGFuIG9iamVjdC5cIik7XG4gICAgfVxuICAgIGlmICghcmVjb3JkLmhhc093blByb3BlcnR5KFwiaWRcIikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1cGRhdGUgYSByZWNvcmQgbWlzc2luZyBpZC5cIik7XG4gICAgfVxuICAgIGlmICghdGhpcy5jb2xsZWN0aW9uLmlkU2NoZW1hLnZhbGlkYXRlKHJlY29yZC5pZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBJZDogJHtyZWNvcmQuaWR9YCk7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkUmVjb3JkID0gdGhpcy5hZGFwdGVyVHJhbnNhY3Rpb24uZ2V0KHJlY29yZC5pZCk7XG4gICAgaWYgKCFvbGRSZWNvcmQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUmVjb3JkIHdpdGggaWQ9JHtyZWNvcmQuaWR9IG5vdCBmb3VuZC5gKTtcbiAgICB9XG4gICAgY29uc3QgbmV3UmVjb3JkID0gb3B0aW9ucy5wYXRjaCA/IHsgLi4ub2xkUmVjb3JkLCAuLi5yZWNvcmQgfSA6IHJlY29yZDtcbiAgICBjb25zdCB1cGRhdGVkID0gdGhpcy5fdXBkYXRlUmF3KG9sZFJlY29yZCwgbmV3UmVjb3JkLCBvcHRpb25zKTtcbiAgICB0aGlzLmFkYXB0ZXJUcmFuc2FjdGlvbi51cGRhdGUodXBkYXRlZCk7XG4gICAgdGhpcy5fcXVldWVFdmVudChcInVwZGF0ZVwiLCB7IGRhdGE6IHVwZGF0ZWQsIG9sZFJlY29yZCB9KTtcbiAgICByZXR1cm4geyBkYXRhOiB1cGRhdGVkLCBvbGRSZWNvcmQsIHBlcm1pc3Npb25zOiB7fSB9O1xuICB9XG5cbiAgLyoqXG4gICAqIExvd2VyLWxldmVsIHByaW1pdGl2ZSBmb3IgdXBkYXRpbmcgYSByZWNvcmQgd2hpbGUgcmVzcGVjdGluZ1xuICAgKiBfc3RhdHVzIGFuZCBsYXN0X21vZGlmaWVkLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9sZFJlY29yZDogdGhlIHJlY29yZCByZXRyaWV2ZWQgZnJvbSB0aGUgREJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBuZXdSZWNvcmQ6IHRoZSByZWNvcmQgdG8gcmVwbGFjZSBpdCB3aXRoXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIF91cGRhdGVSYXcob2xkUmVjb3JkLCBuZXdSZWNvcmQsIHsgc3luY2VkID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgY29uc3QgdXBkYXRlZCA9IHsgLi4ubmV3UmVjb3JkIH07XG4gICAgLy8gTWFrZSBzdXJlIHRvIG5ldmVyIGxvb3NlIHRoZSBleGlzdGluZyB0aW1lc3RhbXAuXG4gICAgaWYgKG9sZFJlY29yZCAmJiBvbGRSZWNvcmQubGFzdF9tb2RpZmllZCAmJiAhdXBkYXRlZC5sYXN0X21vZGlmaWVkKSB7XG4gICAgICB1cGRhdGVkLmxhc3RfbW9kaWZpZWQgPSBvbGRSZWNvcmQubGFzdF9tb2RpZmllZDtcbiAgICB9XG4gICAgLy8gSWYgb25seSBsb2NhbCBmaWVsZHMgaGF2ZSBjaGFuZ2VkLCB0aGVuIGtlZXAgcmVjb3JkIGFzIHN5bmNlZC5cbiAgICAvLyBJZiBzdGF0dXMgaXMgY3JlYXRlZCwga2VlcCByZWNvcmQgYXMgY3JlYXRlZC5cbiAgICAvLyBJZiBzdGF0dXMgaXMgZGVsZXRlZCwgbWFyayBhcyB1cGRhdGVkLlxuICAgIGNvbnN0IGlzSWRlbnRpY2FsID1cbiAgICAgIG9sZFJlY29yZCAmJiByZWNvcmRzRXF1YWwob2xkUmVjb3JkLCB1cGRhdGVkLCB0aGlzLmxvY2FsRmllbGRzKTtcbiAgICBjb25zdCBrZWVwU3luY2VkID0gaXNJZGVudGljYWwgJiYgb2xkUmVjb3JkLl9zdGF0dXMgPT0gXCJzeW5jZWRcIjtcbiAgICBjb25zdCBuZXZlclN5bmNlZCA9XG4gICAgICAhb2xkUmVjb3JkIHx8IChvbGRSZWNvcmQgJiYgb2xkUmVjb3JkLl9zdGF0dXMgPT0gXCJjcmVhdGVkXCIpO1xuICAgIGNvbnN0IG5ld1N0YXR1cyA9XG4gICAgICBrZWVwU3luY2VkIHx8IHN5bmNlZCA/IFwic3luY2VkXCIgOiBuZXZlclN5bmNlZCA/IFwiY3JlYXRlZFwiIDogXCJ1cGRhdGVkXCI7XG4gICAgcmV0dXJuIG1hcmtTdGF0dXModXBkYXRlZCwgbmV3U3RhdHVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcHNlcnQgYSByZWNvcmQgaW50byB0aGUgbG9jYWwgZGF0YWJhc2UuXG4gICAqXG4gICAqIFRoaXMgcmVjb3JkIG11c3QgaGF2ZSBhbiBJRC5cbiAgICpcbiAgICogSWYgYSByZWNvcmQgd2l0aCB0aGlzIElEIGFscmVhZHkgZXhpc3RzLCBpdCB3aWxsIGJlIHJlcGxhY2VkLlxuICAgKiBPdGhlcndpc2UsIHRoaXMgcmVjb3JkIHdpbGwgYmUgaW5zZXJ0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gcmVjb3JkXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIHVwc2VydChyZWNvcmQpIHtcbiAgICBpZiAodHlwZW9mIHJlY29yZCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVjb3JkIGlzIG5vdCBhbiBvYmplY3QuXCIpO1xuICAgIH1cbiAgICBpZiAoIXJlY29yZC5oYXNPd25Qcm9wZXJ0eShcImlkXCIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGEgcmVjb3JkIG1pc3NpbmcgaWQuXCIpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuY29sbGVjdGlvbi5pZFNjaGVtYS52YWxpZGF0ZShyZWNvcmQuaWQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgSWQ6ICR7cmVjb3JkLmlkfWApO1xuICAgIH1cbiAgICBsZXQgb2xkUmVjb3JkID0gdGhpcy5hZGFwdGVyVHJhbnNhY3Rpb24uZ2V0KHJlY29yZC5pZCk7XG4gICAgY29uc3QgdXBkYXRlZCA9IHRoaXMuX3VwZGF0ZVJhdyhvbGRSZWNvcmQsIHJlY29yZCk7XG4gICAgdGhpcy5hZGFwdGVyVHJhbnNhY3Rpb24udXBkYXRlKHVwZGF0ZWQpO1xuICAgIC8vIERvbid0IHJldHVybiBkZWxldGVkIHJlY29yZHMgLS0gcHJldGVuZCB0aGV5IGFyZSBnb25lXG4gICAgaWYgKG9sZFJlY29yZCAmJiBvbGRSZWNvcmQuX3N0YXR1cyA9PSBcImRlbGV0ZWRcIikge1xuICAgICAgb2xkUmVjb3JkID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAob2xkUmVjb3JkKSB7XG4gICAgICB0aGlzLl9xdWV1ZUV2ZW50KFwidXBkYXRlXCIsIHsgZGF0YTogdXBkYXRlZCwgb2xkUmVjb3JkIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9xdWV1ZUV2ZW50KFwiY3JlYXRlXCIsIHsgZGF0YTogdXBkYXRlZCB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZGF0YTogdXBkYXRlZCwgb2xkUmVjb3JkLCBwZXJtaXNzaW9uczoge30gfTtcbiAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gXCJldmVudHNcIjtcblxuLy8gYmFiZWwtcG9seWZpbGwgY2FuIG9ubHkgYmUgaW1wb3J0ZWQgb25jZVxuaWYgKCFnbG9iYWwuX2JhYmVsUG9seWZpbGwpIHtcbiAgcmVxdWlyZShcImJhYmVsLXBvbHlmaWxsXCIpO1xufVxuXG5pbXBvcnQgQXBpIGZyb20gXCJraW50by1odHRwXCI7XG5pbXBvcnQgQmFzZUFkYXB0ZXIgZnJvbSBcIi4vYWRhcHRlcnMvYmFzZVwiO1xuaW1wb3J0IElEQiBmcm9tIFwiLi9hZGFwdGVycy9JREJcIjtcbmltcG9ydCBLaW50b0Jhc2UgZnJvbSBcIi4vS2ludG9CYXNlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtpbnRvIGV4dGVuZHMgS2ludG9CYXNlIHtcbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgcHVibGljIGFjY2VzcyB0byB0aGUgYmFzZSBhZGFwdGVyIGNsYXNzZXMuIFVzZXJzIGNhbiBjcmVhdGVcbiAgICogYSBjdXN0b20gREIgYWRhcHRlciBieSBleHRlbmRpbmcgQmFzZUFkYXB0ZXIuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGFkYXB0ZXJzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBCYXNlQWRhcHRlcixcbiAgICAgIElEQixcbiAgICB9O1xuICB9XG5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgICBhZGFwdGVyOiBLaW50by5hZGFwdGVycy5JREIsXG4gICAgICBldmVudHM6IG5ldyBFdmVudEVtaXR0ZXIoKSxcbiAgICAgIEFwaUNsYXNzOiBBcGksXG4gICAgfTtcblxuICAgIHN1cGVyKHsgLi4uZGVmYXVsdHMsIC4uLm9wdGlvbnMgfSk7XG4gIH1cbn1cblxuLy8gVGhpcyBmaXhlcyBjb21wYXRpYmlsaXR5IHdpdGggQ29tbW9uSlMgcmVxdWlyZWQgYnkgYnJvd3NlcmlmeS5cbi8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMzNTA1OTkyL2JhYmVsLTYtY2hhbmdlcy1ob3ctaXQtZXhwb3J0cy1kZWZhdWx0LzMzNjgzNDk1IzMzNjgzNDk1XG5pZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIikge1xuICBtb2R1bGUuZXhwb3J0cyA9IEtpbnRvO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydCBjb25zdCBSRV9VVUlEID0gL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXsxMn0kL2k7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkLlxuICogQHBhcmFtICB7QW55fSAgdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIF9pc1VuZGVmaW5lZCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiO1xufVxuXG4vKipcbiAqIFNvcnRzIHJlY29yZHMgaW4gYSBsaXN0IGFjY29yZGluZyB0byBhIGdpdmVuIG9yZGVyaW5nLlxuICpcbiAqIEBwYXJhbSAge1N0cmluZ30gb3JkZXIgVGhlIG9yZGVyaW5nLCBlZy4gYC1sYXN0X21vZGlmaWVkYC5cbiAqIEBwYXJhbSAge0FycmF5fSAgbGlzdCAgVGhlIGNvbGxlY3Rpb24gdG8gb3JkZXIuXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNvcnRPYmplY3RzKG9yZGVyLCBsaXN0KSB7XG4gIGNvbnN0IGhhc0Rhc2ggPSBvcmRlclswXSA9PT0gXCItXCI7XG4gIGNvbnN0IGZpZWxkID0gaGFzRGFzaCA/IG9yZGVyLnNsaWNlKDEpIDogb3JkZXI7XG4gIGNvbnN0IGRpcmVjdGlvbiA9IGhhc0Rhc2ggPyAtMSA6IDE7XG4gIHJldHVybiBsaXN0LnNsaWNlKCkuc29ydCgoYSwgYikgPT4ge1xuICAgIGlmIChhW2ZpZWxkXSAmJiBfaXNVbmRlZmluZWQoYltmaWVsZF0pKSB7XG4gICAgICByZXR1cm4gZGlyZWN0aW9uO1xuICAgIH1cbiAgICBpZiAoYltmaWVsZF0gJiYgX2lzVW5kZWZpbmVkKGFbZmllbGRdKSkge1xuICAgICAgcmV0dXJuIC1kaXJlY3Rpb247XG4gICAgfVxuICAgIGlmIChfaXNVbmRlZmluZWQoYVtmaWVsZF0pICYmIF9pc1VuZGVmaW5lZChiW2ZpZWxkXSkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gYVtmaWVsZF0gPiBiW2ZpZWxkXSA/IGRpcmVjdGlvbiA6IC1kaXJlY3Rpb247XG4gIH0pO1xufVxuXG4vKipcbiAqIFRlc3QgaWYgYSBzaW5nbGUgb2JqZWN0IG1hdGNoZXMgYWxsIGdpdmVuIGZpbHRlcnMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBmaWx0ZXJzICBUaGUgZmlsdGVycyBvYmplY3QuXG4gKiBAcGFyYW0gIHtPYmplY3R9IGVudHJ5ICAgIFRoZSBvYmplY3QgdG8gZmlsdGVyLlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlck9iamVjdChmaWx0ZXJzLCBlbnRyeSkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoZmlsdGVycykuZXZlcnkoZmlsdGVyID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGZpbHRlcnNbZmlsdGVyXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5zb21lKGNhbmRpZGF0ZSA9PiBjYW5kaWRhdGUgPT09IGVudHJ5W2ZpbHRlcl0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cnlbZmlsdGVyXSA9PT0gdmFsdWU7XG4gIH0pO1xufVxuXG4vKipcbiAqIEZpbHRlcnMgcmVjb3JkcyBpbiBhIGxpc3QgbWF0Y2hpbmcgYWxsIGdpdmVuIGZpbHRlcnMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBmaWx0ZXJzICBUaGUgZmlsdGVycyBvYmplY3QuXG4gKiBAcGFyYW0gIHtBcnJheX0gIGxpc3QgICAgIFRoZSBjb2xsZWN0aW9uIHRvIGZpbHRlci5cbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyT2JqZWN0cyhmaWx0ZXJzLCBsaXN0KSB7XG4gIHJldHVybiBsaXN0LmZpbHRlcihlbnRyeSA9PiB7XG4gICAgcmV0dXJuIGZpbHRlck9iamVjdChmaWx0ZXJzLCBlbnRyeSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHN0cmluZyBpcyBhbiBVVUlELlxuICpcbiAqIEBwYXJhbSAge1N0cmluZ30gdXVpZCBUaGUgdXVpZCB0byB2YWxpZGF0ZS5cbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1VVSUQodXVpZCkge1xuICByZXR1cm4gUkVfVVVJRC50ZXN0KHV1aWQpO1xufVxuXG4vKipcbiAqIFJlc29sdmVzIGEgbGlzdCBvZiBmdW5jdGlvbnMgc2VxdWVudGlhbGx5LCB3aGljaCBjYW4gYmUgc3luYyBvciBhc3luYzsgaW5cbiAqIGNhc2Ugb2YgYXN5bmMsIGZ1bmN0aW9ucyBtdXN0IHJldHVybiBhIHByb21pc2UuXG4gKlxuICogQHBhcmFtICB7QXJyYXl9IGZucyAgVGhlIGxpc3Qgb2YgZnVuY3Rpb25zLlxuICogQHBhcmFtICB7QW55fSAgIGluaXQgVGhlIGluaXRpYWwgdmFsdWUuXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gd2F0ZXJmYWxsKGZucywgaW5pdCkge1xuICBpZiAoIWZucy5sZW5ndGgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGluaXQpO1xuICB9XG4gIHJldHVybiBmbnMucmVkdWNlKChwcm9taXNlLCBuZXh0Rm4pID0+IHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKG5leHRGbik7XG4gIH0sIFByb21pc2UucmVzb2x2ZShpbml0KSk7XG59XG5cbi8qKlxuICogU2ltcGxlIGRlZXAgb2JqZWN0IGNvbXBhcmlzb24gZnVuY3Rpb24uIFRoaXMgb25seSBzdXBwb3J0cyBjb21wYXJpc29uIG9mXG4gKiBzZXJpYWxpemFibGUgSmF2YVNjcmlwdCBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gYSBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSAge09iamVjdH0gYiBUaGUgY29tcGFyZWQgb2JqZWN0LlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBhICE9PSB0eXBlb2YgYikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoIShhICYmIHR5cGVvZiBhID09IFwib2JqZWN0XCIpIHx8ICEoYiAmJiB0eXBlb2YgYiA9PSBcIm9iamVjdFwiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoT2JqZWN0LmtleXMoYSkubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChjb25zdCBrIGluIGEpIHtcbiAgICBpZiAoIWRlZXBFcXVhbChhW2tdLCBiW2tdKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gb2JqZWN0IHdpdGhvdXQgdGhlIHNwZWNpZmllZCBrZXlzLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gb2JqICAgICAgICBUaGUgb3JpZ2luYWwgb2JqZWN0LlxuICogQHBhcmFtICB7QXJyYXl9ICBrZXlzICAgICAgIFRoZSBsaXN0IG9mIGtleXMgdG8gZXhjbHVkZS5cbiAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICAgICBBIGNvcHkgd2l0aG91dCB0aGUgc3BlY2lmaWVkIGtleXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbWl0S2V5cyhvYmosIGtleXMgPSBbXSkge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgaWYgKCFrZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIGFjY1trZXldID0gb2JqW2tleV07XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbn1cbiJdfQ==\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.KintoClient = f()}})(function(){var define,module,exports;return (function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n},{\"core-js/library/fn/array/from\":22}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n},{\"core-js/library/fn/get-iterator\":23}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n},{\"core-js/library/fn/is-iterable\":24}],4:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n},{\"core-js/library/fn/object/assign\":25}],5:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":26}],6:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":27}],7:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":28}],8:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n},{\"core-js/library/fn/promise\":29}],9:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":30}],10:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n},{\"core-js/library/fn/symbol/iterator\":31}],11:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _promise = require(\"../core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new _promise2.default(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return _promise2.default.resolve(value).then(function (value) {\n            step(\"next\", value);\n          }, function (err) {\n            step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n};\n},{\"../core-js/promise\":8}],12:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],13:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":6}],14:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n},{\"../core-js/object/define-property\":6}],15:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n},{\"../core-js/object/assign\":4}],16:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n},{\"../core-js/object/create\":5,\"../core-js/object/set-prototype-of\":7,\"../helpers/typeof\":20}],17:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":20}],18:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n},{\"../core-js/get-iterator\":2,\"../core-js/is-iterable\":3}],19:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  return Array.isArray(arr) ? arr : (0, _from2.default)(arr);\n};\n},{\"../core-js/array/from\":1}],20:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n},{\"../core-js/symbol\":9,\"../core-js/symbol/iterator\":10}],21:[function(require,module,exports){\nmodule.exports = require(\"regenerator-runtime\");\n\n},{\"regenerator-runtime\":124}],22:[function(require,module,exports){\nrequire('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n},{\"../../modules/_core\":39,\"../../modules/es6.array.from\":108,\"../../modules/es6.string.iterator\":116}],23:[function(require,module,exports){\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n},{\"../modules/core.get-iterator\":106,\"../modules/es6.string.iterator\":116,\"../modules/web.dom.iterable\":122}],24:[function(require,module,exports){\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n\n},{\"../modules/core.is-iterable\":107,\"../modules/es6.string.iterator\":116,\"../modules/web.dom.iterable\":122}],25:[function(require,module,exports){\nrequire('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n\n},{\"../../modules/_core\":39,\"../../modules/es6.object.assign\":110}],26:[function(require,module,exports){\nrequire('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n},{\"../../modules/_core\":39,\"../../modules/es6.object.create\":111}],27:[function(require,module,exports){\nrequire('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n},{\"../../modules/_core\":39,\"../../modules/es6.object.define-property\":112}],28:[function(require,module,exports){\nrequire('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n\n},{\"../../modules/_core\":39,\"../../modules/es6.object.set-prototype-of\":113}],29:[function(require,module,exports){\nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n\n},{\"../modules/_core\":39,\"../modules/es6.object.to-string\":114,\"../modules/es6.promise\":115,\"../modules/es6.string.iterator\":116,\"../modules/es7.promise.finally\":118,\"../modules/es7.promise.try\":119,\"../modules/web.dom.iterable\":122}],30:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n},{\"../../modules/_core\":39,\"../../modules/es6.object.to-string\":114,\"../../modules/es6.symbol\":117,\"../../modules/es7.symbol.async-iterator\":120,\"../../modules/es7.symbol.observable\":121}],31:[function(require,module,exports){\nrequire('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n},{\"../../modules/_wks-ext\":103,\"../../modules/es6.string.iterator\":116,\"../../modules/web.dom.iterable\":122}],32:[function(require,module,exports){\nmodule.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n},{}],33:[function(require,module,exports){\nmodule.exports = function () { /* empty */ };\n\n},{}],34:[function(require,module,exports){\nmodule.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n},{}],35:[function(require,module,exports){\nvar isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n},{\"./_is-object\":59}],36:[function(require,module,exports){\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n},{\"./_to-absolute-index\":95,\"./_to-iobject\":97,\"./_to-length\":98}],37:[function(require,module,exports){\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n},{\"./_cof\":38,\"./_wks\":104}],38:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n},{}],39:[function(require,module,exports){\nvar core = module.exports = { version: '2.5.3' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n},{}],40:[function(require,module,exports){\n'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n},{\"./_object-dp\":72,\"./_property-desc\":84}],41:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n},{\"./_a-function\":32}],42:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n},{}],43:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n},{\"./_fails\":48}],44:[function(require,module,exports){\nvar isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n},{\"./_global\":50,\"./_is-object\":59}],45:[function(require,module,exports){\n// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n},{}],46:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n},{\"./_object-gops\":77,\"./_object-keys\":80,\"./_object-pie\":81}],47:[function(require,module,exports){\nvar global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n},{\"./_core\":39,\"./_ctx\":41,\"./_global\":50,\"./_hide\":52}],48:[function(require,module,exports){\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n},{}],49:[function(require,module,exports){\nvar ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n\n},{\"./_an-object\":35,\"./_ctx\":41,\"./_is-array-iter\":57,\"./_iter-call\":60,\"./_to-length\":98,\"./core.get-iterator-method\":105}],50:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n},{}],51:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n},{}],52:[function(require,module,exports){\nvar dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n},{\"./_descriptors\":43,\"./_object-dp\":72,\"./_property-desc\":84}],53:[function(require,module,exports){\nvar document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n\n},{\"./_global\":50}],54:[function(require,module,exports){\nmodule.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n},{\"./_descriptors\":43,\"./_dom-create\":44,\"./_fails\":48}],55:[function(require,module,exports){\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\n},{}],56:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n},{\"./_cof\":38}],57:[function(require,module,exports){\n// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n},{\"./_iterators\":65,\"./_wks\":104}],58:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n},{\"./_cof\":38}],59:[function(require,module,exports){\nmodule.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n},{}],60:[function(require,module,exports){\n// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n},{\"./_an-object\":35}],61:[function(require,module,exports){\n'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n},{\"./_hide\":52,\"./_object-create\":71,\"./_property-desc\":84,\"./_set-to-string-tag\":89,\"./_wks\":104}],62:[function(require,module,exports){\n'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = (!BUGGY && $native) || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n},{\"./_export\":47,\"./_has\":51,\"./_hide\":52,\"./_iter-create\":61,\"./_iterators\":65,\"./_library\":66,\"./_object-gpo\":78,\"./_redefine\":86,\"./_set-to-string-tag\":89,\"./_wks\":104}],63:[function(require,module,exports){\nvar ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n},{\"./_wks\":104}],64:[function(require,module,exports){\nmodule.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n},{}],65:[function(require,module,exports){\nmodule.exports = {};\n\n},{}],66:[function(require,module,exports){\nmodule.exports = true;\n\n},{}],67:[function(require,module,exports){\nvar META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n},{\"./_fails\":48,\"./_has\":51,\"./_is-object\":59,\"./_object-dp\":72,\"./_uid\":101}],68:[function(require,module,exports){\nvar global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n},{\"./_cof\":38,\"./_global\":50,\"./_task\":94}],69:[function(require,module,exports){\n'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n},{\"./_a-function\":32}],70:[function(require,module,exports){\n'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n\n},{\"./_fails\":48,\"./_iobject\":56,\"./_object-gops\":77,\"./_object-keys\":80,\"./_object-pie\":81,\"./_to-object\":99}],71:[function(require,module,exports){\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n},{\"./_an-object\":35,\"./_dom-create\":44,\"./_enum-bug-keys\":45,\"./_html\":53,\"./_object-dps\":73,\"./_shared-key\":90}],72:[function(require,module,exports){\nvar anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n},{\"./_an-object\":35,\"./_descriptors\":43,\"./_ie8-dom-define\":54,\"./_to-primitive\":100}],73:[function(require,module,exports){\nvar dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n},{\"./_an-object\":35,\"./_descriptors\":43,\"./_object-dp\":72,\"./_object-keys\":80}],74:[function(require,module,exports){\nvar pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n},{\"./_descriptors\":43,\"./_has\":51,\"./_ie8-dom-define\":54,\"./_object-pie\":81,\"./_property-desc\":84,\"./_to-iobject\":97,\"./_to-primitive\":100}],75:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n},{\"./_object-gopn\":76,\"./_to-iobject\":97}],76:[function(require,module,exports){\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n},{\"./_enum-bug-keys\":45,\"./_object-keys-internal\":79}],77:[function(require,module,exports){\nexports.f = Object.getOwnPropertySymbols;\n\n},{}],78:[function(require,module,exports){\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n},{\"./_has\":51,\"./_shared-key\":90,\"./_to-object\":99}],79:[function(require,module,exports){\nvar has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n},{\"./_array-includes\":36,\"./_has\":51,\"./_shared-key\":90,\"./_to-iobject\":97}],80:[function(require,module,exports){\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n},{\"./_enum-bug-keys\":45,\"./_object-keys-internal\":79}],81:[function(require,module,exports){\nexports.f = {}.propertyIsEnumerable;\n\n},{}],82:[function(require,module,exports){\nmodule.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\n},{}],83:[function(require,module,exports){\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n},{\"./_an-object\":35,\"./_is-object\":59,\"./_new-promise-capability\":69}],84:[function(require,module,exports){\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n},{}],85:[function(require,module,exports){\nvar hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n},{\"./_hide\":52}],86:[function(require,module,exports){\nmodule.exports = require('./_hide');\n\n},{\"./_hide\":52}],87:[function(require,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n},{\"./_an-object\":35,\"./_ctx\":41,\"./_is-object\":59,\"./_object-gopd\":74}],88:[function(require,module,exports){\n'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\n},{\"./_core\":39,\"./_descriptors\":43,\"./_global\":50,\"./_object-dp\":72,\"./_wks\":104}],89:[function(require,module,exports){\nvar def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n},{\"./_has\":51,\"./_object-dp\":72,\"./_wks\":104}],90:[function(require,module,exports){\nvar shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n},{\"./_shared\":91,\"./_uid\":101}],91:[function(require,module,exports){\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n\n},{\"./_global\":50}],92:[function(require,module,exports){\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n},{\"./_a-function\":32,\"./_an-object\":35,\"./_wks\":104}],93:[function(require,module,exports){\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n},{\"./_defined\":42,\"./_to-integer\":96}],94:[function(require,module,exports){\nvar ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n\n},{\"./_cof\":38,\"./_ctx\":41,\"./_dom-create\":44,\"./_global\":50,\"./_html\":53,\"./_invoke\":55}],95:[function(require,module,exports){\nvar toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n},{\"./_to-integer\":96}],96:[function(require,module,exports){\n// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n},{}],97:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n},{\"./_defined\":42,\"./_iobject\":56}],98:[function(require,module,exports){\n// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n},{\"./_to-integer\":96}],99:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n},{\"./_defined\":42}],100:[function(require,module,exports){\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n},{\"./_is-object\":59}],101:[function(require,module,exports){\nvar id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n},{}],102:[function(require,module,exports){\nvar global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n},{\"./_core\":39,\"./_global\":50,\"./_library\":66,\"./_object-dp\":72,\"./_wks-ext\":103}],103:[function(require,module,exports){\nexports.f = require('./_wks');\n\n},{\"./_wks\":104}],104:[function(require,module,exports){\nvar store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n},{\"./_global\":50,\"./_shared\":91,\"./_uid\":101}],105:[function(require,module,exports){\nvar classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n},{\"./_classof\":37,\"./_core\":39,\"./_iterators\":65,\"./_wks\":104}],106:[function(require,module,exports){\nvar anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n},{\"./_an-object\":35,\"./_core\":39,\"./core.get-iterator-method\":105}],107:[function(require,module,exports){\nvar classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n},{\"./_classof\":37,\"./_core\":39,\"./_iterators\":65,\"./_wks\":104}],108:[function(require,module,exports){\n'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n},{\"./_create-property\":40,\"./_ctx\":41,\"./_export\":47,\"./_is-array-iter\":57,\"./_iter-call\":60,\"./_iter-detect\":63,\"./_to-length\":98,\"./_to-object\":99,\"./core.get-iterator-method\":105}],109:[function(require,module,exports){\n'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n},{\"./_add-to-unscopables\":33,\"./_iter-define\":62,\"./_iter-step\":64,\"./_iterators\":65,\"./_to-iobject\":97}],110:[function(require,module,exports){\n// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n\n},{\"./_export\":47,\"./_object-assign\":70}],111:[function(require,module,exports){\nvar $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n\n},{\"./_export\":47,\"./_object-create\":71}],112:[function(require,module,exports){\nvar $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n},{\"./_descriptors\":43,\"./_export\":47,\"./_object-dp\":72}],113:[function(require,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n\n},{\"./_export\":47,\"./_set-proto\":87}],114:[function(require,module,exports){\n\n},{}],115:[function(require,module,exports){\n'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n},{\"./_a-function\":32,\"./_an-instance\":34,\"./_classof\":37,\"./_core\":39,\"./_ctx\":41,\"./_export\":47,\"./_for-of\":49,\"./_global\":50,\"./_is-object\":59,\"./_iter-detect\":63,\"./_library\":66,\"./_microtask\":68,\"./_new-promise-capability\":69,\"./_perform\":82,\"./_promise-resolve\":83,\"./_redefine-all\":85,\"./_set-species\":88,\"./_set-to-string-tag\":89,\"./_species-constructor\":92,\"./_task\":94,\"./_wks\":104}],116:[function(require,module,exports){\n'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n},{\"./_iter-define\":62,\"./_string-at\":93}],117:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n},{\"./_an-object\":35,\"./_descriptors\":43,\"./_enum-keys\":46,\"./_export\":47,\"./_fails\":48,\"./_global\":50,\"./_has\":51,\"./_hide\":52,\"./_is-array\":58,\"./_is-object\":59,\"./_library\":66,\"./_meta\":67,\"./_object-create\":71,\"./_object-dp\":72,\"./_object-gopd\":74,\"./_object-gopn\":76,\"./_object-gopn-ext\":75,\"./_object-gops\":77,\"./_object-keys\":80,\"./_object-pie\":81,\"./_property-desc\":84,\"./_redefine\":86,\"./_set-to-string-tag\":89,\"./_shared\":91,\"./_to-iobject\":97,\"./_to-primitive\":100,\"./_uid\":101,\"./_wks\":104,\"./_wks-define\":102,\"./_wks-ext\":103}],118:[function(require,module,exports){\n// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n},{\"./_core\":39,\"./_export\":47,\"./_global\":50,\"./_promise-resolve\":83,\"./_species-constructor\":92}],119:[function(require,module,exports){\n'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\n},{\"./_export\":47,\"./_new-promise-capability\":69,\"./_perform\":82}],120:[function(require,module,exports){\nrequire('./_wks-define')('asyncIterator');\n\n},{\"./_wks-define\":102}],121:[function(require,module,exports){\nrequire('./_wks-define')('observable');\n\n},{\"./_wks-define\":102}],122:[function(require,module,exports){\nrequire('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n},{\"./_global\":50,\"./_hide\":52,\"./_iterators\":65,\"./_wks\":104,\"./es6.array.iterator\":109}],123:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar objectCreate = Object.create || objectCreatePolyfill\nvar objectKeys = Object.keys || objectKeysPolyfill\nvar bind = Function.prototype.bind || functionBindPolyfill\n\nfunction EventEmitter() {\n  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\n    this._events = objectCreate(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nvar hasDefineProperty;\ntry {\n  var o = {};\n  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });\n  hasDefineProperty = o.x === 0;\n} catch (err) { hasDefineProperty = false }\nif (hasDefineProperty) {\n  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function() {\n      return defaultMaxListeners;\n    },\n    set: function(arg) {\n      // check whether the input is a positive number (whose value is zero or\n      // greater and not a NaN).\n      if (typeof arg !== 'number' || arg < 0 || arg !== arg)\n        throw new TypeError('\"defaultMaxListeners\" must be a positive number');\n      defaultMaxListeners = arg;\n    }\n  });\n} else {\n  EventEmitter.defaultMaxListeners = defaultMaxListeners;\n}\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    if (arguments.length > 1)\n      er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Unhandled \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n      // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n      // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = objectCreate(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n          listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n          prepend ? [listener, existing] : [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n            existing.length + ' \"' + String(type) + '\" listeners ' +\n            'added. Use emitter.setMaxListeners() to ' +\n            'increase limit.');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        if (typeof console === 'object' && console.warn) {\n          console.warn('%s: %s', w.name, w.message);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    switch (arguments.length) {\n      case 0:\n        return this.listener.call(this.target);\n      case 1:\n        return this.listener.call(this.target, arguments[0]);\n      case 2:\n        return this.listener.call(this.target, arguments[0], arguments[1]);\n      case 3:\n        return this.listener.call(this.target, arguments[0], arguments[1],\n            arguments[2]);\n      default:\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i)\n          args[i] = arguments[i];\n        this.listener.apply(this.target, args);\n    }\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = bind.call(onceWrapper, state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = objectCreate(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else\n          spliceOne(list, position);\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = objectCreate(null);\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = objectCreate(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = objectKeys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = objectCreate(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction objectCreatePolyfill(proto) {\n  var F = function() {};\n  F.prototype = proto;\n  return new F;\n}\nfunction objectKeysPolyfill(obj) {\n  var keys = [];\n  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {\n    keys.push(k);\n  }\n  return k;\n}\nfunction functionBindPolyfill(context) {\n  var fn = this;\n  return function () {\n    return fn.apply(context, arguments);\n  };\n}\n\n},{}],124:[function(require,module,exports){\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() { return this })() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n\n},{\"./runtime\":125}],125:[function(require,module,exports){\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n\n},{}],126:[function(require,module,exports){\nvar v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n\n},{\"./v1\":129,\"./v4\":130}],127:[function(require,module,exports){\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n},{}],128:[function(require,module,exports){\n// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n},{}],129:[function(require,module,exports){\nvar rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n\n},{\"./lib/bytesToUuid\":127,\"./lib/rng\":128}],130:[function(require,module,exports){\nvar rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n},{\"./lib/bytesToUuid\":127,\"./lib/rng\":128}],131:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.SUPPORTED_PROTOCOL_VERSION = undefined;\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _desc, _value, _class;\n\nvar _utils = require(\"./utils\");\n\nvar _http = require(\"./http\");\n\nvar _http2 = _interopRequireDefault(_http);\n\nvar _endpoint = require(\"./endpoint\");\n\nvar _endpoint2 = _interopRequireDefault(_endpoint);\n\nvar _requests = require(\"./requests\");\n\nvar requests = _interopRequireWildcard(_requests);\n\nvar _batch = require(\"./batch\");\n\nvar _bucket = require(\"./bucket\");\n\nvar _bucket2 = _interopRequireDefault(_bucket);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/**\n * Currently supported protocol version.\n * @type {String}\n */\nvar SUPPORTED_PROTOCOL_VERSION = exports.SUPPORTED_PROTOCOL_VERSION = \"v1\";\n\n/**\n * High level HTTP client for the Kinto API.\n *\n * @example\n * const client = new KintoClient(\"https://kinto.dev.mozaws.net/v1\");\n * client.bucket(\"default\")\n *    .collection(\"my-blog\")\n *    .createRecord({title: \"First article\"})\n *   .then(console.log.bind(console))\n *   .catch(console.error.bind(console));\n */\nvar KintoClientBase = (_dec = (0, _utils.nobatch)(\"This operation is not supported within a batch operation.\"), _dec2 = (0, _utils.nobatch)(\"This operation is not supported within a batch operation.\"), _dec3 = (0, _utils.nobatch)(\"This operation is not supported within a batch operation.\"), _dec4 = (0, _utils.nobatch)(\"This operation is not supported within a batch operation.\"), _dec5 = (0, _utils.nobatch)(\"Can't use batch within a batch!\"), _dec6 = (0, _utils.capable)([\"permissions_endpoint\"]), _dec7 = (0, _utils.support)(\"1.4\", \"2.0\"), (_class = function () {\n  /**\n   * Constructor.\n   *\n   * @param  {String}       remote  The remote URL.\n   * @param  {Object}       [options={}]                  The options object.\n   * @param  {Boolean}      [options.safe=true]           Adds concurrency headers to every requests.\n   * @param  {EventEmitter} [options.events=EventEmitter] The events handler instance.\n   * @param  {Object}       [options.headers={}]          The key-value headers to pass to each request.\n   * @param  {Object}       [options.retry=0]             Number of retries when request fails (default: 0)\n   * @param  {String}       [options.bucket=\"default\"]    The default bucket to use.\n   * @param  {String}       [options.requestMode=\"cors\"]  The HTTP request mode (from ES6 fetch spec).\n   * @param  {Number}       [options.timeout=null]        The request timeout in ms, if any.\n   */\n  function KintoClientBase(remote) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, KintoClientBase);\n\n    if (typeof remote !== \"string\" || !remote.length) {\n      throw new Error(\"Invalid remote URL: \" + remote);\n    }\n    if (remote[remote.length - 1] === \"/\") {\n      remote = remote.slice(0, -1);\n    }\n    this._backoffReleaseTime = null;\n\n    this._requests = [];\n    this._isBatch = !!options.batch;\n    this._retry = options.retry || 0;\n    this._safe = !!options.safe;\n    this._headers = options.headers || {};\n\n    // public properties\n    /**\n     * The remote server base URL.\n     * @type {String}\n     */\n    this.remote = remote;\n    /**\n     * Current server information.\n     * @ignore\n     * @type {Object|null}\n     */\n    this.serverInfo = null;\n    /**\n     * The event emitter instance. Should comply with the `EventEmitter`\n     * interface.\n     * @ignore\n     * @type {Class}\n     */\n    this.events = options.events;\n\n    var requestMode = options.requestMode,\n        timeout = options.timeout;\n    /**\n     * The HTTP instance.\n     * @ignore\n     * @type {HTTP}\n     */\n\n    this.http = new _http2.default(this.events, { requestMode: requestMode, timeout: timeout });\n    this._registerHTTPEvents();\n  }\n\n  /**\n   * The remote endpoint base URL. Setting the value will also extract and\n   * validate the version.\n   * @type {String}\n   */\n\n\n  (0, _createClass3.default)(KintoClientBase, [{\n    key: \"_registerHTTPEvents\",\n\n\n    /**\n     * Registers HTTP events.\n     * @private\n     */\n    value: function _registerHTTPEvents() {\n      var _this = this;\n\n      // Prevent registering event from a batch client instance\n      if (!this._isBatch) {\n        this.events.on(\"backoff\", function (backoffMs) {\n          _this._backoffReleaseTime = backoffMs;\n        });\n      }\n    }\n\n    /**\n     * Retrieve a bucket object to perform operations on it.\n     *\n     * @param  {String}  name              The bucket name.\n     * @param  {Object}  [options={}]      The request options.\n     * @param  {Boolean} [options.safe]    The resulting safe option.\n     * @param  {Number}  [options.retry]   The resulting retry option.\n     * @param  {Object}  [options.headers] The extended headers object option.\n     * @return {Bucket}\n     */\n\n  }, {\n    key: \"bucket\",\n    value: function bucket(name) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return new _bucket2.default(this, name, {\n        batch: this._isBatch,\n        headers: this._getHeaders(options),\n        safe: this._getSafe(options),\n        retry: this._getRetry(options)\n      });\n    }\n\n    /**\n     * Set client \"headers\" for every request, updating previous headers (if any).\n     *\n     * @param {Object} headers The headers to merge with existing ones.\n     */\n\n  }, {\n    key: \"setHeaders\",\n    value: function setHeaders(headers) {\n      this._headers = (0, _extends3.default)({}, this._headers, headers);\n      this.serverInfo = null;\n    }\n\n    /**\n     * Get the value of \"headers\" for a given request, merging the\n     * per-request headers with our own \"default\" headers.\n     *\n     * Note that unlike other options, headers aren't overridden, but\n     * merged instead.\n     *\n     * @private\n     * @param {Object} options The options for a request.\n     * @returns {Object}\n     */\n\n  }, {\n    key: \"_getHeaders\",\n    value: function _getHeaders(options) {\n      return (0, _extends3.default)({}, this._headers, options.headers);\n    }\n\n    /**\n     * Get the value of \"safe\" for a given request, using the\n     * per-request option if present or falling back to our default\n     * otherwise.\n     *\n     * @private\n     * @param {Object} options The options for a request.\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"_getSafe\",\n    value: function _getSafe(options) {\n      return (0, _extends3.default)({ safe: this._safe }, options).safe;\n    }\n\n    /**\n     * As _getSafe, but for \"retry\".\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_getRetry\",\n    value: function _getRetry(options) {\n      return (0, _extends3.default)({ retry: this._retry }, options).retry;\n    }\n\n    /**\n     * Retrieves the server's \"hello\" endpoint. This endpoint reveals\n     * server capabilities and settings as well as telling the client\n     * \"who they are\" according to their given authorization headers.\n     *\n     * @private\n     * @param  {Object}  [options={}] The request options.\n     * @param  {Object}  [options.headers={}] Headers to use when making\n     *     this request.\n     * @param  {Number}  [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"_getHello\",\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var path, _ref2, json;\n\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                path = this.remote + (0, _endpoint2.default)(\"root\");\n                _context.next = 3;\n                return this.http.request(path, { headers: this._getHeaders(options) }, { retry: this._getRetry(options) });\n\n              case 3:\n                _ref2 = _context.sent;\n                json = _ref2.json;\n                return _context.abrupt(\"return\", json);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _getHello() {\n        return _ref.apply(this, arguments);\n      }\n\n      return _getHello;\n    }()\n\n    /**\n     * Retrieves server information and persist them locally. This operation is\n     * usually performed a single time during the instance lifecycle.\n     *\n     * @param  {Object}  [options={}] The request options.\n     * @param  {Number}  [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"fetchServerInfo\",\n    value: function () {\n      var _ref3 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.serverInfo) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", this.serverInfo);\n\n              case 2:\n                _context2.next = 4;\n                return this._getHello({ retry: this._getRetry(options) });\n\n              case 4:\n                this.serverInfo = _context2.sent;\n                return _context2.abrupt(\"return\", this.serverInfo);\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function fetchServerInfo() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return fetchServerInfo;\n    }()\n\n    /**\n     * Retrieves Kinto server settings.\n     *\n     * @param  {Object}  [options={}] The request options.\n     * @param  {Number}  [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"fetchServerSettings\",\n    value: function () {\n      var _ref4 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(options) {\n        var _ref5, settings;\n\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.fetchServerInfo(options);\n\n              case 2:\n                _ref5 = _context3.sent;\n                settings = _ref5.settings;\n                return _context3.abrupt(\"return\", settings);\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function fetchServerSettings(_x5) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return fetchServerSettings;\n    }()\n\n    /**\n     * Retrieve server capabilities information.\n     *\n     * @param  {Object}  [options={}] The request options.\n     * @param  {Number}  [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"fetchServerCapabilities\",\n    value: function () {\n      var _ref6 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var _ref7, capabilities;\n\n        return _regenerator2.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.fetchServerInfo(options);\n\n              case 2:\n                _ref7 = _context4.sent;\n                capabilities = _ref7.capabilities;\n                return _context4.abrupt(\"return\", capabilities);\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function fetchServerCapabilities() {\n        return _ref6.apply(this, arguments);\n      }\n\n      return fetchServerCapabilities;\n    }()\n\n    /**\n     * Retrieve authenticated user information.\n     *\n     * @param  {Object}  [options={}] The request options.\n     * @param  {Object}  [options.headers={}] Headers to use when making\n     *     this request.\n     * @param  {Number}  [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"fetchUser\",\n    value: function () {\n      var _ref8 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var _ref9, user;\n\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this._getHello(options);\n\n              case 2:\n                _ref9 = _context5.sent;\n                user = _ref9.user;\n                return _context5.abrupt(\"return\", user);\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function fetchUser() {\n        return _ref8.apply(this, arguments);\n      }\n\n      return fetchUser;\n    }()\n\n    /**\n     * Retrieve authenticated user information.\n     *\n     * @param  {Object}  [options={}] The request options.\n     * @param  {Number}  [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"fetchHTTPApiVersion\",\n    value: function () {\n      var _ref10 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var _ref11, http_api_version;\n\n        return _regenerator2.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.fetchServerInfo(options);\n\n              case 2:\n                _ref11 = _context6.sent;\n                http_api_version = _ref11.http_api_version;\n                return _context6.abrupt(\"return\", http_api_version);\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function fetchHTTPApiVersion() {\n        return _ref10.apply(this, arguments);\n      }\n\n      return fetchHTTPApiVersion;\n    }()\n\n    /**\n     * Process batch requests, chunking them according to the batch_max_requests\n     * server setting when needed.\n     *\n     * @param  {Array}  requests     The list of batch subrequests to perform.\n     * @param  {Object} [options={}] The options object.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"_batchRequests\",\n    value: function () {\n      var _ref12 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7(requests) {\n        var _this2 = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var headers, serverSettings, maxRequests, chunks, _ref13, responses;\n\n        return _regenerator2.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                headers = this._getHeaders(options);\n\n                if (requests.length) {\n                  _context7.next = 3;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", []);\n\n              case 3:\n                _context7.next = 5;\n                return this.fetchServerSettings({\n                  retry: this._getRetry(options)\n                });\n\n              case 5:\n                serverSettings = _context7.sent;\n                maxRequests = serverSettings[\"batch_max_requests\"];\n\n                if (!(maxRequests && requests.length > maxRequests)) {\n                  _context7.next = 10;\n                  break;\n                }\n\n                chunks = (0, _utils.partition)(requests, maxRequests);\n                return _context7.abrupt(\"return\", (0, _utils.pMap)(chunks, function (chunk) {\n                  return _this2._batchRequests(chunk, options);\n                }));\n\n              case 10:\n                _context7.next = 12;\n                return this.execute({\n                  // FIXME: is this really necessary, since it's also present in\n                  // the \"defaults\"?\n                  headers: headers,\n                  path: (0, _endpoint2.default)(\"batch\"),\n                  method: \"POST\",\n                  body: {\n                    defaults: { headers: headers },\n                    requests: requests\n                  }\n                }, { retry: this._getRetry(options) });\n\n              case 12:\n                _ref13 = _context7.sent;\n                responses = _ref13.responses;\n                return _context7.abrupt(\"return\", responses);\n\n              case 15:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function _batchRequests(_x9) {\n        return _ref12.apply(this, arguments);\n      }\n\n      return _batchRequests;\n    }()\n\n    /**\n     * Sends batch requests to the remote server.\n     *\n     * Note: Reserved for internal use only.\n     *\n     * @ignore\n     * @param  {Function} fn                        The function to use for describing batch ops.\n     * @param  {Object}   [options={}]              The options object.\n     * @param  {Boolean}  [options.safe]            The safe option.\n     * @param  {Number}   [options.retry]           The retry option.\n     * @param  {String}   [options.bucket]          The bucket name option.\n     * @param  {String}   [options.collection]      The collection name option.\n     * @param  {Object}   [options.headers]         The headers object option.\n     * @param  {Boolean}  [options.aggregate=false] Produces an aggregated result object.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"batch\",\n    value: function () {\n      var _ref14 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee8(fn) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var rootBatch, bucketBatch, collBatch, batchClient, responses;\n        return _regenerator2.default.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                rootBatch = new KintoClientBase(this.remote, {\n                  events: this.events,\n                  batch: true,\n                  safe: this._getSafe(options),\n                  retry: this._getRetry(options)\n                });\n                bucketBatch = void 0, collBatch = void 0;\n\n                if (options.bucket) {\n                  bucketBatch = rootBatch.bucket(options.bucket);\n                  if (options.collection) {\n                    collBatch = bucketBatch.collection(options.collection);\n                  }\n                }\n                batchClient = collBatch || bucketBatch || rootBatch;\n\n                fn(batchClient);\n                _context8.next = 7;\n                return this._batchRequests(rootBatch._requests, options);\n\n              case 7:\n                responses = _context8.sent;\n\n                if (!options.aggregate) {\n                  _context8.next = 12;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", (0, _batch.aggregate)(responses, rootBatch._requests));\n\n              case 12:\n                return _context8.abrupt(\"return\", responses);\n\n              case 13:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function batch(_x11) {\n        return _ref14.apply(this, arguments);\n      }\n\n      return batch;\n    }()\n\n    /**\n     * Executes an atomic HTTP request.\n     *\n     * @private\n     * @param  {Object}  request             The request object.\n     * @param  {String}  request.path        The path to fetch, relative\n     *     to the Kinto server root.\n     * @param  {String}  [request.method=\"GET\"] The method to use in the\n     *     request.\n     * @param  {Body}    [request.body]      The request body.\n     * @param  {Object}  [request.headers={}] The request headers.\n     * @param  {Object}  [options={}]        The options object.\n     * @param  {Boolean} [options.raw=false] If true, resolve with full response\n     * @param  {Boolean} [options.stringify=true] If true, serialize body data to\n     * @param  {Number}  [options.retry=0]   The number of times to\n     *     retry a request if the server responds with Retry-After.\n     * JSON.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"execute\",\n    value: function () {\n      var _ref15 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee9(request) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var _options$raw, raw, _options$stringify, stringify, msg, result;\n\n        return _regenerator2.default.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, _options$stringify = options.stringify, stringify = _options$stringify === undefined ? true : _options$stringify;\n                // If we're within a batch, add the request to the stack to send at once.\n\n                if (!this._isBatch) {\n                  _context9.next = 5;\n                  break;\n                }\n\n                this._requests.push(request);\n                // Resolve with a message in case people attempt at consuming the result\n                // from within a batch operation.\n                msg = \"This result is generated from within a batch \" + \"operation and should not be consumed.\";\n                return _context9.abrupt(\"return\", raw ? { json: msg, headers: {\n                    get: function get() {}\n                  } } : msg);\n\n              case 5:\n                _context9.next = 7;\n                return this.http.request(this.remote + request.path, (0, _utils.cleanUndefinedProperties)({\n                  // Limit requests to only those parts that would be allowed in\n                  // a batch request -- don't pass through other fancy fetch()\n                  // options like integrity, redirect, mode because they will\n                  // break on a batch request.  A batch request only allows\n                  // headers, method, path (above), and body.\n                  method: request.method,\n                  headers: request.headers,\n                  body: stringify ? JSON.stringify(request.body) : request.body\n                }), { retry: this._getRetry(options) });\n\n              case 7:\n                result = _context9.sent;\n                return _context9.abrupt(\"return\", raw ? result : result.json);\n\n              case 9:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function execute(_x13) {\n        return _ref15.apply(this, arguments);\n      }\n\n      return execute;\n    }()\n\n    /**\n     * Fetch some pages from a paginated list, following the `next-page`\n     * header automatically until we have fetched the requested number\n     * of pages. Return a response with a `.next()` method that can be\n     * called to fetch more results.\n     *\n     * @private\n     * @param  {String}  path\n     *     The path to make the request to.\n     * @param  {Object}  params\n     *     The parameters to use when making the request.\n     * @param  {String}  [params.sort=\"-last_modified\"]\n     *     The sorting order to use when fetching.\n     * @param  {Object}  [params.filters={}]\n     *     The filters to send in the request.\n     * @param  {Number}  [params.limit=undefined]\n     *     The limit to send in the request. Undefined means no limit.\n     * @param  {Number}  [params.pages=undefined]\n     *     The number of pages to fetch. Undefined means one page. Pass\n     *     Infinity to fetch everything.\n     * @param  {String}  [params.since=undefined]\n     *     The ETag from which to start fetching.\n     * @param  {Object}  [options={}]\n     *     Additional request-level parameters to use in all requests.\n     * @param  {Object}  [options.headers={}]\n     *     Headers to use during all requests.\n     * @param  {Number}  [options.retry=0]\n     *     Number of times to retry each request if the server responds\n     *     with Retry-After.\n     */\n\n  }, {\n    key: \"paginatedList\",\n    value: function () {\n      var _ref16 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee13(path, params) {\n        var _this3 = this;\n\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        var _sort$params, sort, filters, limit, pages, since, querystring, results, current, next, processNextPage, pageResults, handleResponse;\n\n        return _regenerator2.default.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                // FIXME: this is called even in batch requests, which doesn't\n                // make any sense (since all batch requests get a \"dummy\"\n                // response; see execute() above).\n                _sort$params = (0, _extends3.default)({\n                  sort: \"-last_modified\"\n                }, params), sort = _sort$params.sort, filters = _sort$params.filters, limit = _sort$params.limit, pages = _sort$params.pages, since = _sort$params.since;\n                // Safety/Consistency check on ETag value.\n\n                if (!(since && typeof since !== \"string\")) {\n                  _context13.next = 3;\n                  break;\n                }\n\n                throw new Error(\"Invalid value for since (\" + since + \"), should be ETag value.\");\n\n              case 3:\n                querystring = (0, _utils.qsify)((0, _extends3.default)({}, filters, {\n                  _sort: sort,\n                  _limit: limit,\n                  _since: since\n                }));\n                results = [], current = 0;\n\n                next = function () {\n                  var _ref17 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee10(nextPage) {\n                    return _regenerator2.default.wrap(function _callee10$(_context10) {\n                      while (1) {\n                        switch (_context10.prev = _context10.next) {\n                          case 0:\n                            if (nextPage) {\n                              _context10.next = 2;\n                              break;\n                            }\n\n                            throw new Error(\"Pagination exhausted.\");\n\n                          case 2:\n                            return _context10.abrupt(\"return\", processNextPage(nextPage));\n\n                          case 3:\n                          case \"end\":\n                            return _context10.stop();\n                        }\n                      }\n                    }, _callee10, this);\n                  }));\n\n                  return function next(_x18) {\n                    return _ref17.apply(this, arguments);\n                  };\n                }();\n\n                processNextPage = function () {\n                  var _ref18 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee11(nextPage) {\n                    var headers;\n                    return _regenerator2.default.wrap(function _callee11$(_context11) {\n                      while (1) {\n                        switch (_context11.prev = _context11.next) {\n                          case 0:\n                            headers = options.headers;\n                            _context11.t0 = handleResponse;\n                            _context11.next = 4;\n                            return _this3.http.request(nextPage, { headers: headers });\n\n                          case 4:\n                            _context11.t1 = _context11.sent;\n                            return _context11.abrupt(\"return\", (0, _context11.t0)(_context11.t1));\n\n                          case 6:\n                          case \"end\":\n                            return _context11.stop();\n                        }\n                      }\n                    }, _callee11, _this3);\n                  }));\n\n                  return function processNextPage(_x19) {\n                    return _ref18.apply(this, arguments);\n                  };\n                }();\n\n                pageResults = function pageResults(results, nextPage, etag, totalRecords) {\n                  // ETag string is supposed to be opaque and stored as-is.\n                  // ETag header values are quoted (because of * and W/\"foo\").\n                  return {\n                    last_modified: etag ? etag.replace(/\"/g, \"\") : etag,\n                    data: results,\n                    next: next.bind(null, nextPage),\n                    hasNextPage: !!nextPage,\n                    totalRecords: totalRecords\n                  };\n                };\n\n                handleResponse = function () {\n                  var _ref19 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee12(_ref20) {\n                    var headers = _ref20.headers,\n                        json = _ref20.json;\n                    var nextPage, etag, totalRecords;\n                    return _regenerator2.default.wrap(function _callee12$(_context12) {\n                      while (1) {\n                        switch (_context12.prev = _context12.next) {\n                          case 0:\n                            nextPage = headers.get(\"Next-Page\");\n                            etag = headers.get(\"ETag\");\n                            totalRecords = parseInt(headers.get(\"Total-Records\"), 10);\n\n                            if (pages) {\n                              _context12.next = 5;\n                              break;\n                            }\n\n                            return _context12.abrupt(\"return\", pageResults(json.data, nextPage, etag, totalRecords));\n\n                          case 5:\n                            // Aggregate new results with previous ones\n                            results = results.concat(json.data);\n                            current += 1;\n\n                            if (!(current >= pages || !nextPage)) {\n                              _context12.next = 9;\n                              break;\n                            }\n\n                            return _context12.abrupt(\"return\", pageResults(results, nextPage, etag, totalRecords));\n\n                          case 9:\n                            return _context12.abrupt(\"return\", processNextPage(nextPage));\n\n                          case 10:\n                          case \"end\":\n                            return _context12.stop();\n                        }\n                      }\n                    }, _callee12, this);\n                  }));\n\n                  return function handleResponse(_x20) {\n                    return _ref19.apply(this, arguments);\n                  };\n                }();\n\n                _context13.t0 = handleResponse;\n                _context13.next = 12;\n                return this.execute(\n                // N.B.: This doesn't use _getHeaders, because all calls to\n                // `paginatedList` are assumed to come from calls that already\n                // have headers merged at e.g. the bucket or collection level.\n                { headers: options.headers, path: path + \"?\" + querystring },\n                // N.B. This doesn't use _getRetry, because all calls to\n                // `paginatedList` are assumed to come from calls that already\n                // used `_getRetry` at e.g. the bucket or collection level.\n                { raw: true, retry: options.retry || 0 });\n\n              case 12:\n                _context13.t1 = _context13.sent;\n                return _context13.abrupt(\"return\", (0, _context13.t0)(_context13.t1));\n\n              case 14:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function paginatedList(_x15, _x16) {\n        return _ref16.apply(this, arguments);\n      }\n\n      return paginatedList;\n    }()\n\n    /**\n     * Lists all permissions.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers={}] Headers to use when making\n     *     this request.\n     * @param  {Number} [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object[], Error>}\n     */\n\n  }, {\n    key: \"listPermissions\",\n    value: function () {\n      var _ref21 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee14() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path, paginationOptions;\n        return _regenerator2.default.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"permissions\");\n                // Ensure the default sort parameter is something that exists in permissions\n                // entries, as `last_modified` doesn't; here, we pick \"id\".\n\n                paginationOptions = (0, _extends3.default)({ sort: \"id\" }, options);\n                return _context14.abrupt(\"return\", this.paginatedList(path, paginationOptions, {\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options)\n                }));\n\n              case 3:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function listPermissions() {\n        return _ref21.apply(this, arguments);\n      }\n\n      return listPermissions;\n    }()\n\n    /**\n     * Retrieves the list of buckets.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers={}] Headers to use when making\n     *     this request.\n     * @param  {Number} [options.retry=0]    Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object[], Error>}\n     */\n\n  }, {\n    key: \"listBuckets\",\n    value: function () {\n      var _ref22 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee15() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path;\n        return _regenerator2.default.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"bucket\");\n                return _context15.abrupt(\"return\", this.paginatedList(path, options, {\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options)\n                }));\n\n              case 2:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function listBuckets() {\n        return _ref22.apply(this, arguments);\n      }\n\n      return listBuckets;\n    }()\n\n    /**\n     * Creates a new bucket on the server.\n     *\n     * @param  {String|null}  id                The bucket name (optional).\n     * @param  {Object}       [options={}]      The options object.\n     * @param  {Boolean}      [options.data]    The bucket data option.\n     * @param  {Boolean}      [options.safe]    The safe option.\n     * @param  {Object}       [options.headers] The headers object option.\n     * @param  {Number}       [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"createBucket\",\n    value: function () {\n      var _ref23 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee16(id) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var _options$data, data, permissions, path;\n\n        return _regenerator2.default.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _options$data = options.data, data = _options$data === undefined ? {} : _options$data, permissions = options.permissions;\n\n                if (id != null) {\n                  data.id = id;\n                }\n                path = data.id ? (0, _endpoint2.default)(\"bucket\", data.id) : (0, _endpoint2.default)(\"bucket\");\n                return _context16.abrupt(\"return\", this.execute(requests.createRequest(path, { data: data, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                }), { retry: this._getRetry(options) }));\n\n              case 4:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function createBucket(_x23) {\n        return _ref23.apply(this, arguments);\n      }\n\n      return createBucket;\n    }()\n\n    /**\n     * Deletes a bucket from the server.\n     *\n     * @ignore\n     * @param  {Object|String} bucket                  The bucket to delete.\n     * @param  {Object}        [options={}]            The options object.\n     * @param  {Boolean}       [options.safe]          The safe option.\n     * @param  {Object}        [options.headers]       The headers object option.\n     * @param  {Number}        [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Number}        [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"deleteBucket\",\n    value: function () {\n      var _ref24 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee17(bucket) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var bucketObj, path, _bucketObj$options, last_modified;\n\n        return _regenerator2.default.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                bucketObj = (0, _utils.toDataBody)(bucket);\n\n                if (bucketObj.id) {\n                  _context17.next = 3;\n                  break;\n                }\n\n                throw new Error(\"A bucket id is required.\");\n\n              case 3:\n                path = (0, _endpoint2.default)(\"bucket\", bucketObj.id);\n                _bucketObj$options = (0, _extends3.default)({}, bucketObj, options), last_modified = _bucketObj$options.last_modified;\n                return _context17.abrupt(\"return\", this.execute(requests.deleteRequest(path, {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                }), { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this);\n      }));\n\n      function deleteBucket(_x25) {\n        return _ref24.apply(this, arguments);\n      }\n\n      return deleteBucket;\n    }()\n\n    /**\n     * Deletes all buckets on the server.\n     *\n     * @ignore\n     * @param  {Object}  [options={}]            The options object.\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"deleteBuckets\",\n    value: function () {\n      var _ref25 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee18() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path;\n        return _regenerator2.default.wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"bucket\");\n                return _context18.abrupt(\"return\", this.execute(requests.deleteRequest(path, {\n                  last_modified: options.last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                }), { retry: this._getRetry(options) }));\n\n              case 2:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this);\n      }));\n\n      function deleteBuckets() {\n        return _ref25.apply(this, arguments);\n      }\n\n      return deleteBuckets;\n    }()\n  }, {\n    key: \"remote\",\n    get: function get() {\n      return this._remote;\n    }\n\n    /**\n     * @ignore\n     */\n    ,\n    set: function set(url) {\n      var version = void 0;\n      try {\n        version = url.match(/\\/(v\\d+)\\/?$/)[1];\n      } catch (err) {\n        throw new Error(\"The remote URL must contain the version: \" + url);\n      }\n      if (version !== SUPPORTED_PROTOCOL_VERSION) {\n        throw new Error(\"Unsupported protocol version: \" + version);\n      }\n      this._remote = url;\n      this._version = version;\n    }\n\n    /**\n     * The current server protocol version, eg. `v1`.\n     * @type {String}\n     */\n\n  }, {\n    key: \"version\",\n    get: function get() {\n      return this._version;\n    }\n\n    /**\n     * Backoff remaining time, in milliseconds. Defaults to zero if no backoff is\n     * ongoing.\n     *\n     * @type {Number}\n     */\n\n  }, {\n    key: \"backoff\",\n    get: function get() {\n      var currentTime = new Date().getTime();\n      if (this._backoffReleaseTime && currentTime < this._backoffReleaseTime) {\n        return this._backoffReleaseTime - currentTime;\n      }\n      return 0;\n    }\n  }]);\n  return KintoClientBase;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"fetchServerSettings\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchServerSettings\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"fetchServerCapabilities\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchServerCapabilities\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"fetchUser\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchUser\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"fetchHTTPApiVersion\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"fetchHTTPApiVersion\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"batch\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"batch\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"listPermissions\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"listPermissions\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"deleteBuckets\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteBuckets\"), _class.prototype)), _class));\nexports.default = KintoClientBase;\n\n},{\"./batch\":132,\"./bucket\":133,\"./endpoint\":135,\"./http\":137,\"./requests\":139,\"./utils\":140,\"babel-runtime/helpers/asyncToGenerator\":11,\"babel-runtime/helpers/classCallCheck\":12,\"babel-runtime/helpers/createClass\":13,\"babel-runtime/helpers/extends\":15,\"babel-runtime/regenerator\":21}],132:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.aggregate = aggregate;\n/**\n * Exports batch responses as a result object.\n *\n * @private\n * @param  {Array} responses The batch subrequest responses.\n * @param  {Array} requests  The initial issued requests.\n * @return {Object}\n */\nfunction aggregate() {\n  var responses = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var requests = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (responses.length !== requests.length) {\n    throw new Error(\"Responses length should match requests one.\");\n  }\n  var results = {\n    errors: [],\n    published: [],\n    conflicts: [],\n    skipped: []\n  };\n  return responses.reduce(function (acc, response, index) {\n    var status = response.status;\n\n    var request = requests[index];\n    if (status >= 200 && status < 400) {\n      acc.published.push(response.body);\n    } else if (status === 404) {\n      // Extract the id manually from request path while waiting for Kinto/kinto#818\n      var regex = /(buckets|groups|collections|records)\\/([^/]+)$/;\n      var extracts = request.path.match(regex);\n      var id = extracts.length === 3 ? extracts[2] : undefined;\n      acc.skipped.push({\n        id: id,\n        path: request.path,\n        error: response.body\n      });\n    } else if (status === 412) {\n      acc.conflicts.push({\n        // XXX: specifying the type is probably superfluous\n        type: \"outgoing\",\n        local: request.body,\n        remote: response.body.details && response.body.details.existing || null\n      });\n    } else {\n      acc.errors.push({\n        path: request.path,\n        sent: request,\n        error: response.body\n      });\n    }\n    return acc;\n  }, results);\n}\n\n},{}],133:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _dec, _desc, _value, _class;\n\nvar _utils = require(\"./utils\");\n\nvar _collection = require(\"./collection\");\n\nvar _collection2 = _interopRequireDefault(_collection);\n\nvar _requests = require(\"./requests\");\n\nvar requests = _interopRequireWildcard(_requests);\n\nvar _endpoint = require(\"./endpoint\");\n\nvar _endpoint2 = _interopRequireDefault(_endpoint);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/**\n * Abstract representation of a selected bucket.\n *\n */\nvar Bucket = (_dec = (0, _utils.capable)([\"history\"]), (_class = function () {\n  /**\n   * Constructor.\n   *\n   * @param  {KintoClient} client            The client instance.\n   * @param  {String}      name              The bucket name.\n   * @param  {Object}      [options={}]      The headers object option.\n   * @param  {Object}      [options.headers] The headers object option.\n   * @param  {Boolean}     [options.safe]    The safe option.\n   * @param  {Number}      [options.retry]   The retry option.\n   */\n  function Bucket(client, name) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    (0, _classCallCheck3.default)(this, Bucket);\n\n    /**\n     * @ignore\n     */\n    this.client = client;\n    /**\n     * The bucket name.\n     * @type {String}\n     */\n    this.name = name;\n    /**\n     * @ignore\n     */\n    this._isBatch = !!options.batch;\n    /**\n     * @ignore\n     */\n    this._headers = options.headers || {};\n    this._retry = options.retry || 0;\n    this._safe = !!options.safe;\n  }\n\n  /**\n   * Get the value of \"headers\" for a given request, merging the\n   * per-request headers with our own \"default\" headers.\n   *\n   * @private\n   */\n\n\n  (0, _createClass3.default)(Bucket, [{\n    key: \"_getHeaders\",\n    value: function _getHeaders(options) {\n      return (0, _extends3.default)({}, this._headers, options.headers);\n    }\n\n    /**\n     * Get the value of \"safe\" for a given request, using the\n     * per-request option if present or falling back to our default\n     * otherwise.\n     *\n     * @private\n     * @param {Object} options The options for a request.\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"_getSafe\",\n    value: function _getSafe(options) {\n      return (0, _extends3.default)({ safe: this._safe }, options).safe;\n    }\n\n    /**\n     * As _getSafe, but for \"retry\".\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_getRetry\",\n    value: function _getRetry(options) {\n      return (0, _extends3.default)({ retry: this._retry }, options).retry;\n    }\n\n    /**\n     * Selects a collection.\n     *\n     * @param  {String}  name              The collection name.\n     * @param  {Object}  [options={}]      The options object.\n     * @param  {Object}  [options.headers] The headers object option.\n     * @param  {Boolean} [options.safe]    The safe option.\n     * @return {Collection}\n     */\n\n  }, {\n    key: \"collection\",\n    value: function collection(name) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return new _collection2.default(this.client, this, name, {\n        batch: this._isBatch,\n        headers: this._getHeaders(options),\n        retry: this._getRetry(options),\n        safe: this._getSafe(options)\n      });\n    }\n\n    /**\n     * Retrieves bucket data.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var request, _ref2, data;\n\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                request = {\n                  headers: this._getHeaders(options),\n                  path: (0, _endpoint2.default)(\"bucket\", this.name)\n                };\n                _context.next = 3;\n                return this.client.execute(request, {\n                  retry: this._getRetry(options)\n                });\n\n              case 3:\n                _ref2 = _context.sent;\n                data = _ref2.data;\n                return _context.abrupt(\"return\", data);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getData() {\n        return _ref.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n\n    /**\n     * Set bucket data.\n     * @param  {Object}  data                    The bucket data object.\n     * @param  {Object}  [options={}]            The options object.\n     * @param  {Object}  [options.headers={}]    The headers object option.\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean} [options.patch]         The patch option.\n     * @param  {Number}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"setData\",\n    value: function () {\n      var _ref3 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(data) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var bucket, bucketId, path, patch, permissions, _data$options, last_modified, request;\n\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if ((0, _utils.isObject)(data)) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A bucket object is required.\");\n\n              case 2:\n                bucket = (0, _extends3.default)({}, data, { id: this.name });\n\n                // For default bucket, we need to drop the id from the data object.\n                // Bug in Kinto < 3.1.1\n\n                bucketId = bucket.id;\n\n                if (bucket.id === \"default\") {\n                  delete bucket.id;\n                }\n\n                path = (0, _endpoint2.default)(\"bucket\", bucketId);\n                patch = options.patch, permissions = options.permissions;\n                _data$options = (0, _extends3.default)({}, data, options), last_modified = _data$options.last_modified;\n                request = requests.updateRequest(path, { data: bucket, permissions: permissions }, {\n                  last_modified: last_modified,\n                  patch: patch,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context2.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function setData(_x4) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return setData;\n    }()\n\n    /**\n     * Retrieves the list of history entries in the current bucket.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Array<Object>, Error>}\n     */\n\n  }, {\n    key: \"listHistory\",\n    value: function () {\n      var _ref4 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path;\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"history\", this.name);\n                return _context3.abrupt(\"return\", this.client.paginatedList(path, options, {\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options)\n                }));\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function listHistory() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return listHistory;\n    }()\n\n    /**\n     * Retrieves the list of collections in the current bucket.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Array<Object>, Error>}\n     */\n\n  }, {\n    key: \"listCollections\",\n    value: function () {\n      var _ref5 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path;\n        return _regenerator2.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"collection\", this.name);\n                return _context4.abrupt(\"return\", this.client.paginatedList(path, options, {\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options)\n                }));\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function listCollections() {\n        return _ref5.apply(this, arguments);\n      }\n\n      return listCollections;\n    }()\n\n    /**\n     * Creates a new collection in current bucket.\n     *\n     * @param  {String|undefined}  id          The collection id.\n     * @param  {Object}  [options={}]          The options object.\n     * @param  {Boolean} [options.safe]        The safe option.\n     * @param  {Object}  [options.headers]     The headers object option.\n     * @param  {Number}  [options.retry=0]     Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}  [options.permissions] The permissions object.\n     * @param  {Object}  [options.data]        The data object.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"createCollection\",\n    value: function () {\n      var _ref6 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(id) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var permissions, _options$data, data, path, request;\n\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                permissions = options.permissions, _options$data = options.data, data = _options$data === undefined ? {} : _options$data;\n\n                data.id = id;\n                path = (0, _endpoint2.default)(\"collection\", this.name, id);\n                request = requests.createRequest(path, { data: data, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context5.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function createCollection(_x8) {\n        return _ref6.apply(this, arguments);\n      }\n\n      return createCollection;\n    }()\n\n    /**\n     * Deletes a collection from the current bucket.\n     *\n     * @param  {Object|String} collection              The collection to delete.\n     * @param  {Object}        [options={}]            The options object.\n     * @param  {Object}        [options.headers]       The headers object option.\n     * @param  {Number}        [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean}       [options.safe]          The safe option.\n     * @param  {Number}        [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"deleteCollection\",\n    value: function () {\n      var _ref7 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(collection) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var collectionObj, id, _collectionObj$option, last_modified, path, request;\n\n        return _regenerator2.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                collectionObj = (0, _utils.toDataBody)(collection);\n\n                if (collectionObj.id) {\n                  _context6.next = 3;\n                  break;\n                }\n\n                throw new Error(\"A collection id is required.\");\n\n              case 3:\n                id = collectionObj.id;\n                _collectionObj$option = (0, _extends3.default)({}, collectionObj, options), last_modified = _collectionObj$option.last_modified;\n                path = (0, _endpoint2.default)(\"collection\", this.name, id);\n                request = requests.deleteRequest(path, {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context6.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function deleteCollection(_x10) {\n        return _ref7.apply(this, arguments);\n      }\n\n      return deleteCollection;\n    }()\n\n    /**\n     * Retrieves the list of groups in the current bucket.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Array<Object>, Error>}\n     */\n\n  }, {\n    key: \"listGroups\",\n    value: function () {\n      var _ref8 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path;\n        return _regenerator2.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"group\", this.name);\n                return _context7.abrupt(\"return\", this.client.paginatedList(path, options, {\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options)\n                }));\n\n              case 2:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function listGroups() {\n        return _ref8.apply(this, arguments);\n      }\n\n      return listGroups;\n    }()\n\n    /**\n     * Creates a new group in current bucket.\n     *\n     * @param  {String} id                The group id.\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"getGroup\",\n    value: function () {\n      var _ref9 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee8(id) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var request;\n        return _regenerator2.default.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                request = {\n                  headers: this._getHeaders(options),\n                  path: (0, _endpoint2.default)(\"group\", this.name, id)\n                };\n                return _context8.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 2:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function getGroup(_x13) {\n        return _ref9.apply(this, arguments);\n      }\n\n      return getGroup;\n    }()\n\n    /**\n     * Creates a new group in current bucket.\n     *\n     * @param  {String|undefined}  id                    The group id.\n     * @param  {Array<String>}     [members=[]]          The list of principals.\n     * @param  {Object}            [options={}]          The options object.\n     * @param  {Object}            [options.data]        The data object.\n     * @param  {Object}            [options.permissions] The permissions object.\n     * @param  {Boolean}           [options.safe]        The safe option.\n     * @param  {Object}            [options.headers]     The headers object option.\n     * @param  {Number}            [options.retry=0]     Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"createGroup\",\n    value: function () {\n      var _ref10 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee9(id) {\n        var members = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        var data, path, permissions, request;\n        return _regenerator2.default.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                data = (0, _extends3.default)({}, options.data, {\n                  id: id,\n                  members: members\n                });\n                path = (0, _endpoint2.default)(\"group\", this.name, id);\n                permissions = options.permissions;\n                request = requests.createRequest(path, { data: data, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context9.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 5:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function createGroup(_x15) {\n        return _ref10.apply(this, arguments);\n      }\n\n      return createGroup;\n    }()\n\n    /**\n     * Updates an existing group in current bucket.\n     *\n     * @param  {Object}  group                   The group object.\n     * @param  {Object}  [options={}]            The options object.\n     * @param  {Object}  [options.data]          The data object.\n     * @param  {Object}  [options.permissions]   The permissions object.\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Number}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"updateGroup\",\n    value: function () {\n      var _ref11 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee10(group) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var data, path, patch, permissions, _data$options2, last_modified, request;\n\n        return _regenerator2.default.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                if ((0, _utils.isObject)(group)) {\n                  _context10.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A group object is required.\");\n\n              case 2:\n                if (group.id) {\n                  _context10.next = 4;\n                  break;\n                }\n\n                throw new Error(\"A group id is required.\");\n\n              case 4:\n                data = (0, _extends3.default)({}, options.data, group);\n                path = (0, _endpoint2.default)(\"group\", this.name, group.id);\n                patch = options.patch, permissions = options.permissions;\n                _data$options2 = (0, _extends3.default)({}, data, options), last_modified = _data$options2.last_modified;\n                request = requests.updateRequest(path, { data: data, permissions: permissions }, {\n                  last_modified: last_modified,\n                  patch: patch,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context10.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 10:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function updateGroup(_x18) {\n        return _ref11.apply(this, arguments);\n      }\n\n      return updateGroup;\n    }()\n\n    /**\n     * Deletes a group from the current bucket.\n     *\n     * @param  {Object|String} group                   The group to delete.\n     * @param  {Object}        [options={}]            The options object.\n     * @param  {Object}        [options.headers]       The headers object option.\n     * @param  {Number}        [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean}       [options.safe]          The safe option.\n     * @param  {Number}        [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"deleteGroup\",\n    value: function () {\n      var _ref12 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee11(group) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var groupObj, id, _groupObj$options, last_modified, path, request;\n\n        return _regenerator2.default.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                groupObj = (0, _utils.toDataBody)(group);\n                id = groupObj.id;\n                _groupObj$options = (0, _extends3.default)({}, groupObj, options), last_modified = _groupObj$options.last_modified;\n                path = (0, _endpoint2.default)(\"group\", this.name, id);\n                request = requests.deleteRequest(path, {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context11.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function deleteGroup(_x20) {\n        return _ref12.apply(this, arguments);\n      }\n\n      return deleteGroup;\n    }()\n\n    /**\n     * Retrieves the list of permissions for this bucket.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"getPermissions\",\n    value: function () {\n      var _ref13 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee12() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var request, _ref14, permissions;\n\n        return _regenerator2.default.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                request = {\n                  headers: this._getHeaders(options),\n                  path: (0, _endpoint2.default)(\"bucket\", this.name)\n                };\n                _context12.next = 3;\n                return this.client.execute(request, {\n                  retry: this._getRetry(options)\n                });\n\n              case 3:\n                _ref14 = _context12.sent;\n                permissions = _ref14.permissions;\n                return _context12.abrupt(\"return\", permissions);\n\n              case 6:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function getPermissions() {\n        return _ref13.apply(this, arguments);\n      }\n\n      return getPermissions;\n    }()\n\n    /**\n     * Replaces all existing bucket permissions with the ones provided.\n     *\n     * @param  {Object}  permissions             The permissions object.\n     * @param  {Object}  [options={}]            The options object\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers={}]    The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"setPermissions\",\n    value: function () {\n      var _ref15 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee13(permissions) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, last_modified, data, request;\n        return _regenerator2.default.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                if ((0, _utils.isObject)(permissions)) {\n                  _context13.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A permissions object is required.\");\n\n              case 2:\n                path = (0, _endpoint2.default)(\"bucket\", this.name);\n                last_modified = options.last_modified;\n                data = { last_modified: last_modified };\n                request = requests.updateRequest(path, { data: data, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context13.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 7:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function setPermissions(_x23) {\n        return _ref15.apply(this, arguments);\n      }\n\n      return setPermissions;\n    }()\n\n    /**\n     * Append principals to the bucket permissions.\n     *\n     * @param  {Object}  permissions             The permissions object.\n     * @param  {Object}  [options={}]            The options object\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"addPermissions\",\n    value: function () {\n      var _ref16 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee14(permissions) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, last_modified, request;\n        return _regenerator2.default.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                if ((0, _utils.isObject)(permissions)) {\n                  _context14.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A permissions object is required.\");\n\n              case 2:\n                path = (0, _endpoint2.default)(\"bucket\", this.name);\n                last_modified = options.last_modified;\n                request = requests.jsonPatchPermissionsRequest(path, permissions, \"add\", {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context14.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function addPermissions(_x25) {\n        return _ref16.apply(this, arguments);\n      }\n\n      return addPermissions;\n    }()\n\n    /**\n     * Remove principals from the bucket permissions.\n     *\n     * @param  {Object}  permissions             The permissions object.\n     * @param  {Object}  [options={}]            The options object\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"removePermissions\",\n    value: function () {\n      var _ref17 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee15(permissions) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, last_modified, request;\n        return _regenerator2.default.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                if ((0, _utils.isObject)(permissions)) {\n                  _context15.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A permissions object is required.\");\n\n              case 2:\n                path = (0, _endpoint2.default)(\"bucket\", this.name);\n                last_modified = options.last_modified;\n                request = requests.jsonPatchPermissionsRequest(path, permissions, \"remove\", {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context15.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function removePermissions(_x27) {\n        return _ref17.apply(this, arguments);\n      }\n\n      return removePermissions;\n    }()\n\n    /**\n     * Performs batch operations at the current bucket level.\n     *\n     * @param  {Function} fn                   The batch operation function.\n     * @param  {Object}   [options={}]         The options object.\n     * @param  {Object}   [options.headers]    The headers object option.\n     * @param  {Boolean}  [options.safe]       The safe option.\n     * @param  {Number}   [options.retry=0]    The retry option.\n     * @param  {Boolean}  [options.aggregate]  Produces a grouped result object.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"batch\",\n    value: function () {\n      var _ref18 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee16(fn) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return _regenerator2.default.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                return _context16.abrupt(\"return\", this.client.batch(fn, {\n                  bucket: this.name,\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options),\n                  safe: this._getSafe(options),\n                  aggregate: !!options.aggregate\n                }));\n\n              case 1:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function batch(_x29) {\n        return _ref18.apply(this, arguments);\n      }\n\n      return batch;\n    }()\n  }]);\n  return Bucket;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"listHistory\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"listHistory\"), _class.prototype)), _class));\nexports.default = Bucket;\n\n},{\"./collection\":134,\"./endpoint\":135,\"./requests\":139,\"./utils\":140,\"babel-runtime/helpers/asyncToGenerator\":11,\"babel-runtime/helpers/classCallCheck\":12,\"babel-runtime/helpers/createClass\":13,\"babel-runtime/helpers/extends\":15,\"babel-runtime/regenerator\":21}],134:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _slicedToArray2 = require(\"babel-runtime/helpers/slicedToArray\");\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _dec, _dec2, _dec3, _desc, _value, _class;\n\nvar _uuid = require(\"uuid\");\n\nvar _utils = require(\"./utils\");\n\nvar _requests = require(\"./requests\");\n\nvar requests = _interopRequireWildcard(_requests);\n\nvar _endpoint = require(\"./endpoint\");\n\nvar _endpoint2 = _interopRequireDefault(_endpoint);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\n/**\n * Abstract representation of a selected collection.\n *\n */\nvar Collection = (_dec = (0, _utils.capable)([\"attachments\"]), _dec2 = (0, _utils.capable)([\"attachments\"]), _dec3 = (0, _utils.capable)([\"history\"]), (_class = function () {\n  /**\n   * Constructor.\n   *\n   * @param  {KintoClient}  client            The client instance.\n   * @param  {Bucket}       bucket            The bucket instance.\n   * @param  {String}       name              The collection name.\n   * @param  {Object}       [options={}]      The options object.\n   * @param  {Object}       [options.headers] The headers object option.\n   * @param  {Boolean}      [options.safe]    The safe option.\n   * @param  {Number}       [options.retry]   The retry option.\n   * @param  {Boolean}      [options.batch]   (Private) Whether this\n   *     Collection is operating as part of a batch.\n   */\n  function Collection(client, bucket, name) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    (0, _classCallCheck3.default)(this, Collection);\n\n    /**\n     * @ignore\n     */\n    this.client = client;\n    /**\n     * @ignore\n     */\n    this.bucket = bucket;\n    /**\n     * The collection name.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * @ignore\n     */\n    this._isBatch = !!options.batch;\n\n    /**\n     * @ignore\n     */\n    this._retry = options.retry || 0;\n    this._safe = !!options.safe;\n    // FIXME: This is kind of ugly; shouldn't the bucket be responsible\n    // for doing the merge?\n    this._headers = (0, _extends3.default)({}, this.bucket._headers, options.headers);\n  }\n\n  /**\n   * Get the value of \"headers\" for a given request, merging the\n   * per-request headers with our own \"default\" headers.\n   *\n   * @private\n   */\n\n\n  (0, _createClass3.default)(Collection, [{\n    key: \"_getHeaders\",\n    value: function _getHeaders(options) {\n      return (0, _extends3.default)({}, this._headers, options.headers);\n    }\n\n    /**\n     * Get the value of \"safe\" for a given request, using the\n     * per-request option if present or falling back to our default\n     * otherwise.\n     *\n     * @private\n     * @param {Object} options The options for a request.\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: \"_getSafe\",\n    value: function _getSafe(options) {\n      return (0, _extends3.default)({ safe: this._safe }, options).safe;\n    }\n\n    /**\n     * As _getSafe, but for \"retry\".\n     *\n     * @private\n     */\n\n  }, {\n    key: \"_getRetry\",\n    value: function _getRetry(options) {\n      return (0, _extends3.default)({ retry: this._retry }, options).retry;\n    }\n\n    /**\n     * Retrieves the total number of records in this collection.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Number, Error>}\n     */\n\n  }, {\n    key: \"getTotalRecords\",\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var path, request, _ref2, headers;\n\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"record\", this.bucket.name, this.name);\n                request = {\n                  headers: this._getHeaders(options),\n                  path: path,\n                  method: \"HEAD\"\n                };\n                _context.next = 4;\n                return this.client.execute(request, {\n                  raw: true,\n                  retry: this._getRetry(options)\n                });\n\n              case 4:\n                _ref2 = _context.sent;\n                headers = _ref2.headers;\n                return _context.abrupt(\"return\", parseInt(headers.get(\"Total-Records\"), 10));\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getTotalRecords() {\n        return _ref.apply(this, arguments);\n      }\n\n      return getTotalRecords;\n    }()\n\n    /**\n     * Retrieves collection data.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _ref3 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var path, request, _ref4, data;\n\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"collection\", this.bucket.name, this.name);\n                request = { headers: this._getHeaders(options), path: path };\n                _context2.next = 4;\n                return this.client.execute(request, {\n                  retry: this._getRetry(options)\n                });\n\n              case 4:\n                _ref4 = _context2.sent;\n                data = _ref4.data;\n                return _context2.abrupt(\"return\", data);\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getData() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n\n    /**\n     * Set collection data.\n     * @param  {Object}   data                    The collection data object.\n     * @param  {Object}   [options={}]            The options object.\n     * @param  {Object}   [options.headers]       The headers object option.\n     * @param  {Number}   [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean}  [options.safe]          The safe option.\n     * @param  {Boolean}  [options.patch]         The patch option.\n     * @param  {Number}   [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"setData\",\n    value: function () {\n      var _ref5 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(data) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var patch, permissions, _data$options, last_modified, path, request;\n\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if ((0, _utils.isObject)(data)) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A collection object is required.\");\n\n              case 2:\n                patch = options.patch, permissions = options.permissions;\n                _data$options = (0, _extends3.default)({}, data, options), last_modified = _data$options.last_modified;\n                path = (0, _endpoint2.default)(\"collection\", this.bucket.name, this.name);\n                request = requests.updateRequest(path, { data: data, permissions: permissions }, {\n                  last_modified: last_modified,\n                  patch: patch,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context3.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function setData(_x4) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return setData;\n    }()\n\n    /**\n     * Retrieves the list of permissions for this collection.\n     *\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"getPermissions\",\n    value: function () {\n      var _ref6 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var path, request, _ref7, permissions;\n\n        return _regenerator2.default.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"collection\", this.bucket.name, this.name);\n                request = { headers: this._getHeaders(options), path: path };\n                _context4.next = 4;\n                return this.client.execute(request, {\n                  retry: this._getRetry(options)\n                });\n\n              case 4:\n                _ref7 = _context4.sent;\n                permissions = _ref7.permissions;\n                return _context4.abrupt(\"return\", permissions);\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getPermissions() {\n        return _ref6.apply(this, arguments);\n      }\n\n      return getPermissions;\n    }()\n\n    /**\n     * Replaces all existing collection permissions with the ones provided.\n     *\n     * @param  {Object}   permissions             The permissions object.\n     * @param  {Object}   [options={}]            The options object\n     * @param  {Object}   [options.headers]       The headers object option.\n     * @param  {Number}   [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean}  [options.safe]          The safe option.\n     * @param  {Number}   [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"setPermissions\",\n    value: function () {\n      var _ref8 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(permissions) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, data, request;\n        return _regenerator2.default.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if ((0, _utils.isObject)(permissions)) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A permissions object is required.\");\n\n              case 2:\n                path = (0, _endpoint2.default)(\"collection\", this.bucket.name, this.name);\n                data = { last_modified: options.last_modified };\n                request = requests.updateRequest(path, { data: data, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context5.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function setPermissions(_x7) {\n        return _ref8.apply(this, arguments);\n      }\n\n      return setPermissions;\n    }()\n\n    /**\n     * Append principals to the collection permissions.\n     *\n     * @param  {Object}  permissions             The permissions object.\n     * @param  {Object}  [options={}]            The options object\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"addPermissions\",\n    value: function () {\n      var _ref9 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(permissions) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, last_modified, request;\n        return _regenerator2.default.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if ((0, _utils.isObject)(permissions)) {\n                  _context6.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A permissions object is required.\");\n\n              case 2:\n                path = (0, _endpoint2.default)(\"collection\", this.bucket.name, this.name);\n                last_modified = options.last_modified;\n                request = requests.jsonPatchPermissionsRequest(path, permissions, \"add\", {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context6.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function addPermissions(_x9) {\n        return _ref9.apply(this, arguments);\n      }\n\n      return addPermissions;\n    }()\n\n    /**\n     * Remove principals from the collection permissions.\n     *\n     * @param  {Object}  permissions             The permissions object.\n     * @param  {Object}  [options={}]            The options object\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}  [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"removePermissions\",\n    value: function () {\n      var _ref10 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7(permissions) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, last_modified, request;\n        return _regenerator2.default.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if ((0, _utils.isObject)(permissions)) {\n                  _context7.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A permissions object is required.\");\n\n              case 2:\n                path = (0, _endpoint2.default)(\"collection\", this.bucket.name, this.name);\n                last_modified = options.last_modified;\n                request = requests.jsonPatchPermissionsRequest(path, permissions, \"remove\", {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context7.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function removePermissions(_x11) {\n        return _ref10.apply(this, arguments);\n      }\n\n      return removePermissions;\n    }()\n\n    /**\n     * Creates a record in current collection.\n     *\n     * @param  {Object}  record                The record to create.\n     * @param  {Object}  [options={}]          The options object.\n     * @param  {Object}  [options.headers]     The headers object option.\n     * @param  {Number}  [options.retry=0]     Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean} [options.safe]        The safe option.\n     * @param  {Object}  [options.permissions] The permissions option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"createRecord\",\n    value: function () {\n      var _ref11 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee8(record) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var permissions, path, request;\n        return _regenerator2.default.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                permissions = options.permissions;\n                path = (0, _endpoint2.default)(\"record\", this.bucket.name, this.name, record.id);\n                request = requests.createRequest(path, { data: record, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context8.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 4:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function createRecord(_x13) {\n        return _ref11.apply(this, arguments);\n      }\n\n      return createRecord;\n    }()\n\n    /**\n     * Adds an attachment to a record, creating the record when it doesn't exist.\n     *\n     * @param  {String}  dataURL                 The data url.\n     * @param  {Object}  [record={}]             The record data.\n     * @param  {Object}  [options={}]            The options object.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Number}  [options.last_modified] The last_modified option.\n     * @param  {Object}  [options.permissions]   The permissions option.\n     * @param  {String}  [options.filename]      Force the attachment filename.\n     * @param  {String}  [options.gzipped]       Force the attachment to be gzipped or not.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"addAttachment\",\n    value: function () {\n      var _ref12 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee9(dataURI) {\n        var record = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        var permissions, id, path, _record$options, last_modified, addAttachmentRequest;\n\n        return _regenerator2.default.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                permissions = options.permissions;\n                id = record.id || _uuid.v4.v4();\n                path = (0, _endpoint2.default)(\"attachment\", this.bucket.name, this.name, id);\n                _record$options = (0, _extends3.default)({}, record, options), last_modified = _record$options.last_modified;\n                addAttachmentRequest = requests.addAttachmentRequest(path, dataURI, { data: record, permissions: permissions }, {\n                  last_modified: last_modified,\n                  filename: options.filename,\n                  gzipped: options.gzipped,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                _context9.next = 7;\n                return this.client.execute(addAttachmentRequest, {\n                  stringify: false,\n                  retry: this._getRetry(options)\n                });\n\n              case 7:\n                return _context9.abrupt(\"return\", this.getRecord(id));\n\n              case 8:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function addAttachment(_x15) {\n        return _ref12.apply(this, arguments);\n      }\n\n      return addAttachment;\n    }()\n\n    /**\n     * Removes an attachment from a given record.\n     *\n     * @param  {Object}  recordId                The record id.\n     * @param  {Object}  [options={}]            The options object.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Number}  [options.last_modified] The last_modified option.\n     */\n\n  }, {\n    key: \"removeAttachment\",\n    value: function () {\n      var _ref13 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee10(recordId) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var last_modified, path, request;\n        return _regenerator2.default.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                last_modified = options.last_modified;\n                path = (0, _endpoint2.default)(\"attachment\", this.bucket.name, this.name, recordId);\n                request = requests.deleteRequest(path, {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context10.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 4:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function removeAttachment(_x18) {\n        return _ref13.apply(this, arguments);\n      }\n\n      return removeAttachment;\n    }()\n\n    /**\n     * Updates a record in current collection.\n     *\n     * @param  {Object}  record                  The record to update.\n     * @param  {Object}  [options={}]            The options object.\n     * @param  {Object}  [options.headers]       The headers object option.\n     * @param  {Number}  [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean} [options.safe]          The safe option.\n     * @param  {Number}  [options.last_modified] The last_modified option.\n     * @param  {Object}  [options.permissions]   The permissions option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"updateRecord\",\n    value: function () {\n      var _ref14 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee11(record) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var permissions, _record$options2, last_modified, path, request;\n\n        return _regenerator2.default.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                if ((0, _utils.isObject)(record)) {\n                  _context11.next = 2;\n                  break;\n                }\n\n                throw new Error(\"A record object is required.\");\n\n              case 2:\n                if (record.id) {\n                  _context11.next = 4;\n                  break;\n                }\n\n                throw new Error(\"A record id is required.\");\n\n              case 4:\n                permissions = options.permissions;\n                _record$options2 = (0, _extends3.default)({}, record, options), last_modified = _record$options2.last_modified;\n                path = (0, _endpoint2.default)(\"record\", this.bucket.name, this.name, record.id);\n                request = requests.updateRequest(path, { data: record, permissions: permissions }, {\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options),\n                  last_modified: last_modified,\n                  patch: !!options.patch\n                });\n                return _context11.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 9:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function updateRecord(_x20) {\n        return _ref14.apply(this, arguments);\n      }\n\n      return updateRecord;\n    }()\n\n    /**\n     * Deletes a record from the current collection.\n     *\n     * @param  {Object|String} record                  The record to delete.\n     * @param  {Object}        [options={}]            The options object.\n     * @param  {Object}        [options.headers]       The headers object option.\n     * @param  {Number}        [options.retry=0]       Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Boolean}       [options.safe]          The safe option.\n     * @param  {Number}        [options.last_modified] The last_modified option.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"deleteRecord\",\n    value: function () {\n      var _ref15 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee12(record) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var recordObj, id, _recordObj$options, last_modified, path, request;\n\n        return _regenerator2.default.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                recordObj = (0, _utils.toDataBody)(record);\n\n                if (recordObj.id) {\n                  _context12.next = 3;\n                  break;\n                }\n\n                throw new Error(\"A record id is required.\");\n\n              case 3:\n                id = recordObj.id;\n                _recordObj$options = (0, _extends3.default)({}, recordObj, options), last_modified = _recordObj$options.last_modified;\n                path = (0, _endpoint2.default)(\"record\", this.bucket.name, this.name, id);\n                request = requests.deleteRequest(path, {\n                  last_modified: last_modified,\n                  headers: this._getHeaders(options),\n                  safe: this._getSafe(options)\n                });\n                return _context12.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 8:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function deleteRecord(_x22) {\n        return _ref15.apply(this, arguments);\n      }\n\n      return deleteRecord;\n    }()\n\n    /**\n     * Retrieves a record from the current collection.\n     *\n     * @param  {String} id                The record id to retrieve.\n     * @param  {Object} [options={}]      The options object.\n     * @param  {Object} [options.headers] The headers object option.\n     * @param  {Number} [options.retry=0] Number of retries to make\n     *     when faced with transient errors.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"getRecord\",\n    value: function () {\n      var _ref16 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee13(id) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var path, request;\n        return _regenerator2.default.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"record\", this.bucket.name, this.name, id);\n                request = { headers: this._getHeaders(options), path: path };\n                return _context13.abrupt(\"return\", this.client.execute(request, { retry: this._getRetry(options) }));\n\n              case 3:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function getRecord(_x24) {\n        return _ref16.apply(this, arguments);\n      }\n\n      return getRecord;\n    }()\n\n    /**\n     * Lists records from the current collection.\n     *\n     * Sorting is done by passing a `sort` string option:\n     *\n     * - The field to order the results by, prefixed with `-` for descending.\n     * Default: `-last_modified`.\n     *\n     * @see http://kinto.readthedocs.io/en/stable/api/1.x/sorting.html\n     *\n     * Filtering is done by passing a `filters` option object:\n     *\n     * - `{fieldname: \"value\"}`\n     * - `{min_fieldname: 4000}`\n     * - `{in_fieldname: \"1,2,3\"}`\n     * - `{not_fieldname: 0}`\n     * - `{exclude_fieldname: \"0,1\"}`\n     *\n     * @see http://kinto.readthedocs.io/en/stable/api/1.x/filtering.html\n     *\n     * Paginating is done by passing a `limit` option, then calling the `next()`\n     * method from the resolved result object to fetch the next page, if any.\n     *\n     * @param  {Object}   [options={}]                    The options object.\n     * @param  {Object}   [options.headers]               The headers object option.\n     * @param  {Number}   [options.retry=0]               Number of retries to make\n     *     when faced with transient errors.\n     * @param  {Object}   [options.filters=[]]            The filters object.\n     * @param  {String}   [options.sort=\"-last_modified\"] The sort field.\n     * @param  {String}   [options.at]                    The timestamp to get a snapshot at.\n     * @param  {String}   [options.limit=null]            The limit field.\n     * @param  {String}   [options.pages=1]               The number of result pages to aggregate.\n     * @param  {Number}   [options.since=null]            Only retrieve records modified since the provided timestamp.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"listRecords\",\n    value: function () {\n      var _ref17 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee14() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var path;\n        return _regenerator2.default.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                path = (0, _endpoint2.default)(\"record\", this.bucket.name, this.name);\n\n                if (!options.hasOwnProperty(\"at\")) {\n                  _context14.next = 5;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\", this.getSnapshot(options.at));\n\n              case 5:\n                return _context14.abrupt(\"return\", this.client.paginatedList(path, options, {\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options)\n                }));\n\n              case 6:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function listRecords() {\n        return _ref17.apply(this, arguments);\n      }\n\n      return listRecords;\n    }()\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"isHistoryComplete\",\n    value: function () {\n      var _ref18 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee15() {\n        var _ref19, _ref19$data, oldestHistoryEntry;\n\n        return _regenerator2.default.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _context15.next = 2;\n                return this.bucket.listHistory({\n                  limit: 1,\n                  filters: {\n                    action: \"create\",\n                    resource_name: \"collection\",\n                    collection_id: this.name\n                  }\n                });\n\n              case 2:\n                _ref19 = _context15.sent;\n                _ref19$data = (0, _slicedToArray3.default)(_ref19.data, 1);\n                oldestHistoryEntry = _ref19$data[0];\n                return _context15.abrupt(\"return\", !!oldestHistoryEntry);\n\n              case 6:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function isHistoryComplete() {\n        return _ref18.apply(this, arguments);\n      }\n\n      return isHistoryComplete;\n    }()\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"listChangesBackTo\",\n    value: function () {\n      var _ref20 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee16(at) {\n        var _ref21, changes;\n\n        return _regenerator2.default.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _context16.next = 2;\n                return this.isHistoryComplete();\n\n              case 2:\n                if (_context16.sent) {\n                  _context16.next = 4;\n                  break;\n                }\n\n                throw new Error(\"Computing a snapshot is only possible when the full history for a \" + \"collection is available. Here, the history plugin seems to have \" + \"been enabled after the creation of the collection.\");\n\n              case 4:\n                _context16.next = 6;\n                return this.bucket.listHistory({\n                  pages: Infinity, // all pages up to target timestamp are required\n                  sort: \"-target.data.last_modified\",\n                  filters: {\n                    resource_name: \"record\",\n                    collection_id: this.name,\n                    \"max_target.data.last_modified\": String(at) // eq. to <=\n                  }\n                });\n\n              case 6:\n                _ref21 = _context16.sent;\n                changes = _ref21.data;\n                return _context16.abrupt(\"return\", changes);\n\n              case 9:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function listChangesBackTo(_x27) {\n        return _ref20.apply(this, arguments);\n      }\n\n      return listChangesBackTo;\n    }()\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"getSnapshot\",\n    value: function () {\n      var _ref22 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee17(at) {\n        var changes, seenIds, snapshot, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _loop, _iterator, _step;\n\n        return _regenerator2.default.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                if (!(!Number.isInteger(at) || at <= 0)) {\n                  _context17.next = 2;\n                  break;\n                }\n\n                throw new Error(\"Invalid argument, expected a positive integer.\");\n\n              case 2:\n                _context17.next = 4;\n                return this.listChangesBackTo(at);\n\n              case 4:\n                changes = _context17.sent;\n\n                // Replay changes to compute the requested snapshot.\n                seenIds = new Set();\n                snapshot = [];\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context17.prev = 10;\n\n                _loop = function _loop() {\n                  var _ref23 = _step.value;\n                  var action = _ref23.action,\n                      record = _ref23.target.data;\n\n                  if (action == \"delete\") {\n                    seenIds.add(record.id); // ensure not reprocessing deleted entries\n                    snapshot = snapshot.filter(function (r) {\n                      return r.id !== record.id;\n                    });\n                  } else if (!seenIds.has(record.id)) {\n                    seenIds.add(record.id);\n                    snapshot.push(record);\n                  }\n                };\n\n                for (_iterator = changes[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  _loop();\n                }\n                _context17.next = 19;\n                break;\n\n              case 15:\n                _context17.prev = 15;\n                _context17.t0 = _context17[\"catch\"](10);\n                _didIteratorError = true;\n                _iteratorError = _context17.t0;\n\n              case 19:\n                _context17.prev = 19;\n                _context17.prev = 20;\n\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n\n              case 22:\n                _context17.prev = 22;\n\n                if (!_didIteratorError) {\n                  _context17.next = 25;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 25:\n                return _context17.finish(22);\n\n              case 26:\n                return _context17.finish(19);\n\n              case 27:\n                return _context17.abrupt(\"return\", {\n                  last_modified: String(at),\n                  data: snapshot.sort(function (a, b) {\n                    return b.last_modified - a.last_modified;\n                  }),\n                  next: function next() {\n                    throw new Error(\"Snapshots don't support pagination\");\n                  },\n                  hasNextPage: false,\n                  totalRecords: snapshot.length\n                });\n\n              case 28:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this, [[10, 15, 19, 27], [20,, 22, 26]]);\n      }));\n\n      function getSnapshot(_x28) {\n        return _ref22.apply(this, arguments);\n      }\n\n      return getSnapshot;\n    }()\n\n    /**\n     * Performs batch operations at the current collection level.\n     *\n     * @param  {Function} fn                   The batch operation function.\n     * @param  {Object}   [options={}]         The options object.\n     * @param  {Object}   [options.headers]    The headers object option.\n     * @param  {Boolean}  [options.safe]       The safe option.\n     * @param  {Number}   [options.retry]      The retry option.\n     * @param  {Boolean}  [options.aggregate]  Produces a grouped result object.\n     * @return {Promise<Object, Error>}\n     */\n\n  }, {\n    key: \"batch\",\n    value: function () {\n      var _ref24 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee18(fn) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return _regenerator2.default.wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                return _context18.abrupt(\"return\", this.client.batch(fn, {\n                  bucket: this.bucket.name,\n                  collection: this.name,\n                  headers: this._getHeaders(options),\n                  retry: this._getRetry(options),\n                  safe: this._getSafe(options),\n                  aggregate: !!options.aggregate\n                }));\n\n              case 1:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this);\n      }));\n\n      function batch(_x29) {\n        return _ref24.apply(this, arguments);\n      }\n\n      return batch;\n    }()\n  }]);\n  return Collection;\n}(), (_applyDecoratedDescriptor(_class.prototype, \"addAttachment\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"addAttachment\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removeAttachment\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"removeAttachment\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"getSnapshot\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"getSnapshot\"), _class.prototype)), _class));\nexports.default = Collection;\n\n},{\"./endpoint\":135,\"./requests\":139,\"./utils\":140,\"babel-runtime/helpers/asyncToGenerator\":11,\"babel-runtime/helpers/classCallCheck\":12,\"babel-runtime/helpers/createClass\":13,\"babel-runtime/helpers/extends\":15,\"babel-runtime/helpers/slicedToArray\":18,\"babel-runtime/regenerator\":21,\"uuid\":126}],135:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = endpoint;\n/**\n * Endpoints templates.\n * @type {Object}\n */\nvar ENDPOINTS = {\n  root: function root() {\n    return \"/\";\n  },\n  batch: function batch() {\n    return \"/batch\";\n  },\n  permissions: function permissions() {\n    return \"/permissions\";\n  },\n  bucket: function bucket(_bucket) {\n    return \"/buckets\" + (_bucket ? \"/\" + _bucket : \"\");\n  },\n  history: function history(bucket) {\n    return ENDPOINTS.bucket(bucket) + \"/history\";\n  },\n  collection: function collection(bucket, coll) {\n    return ENDPOINTS.bucket(bucket) + \"/collections\" + (coll ? \"/\" + coll : \"\");\n  },\n  group: function group(bucket, _group) {\n    return ENDPOINTS.bucket(bucket) + \"/groups\" + (_group ? \"/\" + _group : \"\");\n  },\n  record: function record(bucket, coll, id) {\n    return ENDPOINTS.collection(bucket, coll) + \"/records\" + (id ? \"/\" + id : \"\");\n  },\n  attachment: function attachment(bucket, coll, id) {\n    return ENDPOINTS.record(bucket, coll, id) + \"/attachment\";\n  }\n};\n\n/**\n * Retrieves a server enpoint by its name.\n *\n * @private\n * @param  {String}    name The endpoint name.\n * @param  {...string} args The endpoint parameters.\n * @return {String}\n */\nfunction endpoint(name) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return ENDPOINTS[name].apply(ENDPOINTS, args);\n}\n\n},{}],136:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnparseableResponseError = exports.ServerResponse = exports.NetworkTimeoutError = undefined;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extendableBuiltin5(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\nfunction _extendableBuiltin3(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\nfunction _extendableBuiltin(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\n/**\n * Kinto server error code descriptors.\n * @type {Object}\n */\nvar ERROR_CODES = {\n  104: \"Missing Authorization Token\",\n  105: \"Invalid Authorization Token\",\n  106: \"Request body was not valid JSON\",\n  107: \"Invalid request parameter\",\n  108: \"Missing request parameter\",\n  109: \"Invalid posted data\",\n  110: \"Invalid Token / id\",\n  111: \"Missing Token / id\",\n  112: \"Content-Length header was not provided\",\n  113: \"Request body too large\",\n  114: \"Resource was created, updated or deleted meanwhile\",\n  115: \"Method not allowed on this end point (hint: server may be readonly)\",\n  116: \"Requested version not available on this server\",\n  117: \"Client has sent too many requests\",\n  121: \"Resource access is forbidden for this user\",\n  122: \"Another resource violates constraint\",\n  201: \"Service Temporary unavailable due to high load\",\n  202: \"Service deprecated\",\n  999: \"Internal Server Error\"\n};\n\nexports.default = ERROR_CODES;\n\nvar NetworkTimeoutError = function (_extendableBuiltin2) {\n  (0, _inherits3.default)(NetworkTimeoutError, _extendableBuiltin2);\n\n  function NetworkTimeoutError(url, options) {\n    (0, _classCallCheck3.default)(this, NetworkTimeoutError);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (NetworkTimeoutError.__proto__ || Object.getPrototypeOf(NetworkTimeoutError)).call(this, \"Timeout while trying to access \" + url + \" with \" + JSON.stringify(options)));\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_this, NetworkTimeoutError);\n    }\n\n    _this.url = url;\n    _this.options = options;\n    return _this;\n  }\n\n  return NetworkTimeoutError;\n}(_extendableBuiltin(Error));\n\nvar UnparseableResponseError = function (_extendableBuiltin4) {\n  (0, _inherits3.default)(UnparseableResponseError, _extendableBuiltin4);\n\n  function UnparseableResponseError(response, body, error) {\n    (0, _classCallCheck3.default)(this, UnparseableResponseError);\n    var status = response.status;\n\n    var _this2 = (0, _possibleConstructorReturn3.default)(this, (UnparseableResponseError.__proto__ || Object.getPrototypeOf(UnparseableResponseError)).call(this, \"Response from server unparseable (HTTP \" + (status || 0) + \"; \" + error + \"): \" + body));\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_this2, UnparseableResponseError);\n    }\n\n    _this2.status = status;\n    _this2.response = response;\n    _this2.stack = error.stack;\n    _this2.error = error;\n    return _this2;\n  }\n\n  return UnparseableResponseError;\n}(_extendableBuiltin3(Error));\n\n/**\n * \"Error\" subclass representing a >=400 response from the server.\n *\n * Whether or not this is an error depends on your application.\n *\n * The `json` field can be undefined if the server responded with an\n * empty response body. This shouldn't generally happen. Most \"bad\"\n * responses come with a JSON error description, or (if they're\n * fronted by a CDN or nginx or something) occasionally non-JSON\n * responses (which become UnparseableResponseErrors, above).\n */\n\n\nvar ServerResponse = function (_extendableBuiltin6) {\n  (0, _inherits3.default)(ServerResponse, _extendableBuiltin6);\n\n  function ServerResponse(response, json) {\n    (0, _classCallCheck3.default)(this, ServerResponse);\n    var status = response.status;\n    var statusText = response.statusText;\n\n    var errnoMsg = void 0;\n\n    if (json) {\n      // Try to fill in information from the JSON error.\n      statusText = json.error || statusText;\n\n      // Take errnoMsg from either ERROR_CODES or json.message.\n      if (json.errno && json.errno in ERROR_CODES) {\n        errnoMsg = ERROR_CODES[json.errno];\n      } else if (json.message) {\n        errnoMsg = json.message;\n      }\n\n      // If we had both ERROR_CODES and json.message, and they differ,\n      // combine them.\n      if (errnoMsg && json.message && json.message !== errnoMsg) {\n        errnoMsg += \" (\" + json.message + \")\";\n      }\n    }\n\n    var message = \"HTTP \" + status + \" \" + statusText;\n    if (errnoMsg) {\n      message += \": \" + errnoMsg;\n    }\n\n    var _this3 = (0, _possibleConstructorReturn3.default)(this, (ServerResponse.__proto__ || Object.getPrototypeOf(ServerResponse)).call(this, message.trim()));\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_this3, ServerResponse);\n    }\n\n    _this3.response = response;\n    _this3.data = json;\n    return _this3;\n  }\n\n  return ServerResponse;\n}(_extendableBuiltin5(Error));\n\nexports.NetworkTimeoutError = NetworkTimeoutError;\nexports.ServerResponse = ServerResponse;\nexports.UnparseableResponseError = UnparseableResponseError;\n\n},{\"babel-runtime/helpers/classCallCheck\":12,\"babel-runtime/helpers/inherits\":16,\"babel-runtime/helpers/possibleConstructorReturn\":17}],137:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _utils = require(\"./utils\");\n\nvar _errors = require(\"./errors\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Enhanced HTTP client for the Kinto protocol.\n * @private\n */\nvar HTTP = function () {\n  (0, _createClass3.default)(HTTP, null, [{\n    key: \"DEFAULT_REQUEST_HEADERS\",\n\n    /**\n     * Default HTTP request headers applied to each outgoing request.\n     *\n     * @type {Object}\n     */\n    get: function get() {\n      return {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      };\n    }\n\n    /**\n     * Default options.\n     *\n     * @type {Object}\n     */\n\n  }, {\n    key: \"defaultOptions\",\n    get: function get() {\n      return { timeout: null, requestMode: \"cors\" };\n    }\n\n    /**\n     * Constructor.\n     *\n     * @param {EventEmitter} events                       The event handler.\n     * @param {Object}       [options={}}                 The options object.\n     * @param {Number}       [options.timeout=null]       The request timeout in ms, if any (default: `null`).\n     * @param {String}       [options.requestMode=\"cors\"] The HTTP request mode (default: `\"cors\"`).\n     */\n\n  }]);\n\n  function HTTP(events) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, HTTP);\n\n    // public properties\n    /**\n     * The event emitter instance.\n     * @type {EventEmitter}\n     */\n    if (!events) {\n      throw new Error(\"No events handler provided\");\n    }\n    this.events = events;\n\n    /**\n     * The request mode.\n     * @see  https://fetch.spec.whatwg.org/#requestmode\n     * @type {String}\n     */\n    this.requestMode = options.requestMode || HTTP.defaultOptions.requestMode;\n\n    /**\n     * The request timeout.\n     * @type {Number}\n     */\n    this.timeout = options.timeout || HTTP.defaultOptions.timeout;\n  }\n\n  /**\n   * @private\n   */\n\n\n  (0, _createClass3.default)(HTTP, [{\n    key: \"timedFetch\",\n    value: function timedFetch(url, options) {\n      var _this = this;\n\n      var hasTimedout = false;\n      return new Promise(function (resolve, reject) {\n        // Detect if a request has timed out.\n        var _timeoutId = void 0;\n        if (_this.timeout) {\n          _timeoutId = setTimeout(function () {\n            hasTimedout = true;\n            reject(new _errors.NetworkTimeoutError(url, options));\n          }, _this.timeout);\n        }\n        function proceedWithHandler(fn) {\n          return function (arg) {\n            if (!hasTimedout) {\n              if (_timeoutId) {\n                clearTimeout(_timeoutId);\n              }\n              fn(arg);\n            }\n          };\n        }\n        fetch(url, options).then(proceedWithHandler(resolve)).catch(proceedWithHandler(reject));\n      });\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"processResponse\",\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(response) {\n        var status, headers, text, json;\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                status = response.status, headers = response.headers;\n                _context.next = 3;\n                return response.text();\n\n              case 3:\n                text = _context.sent;\n\n                // Check if we have a body; if so parse it as JSON.\n                json = void 0;\n\n                if (!(text.length !== 0)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                _context.prev = 6;\n\n                json = JSON.parse(text);\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](6);\n                throw new _errors.UnparseableResponseError(response, text, _context.t0);\n\n              case 13:\n                if (!(status >= 400)) {\n                  _context.next = 15;\n                  break;\n                }\n\n                throw new _errors.ServerResponse(response, json);\n\n              case 15:\n                return _context.abrupt(\"return\", { status: status, json: json, headers: headers });\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[6, 10]]);\n      }));\n\n      function processResponse(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return processResponse;\n    }()\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"retry\",\n    value: function () {\n      var _ref2 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(url, retryAfter, request, options) {\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return (0, _utils.delay)(retryAfter);\n\n              case 2:\n                return _context2.abrupt(\"return\", this.request(url, request, (0, _extends3.default)({}, options, { retry: options.retry - 1 })));\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function retry(_x3, _x4, _x5, _x6) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return retry;\n    }()\n\n    /**\n     * Performs an HTTP request to the Kinto server.\n     *\n     * Resolves with an objet containing the following HTTP response properties:\n     * - `{Number}  status`  The HTTP status code.\n     * - `{Object}  json`    The JSON response body.\n     * - `{Headers} headers` The response headers object; see the ES6 fetch() spec.\n     *\n     * @param  {String} url               The URL.\n     * @param  {Object} [request={}]      The request object, passed to\n     *     fetch() as its options object.\n     * @param  {Object} [request.headers] The request headers object (default: {})\n     * @param  {Object} [options={}]      Options for making the\n     *     request\n     * @param  {Number} [options.retry]   Number of retries (default: 0)\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"request\",\n    value: function () {\n      var _ref3 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(url) {\n        var _request = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { headers: {} };\n\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { retry: 0 };\n        var response, status, headers, retryAfter;\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                // Ensure default request headers are always set\n                _request.headers = (0, _extends3.default)({}, HTTP.DEFAULT_REQUEST_HEADERS, _request.headers);\n                // If a multipart body is provided, remove any custom Content-Type header as\n                // the fetch() implementation will add the correct one for us.\n                if (_request.body && typeof _request.body.append === \"function\") {\n                  delete _request.headers[\"Content-Type\"];\n                }\n                _request.mode = this.requestMode;\n\n                _context3.next = 5;\n                return this.timedFetch(url, _request);\n\n              case 5:\n                response = _context3.sent;\n                status = response.status, headers = response.headers;\n\n\n                this._checkForDeprecationHeader(headers);\n                this._checkForBackoffHeader(status, headers);\n\n                // Check if the server summons the client to retry after a while.\n                retryAfter = this._checkForRetryAfterHeader(status, headers);\n                // If number of allowed of retries is not exhausted, retry the same request.\n\n                if (!(retryAfter && options.retry > 0)) {\n                  _context3.next = 14;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", this.retry(url, retryAfter, _request, options));\n\n              case 14:\n                return _context3.abrupt(\"return\", this.processResponse(response));\n\n              case 15:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function request(_x7) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return request;\n    }()\n  }, {\n    key: \"_checkForDeprecationHeader\",\n    value: function _checkForDeprecationHeader(headers) {\n      var alertHeader = headers.get(\"Alert\");\n      if (!alertHeader) {\n        return;\n      }\n      var alert = void 0;\n      try {\n        alert = JSON.parse(alertHeader);\n      } catch (err) {\n        console.warn(\"Unable to parse Alert header message\", alertHeader);\n        return;\n      }\n      console.warn(alert.message, alert.url);\n      this.events.emit(\"deprecated\", alert);\n    }\n  }, {\n    key: \"_checkForBackoffHeader\",\n    value: function _checkForBackoffHeader(status, headers) {\n      var backoffMs = void 0;\n      var backoffSeconds = parseInt(headers.get(\"Backoff\"), 10);\n      if (backoffSeconds > 0) {\n        backoffMs = new Date().getTime() + backoffSeconds * 1000;\n      } else {\n        backoffMs = 0;\n      }\n      this.events.emit(\"backoff\", backoffMs);\n    }\n  }, {\n    key: \"_checkForRetryAfterHeader\",\n    value: function _checkForRetryAfterHeader(status, headers) {\n      var retryAfter = headers.get(\"Retry-After\");\n      if (!retryAfter) {\n        return;\n      }\n      var delay = parseInt(retryAfter, 10) * 1000;\n      retryAfter = new Date().getTime() + delay;\n      this.events.emit(\"retry-after\", retryAfter);\n      return delay;\n    }\n  }]);\n  return HTTP;\n}();\n\nexports.default = HTTP;\n\n},{\"./errors\":136,\"./utils\":140,\"babel-runtime/helpers/asyncToGenerator\":11,\"babel-runtime/helpers/classCallCheck\":12,\"babel-runtime/helpers/createClass\":13,\"babel-runtime/helpers/extends\":15,\"babel-runtime/regenerator\":21}],138:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _events = require(\"events\");\n\nvar _base = require(\"./base\");\n\nvar _base2 = _interopRequireDefault(_base);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar KintoClient = function (_KintoClientBase) {\n  (0, _inherits3.default)(KintoClient, _KintoClientBase);\n\n  function KintoClient(remote) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    (0, _classCallCheck3.default)(this, KintoClient);\n\n    var events = options.events || new _events.EventEmitter();\n\n    return (0, _possibleConstructorReturn3.default)(this, (KintoClient.__proto__ || Object.getPrototypeOf(KintoClient)).call(this, remote, Object.assign({ events: events }, options)));\n  }\n\n  return KintoClient;\n}(_base2.default);\n\n// This is a hack to avoid Browserify to expose the above class\n// at `new KintoClient()` instead of `new KintoClient.default()`.\n// See https://github.com/Kinto/kinto-http.js/issues/77\n\n\nexports.default = KintoClient;\nif ((typeof module === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(module)) === \"object\") {\n  module.exports = KintoClient;\n}\n\n},{\"./base\":131,\"babel-runtime/helpers/classCallCheck\":12,\"babel-runtime/helpers/inherits\":16,\"babel-runtime/helpers/possibleConstructorReturn\":17,\"babel-runtime/helpers/typeof\":20,\"events\":123}],139:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray2 = require(\"babel-runtime/helpers/slicedToArray\");\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nexports.createRequest = createRequest;\nexports.updateRequest = updateRequest;\nexports.jsonPatchPermissionsRequest = jsonPatchPermissionsRequest;\nexports.deleteRequest = deleteRequest;\nexports.addAttachmentRequest = addAttachmentRequest;\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar requestDefaults = {\n  safe: false,\n  // check if we should set default content type here\n  headers: {},\n  permissions: undefined,\n  data: undefined,\n  patch: false\n};\n\n/**\n * @private\n */\nfunction safeHeader(safe, last_modified) {\n  if (!safe) {\n    return {};\n  }\n  if (last_modified) {\n    return { \"If-Match\": \"\\\"\" + last_modified + \"\\\"\" };\n  }\n  return { \"If-None-Match\": \"*\" };\n}\n\n/**\n * @private\n */\nfunction createRequest(path, _ref) {\n  var data = _ref.data,\n      permissions = _ref.permissions;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var _requestDefaults$opti = (0, _extends3.default)({}, requestDefaults, options),\n      headers = _requestDefaults$opti.headers,\n      safe = _requestDefaults$opti.safe;\n\n  return {\n    method: data && data.id ? \"PUT\" : \"POST\",\n    path: path,\n    headers: (0, _extends3.default)({}, headers, safeHeader(safe)),\n    body: { data: data, permissions: permissions }\n  };\n}\n\n/**\n * @private\n */\nfunction updateRequest(path, _ref2) {\n  var data = _ref2.data,\n      permissions = _ref2.permissions;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var _requestDefaults$opti2 = (0, _extends3.default)({}, requestDefaults, options),\n      headers = _requestDefaults$opti2.headers,\n      safe = _requestDefaults$opti2.safe,\n      patch = _requestDefaults$opti2.patch;\n\n  var _data$options = (0, _extends3.default)({}, data, options),\n      last_modified = _data$options.last_modified;\n\n  if (Object.keys((0, _utils.omit)(data, \"id\", \"last_modified\")).length === 0) {\n    data = undefined;\n  }\n\n  return {\n    method: patch ? \"PATCH\" : \"PUT\",\n    path: path,\n    headers: (0, _extends3.default)({}, headers, safeHeader(safe, last_modified)),\n    body: { data: data, permissions: permissions }\n  };\n}\n\n/**\n * @private\n */\nfunction jsonPatchPermissionsRequest(path, permissions, opType) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var _requestDefaults$opti3 = (0, _extends3.default)({}, requestDefaults, options),\n      headers = _requestDefaults$opti3.headers,\n      safe = _requestDefaults$opti3.safe,\n      last_modified = _requestDefaults$opti3.last_modified;\n\n  var ops = [];\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = Object.entries(permissions)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = (0, _slicedToArray3.default)(_step.value, 2),\n          type = _step$value[0],\n          principals = _step$value[1];\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = principals[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var principal = _step2.value;\n\n          ops.push({\n            op: opType,\n            path: \"/permissions/\" + type + \"/\" + principal\n          });\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return {\n    method: \"PATCH\",\n    path: path,\n    headers: (0, _extends3.default)({}, headers, safeHeader(safe, last_modified), {\n      \"Content-Type\": \"application/json-patch+json\"\n    }),\n    body: ops\n  };\n}\n\n/**\n * @private\n */\nfunction deleteRequest(path) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _requestDefaults$opti4 = (0, _extends3.default)({}, requestDefaults, options),\n      headers = _requestDefaults$opti4.headers,\n      safe = _requestDefaults$opti4.safe,\n      last_modified = _requestDefaults$opti4.last_modified;\n\n  if (safe && !last_modified) {\n    throw new Error(\"Safe concurrency check requires a last_modified value.\");\n  }\n  return {\n    method: \"DELETE\",\n    path: path,\n    headers: (0, _extends3.default)({}, headers, safeHeader(safe, last_modified))\n  };\n}\n\n/**\n * @private\n */\nfunction addAttachmentRequest(path, dataURI) {\n  var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      data = _ref3.data,\n      permissions = _ref3.permissions;\n\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var _requestDefaults$opti5 = (0, _extends3.default)({}, requestDefaults, options),\n      headers = _requestDefaults$opti5.headers,\n      safe = _requestDefaults$opti5.safe,\n      gzipped = _requestDefaults$opti5.gzipped;\n\n  var _data$options2 = (0, _extends3.default)({}, data, options),\n      last_modified = _data$options2.last_modified;\n\n  var body = { data: data, permissions: permissions };\n  var formData = (0, _utils.createFormData)(dataURI, body, options);\n\n  var customPath = gzipped != null ? customPath = path + \"?gzipped=\" + (gzipped ? \"true\" : \"false\") : path;\n\n  return {\n    method: \"POST\",\n    path: customPath,\n    headers: (0, _extends3.default)({}, headers, safeHeader(safe, last_modified)),\n    body: formData\n  };\n}\n\n},{\"./utils\":140,\"babel-runtime/helpers/extends\":15,\"babel-runtime/helpers/slicedToArray\":18}],140:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pMap = undefined;\n\nvar _defineProperty2 = require(\"babel-runtime/helpers/defineProperty\");\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends3 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends4 = _interopRequireDefault(_extends3);\n\nvar _toArray2 = require(\"babel-runtime/helpers/toArray\");\n\nvar _toArray3 = _interopRequireDefault(_toArray2);\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _slicedToArray2 = require(\"babel-runtime/helpers/slicedToArray\");\n\nvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\n/**\n * Maps a list to promises using the provided mapping function, executes them\n * sequentially then returns a Promise resolving with ordered results obtained.\n * Think of this as a sequential Promise.all.\n *\n * @private\n * @param  {Array}    list The list to map.\n * @param  {Function} fn   The mapping function.\n * @return {Promise}\n */\nvar pMap = exports.pMap = function () {\n  var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(list, fn) {\n    var results;\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            results = [];\n            _context2.next = 3;\n            return list.reduce(function () {\n              var _ref2 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(promise, entry) {\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return promise;\n\n                      case 2:\n                        _context.t0 = results;\n                        _context.next = 5;\n                        return fn(entry);\n\n                      case 5:\n                        _context.t1 = _context.sent;\n                        results = _context.t0.concat.call(_context.t0, _context.t1);\n\n                      case 7:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, this);\n              }));\n\n              return function (_x3, _x4) {\n                return _ref2.apply(this, arguments);\n              };\n            }(), Promise.resolve());\n\n          case 3:\n            return _context2.abrupt(\"return\", results);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function pMap(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/**\n * Takes an object and returns a copy of it with the provided keys omitted.\n *\n * @private\n * @param  {Object}    obj  The source object.\n * @param  {...String} keys The keys to omit.\n * @return {Object}\n */\n\n\nexports.partition = partition;\nexports.delay = delay;\nexports.omit = omit;\nexports.toDataBody = toDataBody;\nexports.qsify = qsify;\nexports.checkVersion = checkVersion;\nexports.support = support;\nexports.capable = capable;\nexports.nobatch = nobatch;\nexports.isObject = isObject;\nexports.parseDataURL = parseDataURL;\nexports.extractFileInfo = extractFileInfo;\nexports.createFormData = createFormData;\nexports.cleanUndefinedProperties = cleanUndefinedProperties;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Chunks an array into n pieces.\n *\n * @private\n * @param  {Array}  array\n * @param  {Number} n\n * @return {Array}\n */\nfunction partition(array, n) {\n  if (n <= 0) {\n    return array;\n  }\n  return array.reduce(function (acc, x, i) {\n    if (i === 0 || i % n === 0) {\n      acc.push([x]);\n    } else {\n      acc[acc.length - 1].push(x);\n    }\n    return acc;\n  }, []);\n}\n\n/**\n * Returns a Promise always resolving after the specified amount in milliseconds.\n *\n * @return Promise<void>\n */\nfunction delay(ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n}function omit(obj) {\n  for (var _len = arguments.length, keys = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    keys[_key - 1] = arguments[_key];\n  }\n\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (!keys.includes(key)) {\n      acc[key] = obj[key];\n    }\n    return acc;\n  }, {});\n}\n\n/**\n * Always returns a resource data object from the provided argument.\n *\n * @private\n * @param  {Object|String} resource\n * @return {Object}\n */\nfunction toDataBody(resource) {\n  if (isObject(resource)) {\n    return resource;\n  }\n  if (typeof resource === \"string\") {\n    return { id: resource };\n  }\n  throw new Error(\"Invalid argument.\");\n}\n\n/**\n * Transforms an object into an URL query string, stripping out any undefined\n * values.\n *\n * @param  {Object} obj\n * @return {String}\n */\nfunction qsify(obj) {\n  var encode = function encode(v) {\n    return encodeURIComponent(typeof v === \"boolean\" ? String(v) : v);\n  };\n  var stripUndefined = function stripUndefined(o) {\n    return JSON.parse(JSON.stringify(o));\n  };\n  var stripped = stripUndefined(obj);\n  return Object.keys(stripped).map(function (k) {\n    var ks = encode(k) + \"=\";\n    if (Array.isArray(stripped[k])) {\n      return ks + stripped[k].map(function (v) {\n        return encode(v);\n      }).join(\",\");\n    } else {\n      return ks + encode(stripped[k]);\n    }\n  }).join(\"&\");\n}\n\n/**\n * Checks if a version is within the provided range.\n *\n * @param  {String} version    The version to check.\n * @param  {String} minVersion The minimum supported version (inclusive).\n * @param  {String} maxVersion The minimum supported version (exclusive).\n * @throws {Error} If the version is outside of the provided range.\n */\nfunction checkVersion(version, minVersion, maxVersion) {\n  var extract = function extract(str) {\n    return str.split(\".\").map(function (x) {\n      return parseInt(x, 10);\n    });\n  };\n\n  var _extract = extract(version),\n      _extract2 = (0, _slicedToArray3.default)(_extract, 2),\n      verMajor = _extract2[0],\n      verMinor = _extract2[1];\n\n  var _extract3 = extract(minVersion),\n      _extract4 = (0, _slicedToArray3.default)(_extract3, 2),\n      minMajor = _extract4[0],\n      minMinor = _extract4[1];\n\n  var _extract5 = extract(maxVersion),\n      _extract6 = (0, _slicedToArray3.default)(_extract5, 2),\n      maxMajor = _extract6[0],\n      maxMinor = _extract6[1];\n\n  var checks = [verMajor < minMajor, verMajor === minMajor && verMinor < minMinor, verMajor > maxMajor, verMajor === maxMajor && verMinor >= maxMinor];\n  if (checks.some(function (x) {\n    return x;\n  })) {\n    throw new Error(\"Version \" + version + \" doesn't satisfy \" + minVersion + \" <= x < \" + maxVersion);\n  }\n}\n\n/**\n * Generates a decorator function ensuring a version check is performed against\n * the provided requirements before executing it.\n *\n * @param  {String} min The required min version (inclusive).\n * @param  {String} max The required max version (inclusive).\n * @return {Function}\n */\nfunction support(min, max) {\n  return function (target, key, descriptor) {\n    var fn = descriptor.value;\n    return {\n      configurable: true,\n      get: function get() {\n        var _this = this;\n\n        var wrappedMethod = function wrappedMethod() {\n          for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          // \"this\" is the current instance which its method is decorated.\n          var client = \"client\" in _this ? _this.client : _this;\n          return client.fetchHTTPApiVersion().then(function (version) {\n            return checkVersion(version, min, max);\n          }).then(function () {\n            return fn.apply(_this, args);\n          });\n        };\n        Object.defineProperty(this, key, {\n          value: wrappedMethod,\n          configurable: true,\n          writable: true\n        });\n        return wrappedMethod;\n      }\n    };\n  };\n}\n\n/**\n * Generates a decorator function ensuring that the specified capabilities are\n * available on the server before executing it.\n *\n * @param  {Array<String>} capabilities The required capabilities.\n * @return {Function}\n */\nfunction capable(capabilities) {\n  return function (target, key, descriptor) {\n    var fn = descriptor.value;\n    return {\n      configurable: true,\n      get: function get() {\n        var _this2 = this;\n\n        var wrappedMethod = function wrappedMethod() {\n          for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n\n          // \"this\" is the current instance which its method is decorated.\n          var client = \"client\" in _this2 ? _this2.client : _this2;\n          return client.fetchServerCapabilities().then(function (available) {\n            var missing = capabilities.filter(function (c) {\n              return !(c in available);\n            });\n            if (missing.length > 0) {\n              var missingStr = missing.join(\", \");\n              throw new Error(\"Required capabilities \" + missingStr + \" not present on server\");\n            }\n          }).then(function () {\n            return fn.apply(_this2, args);\n          });\n        };\n        Object.defineProperty(this, key, {\n          value: wrappedMethod,\n          configurable: true,\n          writable: true\n        });\n        return wrappedMethod;\n      }\n    };\n  };\n}\n\n/**\n * Generates a decorator function ensuring an operation is not performed from\n * within a batch request.\n *\n * @param  {String} message The error message to throw.\n * @return {Function}\n */\nfunction nobatch(message) {\n  return function (target, key, descriptor) {\n    var fn = descriptor.value;\n    return {\n      configurable: true,\n      get: function get() {\n        var _this3 = this;\n\n        var wrappedMethod = function wrappedMethod() {\n          for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n\n          // \"this\" is the current instance which its method is decorated.\n          if (_this3._isBatch) {\n            throw new Error(message);\n          }\n          return fn.apply(_this3, args);\n        };\n        Object.defineProperty(this, key, {\n          value: wrappedMethod,\n          configurable: true,\n          writable: true\n        });\n        return wrappedMethod;\n      }\n    };\n  };\n}\n\n/**\n * Returns true if the specified value is an object (i.e. not an array nor null).\n * @param  {Object} thing The value to inspect.\n * @return {bool}\n */\nfunction isObject(thing) {\n  return (typeof thing === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(thing)) === \"object\" && thing !== null && !Array.isArray(thing);\n}\n\n/**\n * Parses a data url.\n * @param  {String} dataURL The data url.\n * @return {Object}\n */\nfunction parseDataURL(dataURL) {\n  var regex = /^data:(.*);base64,(.*)/;\n  var match = dataURL.match(regex);\n  if (!match) {\n    throw new Error(\"Invalid data-url: \" + String(dataURL).substr(0, 32) + \"...\");\n  }\n  var props = match[1];\n  var base64 = match[2];\n\n  var _props$split = props.split(\";\"),\n      _props$split2 = (0, _toArray3.default)(_props$split),\n      type = _props$split2[0],\n      rawParams = _props$split2.slice(1);\n\n  var params = rawParams.reduce(function (acc, param) {\n    var _param$split = param.split(\"=\"),\n        _param$split2 = (0, _slicedToArray3.default)(_param$split, 2),\n        key = _param$split2[0],\n        value = _param$split2[1];\n\n    return (0, _extends4.default)({}, acc, (0, _defineProperty3.default)({}, key, value));\n  }, {});\n  return (0, _extends4.default)({}, params, { type: type, base64: base64 });\n}\n\n/**\n * Extracts file information from a data url.\n * @param  {String} dataURL The data url.\n * @return {Object}\n */\nfunction extractFileInfo(dataURL) {\n  var _parseDataURL = parseDataURL(dataURL),\n      name = _parseDataURL.name,\n      type = _parseDataURL.type,\n      base64 = _parseDataURL.base64;\n\n  var binary = atob(base64);\n  var array = [];\n  for (var i = 0; i < binary.length; i++) {\n    array.push(binary.charCodeAt(i));\n  }\n  var blob = new Blob([new Uint8Array(array)], { type: type });\n  return { blob: blob, name: name };\n}\n\n/**\n * Creates a FormData instance from a data url and an existing JSON response\n * body.\n * @param  {String} dataURL            The data url.\n * @param  {Object} body               The response body.\n * @param  {Object} [options={}]       The options object.\n * @param  {Object} [options.filename] Force attachment file name.\n * @return {FormData}\n */\nfunction createFormData(dataURL, body) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _options$filename = options.filename,\n      filename = _options$filename === undefined ? \"untitled\" : _options$filename;\n\n  var _extractFileInfo = extractFileInfo(dataURL),\n      blob = _extractFileInfo.blob,\n      name = _extractFileInfo.name;\n\n  var formData = new FormData();\n  formData.append(\"attachment\", blob, name || filename);\n  for (var property in body) {\n    if (typeof body[property] !== \"undefined\") {\n      formData.append(property, JSON.stringify(body[property]));\n    }\n  }\n  return formData;\n}\n\n/**\n * Clones an object with all its undefined keys removed.\n * @private\n */\nfunction cleanUndefinedProperties(obj) {\n  var result = {};\n  for (var key in obj) {\n    if (typeof obj[key] !== \"undefined\") {\n      result[key] = obj[key];\n    }\n  }\n  return result;\n}\n\n},{\"babel-runtime/helpers/asyncToGenerator\":11,\"babel-runtime/helpers/defineProperty\":14,\"babel-runtime/helpers/extends\":15,\"babel-runtime/helpers/slicedToArray\":18,\"babel-runtime/helpers/toArray\":19,\"babel-runtime/helpers/typeof\":20,\"babel-runtime/regenerator\":21}]},{},[138])(138)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2FycmF5L2Zyb20uanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL2dldC1pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvaXMtaXRlcmFibGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9hc3NpZ24uanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwibm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eS5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXkuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQXJyYXkuanMiLCJub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIsIm5vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9hcnJheS9mcm9tLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9nZXQtaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL2lzLWl0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvYXNzaWduLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2EtZnVuY3Rpb24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4taW5zdGFuY2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NsYXNzb2YuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY3JlYXRlLXByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWtleXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pbnZva2UuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LWl0ZXIuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRldGVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21pY3JvdGFzay5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbmV3LXByb21pc2UtY2FwYWJpbGl0eS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWFzc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcGVyZm9ybS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvbWlzZS1yZXNvbHZlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS1hbGwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1zcGVjaWVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zcGVjaWVzLWNvbnN0cnVjdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Rhc2suanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWFic29sdXRlLWluZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1leHQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5pcy1pdGVyYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuZnJvbS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24uanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5wcm9taXNlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcucHJvbWlzZS5maW5hbGx5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5wcm9taXNlLnRyeS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwibm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLW1vZHVsZS5qcyIsIm5vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiLCJub2RlX21vZHVsZXMvdXVpZC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy91dWlkL2xpYi9ieXRlc1RvVXVpZC5qcyIsIm5vZGVfbW9kdWxlcy91dWlkL2xpYi9ybmctYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy91dWlkL3YxLmpzIiwibm9kZV9tb2R1bGVzL3V1aWQvdjQuanMiLCJzcmMvYmFzZS5qcyIsInNyYy9iYXRjaC5qcyIsInNyYy9idWNrZXQuanMiLCJzcmMvY29sbGVjdGlvbi5qcyIsInNyYy9lbmRwb2ludC5qcyIsInNyYy9lcnJvcnMuanMiLCJzcmMvaHR0cC5qcyIsInNyYy9pbmRleC5qcyIsInNyYy9yZXF1ZXN0cy5qcyIsInNyYy91dGlscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBOztBQ0RBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7O0FDREE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2Z0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2dEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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aUMsSUFBakMsRUFBcUQ7QUFBQSxNQUFkLE9BQWMsdUVBQUosRUFBSTtBQUFBLDBCQUN4QixPQUR3QixDQUNsRCxRQURrRDtBQUFBLE1BQ2xELFFBRGtELHFDQUN2QyxVQUR1Qzs7QUFBQSx5QkFFbkMsZ0JBQWdCLE9BQWhCLENBRm1DO0FBQUEsTUFFbEQsSUFGa0Qsb0JBRWxELElBRmtEO0FBQUEsTUFFNUMsSUFGNEMsb0JBRTVDLElBRjRDOztBQUcxRCxNQUFNLFdBQVcsSUFBSSxRQUFKLEVBQWpCO0FBQ0EsV0FBUyxNQUFULENBQWdCLFlBQWhCLEVBQThCLElBQTlCLEVBQW9DLFFBQVEsUUFBNUM7QUFDQSxPQUFLLElBQU0sUUFBWCxJQUF1QixJQUF2QixFQUE2QjtBQUMzQixRQUFJLE9BQU8sS0FBSyxRQUFMLENBQVAsS0FBMEIsV0FBOUIsRUFBMkM7QUFDekMsZUFBUyxNQUFULENBQWdCLFFBQWhCLEVBQTBCLEtBQUssU0FBTCxDQUFlLEtBQUssUUFBTCxDQUFmLENBQTFCO0FBQ0Q7QUFDRjtBQUNELFNBQU8sUUFBUDtBQUNEOztBQUVEOzs7O0FBSU8sU0FBUyx3QkFBVCxDQUFrQyxHQUFsQyxFQUF1QztBQUM1QyxNQUFNLFNBQVMsRUFBZjtBQUNBLE9BQUssSUFBTSxHQUFYLElBQWtCLEdBQWxCLEVBQXVCO0FBQ3JCLFFBQUksT0FBTyxJQUFJLEdBQUosQ0FBUCxLQUFvQixXQUF4QixFQUFxQztBQUNuQyxhQUFPLEdBQVAsSUFBYyxJQUFJLEdBQUosQ0FBZDtBQUNEO0FBQ0Y7QUFDRCxTQUFPLE1BQVA7QUFDRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9cmV0dXJuIGV9KSgpIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2FycmF5L2Zyb21cIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vZ2V0LWl0ZXJhdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2lzLWl0ZXJhYmxlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9hc3NpZ25cIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2VcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3Byb21pc2UgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9wcm9taXNlXCIpO1xuXG52YXIgX3Byb21pc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvbWlzZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBnZW4gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiBuZXcgX3Byb21pc2UyLmRlZmF1bHQoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gc3RlcChrZXksIGFyZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBfcHJvbWlzZTIuZGVmYXVsdC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc3RlcChcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHN0ZXAoXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdGVwKFwibmV4dFwiKTtcbiAgICB9KTtcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2Fzc2lnbiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9hc3NpZ25cIik7XG5cbnZhciBfYXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2lnbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9hc3NpZ24yLmRlZmF1bHQgfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3NldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIik7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9jcmVhdGVcIik7XG5cbnZhciBfY3JlYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZSk7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyAodHlwZW9mIHN1cGVyQ2xhc3MgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKHN1cGVyQ2xhc3MpKSk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSAoMCwgX2NyZWF0ZTIuZGVmYXVsdCkoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCA/ICgwLCBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXNJdGVyYWJsZTIgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9pcy1pdGVyYWJsZVwiKTtcblxudmFyIF9pc0l0ZXJhYmxlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSXRlcmFibGUyKTtcblxudmFyIF9nZXRJdGVyYXRvcjIgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9nZXQtaXRlcmF0b3JcIik7XG5cbnZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkge1xuICAgIHZhciBfYXJyID0gW107XG4gICAgdmFyIF9uID0gdHJ1ZTtcbiAgICB2YXIgX2QgPSBmYWxzZTtcbiAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2kgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShhcnIpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gdHJ1ZTtcbiAgICAgIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgcmV0dXJuIGFycjtcbiAgICB9IGVsc2UgaWYgKCgwLCBfaXNJdGVyYWJsZTMuZGVmYXVsdCkoT2JqZWN0KGFycikpKSB7XG4gICAgICByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbiAgICB9XG4gIH07XG59KCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZnJvbSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL2FycmF5L2Zyb21cIik7XG5cbnZhciBfZnJvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mcm9tKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpID8gYXJyIDogKDAsIF9mcm9tMi5kZWZhdWx0KShhcnIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9pdGVyYXRvciA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKTtcblxudmFyIF9pdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcik7XG5cbnZhciBfc3ltYm9sID0gcmVxdWlyZShcIi4uL2NvcmUtanMvc3ltYm9sXCIpO1xuXG52YXIgX3N5bWJvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW1ib2wpO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIF9pdGVyYXRvcjIuZGVmYXVsdCA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgJiYgb2JqICE9PSBfc3ltYm9sMi5kZWZhdWx0LnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YoX2l0ZXJhdG9yMi5kZWZhdWx0KSA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCAmJiBvYmogIT09IF9zeW1ib2wyLmRlZmF1bHQucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5hcnJheS5mcm9tJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5BcnJheS5mcm9tO1xuIiwicmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvcicpO1xuIiwicmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9jb3JlLmlzLWl0ZXJhYmxlJyk7XG4iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuYXNzaWduO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCkge1xuICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG59O1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKSB7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Quc2V0UHJvdG90eXBlT2Y7XG4iLCJyZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYucHJvbWlzZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczcucHJvbWlzZS5maW5hbGx5Jyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNy5wcm9taXNlLnRyeScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL19jb3JlJykuUHJvbWlzZTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCcpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZycpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLmFzeW5jLWl0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuU3ltYm9sO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCcpLmYoJ2l0ZXJhdG9yJyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSwgZm9yYmlkZGVuRmllbGQpIHtcbiAgaWYgKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikgfHwgKGZvcmJpZGRlbkZpZWxkICE9PSB1bmRlZmluZWQgJiYgZm9yYmlkZGVuRmllbGQgaW4gaXQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKG5hbWUgKyAnOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEnKTtcbiAgfSByZXR1cm4gaXQ7XG59O1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwiLy8gZmFsc2UgLT4gQXJyYXkjaW5kZXhPZlxuLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTtcbnZhciB0b0Fic29sdXRlSW5kZXggPSByZXF1aXJlKCcuL190by1hYnNvbHV0ZS1pbmRleCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoSVNfSU5DTFVERVMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuICAgIHZhciBPID0gdG9JT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleChmcm9tSW5kZXgsIGxlbmd0aCk7XG4gICAgdmFyIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgaWYgKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKSB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICAgIGlmICh2YWx1ZSAhPSB2YWx1ZSkgcmV0dXJuIHRydWU7XG4gICAgLy8gQXJyYXkjaW5kZXhPZiBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuICAgIH0gZWxzZSBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pIHtcbiAgICAgIGlmIChPW2luZGV4XSA9PT0gZWwpIHJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcbiAgfTtcbn07XG4iLCIvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuLy8gRVMzIHdyb25nIGhlcmVcbnZhciBBUkcgPSBjb2YoZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxudmFyIHRyeUdldCA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGl0W2tleV07XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIE8sIFQsIEI7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IEFSRyA/IGNvZihPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG4iLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0geyB2ZXJzaW9uOiAnMi41LjMnIH07XG5pZiAodHlwZW9mIF9fZSA9PSAnbnVtYmVyJykgX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgaW5kZXgsIHZhbHVlKSB7XG4gIGlmIChpbmRleCBpbiBvYmplY3QpICRkZWZpbmVQcm9wZXJ0eS5mKG9iamVjdCwgaW5kZXgsIGNyZWF0ZURlc2MoMCwgdmFsdWUpKTtcbiAgZWxzZSBvYmplY3RbaW5kZXhdID0gdmFsdWU7XG59O1xuIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4sIHRoYXQsIGxlbmd0aCkge1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZiAodGhhdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZm47XG4gIHN3aXRjaCAobGVuZ3RoKSB7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgvKiAuLi5hcmdzICovKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuIiwiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCA9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsIi8vIFRoYW5rJ3MgSUU4IGZvciBoaXMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudDtcbi8vIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnIGluIG9sZCBJRVxudmFyIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG4iLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcbiIsIi8vIGFsbCBlbnVtZXJhYmxlIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBzeW1ib2xzXG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgZ09QUyA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJyk7XG52YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHJlc3VsdCA9IGdldEtleXMoaXQpO1xuICB2YXIgZ2V0U3ltYm9scyA9IGdPUFMuZjtcbiAgaWYgKGdldFN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpO1xuICAgIHZhciBpc0VudW0gPSBwSUUuZjtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGtleTtcbiAgICB3aGlsZSAoc3ltYm9scy5sZW5ndGggPiBpKSBpZiAoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpIHJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uICh0eXBlLCBuYW1lLCBzb3VyY2UpIHtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkY7XG4gIHZhciBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HO1xuICB2YXIgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuUztcbiAgdmFyIElTX1BST1RPID0gdHlwZSAmICRleHBvcnQuUDtcbiAgdmFyIElTX0JJTkQgPSB0eXBlICYgJGV4cG9ydC5CO1xuICB2YXIgSVNfV1JBUCA9IHR5cGUgJiAkZXhwb3J0Llc7XG4gIHZhciBleHBvcnRzID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSk7XG4gIHZhciBleHBQcm90byA9IGV4cG9ydHNbUFJPVE9UWVBFXTtcbiAgdmFyIHRhcmdldCA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV07XG4gIHZhciBrZXksIG93biwgb3V0O1xuICBpZiAoSVNfR0xPQkFMKSBzb3VyY2UgPSBuYW1lO1xuICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIGlmIChvd24gJiYga2V5IGluIGV4cG9ydHMpIGNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24gKEMpIHtcbiAgICAgIHZhciBGID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBDKSB7XG4gICAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQygpO1xuICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcbiAgICAgICAgICB9IHJldHVybiBuZXcgQyhhLCBiLCBjKTtcbiAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcbiAgICBpZiAoSVNfUFJPVE8pIHtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZiAodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSkgaGlkZShleHBQcm90bywga2V5LCBvdXQpO1xuICAgIH1cbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbiIsInZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi9faXRlci1jYWxsJyk7XG52YXIgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuL19pcy1hcnJheS1pdGVyJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIGdldEl0ZXJGbiA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG52YXIgQlJFQUsgPSB7fTtcbnZhciBSRVRVUk4gPSB7fTtcbnZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmFibGUsIGVudHJpZXMsIGZuLCB0aGF0LCBJVEVSQVRPUikge1xuICB2YXIgaXRlckZuID0gSVRFUkFUT1IgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBpdGVyYWJsZTsgfSA6IGdldEl0ZXJGbihpdGVyYWJsZSk7XG4gIHZhciBmID0gY3R4KGZuLCB0aGF0LCBlbnRyaWVzID8gMiA6IDEpO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGVuZ3RoLCBzdGVwLCBpdGVyYXRvciwgcmVzdWx0O1xuICBpZiAodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXRlcmFibGUgKyAnIGlzIG5vdCBpdGVyYWJsZSEnKTtcbiAgLy8gZmFzdCBjYXNlIGZvciBhcnJheXMgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yXG4gIGlmIChpc0FycmF5SXRlcihpdGVyRm4pKSBmb3IgKGxlbmd0aCA9IHRvTGVuZ3RoKGl0ZXJhYmxlLmxlbmd0aCk7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgcmVzdWx0ID0gZW50cmllcyA/IGYoYW5PYmplY3Qoc3RlcCA9IGl0ZXJhYmxlW2luZGV4XSlbMF0sIHN0ZXBbMV0pIDogZihpdGVyYWJsZVtpbmRleF0pO1xuICAgIGlmIChyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKSByZXR1cm4gcmVzdWx0O1xuICB9IGVsc2UgZm9yIChpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKGl0ZXJhYmxlKTsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOykge1xuICAgIHJlc3VsdCA9IGNhbGwoaXRlcmF0b3IsIGYsIHN0ZXAudmFsdWUsIGVudHJpZXMpO1xuICAgIGlmIChyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKSByZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuZXhwb3J0cy5CUkVBSyA9IEJSRUFLO1xuZXhwb3J0cy5SRVRVUk4gPSBSRVRVUk47XG4iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZiAodHlwZW9mIF9fZyA9PSAnbnVtYmVyJykgX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4iLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuIiwidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuIiwidmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG5tb2R1bGUuZXhwb3J0cyA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG4iLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCBhcmdzLCB0aGF0KSB7XG4gIHZhciB1biA9IHRoYXQgPT09IHVuZGVmaW5lZDtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIHVuID8gZm4oKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0KTtcbiAgICBjYXNlIDE6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0pO1xuICAgIGNhc2UgMjogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICBjYXNlIDQ6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICB9IHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07XG4iLCIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuIiwiLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07XG4iLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKSB7XG4gIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuIiwiLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaCAoZSkge1xuICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSBhbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgIHRocm93IGU7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpO1xudmFyIGRlc2NyaXB0b3IgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpIHtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7IG5leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCkgfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciAkaXRlckNyZWF0ZSA9IHJlcXVpcmUoJy4vX2l0ZXItY3JlYXRlJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgQlVHR1kgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSk7IC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbnZhciBGRl9JVEVSQVRPUiA9ICdAQGl0ZXJhdG9yJztcbnZhciBLRVlTID0gJ2tleXMnO1xudmFyIFZBTFVFUyA9ICd2YWx1ZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCkge1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbiAoa2luZCkge1xuICAgIGlmICghQlVHR1kgJiYga2luZCBpbiBwcm90bykgcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgPSBOQU1FICsgJyBJdGVyYXRvcic7XG4gIHZhciBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVM7XG4gIHZhciBWQUxVRVNfQlVHID0gZmFsc2U7XG4gIHZhciBwcm90byA9IEJhc2UucHJvdG90eXBlO1xuICB2YXIgJG5hdGl2ZSA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXTtcbiAgdmFyICRkZWZhdWx0ID0gKCFCVUdHWSAmJiAkbmF0aXZlKSB8fCBnZXRNZXRob2QoREVGQVVMVCk7XG4gIHZhciAkZW50cmllcyA9IERFRkFVTFQgPyAhREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKCdlbnRyaWVzJykgOiB1bmRlZmluZWQ7XG4gIHZhciAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZTtcbiAgdmFyIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG4gIC8vIEZpeCBuYXRpdmVcbiAgaWYgKCRhbnlOYXRpdmUpIHtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSgpKSk7XG4gICAgaWYgKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlICYmIEl0ZXJhdG9yUHJvdG90eXBlLm5leHQpIHtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZiAoIUxJQlJBUlkgJiYgIWhhcyhJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IpKSBoaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgfVxuICB9XG4gIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcbiAgaWYgKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUykge1xuICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuICB9XG4gIC8vIERlZmluZSBpdGVyYXRvclxuICBpZiAoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpIHtcbiAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICB9XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddID0gcmV0dXJuVGhpcztcbiAgaWYgKERFRkFVTFQpIHtcbiAgICBtZXRob2RzID0ge1xuICAgICAgdmFsdWVzOiBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6IElTX1NFVCA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmIChGT1JDRUQpIGZvciAoa2V5IGluIG1ldGhvZHMpIHtcbiAgICAgIGlmICghKGtleSBpbiBwcm90bykpIHJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG4iLCJ2YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbiAoKSB7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uICgpIHsgdGhyb3cgMjsgfSk7XG59IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYywgc2tpcENsb3NpbmcpIHtcbiAgaWYgKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKSByZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IFs3XTtcbiAgICB2YXIgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB7IGRvbmU6IHNhZmUgPSB0cnVlIH07IH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGl0ZXI7IH07XG4gICAgZXhlYyhhcnIpO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZG9uZSwgdmFsdWUpIHtcbiAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmUgfTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuIiwidmFyIE1FVEEgPSByZXF1aXJlKCcuL191aWQnKSgnbWV0YScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgc2V0RGVzYyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG52YXIgaWQgPSAwO1xudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgRlJFRVpFID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xufSk7XG52YXIgc2V0TWV0YSA9IGZ1bmN0aW9uIChpdCkge1xuICBzZXREZXNjKGl0LCBNRVRBLCB7IHZhbHVlOiB7XG4gICAgaTogJ08nICsgKytpZCwgLy8gb2JqZWN0IElEXG4gICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSB9KTtcbn07XG52YXIgZmFzdEtleSA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiAnRSc7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIG9iamVjdCBJRFxuICB9IHJldHVybiBpdFtNRVRBXS5pO1xufTtcbnZhciBnZXRXZWFrID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgaWYgKCFoYXMoaXQsIE1FVEEpKSB7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiB0cnVlO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiBmYWxzZTtcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IHJldHVybiBpdFtNRVRBXS53O1xufTtcbi8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xudmFyIG9uRnJlZXplID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpIHNldE1ldGEoaXQpO1xuICByZXR1cm4gaXQ7XG59O1xudmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgS0VZOiBNRVRBLFxuICBORUVEOiBmYWxzZSxcbiAgZmFzdEtleTogZmFzdEtleSxcbiAgZ2V0V2VhazogZ2V0V2VhayxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIG1hY3JvdGFzayA9IHJlcXVpcmUoJy4vX3Rhc2snKS5zZXQ7XG52YXIgT2JzZXJ2ZXIgPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xudmFyIGlzTm9kZSA9IHJlcXVpcmUoJy4vX2NvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBoZWFkLCBsYXN0LCBub3RpZnk7XG5cbiAgdmFyIGZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXJlbnQsIGZuO1xuICAgIGlmIChpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSkgcGFyZW50LmV4aXQoKTtcbiAgICB3aGlsZSAoaGVhZCkge1xuICAgICAgZm4gPSBoZWFkLmZuO1xuICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZuKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChoZWFkKSBub3RpZnkoKTtcbiAgICAgICAgZWxzZSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0gbGFzdCA9IHVuZGVmaW5lZDtcbiAgICBpZiAocGFyZW50KSBwYXJlbnQuZW50ZXIoKTtcbiAgfTtcblxuICAvLyBOb2RlLmpzXG4gIGlmIChpc05vZGUpIHtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgICB9O1xuICAvLyBicm93c2VycyB3aXRoIE11dGF0aW9uT2JzZXJ2ZXIsIGV4Y2VwdCBpT1MgU2FmYXJpIC0gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzMzOVxuICB9IGVsc2UgaWYgKE9ic2VydmVyICYmICEoZ2xvYmFsLm5hdmlnYXRvciAmJiBnbG9iYWwubmF2aWdhdG9yLnN0YW5kYWxvbmUpKSB7XG4gICAgdmFyIHRvZ2dsZSA9IHRydWU7XG4gICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgbmV3IE9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBub2RlLmRhdGEgPSB0b2dnbGUgPSAhdG9nZ2xlO1xuICAgIH07XG4gIC8vIGVudmlyb25tZW50cyB3aXRoIG1heWJlIG5vbi1jb21wbGV0ZWx5IGNvcnJlY3QsIGJ1dCBleGlzdGVudCBQcm9taXNlXG4gIH0gZWxzZSBpZiAoUHJvbWlzZSAmJiBQcm9taXNlLnJlc29sdmUpIHtcbiAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb21pc2UudGhlbihmbHVzaCk7XG4gICAgfTtcbiAgLy8gZm9yIG90aGVyIGVudmlyb25tZW50cyAtIG1hY3JvdGFzayBiYXNlZCBvbjpcbiAgLy8gLSBzZXRJbW1lZGlhdGVcbiAgLy8gLSBNZXNzYWdlQ2hhbm5lbFxuICAvLyAtIHdpbmRvdy5wb3N0TWVzc2FnXG4gIC8vIC0gb25yZWFkeXN0YXRlY2hhbmdlXG4gIC8vIC0gc2V0VGltZW91dFxuICB9IGVsc2Uge1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5jYWxsKGdsb2JhbClcbiAgICAgIG1hY3JvdGFzay5jYWxsKGdsb2JhbCwgZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGZuKSB7XG4gICAgdmFyIHRhc2sgPSB7IGZuOiBmbiwgbmV4dDogdW5kZWZpbmVkIH07XG4gICAgaWYgKGxhc3QpIGxhc3QubmV4dCA9IHRhc2s7XG4gICAgaWYgKCFoZWFkKSB7XG4gICAgICBoZWFkID0gdGFzaztcbiAgICAgIG5vdGlmeSgpO1xuICAgIH0gbGFzdCA9IHRhc2s7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gMjUuNC4xLjUgTmV3UHJvbWlzZUNhcGFiaWxpdHkoQylcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5cbmZ1bmN0aW9uIFByb21pc2VDYXBhYmlsaXR5KEMpIHtcbiAgdmFyIHJlc29sdmUsIHJlamVjdDtcbiAgdGhpcy5wcm9taXNlID0gbmV3IEMoZnVuY3Rpb24gKCQkcmVzb2x2ZSwgJCRyZWplY3QpIHtcbiAgICBpZiAocmVzb2x2ZSAhPT0gdW5kZWZpbmVkIHx8IHJlamVjdCAhPT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoJ0JhZCBQcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgcmVzb2x2ZSA9ICQkcmVzb2x2ZTtcbiAgICByZWplY3QgPSAkJHJlamVjdDtcbiAgfSk7XG4gIHRoaXMucmVzb2x2ZSA9IGFGdW5jdGlvbihyZXNvbHZlKTtcbiAgdGhpcy5yZWplY3QgPSBhRnVuY3Rpb24ocmVqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIChDKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKVxudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xudmFyIGdPUFMgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpO1xudmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0Jyk7XG52YXIgJGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cbi8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxubW9kdWxlLmV4cG9ydHMgPSAhJGFzc2lnbiB8fCByZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgdmFyIEEgPSB7fTtcbiAgdmFyIEIgPSB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBTID0gU3ltYm9sKCk7XG4gIHZhciBLID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgQVtTXSA9IDc7XG4gIEsuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGspIHsgQltrXSA9IGs7IH0pO1xuICByZXR1cm4gJGFzc2lnbih7fSwgQSlbU10gIT0gNyB8fCBPYmplY3Qua2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gSztcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgdmFyIFQgPSB0b09iamVjdCh0YXJnZXQpO1xuICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBpbmRleCA9IDE7XG4gIHZhciBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICB2YXIgaXNFbnVtID0gcElFLmY7XG4gIHdoaWxlIChhTGVuID4gaW5kZXgpIHtcbiAgICB2YXIgUyA9IElPYmplY3QoYXJndW1lbnRzW2luZGV4KytdKTtcbiAgICB2YXIga2V5cyA9IGdldFN5bWJvbHMgPyBnZXRLZXlzKFMpLmNvbmNhdChnZXRTeW1ib2xzKFMpKSA6IGdldEtleXMoUyk7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChsZW5ndGggPiBqKSBpZiAoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSkgVFtrZXldID0gU1trZXldO1xuICB9IHJldHVybiBUO1xufSA6ICRhc3NpZ247XG4iLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGRQcyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBFbXB0eSA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpO1xuICB2YXIgaSA9IGVudW1CdWdLZXlzLmxlbmd0aDtcbiAgdmFyIGx0ID0gJzwnO1xuICB2YXIgZ3QgPSAnPic7XG4gIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZSAoaS0tKSBkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoTyAhPT0gbnVsbCkge1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHkoKTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG4iLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBrZXlzID0gZ2V0S2V5cyhQcm9wZXJ0aWVzKTtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICB2YXIgaSA9IDA7XG4gIHZhciBQO1xuICB3aGlsZSAobGVuZ3RoID4gaSkgZFAuZihPLCBQID0ga2V5c1tpKytdLCBQcm9wZXJ0aWVzW1BdKTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKTtcbnZhciBnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICBPID0gdG9JT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZ09QRChPLCBQKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIGlmIChoYXMoTywgUCkpIHJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG4iLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGdPUE4gPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmY7XG52YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uIChpdCkge1xuICB0cnkge1xuICAgIHJldHVybiBnT1BOKGl0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScgPyBnZXRXaW5kb3dOYW1lcyhpdCkgOiBnT1BOKHRvSU9iamVjdChpdCkpO1xufTtcbiIsIi8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG4iLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuIiwiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKE8pIHtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZiAoaGFzKE8sIElFX1BST1RPKSkgcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZiAodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07XG4iLCJ2YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSBpZiAoa2V5ICE9IElFX1BST1RPKSBoYXMoTywga2V5KSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSBpZiAoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG4iLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4geyBlOiBmYWxzZSwgdjogZXhlYygpIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4geyBlOiB0cnVlLCB2OiBlIH07XG4gIH1cbn07XG4iLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gcmVxdWlyZSgnLi9fbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDLCB4KSB7XG4gIGFuT2JqZWN0KEMpO1xuICBpZiAoaXNPYmplY3QoeCkgJiYgeC5jb25zdHJ1Y3RvciA9PT0gQykgcmV0dXJuIHg7XG4gIHZhciBwcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5LmYoQyk7XG4gIHZhciByZXNvbHZlID0gcHJvbWlzZUNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgcmVzb2x2ZSh4KTtcbiAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5LnByb21pc2U7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcbiIsInZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGFyZ2V0LCBzcmMsIHNhZmUpIHtcbiAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgIGlmIChzYWZlICYmIHRhcmdldFtrZXldKSB0YXJnZXRba2V5XSA9IHNyY1trZXldO1xuICAgIGVsc2UgaGlkZSh0YXJnZXQsIGtleSwgc3JjW2tleV0pO1xuICB9IHJldHVybiB0YXJnZXQ7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19oaWRlJyk7XG4iLCIvLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGNoZWNrID0gZnVuY3Rpb24gKE8sIHByb3RvKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBpZiAoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCkgdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24gKHRlc3QsIGJ1Z2d5LCBzZXQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldCA9IHJlcXVpcmUoJy4vX2N0eCcpKEZ1bmN0aW9uLmNhbGwsIHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG4gICAgICB9IGNhdGNoIChlKSB7IGJ1Z2d5ID0gdHJ1ZTsgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKSB7XG4gICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgaWYgKGJ1Z2d5KSBPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgICBlbHNlIHNldChPLCBwcm90byk7XG4gICAgICAgIHJldHVybiBPO1xuICAgICAgfTtcbiAgICB9KHt9LCBmYWxzZSkgOiB1bmRlZmluZWQpLFxuICBjaGVjazogY2hlY2tcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBkUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKTtcbnZhciBTUEVDSUVTID0gcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoS0VZKSB7XG4gIHZhciBDID0gdHlwZW9mIGNvcmVbS0VZXSA9PSAnZnVuY3Rpb24nID8gY29yZVtLRVldIDogZ2xvYmFsW0tFWV07XG4gIGlmIChERVNDUklQVE9SUyAmJiBDICYmICFDW1NQRUNJRVNdKSBkUC5mKEMsIFNQRUNJRVMsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9XG4gIH0pO1xufTtcbiIsInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgdGFnLCBzdGF0KSB7XG4gIGlmIChpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKSBkZWYoaXQsIFRBRywgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWcgfSk7XG59O1xuIiwidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59O1xuIiwiLy8gNy4zLjIwIFNwZWNpZXNDb25zdHJ1Y3RvcihPLCBkZWZhdWx0Q29uc3RydWN0b3IpXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG52YXIgU1BFQ0lFUyA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBEKSB7XG4gIHZhciBDID0gYW5PYmplY3QoTykuY29uc3RydWN0b3I7XG4gIHZhciBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG59O1xuIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoYXQsIHBvcykge1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpO1xuICAgIHZhciBpID0gdG9JbnRlZ2VyKHBvcyk7XG4gICAgdmFyIGwgPSBzLmxlbmd0aDtcbiAgICB2YXIgYSwgYjtcbiAgICBpZiAoaSA8IDAgfHwgaSA+PSBsKSByZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcbiIsInZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBpbnZva2UgPSByZXF1aXJlKCcuL19pbnZva2UnKTtcbnZhciBodG1sID0gcmVxdWlyZSgnLi9faHRtbCcpO1xudmFyIGNlbCA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgc2V0VGFzayA9IGdsb2JhbC5zZXRJbW1lZGlhdGU7XG52YXIgY2xlYXJUYXNrID0gZ2xvYmFsLmNsZWFySW1tZWRpYXRlO1xudmFyIE1lc3NhZ2VDaGFubmVsID0gZ2xvYmFsLk1lc3NhZ2VDaGFubmVsO1xudmFyIERpc3BhdGNoID0gZ2xvYmFsLkRpc3BhdGNoO1xudmFyIGNvdW50ZXIgPSAwO1xudmFyIHF1ZXVlID0ge307XG52YXIgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZSc7XG52YXIgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG52YXIgcnVuID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaWQgPSArdGhpcztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICBpZiAocXVldWUuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gICAgZm4oKTtcbiAgfVxufTtcbnZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudCkge1xuICBydW4uY2FsbChldmVudC5kYXRhKTtcbn07XG4vLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6XG5pZiAoIXNldFRhc2sgfHwgIWNsZWFyVGFzaykge1xuICBzZXRUYXNrID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICB2YXIgaSA9IDE7XG4gICAgd2hpbGUgKGFyZ3VtZW50cy5sZW5ndGggPiBpKSBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICAgIGludm9rZSh0eXBlb2YgZm4gPT0gJ2Z1bmN0aW9uJyA/IGZuIDogRnVuY3Rpb24oZm4pLCBhcmdzKTtcbiAgICB9O1xuICAgIGRlZmVyKGNvdW50ZXIpO1xuICAgIHJldHVybiBjb3VudGVyO1xuICB9O1xuICBjbGVhclRhc2sgPSBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShpZCkge1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gIH07XG4gIC8vIE5vZGUuanMgMC44LVxuICBpZiAocmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBTcGhlcmUgKEpTIGdhbWUgZW5naW5lKSBEaXNwYXRjaCBBUElcbiAgfSBlbHNlIGlmIChEaXNwYXRjaCAmJiBEaXNwYXRjaC5ub3cpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgRGlzcGF0Y2gubm93KGN0eChydW4sIGlkLCAxKSk7XG4gICAgfTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBNZXNzYWdlQ2hhbm5lbCwgaW5jbHVkZXMgV2ViV29ya2Vyc1xuICB9IGVsc2UgaWYgKE1lc3NhZ2VDaGFubmVsKSB7XG4gICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIHBvcnQgPSBjaGFubmVsLnBvcnQyO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGlzdGVuZXI7XG4gICAgZGVmZXIgPSBjdHgocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCwgMSk7XG4gIC8vIEJyb3dzZXJzIHdpdGggcG9zdE1lc3NhZ2UsIHNraXAgV2ViV29ya2Vyc1xuICAvLyBJRTggaGFzIHBvc3RNZXNzYWdlLCBidXQgaXQncyBzeW5jICYgdHlwZW9mIGl0cyBwb3N0TWVzc2FnZSBpcyAnb2JqZWN0J1xuICB9IGVsc2UgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyICYmIHR5cGVvZiBwb3N0TWVzc2FnZSA9PSAnZnVuY3Rpb24nICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoaWQgKyAnJywgJyonKTtcbiAgICB9O1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIsIGZhbHNlKTtcbiAgLy8gSUU4LVxuICB9IGVsc2UgaWYgKE9OUkVBRFlTVEFURUNIQU5HRSBpbiBjZWwoJ3NjcmlwdCcpKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoY2VsKCdzY3JpcHQnKSlbT05SRUFEWVNUQVRFQ0hBTkdFXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcnVuLmNhbGwoaWQpO1xuICAgICAgfTtcbiAgICB9O1xuICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuICB9IGVsc2Uge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBzZXRUaW1lb3V0KGN0eChydW4sIGlkLCAxKSwgMCk7XG4gICAgfTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogc2V0VGFzayxcbiAgY2xlYXI6IGNsZWFyVGFza1xufTtcbiIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG4iLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuIiwiLy8gNy4xLjE1IFRvTGVuZ3RoXG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07XG4iLCIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiIsIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBTKSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gaXQ7XG4gIHZhciBmbiwgdmFsO1xuICBpZiAoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICghUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTtcbiIsInZhciBpZCA9IDA7XG52YXIgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciB3a3NFeHQgPSByZXF1aXJlKCcuL193a3MtZXh0Jyk7XG52YXIgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICB2YXIgJFN5bWJvbCA9IGNvcmUuU3ltYm9sIHx8IChjb3JlLlN5bWJvbCA9IExJQlJBUlkgPyB7fSA6IGdsb2JhbC5TeW1ib2wgfHwge30pO1xuICBpZiAobmFtZS5jaGFyQXQoMCkgIT0gJ18nICYmICEobmFtZSBpbiAkU3ltYm9sKSkgZGVmaW5lUHJvcGVydHkoJFN5bWJvbCwgbmFtZSwgeyB2YWx1ZTogd2tzRXh0LmYobmFtZSkgfSk7XG59O1xuIiwiZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fd2tzJyk7XG4iLCJ2YXIgc3RvcmUgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG52YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sO1xudmFyIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cbnZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG4iLCJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ICE9IHVuZGVmaW5lZCkgcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcbiIsInZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGdldCA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5nZXRJdGVyYXRvciA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgaXRlckZuID0gZ2V0KGl0KTtcbiAgaWYgKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIHJldHVybiBhbk9iamVjdChpdGVyRm4uY2FsbChpdCkpO1xufTtcbiIsInZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5pc0l0ZXJhYmxlID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBPID0gT2JqZWN0KGl0KTtcbiAgcmV0dXJuIE9bSVRFUkFUT1JdICE9PSB1bmRlZmluZWRcbiAgICB8fCAnQEBpdGVyYXRvcicgaW4gT1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICB8fCBJdGVyYXRvcnMuaGFzT3duUHJvcGVydHkoY2xhc3NvZihPKSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuL19pdGVyLWNhbGwnKTtcbnZhciBpc0FycmF5SXRlciA9IHJlcXVpcmUoJy4vX2lzLWFycmF5LWl0ZXInKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIGNyZWF0ZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fY3JlYXRlLXByb3BlcnR5Jyk7XG52YXIgZ2V0SXRlckZuID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKShmdW5jdGlvbiAoaXRlcikgeyBBcnJheS5mcm9tKGl0ZXIpOyB9KSwgJ0FycmF5Jywge1xuICAvLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpXG4gIGZyb206IGZ1bmN0aW9uIGZyb20oYXJyYXlMaWtlIC8qICwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQgKi8pIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KGFycmF5TGlrZSk7XG4gICAgdmFyIEMgPSB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nID8gdGhpcyA6IEFycmF5O1xuICAgIHZhciBhTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgbWFwZm4gPSBhTGVuID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgbWFwcGluZyA9IG1hcGZuICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgaXRlckZuID0gZ2V0SXRlckZuKE8pO1xuICAgIHZhciBsZW5ndGgsIHJlc3VsdCwgc3RlcCwgaXRlcmF0b3I7XG4gICAgaWYgKG1hcHBpbmcpIG1hcGZuID0gY3R4KG1hcGZuLCBhTGVuID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCwgMik7XG4gICAgLy8gaWYgb2JqZWN0IGlzbid0IGl0ZXJhYmxlIG9yIGl0J3MgYXJyYXkgd2l0aCBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIHNpbXBsZSBjYXNlXG4gICAgaWYgKGl0ZXJGbiAhPSB1bmRlZmluZWQgJiYgIShDID09IEFycmF5ICYmIGlzQXJyYXlJdGVyKGl0ZXJGbikpKSB7XG4gICAgICBmb3IgKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoTyksIHJlc3VsdCA9IG5ldyBDKCk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKykge1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gY2FsbChpdGVyYXRvciwgbWFwZm4sIFtzdGVwLnZhbHVlLCBpbmRleF0sIHRydWUpIDogc3RlcC52YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICAgIGZvciAocmVzdWx0ID0gbmV3IEMobGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gcmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJyk7XG52YXIgc3RlcCA9IHJlcXVpcmUoJy4vX2l0ZXItc3RlcCcpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbiAoaXRlcmF0ZWQsIGtpbmQpIHtcbiAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuLy8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbiAoKSB7XG4gIHZhciBPID0gdGhpcy5fdDtcbiAgdmFyIGtpbmQgPSB0aGlzLl9rO1xuICB2YXIgaW5kZXggPSB0aGlzLl9pKys7XG4gIGlmICghTyB8fCBpbmRleCA+PSBPLmxlbmd0aCkge1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYgKGtpbmQgPT0gJ2tleXMnKSByZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmIChraW5kID09ICd2YWx1ZXMnKSByZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG4gIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG4iLCIvLyAxOS4xLjMuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYsICdPYmplY3QnLCB7IGFzc2lnbjogcmVxdWlyZSgnLi9fb2JqZWN0LWFzc2lnbicpIH0pO1xuIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7IGNyZWF0ZTogcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpIH0pO1xuIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi40IC8gMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpLCAnT2JqZWN0JywgeyBkZWZpbmVQcm9wZXJ0eTogcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZiB9KTtcbiIsIi8vIDE5LjEuMy4xOSBPYmplY3Quc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7IHNldFByb3RvdHlwZU9mOiByZXF1aXJlKCcuL19zZXQtcHJvdG8nKS5zZXQgfSk7XG4iLCIiLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKTtcbnZhciBmb3JPZiA9IHJlcXVpcmUoJy4vX2Zvci1vZicpO1xudmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vX3NwZWNpZXMtY29uc3RydWN0b3InKTtcbnZhciB0YXNrID0gcmVxdWlyZSgnLi9fdGFzaycpLnNldDtcbnZhciBtaWNyb3Rhc2sgPSByZXF1aXJlKCcuL19taWNyb3Rhc2snKSgpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlID0gcmVxdWlyZSgnLi9fbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xudmFyIHBlcmZvcm0gPSByZXF1aXJlKCcuL19wZXJmb3JtJyk7XG52YXIgcHJvbWlzZVJlc29sdmUgPSByZXF1aXJlKCcuL19wcm9taXNlLXJlc29sdmUnKTtcbnZhciBQUk9NSVNFID0gJ1Byb21pc2UnO1xudmFyIFR5cGVFcnJvciA9IGdsb2JhbC5UeXBlRXJyb3I7XG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyICRQcm9taXNlID0gZ2xvYmFsW1BST01JU0VdO1xudmFyIGlzTm9kZSA9IGNsYXNzb2YocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xudmFyIGVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIEludGVybmFsLCBuZXdHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHksIE93blByb21pc2VDYXBhYmlsaXR5LCBXcmFwcGVyO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZjtcblxudmFyIFVTRV9OQVRJVkUgPSAhIWZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICAvLyBjb3JyZWN0IHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnRcbiAgICB2YXIgcHJvbWlzZSA9ICRQcm9taXNlLnJlc29sdmUoMSk7XG4gICAgdmFyIEZha2VQcm9taXNlID0gKHByb21pc2UuY29uc3RydWN0b3IgPSB7fSlbcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKV0gPSBmdW5jdGlvbiAoZXhlYykge1xuICAgICAgZXhlYyhlbXB0eSwgZW1wdHkpO1xuICAgIH07XG4gICAgLy8gdW5oYW5kbGVkIHJlamVjdGlvbnMgdHJhY2tpbmcgc3VwcG9ydCwgTm9kZUpTIFByb21pc2Ugd2l0aG91dCBpdCBmYWlscyBAQHNwZWNpZXMgdGVzdFxuICAgIHJldHVybiAoaXNOb2RlIHx8IHR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQgPT0gJ2Z1bmN0aW9uJykgJiYgcHJvbWlzZS50aGVuKGVtcHR5KSBpbnN0YW5jZW9mIEZha2VQcm9taXNlO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbn0oKTtcblxuLy8gaGVscGVyc1xudmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgdHlwZW9mICh0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbn07XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24gKHByb21pc2UsIGlzUmVqZWN0KSB7XG4gIGlmIChwcm9taXNlLl9uKSByZXR1cm47XG4gIHByb21pc2UuX24gPSB0cnVlO1xuICB2YXIgY2hhaW4gPSBwcm9taXNlLl9jO1xuICBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3Y7XG4gICAgdmFyIG9rID0gcHJvbWlzZS5fcyA9PSAxO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgcnVuID0gZnVuY3Rpb24gKHJlYWN0aW9uKSB7XG4gICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsO1xuICAgICAgdmFyIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlO1xuICAgICAgdmFyIHJlamVjdCA9IHJlYWN0aW9uLnJlamVjdDtcbiAgICAgIHZhciBkb21haW4gPSByZWFjdGlvbi5kb21haW47XG4gICAgICB2YXIgcmVzdWx0LCB0aGVuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgICBpZiAocHJvbWlzZS5faCA9PSAyKSBvbkhhbmRsZVVuaGFuZGxlZChwcm9taXNlKTtcbiAgICAgICAgICAgIHByb21pc2UuX2ggPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGFuZGxlciA9PT0gdHJ1ZSkgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZG9tYWluKSBkb21haW4uZW50ZXIoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpO1xuICAgICAgICAgICAgaWYgKGRvbWFpbikgZG9tYWluLmV4aXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSkge1xuICAgICAgICAgICAgcmVqZWN0KFR5cGVFcnJvcignUHJvbWlzZS1jaGFpbiBjeWNsZScpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoZW4gPSBpc1RoZW5hYmxlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRoZW4uY2FsbChyZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHJlamVjdCh2YWx1ZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdoaWxlIChjaGFpbi5sZW5ndGggPiBpKSBydW4oY2hhaW5baSsrXSk7IC8vIHZhcmlhYmxlIGxlbmd0aCAtIGNhbid0IHVzZSBmb3JFYWNoXG4gICAgcHJvbWlzZS5fYyA9IFtdO1xuICAgIHByb21pc2UuX24gPSBmYWxzZTtcbiAgICBpZiAoaXNSZWplY3QgJiYgIXByb21pc2UuX2gpIG9uVW5oYW5kbGVkKHByb21pc2UpO1xuICB9KTtcbn07XG52YXIgb25VbmhhbmRsZWQgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdjtcbiAgICB2YXIgdW5oYW5kbGVkID0gaXNVbmhhbmRsZWQocHJvbWlzZSk7XG4gICAgdmFyIHJlc3VsdCwgaGFuZGxlciwgY29uc29sZTtcbiAgICBpZiAodW5oYW5kbGVkKSB7XG4gICAgICByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzTm9kZSkge1xuICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5oYW5kbGVkUmVqZWN0aW9uJywgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhbmRsZXIgPSBnbG9iYWwub251bmhhbmRsZWRyZWplY3Rpb24pIHtcbiAgICAgICAgICBoYW5kbGVyKHsgcHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiB2YWx1ZSB9KTtcbiAgICAgICAgfSBlbHNlIGlmICgoY29uc29sZSA9IGdsb2JhbC5jb25zb2xlKSAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkXG4gICAgICBwcm9taXNlLl9oID0gaXNOb2RlIHx8IGlzVW5oYW5kbGVkKHByb21pc2UpID8gMiA6IDE7XG4gICAgfSBwcm9taXNlLl9hID0gdW5kZWZpbmVkO1xuICAgIGlmICh1bmhhbmRsZWQgJiYgcmVzdWx0LmUpIHRocm93IHJlc3VsdC52O1xuICB9KTtcbn07XG52YXIgaXNVbmhhbmRsZWQgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICByZXR1cm4gcHJvbWlzZS5faCAhPT0gMSAmJiAocHJvbWlzZS5fYSB8fCBwcm9taXNlLl9jKS5sZW5ndGggPT09IDA7XG59O1xudmFyIG9uSGFuZGxlVW5oYW5kbGVkID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBoYW5kbGVyO1xuICAgIGlmIChpc05vZGUpIHtcbiAgICAgIHByb2Nlc3MuZW1pdCgncmVqZWN0aW9uSGFuZGxlZCcsIHByb21pc2UpO1xuICAgIH0gZWxzZSBpZiAoaGFuZGxlciA9IGdsb2JhbC5vbnJlamVjdGlvbmhhbmRsZWQpIHtcbiAgICAgIGhhbmRsZXIoeyBwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHByb21pc2UuX3YgfSk7XG4gICAgfVxuICB9KTtcbn07XG52YXIgJHJlamVjdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gIGlmIChwcm9taXNlLl9kKSByZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICBwcm9taXNlLl9zID0gMjtcbiAgaWYgKCFwcm9taXNlLl9hKSBwcm9taXNlLl9hID0gcHJvbWlzZS5fYy5zbGljZSgpO1xuICBub3RpZnkocHJvbWlzZSwgdHJ1ZSk7XG59O1xudmFyICRyZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHZhciBwcm9taXNlID0gdGhpcztcbiAgdmFyIHRoZW47XG4gIGlmIChwcm9taXNlLl9kKSByZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgdHJ5IHtcbiAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHRocm93IFR5cGVFcnJvcihcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO1xuICAgIGlmICh0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpIHtcbiAgICAgIG1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0geyBfdzogcHJvbWlzZSwgX2Q6IGZhbHNlIH07IC8vIHdyYXBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGN0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIGN0eCgkcmVqZWN0LCB3cmFwcGVyLCAxKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAkcmVqZWN0LmNhbGwod3JhcHBlciwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9taXNlLl92ID0gdmFsdWU7XG4gICAgICBwcm9taXNlLl9zID0gMTtcbiAgICAgIG5vdGlmeShwcm9taXNlLCBmYWxzZSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgJHJlamVjdC5jYWxsKHsgX3c6IHByb21pc2UsIF9kOiBmYWxzZSB9LCBlKTsgLy8gd3JhcFxuICB9XG59O1xuXG4vLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbFxuaWYgKCFVU0VfTkFUSVZFKSB7XG4gIC8vIDI1LjQuMy4xIFByb21pc2UoZXhlY3V0b3IpXG4gICRQcm9taXNlID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIGFuSW5zdGFuY2UodGhpcywgJFByb21pc2UsIFBST01JU0UsICdfaCcpO1xuICAgIGFGdW5jdGlvbihleGVjdXRvcik7XG4gICAgSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IoY3R4KCRyZXNvbHZlLCB0aGlzLCAxKSwgY3R4KCRyZWplY3QsIHRoaXMsIDEpKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICRyZWplY3QuY2FsbCh0aGlzLCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gIEludGVybmFsID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIHRoaXMuX2MgPSBbXTsgICAgICAgICAgICAgLy8gPC0gYXdhaXRpbmcgcmVhY3Rpb25zXG4gICAgdGhpcy5fYSA9IHVuZGVmaW5lZDsgICAgICAvLyA8LSBjaGVja2VkIGluIGlzVW5oYW5kbGVkIHJlYWN0aW9uc1xuICAgIHRoaXMuX3MgPSAwOyAgICAgICAgICAgICAgLy8gPC0gc3RhdGVcbiAgICB0aGlzLl9kID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIGRvbmVcbiAgICB0aGlzLl92ID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIHZhbHVlXG4gICAgdGhpcy5faCA9IDA7ICAgICAgICAgICAgICAvLyA8LSByZWplY3Rpb24gc3RhdGUsIDAgLSBkZWZhdWx0LCAxIC0gaGFuZGxlZCwgMiAtIHVuaGFuZGxlZFxuICAgIHRoaXMuX24gPSBmYWxzZTsgICAgICAgICAgLy8gPC0gbm90aWZ5XG4gIH07XG4gIEludGVybmFsLnByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lLWFsbCcpKCRQcm9taXNlLnByb3RvdHlwZSwge1xuICAgIC8vIDI1LjQuNS4zIFByb21pc2UucHJvdG90eXBlLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpXG4gICAgdGhlbjogZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgdmFyIHJlYWN0aW9uID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsICRQcm9taXNlKSk7XG4gICAgICByZWFjdGlvbi5vayA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiB0cnVlO1xuICAgICAgcmVhY3Rpb24uZmFpbCA9IHR5cGVvZiBvblJlamVjdGVkID09ICdmdW5jdGlvbicgJiYgb25SZWplY3RlZDtcbiAgICAgIHJlYWN0aW9uLmRvbWFpbiA9IGlzTm9kZSA/IHByb2Nlc3MuZG9tYWluIDogdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fYy5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIGlmICh0aGlzLl9hKSB0aGlzLl9hLnB1c2gocmVhY3Rpb24pO1xuICAgICAgaWYgKHRoaXMuX3MpIG5vdGlmeSh0aGlzLCBmYWxzZSk7XG4gICAgICByZXR1cm4gcmVhY3Rpb24ucHJvbWlzZTtcbiAgICB9LFxuICAgIC8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpXG4gICAgJ2NhdGNoJzogZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH0pO1xuICBPd25Qcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBJbnRlcm5hbCgpO1xuICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgdGhpcy5yZXNvbHZlID0gY3R4KCRyZXNvbHZlLCBwcm9taXNlLCAxKTtcbiAgICB0aGlzLnJlamVjdCA9IGN0eCgkcmVqZWN0LCBwcm9taXNlLCAxKTtcbiAgfTtcbiAgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZiA9IG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24gKEMpIHtcbiAgICByZXR1cm4gQyA9PT0gJFByb21pc2UgfHwgQyA9PT0gV3JhcHBlclxuICAgICAgPyBuZXcgT3duUHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICAgIDogbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7IFByb21pc2U6ICRQcm9taXNlIH0pO1xucmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKSgkUHJvbWlzZSwgUFJPTUlTRSk7XG5yZXF1aXJlKCcuL19zZXQtc3BlY2llcycpKFBST01JU0UpO1xuV3JhcHBlciA9IHJlcXVpcmUoJy4vX2NvcmUnKVtQUk9NSVNFXTtcblxuLy8gc3RhdGljc1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNSBQcm9taXNlLnJlamVjdChyKVxuICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKSB7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKTtcbiAgICB2YXIgJCRyZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICAkJHJlamVjdChyKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKExJQlJBUlkgfHwgIVVTRV9OQVRJVkUpLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC42IFByb21pc2UucmVzb2x2ZSh4KVxuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoTElCUkFSWSAmJiB0aGlzID09PSBXcmFwcGVyID8gJFByb21pc2UgOiB0aGlzLCB4KTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICEoVVNFX05BVElWRSAmJiByZXF1aXJlKCcuL19pdGVyLWRldGVjdCcpKGZ1bmN0aW9uIChpdGVyKSB7XG4gICRQcm9taXNlLmFsbChpdGVyKVsnY2F0Y2gnXShlbXB0eSk7XG59KSksIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpXG4gIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKSB7XG4gICAgdmFyIEMgPSB0aGlzO1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQyk7XG4gICAgdmFyIHJlc29sdmUgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgdmFyIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgIHZhciByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgcmVtYWluaW5nID0gMTtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgdmFyICRpbmRleCA9IGluZGV4Kys7XG4gICAgICAgIHZhciBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZCkgcmV0dXJuO1xuICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1skaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5lKSByZWplY3QocmVzdWx0LnYpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH0sXG4gIC8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSlcbiAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSkge1xuICAgIHZhciBDID0gdGhpcztcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQuZSkgcmVqZWN0KHJlc3VsdC52KTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbiAoaXRlcmF0ZWQpIHtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgTyA9IHRoaXMuX3Q7XG4gIHZhciBpbmRleCA9IHRoaXMuX2k7XG4gIHZhciBwb2ludDtcbiAgaWYgKGluZGV4ID49IE8ubGVuZ3RoKSByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7IHZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2UgfTtcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbVxudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIE1FVEEgPSByZXF1aXJlKCcuL19tZXRhJykuS0VZO1xudmFyICRmYWlscyA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4vX3VpZCcpO1xudmFyIHdrcyA9IHJlcXVpcmUoJy4vX3drcycpO1xudmFyIHdrc0V4dCA9IHJlcXVpcmUoJy4vX3drcy1leHQnKTtcbnZhciB3a3NEZWZpbmUgPSByZXF1aXJlKCcuL193a3MtZGVmaW5lJyk7XG52YXIgZW51bUtleXMgPSByZXF1aXJlKCcuL19lbnVtLWtleXMnKTtcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi9faXMtYXJyYXknKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbnZhciBfY3JlYXRlID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpO1xudmFyIGdPUE5FeHQgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbi1leHQnKTtcbnZhciAkR09QRCA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJyk7XG52YXIgJERQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgJGtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xudmFyIGdPUEQgPSAkR09QRC5mO1xudmFyIGRQID0gJERQLmY7XG52YXIgZ09QTiA9IGdPUE5FeHQuZjtcbnZhciAkU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcbnZhciAkSlNPTiA9IGdsb2JhbC5KU09OO1xudmFyIF9zdHJpbmdpZnkgPSAkSlNPTiAmJiAkSlNPTi5zdHJpbmdpZnk7XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG52YXIgSElEREVOID0gd2tzKCdfaGlkZGVuJyk7XG52YXIgVE9fUFJJTUlUSVZFID0gd2tzKCd0b1ByaW1pdGl2ZScpO1xudmFyIGlzRW51bSA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIFN5bWJvbFJlZ2lzdHJ5ID0gc2hhcmVkKCdzeW1ib2wtcmVnaXN0cnknKTtcbnZhciBBbGxTeW1ib2xzID0gc2hhcmVkKCdzeW1ib2xzJyk7XG52YXIgT1BTeW1ib2xzID0gc2hhcmVkKCdvcC1zeW1ib2xzJyk7XG52YXIgT2JqZWN0UHJvdG8gPSBPYmplY3RbUFJPVE9UWVBFXTtcbnZhciBVU0VfTkFUSVZFID0gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcbnZhciBRT2JqZWN0ID0gZ2xvYmFsLlFPYmplY3Q7XG4vLyBEb24ndCB1c2Ugc2V0dGVycyBpbiBRdCBTY3JpcHQsIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xNzNcbnZhciBzZXR0ZXIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkO1xuXG4vLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWQsIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD02ODdcbnZhciBzZXRTeW1ib2xEZXNjID0gREVTQ1JJUFRPUlMgJiYgJGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIF9jcmVhdGUoZFAoe30sICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZFAodGhpcywgJ2EnLCB7IHZhbHVlOiA3IH0pLmE7IH1cbiAgfSkpLmEgIT0gNztcbn0pID8gZnVuY3Rpb24gKGl0LCBrZXksIEQpIHtcbiAgdmFyIHByb3RvRGVzYyA9IGdPUEQoT2JqZWN0UHJvdG8sIGtleSk7XG4gIGlmIChwcm90b0Rlc2MpIGRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuICBkUChpdCwga2V5LCBEKTtcbiAgaWYgKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pIGRQKE9iamVjdFByb3RvLCBrZXksIHByb3RvRGVzYyk7XG59IDogZFA7XG5cbnZhciB3cmFwID0gZnVuY3Rpb24gKHRhZykge1xuICB2YXIgc3ltID0gQWxsU3ltYm9sc1t0YWddID0gX2NyZWF0ZSgkU3ltYm9sW1BST1RPVFlQRV0pO1xuICBzeW0uX2sgPSB0YWc7XG4gIHJldHVybiBzeW07XG59O1xuXG52YXIgaXNTeW1ib2wgPSBVU0VfTkFUSVZFICYmIHR5cGVvZiAkU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnID8gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG59IDogZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCBpbnN0YW5jZW9mICRTeW1ib2w7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgRCkge1xuICBpZiAoaXQgPT09IE9iamVjdFByb3RvKSAkZGVmaW5lUHJvcGVydHkoT1BTeW1ib2xzLCBrZXksIEQpO1xuICBhbk9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEQpO1xuICBpZiAoaGFzKEFsbFN5bWJvbHMsIGtleSkpIHtcbiAgICBpZiAoIUQuZW51bWVyYWJsZSkge1xuICAgICAgaWYgKCFoYXMoaXQsIEhJRERFTikpIGRQKGl0LCBISURERU4sIGNyZWF0ZURlc2MoMSwge30pKTtcbiAgICAgIGl0W0hJRERFTl1ba2V5XSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSBpdFtISURERU5dW2tleV0gPSBmYWxzZTtcbiAgICAgIEQgPSBfY3JlYXRlKEQsIHsgZW51bWVyYWJsZTogY3JlYXRlRGVzYygwLCBmYWxzZSkgfSk7XG4gICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcbiAgfSByZXR1cm4gZFAoaXQsIGtleSwgRCk7XG59O1xudmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCkge1xuICBhbk9iamVjdChpdCk7XG4gIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSk7XG4gIHZhciBpID0gMDtcbiAgdmFyIGwgPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKGwgPiBpKSAkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKSB7XG4gIHJldHVybiBQID09PSB1bmRlZmluZWQgPyBfY3JlYXRlKGl0KSA6ICRkZWZpbmVQcm9wZXJ0aWVzKF9jcmVhdGUoaXQpLCBQKTtcbn07XG52YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoa2V5KSB7XG4gIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKSk7XG4gIGlmICh0aGlzID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldID8gRSA6IHRydWU7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSkge1xuICBpdCA9IHRvSU9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGlmIChpdCA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpIHJldHVybjtcbiAgdmFyIEQgPSBnT1BEKGl0LCBrZXkpO1xuICBpZiAoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKSBELmVudW1lcmFibGUgPSB0cnVlO1xuICByZXR1cm4gRDtcbn07XG52YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KSB7XG4gIHZhciBuYW1lcyA9IGdPUE4odG9JT2JqZWN0KGl0KSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGkgPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkge1xuICAgIGlmICghaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIGtleSAhPSBISURERU4gJiYga2V5ICE9IE1FVEEpIHJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCkge1xuICB2YXIgSVNfT1AgPSBpdCA9PT0gT2JqZWN0UHJvdG87XG4gIHZhciBuYW1lcyA9IGdPUE4oSVNfT1AgPyBPUFN5bWJvbHMgOiB0b0lPYmplY3QoaXQpKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgaSA9IDA7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSB7XG4gICAgaWYgKGhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiAoSVNfT1AgPyBoYXMoT2JqZWN0UHJvdG8sIGtleSkgOiB0cnVlKSkgcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5pZiAoIVVTRV9OQVRJVkUpIHtcbiAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpIHRocm93IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIScpO1xuICAgIHZhciB0YWcgPSB1aWQoYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuICAgIHZhciAkc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG8pICRzZXQuY2FsbChPUFN5bWJvbHMsIHZhbHVlKTtcbiAgICAgIGlmIChoYXModGhpcywgSElEREVOKSAmJiBoYXModGhpc1tISURERU5dLCB0YWcpKSB0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgc2V0U3ltYm9sRGVzYyh0aGlzLCB0YWcsIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbiAgICB9O1xuICAgIGlmIChERVNDUklQVE9SUyAmJiBzZXR0ZXIpIHNldFN5bWJvbERlc2MoT2JqZWN0UHJvdG8sIHRhZywgeyBjb25maWd1cmFibGU6IHRydWUsIHNldDogJHNldCB9KTtcbiAgICByZXR1cm4gd3JhcCh0YWcpO1xuICB9O1xuICByZWRlZmluZSgkU3ltYm9sW1BST1RPVFlQRV0sICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9rO1xuICB9KTtcblxuICAkR09QRC5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgJERQLmYgPSAkZGVmaW5lUHJvcGVydHk7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZiA9IGdPUE5FeHQuZiA9ICRnZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICByZXF1aXJlKCcuL19vYmplY3QtcGllJykuZiA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZiAoREVTQ1JJUFRPUlMgJiYgIXJlcXVpcmUoJy4vX2xpYnJhcnknKSkge1xuICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG5cbiAgd2tzRXh0LmYgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG4gIH07XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHsgU3ltYm9sOiAkU3ltYm9sIH0pO1xuXG5mb3IgKHZhciBlczZTeW1ib2xzID0gKFxuICAvLyAxOS40LjIuMiwgMTkuNC4yLjMsIDE5LjQuMi40LCAxOS40LjIuNiwgMTkuNC4yLjgsIDE5LjQuMi45LCAxOS40LjIuMTAsIDE5LjQuMi4xMSwgMTkuNC4yLjEyLCAxOS40LjIuMTMsIDE5LjQuMi4xNFxuICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG4pLnNwbGl0KCcsJyksIGogPSAwOyBlczZTeW1ib2xzLmxlbmd0aCA+IGo7KXdrcyhlczZTeW1ib2xzW2orK10pO1xuXG5mb3IgKHZhciB3ZWxsS25vd25TeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgayA9IDA7IHdlbGxLbm93blN5bWJvbHMubGVuZ3RoID4gazspIHdrc0RlZmluZSh3ZWxsS25vd25TeW1ib2xzW2srK10pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnU3ltYm9sJywge1xuICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcbiAgJ2Zvcic6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKHN5bSkge1xuICAgIGlmICghaXNTeW1ib2woc3ltKSkgdGhyb3cgVHlwZUVycm9yKHN5bSArICcgaXMgbm90IGEgc3ltYm9sIScpO1xuICAgIGZvciAodmFyIGtleSBpbiBTeW1ib2xSZWdpc3RyeSkgaWYgKFN5bWJvbFJlZ2lzdHJ5W2tleV0gPT09IHN5bSkgcmV0dXJuIGtleTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbiAoKSB7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24gKCkgeyBzZXR0ZXIgPSBmYWxzZTsgfVxufSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcbiRKU09OICYmICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCFVU0VfTkFUSVZFIHx8ICRmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBTID0gJFN5bWJvbCgpO1xuICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHsgYTogUyB9KSAhPSAne30nIHx8IF9zdHJpbmdpZnkoT2JqZWN0KFMpKSAhPSAne30nO1xufSkpLCAnSlNPTicsIHtcbiAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpIHtcbiAgICB2YXIgYXJncyA9IFtpdF07XG4gICAgdmFyIGkgPSAxO1xuICAgIHZhciByZXBsYWNlciwgJHJlcGxhY2VyO1xuICAgIHdoaWxlIChhcmd1bWVudHMubGVuZ3RoID4gaSkgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICAkcmVwbGFjZXIgPSByZXBsYWNlciA9IGFyZ3NbMV07XG4gICAgaWYgKCFpc09iamVjdChyZXBsYWNlcikgJiYgaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpIHJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuICAgIGlmICghaXNBcnJheShyZXBsYWNlcikpIHJlcGxhY2VyID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgJHJlcGxhY2VyID09ICdmdW5jdGlvbicpIHZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICBpZiAoIWlzU3ltYm9sKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgYXJnc1sxXSA9IHJlcGxhY2VyO1xuICAgIHJldHVybiBfc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmdzKTtcbiAgfVxufSk7XG5cbi8vIDE5LjQuMy40IFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV0oaGludClcbiRTeW1ib2xbUFJPVE9UWVBFXVtUT19QUklNSVRJVkVdIHx8IHJlcXVpcmUoJy4vX2hpZGUnKSgkU3ltYm9sW1BST1RPVFlQRV0sIFRPX1BSSU1JVElWRSwgJFN5bWJvbFtQUk9UT1RZUEVdLnZhbHVlT2YpO1xuLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoJFN5bWJvbCwgJ1N5bWJvbCcpO1xuLy8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcbi8vIDI0LjMuMyBKU09OW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcbiIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXByb21pc2UtZmluYWxseVxuJ3VzZSBzdHJpY3QnO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vX3NwZWNpZXMtY29uc3RydWN0b3InKTtcbnZhciBwcm9taXNlUmVzb2x2ZSA9IHJlcXVpcmUoJy4vX3Byb21pc2UtcmVzb2x2ZScpO1xuXG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuUiwgJ1Byb21pc2UnLCB7ICdmaW5hbGx5JzogZnVuY3Rpb24gKG9uRmluYWxseSkge1xuICB2YXIgQyA9IHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCBjb3JlLlByb21pc2UgfHwgZ2xvYmFsLlByb21pc2UpO1xuICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiBvbkZpbmFsbHkgPT0gJ2Z1bmN0aW9uJztcbiAgcmV0dXJuIHRoaXMudGhlbihcbiAgICBpc0Z1bmN0aW9uID8gZnVuY3Rpb24gKHgpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZShDLCBvbkZpbmFsbHkoKSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB4OyB9KTtcbiAgICB9IDogb25GaW5hbGx5LFxuICAgIGlzRnVuY3Rpb24gPyBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKEMsIG9uRmluYWxseSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgdGhyb3cgZTsgfSk7XG4gICAgfSA6IG9uRmluYWxseVxuICApO1xufSB9KTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXByb21pc2UtdHJ5XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gcmVxdWlyZSgnLi9fbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xudmFyIHBlcmZvcm0gPSByZXF1aXJlKCcuL19wZXJmb3JtJyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnUHJvbWlzZScsIHsgJ3RyeSc6IGZ1bmN0aW9uIChjYWxsYmFja2ZuKSB7XG4gIHZhciBwcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5LmYodGhpcyk7XG4gIHZhciByZXN1bHQgPSBwZXJmb3JtKGNhbGxiYWNrZm4pO1xuICAocmVzdWx0LmUgPyBwcm9taXNlQ2FwYWJpbGl0eS5yZWplY3QgOiBwcm9taXNlQ2FwYWJpbGl0eS5yZXNvbHZlKShyZXN1bHQudik7XG4gIHJldHVybiBwcm9taXNlQ2FwYWJpbGl0eS5wcm9taXNlO1xufSB9KTtcbiIsInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnYXN5bmNJdGVyYXRvcicpO1xuIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdvYnNlcnZhYmxlJyk7XG4iLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgVE9fU1RSSU5HX1RBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG52YXIgRE9NSXRlcmFibGVzID0gKCdDU1NSdWxlTGlzdCxDU1NTdHlsZURlY2xhcmF0aW9uLENTU1ZhbHVlTGlzdCxDbGllbnRSZWN0TGlzdCxET01SZWN0TGlzdCxET01TdHJpbmdMaXN0LCcgK1xuICAnRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCwnICtcbiAgJ01lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsJyArXG4gICdTVkdQYXRoU2VnTGlzdCxTVkdQb2ludExpc3QsU1ZHU3RyaW5nTGlzdCxTVkdUcmFuc2Zvcm1MaXN0LFNvdXJjZUJ1ZmZlckxpc3QsU3R5bGVTaGVldExpc3QsVGV4dFRyYWNrQ3VlTGlzdCwnICtcbiAgJ1RleHRUcmFja0xpc3QsVG91Y2hMaXN0Jykuc3BsaXQoJywnKTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBET01JdGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgdmFyIE5BTUUgPSBET01JdGVyYWJsZXNbaV07XG4gIHZhciBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdO1xuICB2YXIgcHJvdG8gPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICBpZiAocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKSBoaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xufVxuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlIHx8IG9iamVjdENyZWF0ZVBvbHlmaWxsXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IG9iamVjdEtleXNQb2x5ZmlsbFxudmFyIGJpbmQgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCB8fCBmdW5jdGlvbkJpbmRQb2x5ZmlsbFxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywgJ19ldmVudHMnKSkge1xuICAgIHRoaXMuX2V2ZW50cyA9IG9iamVjdENyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG52YXIgaGFzRGVmaW5lUHJvcGVydHk7XG50cnkge1xuICB2YXIgbyA9IHt9O1xuICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgJ3gnLCB7IHZhbHVlOiAwIH0pO1xuICBoYXNEZWZpbmVQcm9wZXJ0eSA9IG8ueCA9PT0gMDtcbn0gY2F0Y2ggKGVycikgeyBoYXNEZWZpbmVQcm9wZXJ0eSA9IGZhbHNlIH1cbmlmIChoYXNEZWZpbmVQcm9wZXJ0eSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgICAvLyBjaGVjayB3aGV0aGVyIHRoZSBpbnB1dCBpcyBhIHBvc2l0aXZlIG51bWJlciAod2hvc2UgdmFsdWUgaXMgemVybyBvclxuICAgICAgLy8gZ3JlYXRlciBhbmQgbm90IGEgTmFOKS5cbiAgICAgIGlmICh0eXBlb2YgYXJnICE9PSAnbnVtYmVyJyB8fCBhcmcgPCAwIHx8IGFyZyAhPT0gYXJnKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gICAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICAgIH1cbiAgfSk7XG59IGVsc2Uge1xuICBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG59XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycyhuKSB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgbiA8IDAgfHwgaXNOYU4obikpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJuXCIgYXJndW1lbnQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uICRnZXRNYXhMaXN0ZW5lcnModGhhdCkge1xuICBpZiAodGhhdC5fbWF4TGlzdGVuZXJzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICByZXR1cm4gdGhhdC5fbWF4TGlzdGVuZXJzO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuICRnZXRNYXhMaXN0ZW5lcnModGhpcyk7XG59O1xuXG4vLyBUaGVzZSBzdGFuZGFsb25lIGVtaXQqIGZ1bmN0aW9ucyBhcmUgdXNlZCB0byBvcHRpbWl6ZSBjYWxsaW5nIG9mIGV2ZW50XG4vLyBoYW5kbGVycyBmb3IgZmFzdCBjYXNlcyBiZWNhdXNlIGVtaXQoKSBpdHNlbGYgb2Z0ZW4gaGFzIGEgdmFyaWFibGUgbnVtYmVyIG9mXG4vLyBhcmd1bWVudHMgYW5kIGNhbiBiZSBkZW9wdGltaXplZCBiZWNhdXNlIG9mIHRoYXQuIFRoZXNlIGZ1bmN0aW9ucyBhbHdheXMgaGF2ZVxuLy8gdGhlIHNhbWUgbnVtYmVyIG9mIGFyZ3VtZW50cyBhbmQgdGh1cyBkbyBub3QgZ2V0IGRlb3B0aW1pemVkLCBzbyB0aGUgY29kZVxuLy8gaW5zaWRlIHRoZW0gY2FuIGV4ZWN1dGUgZmFzdGVyLlxuZnVuY3Rpb24gZW1pdE5vbmUoaGFuZGxlciwgaXNGbiwgc2VsZikge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmNhbGwoc2VsZik7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uY2FsbChzZWxmKTtcbiAgfVxufVxuZnVuY3Rpb24gZW1pdE9uZShoYW5kbGVyLCBpc0ZuLCBzZWxmLCBhcmcxKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuY2FsbChzZWxmLCBhcmcxKTtcbiAgZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIGxpc3RlbmVyc1tpXS5jYWxsKHNlbGYsIGFyZzEpO1xuICB9XG59XG5mdW5jdGlvbiBlbWl0VHdvKGhhbmRsZXIsIGlzRm4sIHNlbGYsIGFyZzEsIGFyZzIpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5jYWxsKHNlbGYsIGFyZzEsIGFyZzIpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmNhbGwoc2VsZiwgYXJnMSwgYXJnMik7XG4gIH1cbn1cbmZ1bmN0aW9uIGVtaXRUaHJlZShoYW5kbGVyLCBpc0ZuLCBzZWxmLCBhcmcxLCBhcmcyLCBhcmczKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuY2FsbChzZWxmLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIGxpc3RlbmVyc1tpXS5jYWxsKHNlbGYsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVtaXRNYW55KGhhbmRsZXIsIGlzRm4sIHNlbGYsIGFyZ3MpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5hcHBseShzZWxmLCBhcmdzKTtcbiAgZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseShzZWxmLCBhcmdzKTtcbiAgfVxufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGV2ZW50cztcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICBpZiAoZXZlbnRzKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT0gbnVsbCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKVxuICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmhhbmRsZWQgXCJlcnJvclwiIGV2ZW50LiAoJyArIGVyICsgJyknKTtcbiAgICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKCFoYW5kbGVyKVxuICAgIHJldHVybiBmYWxzZTtcblxuICB2YXIgaXNGbiA9IHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nO1xuICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICBzd2l0Y2ggKGxlbikge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgIGNhc2UgMTpcbiAgICAgIGVtaXROb25lKGhhbmRsZXIsIGlzRm4sIHRoaXMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAyOlxuICAgICAgZW1pdE9uZShoYW5kbGVyLCBpc0ZuLCB0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAzOlxuICAgICAgZW1pdFR3byhoYW5kbGVyLCBpc0ZuLCB0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQ6XG4gICAgICBlbWl0VGhyZWUoaGFuZGxlciwgaXNGbiwgdGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSk7XG4gICAgICBicmVhaztcbiAgICAgIC8vIHNsb3dlclxuICAgIGRlZmF1bHQ6XG4gICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgICAgZm9yIChpID0gMTsgaSA8IGxlbjsgaSsrKVxuICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGVtaXRNYW55KGhhbmRsZXIsIGlzRm4sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoIWV2ZW50cykge1xuICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzID0gb2JqZWN0Q3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIpIHtcbiAgICAgIHRhcmdldC5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKCFleGlzdGluZykge1xuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgKyt0YXJnZXQuX2V2ZW50c0NvdW50O1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPVxuICAgICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgICBpZiAocHJlcGVuZCkge1xuICAgICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgaWYgKCFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIG0gPSAkZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCk7XG4gICAgICBpZiAobSAmJiBtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtKSB7XG4gICAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAgIHZhciB3ID0gbmV3IEVycm9yKCdQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICcgK1xuICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyBcIicgKyBTdHJpbmcodHlwZSkgKyAnXCIgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgJ2FkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byAnICtcbiAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdC4nKTtcbiAgICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICAgIHcuZW1pdHRlciA9IHRhcmdldDtcbiAgICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSAnb2JqZWN0JyAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJyVzOiAlcycsIHcubmFtZSwgdy5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfTtcblxuZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gIGlmICghdGhpcy5maXJlZCkge1xuICAgIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSwgdGhpcy53cmFwRm4pO1xuICAgIHRoaXMuZmlyZWQgPSB0cnVlO1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCwgYXJndW1lbnRzWzBdKTtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCwgYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0pO1xuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0LCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSxcbiAgICAgICAgICAgIGFyZ3VtZW50c1syXSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKVxuICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIHRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsIGFyZ3MpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBiaW5kLmNhbGwob25jZVdyYXBwZXIsIHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgIHRoaXMucHJlcGVuZExpc3RlbmVyKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuLy8gRW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmIGFuZCBvbmx5IGlmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoIWV2ZW50cylcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgICBpZiAoIWxpc3QpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gb2JqZWN0Q3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgIGV2ZW50c1t0eXBlXSA9IGxpc3RbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoIWV2ZW50cylcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmICghZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gb2JqZWN0Q3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0pIHtcbiAgICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IG9iamVjdENyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gb2JqZWN0S2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gb2JqZWN0Q3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgdmFyIGV2bGlzdGVuZXI7XG4gIHZhciByZXQ7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKCFldmVudHMpXG4gICAgcmV0ID0gW107XG4gIGVsc2Uge1xuICAgIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gICAgaWYgKCFldmxpc3RlbmVyKVxuICAgICAgcmV0ID0gW107XG4gICAgZWxzZSBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgICByZXQgPSBbZXZsaXN0ZW5lci5saXN0ZW5lciB8fCBldmxpc3RlbmVyXTtcbiAgICBlbHNlXG4gICAgICByZXQgPSB1bndyYXBMaXN0ZW5lcnMoZXZsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5saXN0ZW5lckNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGlzdGVuZXJDb3VudC5jYWxsKGVtaXR0ZXIsIHR5cGUpO1xuICB9XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCh0eXBlKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3Qub3duS2V5cyh0aGlzLl9ldmVudHMpIDogW107XG59O1xuXG4vLyBBYm91dCAxLjV4IGZhc3RlciB0aGFuIHRoZSB0d28tYXJnIHZlcnNpb24gb2YgQXJyYXkjc3BsaWNlKCkuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICh2YXIgaSA9IGluZGV4LCBrID0gaSArIDEsIG4gPSBsaXN0Lmxlbmd0aDsgayA8IG47IGkgKz0gMSwgayArPSAxKVxuICAgIGxpc3RbaV0gPSBsaXN0W2tdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiBhcnJheUNsb25lKGFyciwgbikge1xuICB2YXIgY29weSA9IG5ldyBBcnJheShuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpXG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgcmV0dXJuIGNvcHk7XG59XG5cbmZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyhhcnIpIHtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyArK2kpIHtcbiAgICByZXRbaV0gPSBhcnJbaV0ubGlzdGVuZXIgfHwgYXJyW2ldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIG9iamVjdENyZWF0ZVBvbHlmaWxsKHByb3RvKSB7XG4gIHZhciBGID0gZnVuY3Rpb24oKSB7fTtcbiAgRi5wcm90b3R5cGUgPSBwcm90bztcbiAgcmV0dXJuIG5ldyBGO1xufVxuZnVuY3Rpb24gb2JqZWN0S2V5c1BvbHlmaWxsKG9iaikge1xuICB2YXIga2V5cyA9IFtdO1xuICBmb3IgKHZhciBrIGluIG9iaikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGspKSB7XG4gICAga2V5cy5wdXNoKGspO1xuICB9XG4gIHJldHVybiBrO1xufVxuZnVuY3Rpb24gZnVuY3Rpb25CaW5kUG9seWZpbGwoY29udGV4dCkge1xuICB2YXIgZm4gPSB0aGlzO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICB9O1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4vLyBUaGlzIG1ldGhvZCBvZiBvYnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QgbmVlZHMgdG8gYmVcbi8vIGtlcHQgaWRlbnRpY2FsIHRvIHRoZSB3YXkgaXQgaXMgb2J0YWluZWQgaW4gcnVudGltZS5qc1xudmFyIGcgPSAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzIH0pKCkgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xuXG4vLyBVc2UgYGdldE93blByb3BlcnR5TmFtZXNgIGJlY2F1c2Ugbm90IGFsbCBicm93c2VycyBzdXBwb3J0IGNhbGxpbmdcbi8vIGBoYXNPd25Qcm9wZXJ0eWAgb24gdGhlIGdsb2JhbCBgc2VsZmAgb2JqZWN0IGluIGEgd29ya2VyLiBTZWUgIzE4My5cbnZhciBoYWRSdW50aW1lID0gZy5yZWdlbmVyYXRvclJ1bnRpbWUgJiZcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZykuaW5kZXhPZihcInJlZ2VuZXJhdG9yUnVudGltZVwiKSA+PSAwO1xuXG4vLyBTYXZlIHRoZSBvbGQgcmVnZW5lcmF0b3JSdW50aW1lIGluIGNhc2UgaXQgbmVlZHMgdG8gYmUgcmVzdG9yZWQgbGF0ZXIuXG52YXIgb2xkUnVudGltZSA9IGhhZFJ1bnRpbWUgJiYgZy5yZWdlbmVyYXRvclJ1bnRpbWU7XG5cbi8vIEZvcmNlIHJlZXZhbHV0YXRpb24gb2YgcnVudGltZS5qcy5cbmcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3J1bnRpbWVcIik7XG5cbmlmIChoYWRSdW50aW1lKSB7XG4gIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHJ1bnRpbWUuXG4gIGcucmVnZW5lcmF0b3JSdW50aW1lID0gb2xkUnVudGltZTtcbn0gZWxzZSB7XG4gIC8vIFJlbW92ZSB0aGUgZ2xvYmFsIHByb3BlcnR5IGFkZGVkIGJ5IHJ1bnRpbWUuanMuXG4gIHRyeSB7XG4gICAgZGVsZXRlIGcucmVnZW5lcmF0b3JSdW50aW1lO1xuICB9IGNhdGNoKGUpIHtcbiAgICBnLnJlZ2VuZXJhdG9yUnVudGltZSA9IHVuZGVmaW5lZDtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4hKGZ1bmN0aW9uKGdsb2JhbCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIHZhciBpbk1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCI7XG4gIHZhciBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZTtcbiAgaWYgKHJ1bnRpbWUpIHtcbiAgICBpZiAoaW5Nb2R1bGUpIHtcbiAgICAgIC8vIElmIHJlZ2VuZXJhdG9yUnVudGltZSBpcyBkZWZpbmVkIGdsb2JhbGx5IGFuZCB3ZSdyZSBpbiBhIG1vZHVsZSxcbiAgICAgIC8vIG1ha2UgdGhlIGV4cG9ydHMgb2JqZWN0IGlkZW50aWNhbCB0byByZWdlbmVyYXRvclJ1bnRpbWUuXG4gICAgICBtb2R1bGUuZXhwb3J0cyA9IHJ1bnRpbWU7XG4gICAgfVxuICAgIC8vIERvbid0IGJvdGhlciBldmFsdWF0aW5nIHRoZSByZXN0IG9mIHRoaXMgZmlsZSBpZiB0aGUgcnVudGltZSB3YXNcbiAgICAvLyBhbHJlYWR5IGRlZmluZWQgZ2xvYmFsbHkuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRGVmaW5lIHRoZSBydW50aW1lIGdsb2JhbGx5IChhcyBleHBlY3RlZCBieSBnZW5lcmF0ZWQgY29kZSkgYXMgZWl0aGVyXG4gIC8vIG1vZHVsZS5leHBvcnRzIChpZiB3ZSdyZSBpbiBhIG1vZHVsZSkgb3IgYSBuZXcsIGVtcHR5IG9iamVjdC5cbiAgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWUgPSBpbk1vZHVsZSA/IG1vZHVsZS5leHBvcnRzIDoge307XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgcnVudGltZS53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdG9TdHJpbmdUYWdTeW1ib2xdID1cbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBydW50aW1lLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHtcbiAgICAgICAgZ2VuRnVuW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgcnVudGltZS5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGVcbiAgICAgICAgICAvLyByZXN1bHQgZm9yIHRoaXMgaXRlcmF0aW9uIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCB0aGUgc2FtZVxuICAgICAgICAgIC8vIHJlYXNvbi4gTm90ZSB0aGF0IHJlamVjdGlvbnMgb2YgeWllbGRlZCBQcm9taXNlcyBhcmUgbm90XG4gICAgICAgICAgLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZVxuICAgICAgICAgIC8vIHdoZW4gYW4gYXdhaXRlZCBQcm9taXNlIGlzIHJlamVjdGVkLiBUaGlzIGRpZmZlcmVuY2UgaW5cbiAgICAgICAgICAvLyBiZWhhdmlvciBiZXR3ZWVuIHlpZWxkIGFuZCBhd2FpdCBpcyBpbXBvcnRhbnQsIGJlY2F1c2UgaXRcbiAgICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWRcbiAgICAgICAgICAvLyByZWplY3Rpb24gKHN3YWxsb3cgaXQgYW5kIGNvbnRpbnVlLCBtYW51YWxseSAudGhyb3cgaXQgYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGdlbmVyYXRvciwgYWJhbmRvbiBpdGVyYXRpb24sIHdoYXRldmVyKS4gV2l0aFxuICAgICAgICAgIC8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGVcbiAgICAgICAgICAvLyByZWplY3Rpb24gcmVhc29uIG91dHNpZGUgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiwgc28gdGhlXG4gICAgICAgICAgLy8gb25seSBvcHRpb24gaXMgdG8gdGhyb3cgaXQgZnJvbSB0aGUgYXdhaXQgZXhwcmVzc2lvbiwgYW5kXG4gICAgICAgICAgLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBydW50aW1lLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBydW50aW1lLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdClcbiAgICApO1xuXG4gICAgcmV0dXJuIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvclwiO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBydW50aW1lLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xufSkoXG4gIC8vIEluIHNsb3BweSBtb2RlLCB1bmJvdW5kIGB0aGlzYCByZWZlcnMgdG8gdGhlIGdsb2JhbCBvYmplY3QsIGZhbGxiYWNrIHRvXG4gIC8vIEZ1bmN0aW9uIGNvbnN0cnVjdG9yIGlmIHdlJ3JlIGluIGdsb2JhbCBzdHJpY3QgbW9kZS4gVGhhdCBpcyBzYWRseSBhIGZvcm1cbiAgLy8gb2YgaW5kaXJlY3QgZXZhbCB3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeS5cbiAgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcyB9KSgpIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKVxuKTtcbiIsInZhciB2MSA9IHJlcXVpcmUoJy4vdjEnKTtcbnZhciB2NCA9IHJlcXVpcmUoJy4vdjQnKTtcblxudmFyIHV1aWQgPSB2NDtcbnV1aWQudjEgPSB2MTtcbnV1aWQudjQgPSB2NDtcblxubW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuIiwiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIHJldHVybiBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgJy0nICtcbiAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArICctJyArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICtcbiAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnl0ZXNUb1V1aWQ7XG4iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxuXG4vLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uXG52YXIgZ2V0UmFuZG9tVmFsdWVzID0gKHR5cGVvZihjcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YobXNDcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSk7XG5pZiAoZ2V0UmFuZG9tVmFsdWVzKSB7XG4gIC8vIFdIQVRXRyBjcnlwdG8gUk5HIC0gaHR0cDovL3dpa2kud2hhdHdnLm9yZy93aWtpL0NyeXB0b1xuICB2YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHdoYXR3Z1JORygpIHtcbiAgICBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xuICAgIHJldHVybiBybmRzODtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIE1hdGgucmFuZG9tKCktYmFzZWQgKFJORylcbiAgLy9cbiAgLy8gSWYgYWxsIGVsc2UgZmFpbHMsIHVzZSBNYXRoLnJhbmRvbSgpLiAgSXQncyBmYXN0LCBidXQgaXMgb2YgdW5zcGVjaWZpZWRcbiAgLy8gcXVhbGl0eS5cbiAgdmFyIHJuZHMgPSBuZXcgQXJyYXkoMTYpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWF0aFJORygpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcjsgaSA8IDE2OyBpKyspIHtcbiAgICAgIGlmICgoaSAmIDB4MDMpID09PSAwKSByID0gTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMDAwO1xuICAgICAgcm5kc1tpXSA9IHIgPj4+ICgoaSAmIDB4MDMpIDw8IDMpICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gcm5kcztcbiAgfTtcbn1cbiIsInZhciBybmcgPSByZXF1aXJlKCcuL2xpYi9ybmcnKTtcbnZhciBieXRlc1RvVXVpZCA9IHJlcXVpcmUoJy4vbGliL2J5dGVzVG9VdWlkJyk7XG5cbi8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbi8vXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxudmFyIF9ub2RlSWQ7XG52YXIgX2Nsb2Nrc2VxO1xuXG4vLyBQcmV2aW91cyB1dWlkIGNyZWF0aW9uIHRpbWVcbnZhciBfbGFzdE1TZWNzID0gMDtcbnZhciBfbGFzdE5TZWNzID0gMDtcblxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9icm9vZmEvbm9kZS11dWlkIGZvciBBUEkgZGV0YWlsc1xuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IFtdO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxO1xuXG4gIC8vIG5vZGUgYW5kIGNsb2Nrc2VxIG5lZWQgdG8gYmUgaW5pdGlhbGl6ZWQgdG8gcmFuZG9tIHZhbHVlcyBpZiB0aGV5J3JlIG5vdFxuICAvLyBzcGVjaWZpZWQuICBXZSBkbyB0aGlzIGxhemlseSB0byBtaW5pbWl6ZSBpc3N1ZXMgcmVsYXRlZCB0byBpbnN1ZmZpY2llbnRcbiAgLy8gc3lzdGVtIGVudHJvcHkuICBTZWUgIzE4OVxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gcm5nKCk7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtcbiAgICAgICAgc2VlZEJ5dGVzWzBdIHwgMHgwMSxcbiAgICAgICAgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1cbiAgICAgIF07XG4gICAgfVxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuICB2YXIgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7XG5cbiAgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuICB2YXIgZHQgPSAobXNlY3MgLSBfbGFzdE1TZWNzKSArIChuc2VjcyAtIF9sYXN0TlNlY3MpLzEwMDAwO1xuXG4gIC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfVxuXG4gIC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH1cblxuICAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXVpZC52MSgpOiBDYW5cXCd0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYycpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxO1xuXG4gIC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDtcblxuICAvLyBgdGltZV9sb3dgXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfbWlkYFxuICB2YXIgdG1oID0gKG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCkgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjtcblxuICAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG4gIC8vIGBjbG9ja19zZXFfbG93YFxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7XG5cbiAgLy8gYG5vZGVgXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiA/IGJ1ZiA6IGJ5dGVzVG9VdWlkKGIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHYxO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQge1xuICBwYXJ0aXRpb24sXG4gIHBNYXAsXG4gIHFzaWZ5LFxuICBzdXBwb3J0LFxuICBub2JhdGNoLFxuICB0b0RhdGFCb2R5LFxuICBjbGVhblVuZGVmaW5lZFByb3BlcnRpZXMsXG59IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgSFRUUCBmcm9tIFwiLi9odHRwXCI7XG5pbXBvcnQgZW5kcG9pbnQgZnJvbSBcIi4vZW5kcG9pbnRcIjtcbmltcG9ydCAqIGFzIHJlcXVlc3RzIGZyb20gXCIuL3JlcXVlc3RzXCI7XG5pbXBvcnQgeyBhZ2dyZWdhdGUgfSBmcm9tIFwiLi9iYXRjaFwiO1xuaW1wb3J0IEJ1Y2tldCBmcm9tIFwiLi9idWNrZXRcIjtcbmltcG9ydCB7IGNhcGFibGUgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG4vKipcbiAqIEN1cnJlbnRseSBzdXBwb3J0ZWQgcHJvdG9jb2wgdmVyc2lvbi5cbiAqIEB0eXBlIHtTdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBTVVBQT1JURURfUFJPVE9DT0xfVkVSU0lPTiA9IFwidjFcIjtcblxuLyoqXG4gKiBIaWdoIGxldmVsIEhUVFAgY2xpZW50IGZvciB0aGUgS2ludG8gQVBJLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBjbGllbnQgPSBuZXcgS2ludG9DbGllbnQoXCJodHRwczovL2tpbnRvLmRldi5tb3phd3MubmV0L3YxXCIpO1xuICogY2xpZW50LmJ1Y2tldChcImRlZmF1bHRcIilcbiAqICAgIC5jb2xsZWN0aW9uKFwibXktYmxvZ1wiKVxuICogICAgLmNyZWF0ZVJlY29yZCh7dGl0bGU6IFwiRmlyc3QgYXJ0aWNsZVwifSlcbiAqICAgLnRoZW4oY29uc29sZS5sb2cuYmluZChjb25zb2xlKSlcbiAqICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKSk7XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtpbnRvQ2xpZW50QmFzZSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3Rvci5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSAgICAgICByZW1vdGUgIFRoZSByZW1vdGUgVVJMLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgIFtvcHRpb25zPXt9XSAgICAgICAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gICAgICBbb3B0aW9ucy5zYWZlPXRydWVdICAgICAgICAgICBBZGRzIGNvbmN1cnJlbmN5IGhlYWRlcnMgdG8gZXZlcnkgcmVxdWVzdHMuXG4gICAqIEBwYXJhbSAge0V2ZW50RW1pdHRlcn0gW29wdGlvbnMuZXZlbnRzPUV2ZW50RW1pdHRlcl0gVGhlIGV2ZW50cyBoYW5kbGVyIGluc3RhbmNlLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgIFtvcHRpb25zLmhlYWRlcnM9e31dICAgICAgICAgIFRoZSBrZXktdmFsdWUgaGVhZGVycyB0byBwYXNzIHRvIGVhY2ggcmVxdWVzdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICBbb3B0aW9ucy5yZXRyeT0wXSAgICAgICAgICAgICBOdW1iZXIgb2YgcmV0cmllcyB3aGVuIHJlcXVlc3QgZmFpbHMgKGRlZmF1bHQ6IDApXG4gICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgW29wdGlvbnMuYnVja2V0PVwiZGVmYXVsdFwiXSAgICBUaGUgZGVmYXVsdCBidWNrZXQgdG8gdXNlLlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgIFtvcHRpb25zLnJlcXVlc3RNb2RlPVwiY29yc1wiXSAgVGhlIEhUVFAgcmVxdWVzdCBtb2RlIChmcm9tIEVTNiBmZXRjaCBzcGVjKS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgICAgICBbb3B0aW9ucy50aW1lb3V0PW51bGxdICAgICAgICBUaGUgcmVxdWVzdCB0aW1lb3V0IGluIG1zLCBpZiBhbnkuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihyZW1vdGUsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICh0eXBlb2YgcmVtb3RlICE9PSBcInN0cmluZ1wiIHx8ICFyZW1vdGUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlbW90ZSBVUkw6IFwiICsgcmVtb3RlKTtcbiAgICB9XG4gICAgaWYgKHJlbW90ZVtyZW1vdGUubGVuZ3RoIC0gMV0gPT09IFwiL1wiKSB7XG4gICAgICByZW1vdGUgPSByZW1vdGUuc2xpY2UoMCwgLTEpO1xuICAgIH1cbiAgICB0aGlzLl9iYWNrb2ZmUmVsZWFzZVRpbWUgPSBudWxsO1xuXG4gICAgdGhpcy5fcmVxdWVzdHMgPSBbXTtcbiAgICB0aGlzLl9pc0JhdGNoID0gISFvcHRpb25zLmJhdGNoO1xuICAgIHRoaXMuX3JldHJ5ID0gb3B0aW9ucy5yZXRyeSB8fCAwO1xuICAgIHRoaXMuX3NhZmUgPSAhIW9wdGlvbnMuc2FmZTtcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xuXG4gICAgLy8gcHVibGljIHByb3BlcnRpZXNcbiAgICAvKipcbiAgICAgKiBUaGUgcmVtb3RlIHNlcnZlciBiYXNlIFVSTC5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMucmVtb3RlID0gcmVtb3RlO1xuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgc2VydmVyIGluZm9ybWF0aW9uLlxuICAgICAqIEBpZ25vcmVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fG51bGx9XG4gICAgICovXG4gICAgdGhpcy5zZXJ2ZXJJbmZvID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgZXZlbnQgZW1pdHRlciBpbnN0YW5jZS4gU2hvdWxkIGNvbXBseSB3aXRoIHRoZSBgRXZlbnRFbWl0dGVyYFxuICAgICAqIGludGVyZmFjZS5cbiAgICAgKiBAaWdub3JlXG4gICAgICogQHR5cGUge0NsYXNzfVxuICAgICAqL1xuICAgIHRoaXMuZXZlbnRzID0gb3B0aW9ucy5ldmVudHM7XG5cbiAgICBjb25zdCB7IHJlcXVlc3RNb2RlLCB0aW1lb3V0IH0gPSBvcHRpb25zO1xuICAgIC8qKlxuICAgICAqIFRoZSBIVFRQIGluc3RhbmNlLlxuICAgICAqIEBpZ25vcmVcbiAgICAgKiBAdHlwZSB7SFRUUH1cbiAgICAgKi9cbiAgICB0aGlzLmh0dHAgPSBuZXcgSFRUUCh0aGlzLmV2ZW50cywgeyByZXF1ZXN0TW9kZSwgdGltZW91dCB9KTtcbiAgICB0aGlzLl9yZWdpc3RlckhUVFBFdmVudHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcmVtb3RlIGVuZHBvaW50IGJhc2UgVVJMLiBTZXR0aW5nIHRoZSB2YWx1ZSB3aWxsIGFsc28gZXh0cmFjdCBhbmRcbiAgICogdmFsaWRhdGUgdGhlIHZlcnNpb24uXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICBnZXQgcmVtb3RlKCkge1xuICAgIHJldHVybiB0aGlzLl9yZW1vdGU7XG4gIH1cblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgc2V0IHJlbW90ZSh1cmwpIHtcbiAgICBsZXQgdmVyc2lvbjtcbiAgICB0cnkge1xuICAgICAgdmVyc2lvbiA9IHVybC5tYXRjaCgvXFwvKHZcXGQrKVxcLz8kLylbMV07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVtb3RlIFVSTCBtdXN0IGNvbnRhaW4gdGhlIHZlcnNpb246IFwiICsgdXJsKTtcbiAgICB9XG4gICAgaWYgKHZlcnNpb24gIT09IFNVUFBPUlRFRF9QUk9UT0NPTF9WRVJTSU9OKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHByb3RvY29sIHZlcnNpb246ICR7dmVyc2lvbn1gKTtcbiAgICB9XG4gICAgdGhpcy5fcmVtb3RlID0gdXJsO1xuICAgIHRoaXMuX3ZlcnNpb24gPSB2ZXJzaW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHNlcnZlciBwcm90b2NvbCB2ZXJzaW9uLCBlZy4gYHYxYC5cbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIGdldCB2ZXJzaW9uKCkge1xuICAgIHJldHVybiB0aGlzLl92ZXJzaW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEJhY2tvZmYgcmVtYWluaW5nIHRpbWUsIGluIG1pbGxpc2Vjb25kcy4gRGVmYXVsdHMgdG8gemVybyBpZiBubyBiYWNrb2ZmIGlzXG4gICAqIG9uZ29pbmcuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICBnZXQgYmFja29mZigpIHtcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGlmICh0aGlzLl9iYWNrb2ZmUmVsZWFzZVRpbWUgJiYgY3VycmVudFRpbWUgPCB0aGlzLl9iYWNrb2ZmUmVsZWFzZVRpbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9iYWNrb2ZmUmVsZWFzZVRpbWUgLSBjdXJyZW50VGltZTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIEhUVFAgZXZlbnRzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlZ2lzdGVySFRUUEV2ZW50cygpIHtcbiAgICAvLyBQcmV2ZW50IHJlZ2lzdGVyaW5nIGV2ZW50IGZyb20gYSBiYXRjaCBjbGllbnQgaW5zdGFuY2VcbiAgICBpZiAoIXRoaXMuX2lzQmF0Y2gpIHtcbiAgICAgIHRoaXMuZXZlbnRzLm9uKFwiYmFja29mZlwiLCBiYWNrb2ZmTXMgPT4ge1xuICAgICAgICB0aGlzLl9iYWNrb2ZmUmVsZWFzZVRpbWUgPSBiYWNrb2ZmTXM7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgYSBidWNrZXQgb2JqZWN0IHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBpdC5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSAgbmFtZSAgICAgICAgICAgICAgVGhlIGJ1Y2tldCBuYW1lLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICBUaGUgcmVxdWVzdCBvcHRpb25zLlxuICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5zYWZlXSAgICBUaGUgcmVzdWx0aW5nIHNhZmUgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeV0gICBUaGUgcmVzdWx0aW5nIHJldHJ5IG9wdGlvbi5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVyc10gVGhlIGV4dGVuZGVkIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHJldHVybiB7QnVja2V0fVxuICAgKi9cbiAgYnVja2V0KG5hbWUsIG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiBuZXcgQnVja2V0KHRoaXMsIG5hbWUsIHtcbiAgICAgIGJhdGNoOiB0aGlzLl9pc0JhdGNoLFxuICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucyksXG4gICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucyksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGNsaWVudCBcImhlYWRlcnNcIiBmb3IgZXZlcnkgcmVxdWVzdCwgdXBkYXRpbmcgcHJldmlvdXMgaGVhZGVycyAoaWYgYW55KS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGhlYWRlcnMgVGhlIGhlYWRlcnMgdG8gbWVyZ2Ugd2l0aCBleGlzdGluZyBvbmVzLlxuICAgKi9cbiAgc2V0SGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5faGVhZGVycyA9IHtcbiAgICAgIC4uLnRoaXMuX2hlYWRlcnMsXG4gICAgICAuLi5oZWFkZXJzLFxuICAgIH07XG4gICAgdGhpcy5zZXJ2ZXJJbmZvID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIFwiaGVhZGVyc1wiIGZvciBhIGdpdmVuIHJlcXVlc3QsIG1lcmdpbmcgdGhlXG4gICAqIHBlci1yZXF1ZXN0IGhlYWRlcnMgd2l0aCBvdXIgb3duIFwiZGVmYXVsdFwiIGhlYWRlcnMuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB1bmxpa2Ugb3RoZXIgb3B0aW9ucywgaGVhZGVycyBhcmVuJ3Qgb3ZlcnJpZGRlbiwgYnV0XG4gICAqIG1lcmdlZCBpbnN0ZWFkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBmb3IgYSByZXF1ZXN0LlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cbiAgX2dldEhlYWRlcnMob3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLl9oZWFkZXJzLFxuICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiBcInNhZmVcIiBmb3IgYSBnaXZlbiByZXF1ZXN0LCB1c2luZyB0aGVcbiAgICogcGVyLXJlcXVlc3Qgb3B0aW9uIGlmIHByZXNlbnQgb3IgZmFsbGluZyBiYWNrIHRvIG91ciBkZWZhdWx0XG4gICAqIG90aGVyd2lzZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgZm9yIGEgcmVxdWVzdC5cbiAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAqL1xuICBfZ2V0U2FmZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIHsgc2FmZTogdGhpcy5fc2FmZSwgLi4ub3B0aW9ucyB9LnNhZmU7XG4gIH1cblxuICAvKipcbiAgICogQXMgX2dldFNhZmUsIGJ1dCBmb3IgXCJyZXRyeVwiLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFJldHJ5KG9wdGlvbnMpIHtcbiAgICByZXR1cm4geyByZXRyeTogdGhpcy5fcmV0cnksIC4uLm9wdGlvbnMgfS5yZXRyeTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIHNlcnZlcidzIFwiaGVsbG9cIiBlbmRwb2ludC4gVGhpcyBlbmRwb2ludCByZXZlYWxzXG4gICAqIHNlcnZlciBjYXBhYmlsaXRpZXMgYW5kIHNldHRpbmdzIGFzIHdlbGwgYXMgdGVsbGluZyB0aGUgY2xpZW50XG4gICAqIFwid2hvIHRoZXkgYXJlXCIgYWNjb3JkaW5nIHRvIHRoZWlyIGdpdmVuIGF1dGhvcml6YXRpb24gaGVhZGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnM9e31dIFRoZSByZXF1ZXN0IG9wdGlvbnMuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmhlYWRlcnM9e31dIEhlYWRlcnMgdG8gdXNlIHdoZW4gbWFraW5nXG4gICAqICAgICB0aGlzIHJlcXVlc3QuXG4gICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLnJldHJ5PTBdICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgX2dldEhlbGxvKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHBhdGggPSB0aGlzLnJlbW90ZSArIGVuZHBvaW50KFwicm9vdFwiKTtcbiAgICBjb25zdCB7IGpzb24gfSA9IGF3YWl0IHRoaXMuaHR0cC5yZXF1ZXN0KFxuICAgICAgcGF0aCxcbiAgICAgIHsgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSB9LFxuICAgICAgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfVxuICAgICk7XG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHNlcnZlciBpbmZvcm1hdGlvbiBhbmQgcGVyc2lzdCB0aGVtIGxvY2FsbHkuIFRoaXMgb3BlcmF0aW9uIGlzXG4gICAqIHVzdWFsbHkgcGVyZm9ybWVkIGEgc2luZ2xlIHRpbWUgZHVyaW5nIHRoZSBpbnN0YW5jZSBsaWZlY3ljbGUuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSBUaGUgcmVxdWVzdCBvcHRpb25zLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeT0wXSAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIGFzeW5jIGZldGNoU2VydmVySW5mbyhvcHRpb25zID0ge30pIHtcbiAgICBpZiAodGhpcy5zZXJ2ZXJJbmZvKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXJ2ZXJJbmZvO1xuICAgIH1cbiAgICB0aGlzLnNlcnZlckluZm8gPSBhd2FpdCB0aGlzLl9nZXRIZWxsbyh7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KTtcbiAgICByZXR1cm4gdGhpcy5zZXJ2ZXJJbmZvO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBLaW50byBzZXJ2ZXIgc2V0dGluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSBUaGUgcmVxdWVzdCBvcHRpb25zLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeT0wXSAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIEBub2JhdGNoKFwiVGhpcyBvcGVyYXRpb24gaXMgbm90IHN1cHBvcnRlZCB3aXRoaW4gYSBiYXRjaCBvcGVyYXRpb24uXCIpXG4gIGFzeW5jIGZldGNoU2VydmVyU2V0dGluZ3Mob3B0aW9ucykge1xuICAgIGNvbnN0IHsgc2V0dGluZ3MgfSA9IGF3YWl0IHRoaXMuZmV0Y2hTZXJ2ZXJJbmZvKG9wdGlvbnMpO1xuICAgIHJldHVybiBzZXR0aW5ncztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBzZXJ2ZXIgY2FwYWJpbGl0aWVzIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gVGhlIHJlcXVlc3Qgb3B0aW9ucy5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF0gICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAqL1xuICBAbm9iYXRjaChcIlRoaXMgb3BlcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aGluIGEgYmF0Y2ggb3BlcmF0aW9uLlwiKVxuICBhc3luYyBmZXRjaFNlcnZlckNhcGFiaWxpdGllcyhvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IGNhcGFiaWxpdGllcyB9ID0gYXdhaXQgdGhpcy5mZXRjaFNlcnZlckluZm8ob3B0aW9ucyk7XG4gICAgcmV0dXJuIGNhcGFiaWxpdGllcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBhdXRoZW50aWNhdGVkIHVzZXIgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSBUaGUgcmVxdWVzdCBvcHRpb25zLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5oZWFkZXJzPXt9XSBIZWFkZXJzIHRvIHVzZSB3aGVuIG1ha2luZ1xuICAgKiAgICAgdGhpcyByZXF1ZXN0LlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeT0wXSAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIEBub2JhdGNoKFwiVGhpcyBvcGVyYXRpb24gaXMgbm90IHN1cHBvcnRlZCB3aXRoaW4gYSBiYXRjaCBvcGVyYXRpb24uXCIpXG4gIGFzeW5jIGZldGNoVXNlcihvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IHVzZXIgfSA9IGF3YWl0IHRoaXMuX2dldEhlbGxvKG9wdGlvbnMpO1xuICAgIHJldHVybiB1c2VyO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGF1dGhlbnRpY2F0ZWQgdXNlciBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnM9e31dIFRoZSByZXF1ZXN0IG9wdGlvbnMuXG4gICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLnJldHJ5PTBdICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgKi9cbiAgQG5vYmF0Y2goXCJUaGlzIG9wZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIHdpdGhpbiBhIGJhdGNoIG9wZXJhdGlvbi5cIilcbiAgYXN5bmMgZmV0Y2hIVFRQQXBpVmVyc2lvbihvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IGh0dHBfYXBpX3ZlcnNpb24gfSA9IGF3YWl0IHRoaXMuZmV0Y2hTZXJ2ZXJJbmZvKG9wdGlvbnMpO1xuICAgIHJldHVybiBodHRwX2FwaV92ZXJzaW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb2Nlc3MgYmF0Y2ggcmVxdWVzdHMsIGNodW5raW5nIHRoZW0gYWNjb3JkaW5nIHRvIHRoZSBiYXRjaF9tYXhfcmVxdWVzdHNcbiAgICogc2VydmVyIHNldHRpbmcgd2hlbiBuZWVkZWQuXG4gICAqXG4gICAqIEBwYXJhbSAge0FycmF5fSAgcmVxdWVzdHMgICAgIFRoZSBsaXN0IG9mIGJhdGNoIHN1YnJlcXVlc3RzIHRvIHBlcmZvcm0uXG4gICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIGFzeW5jIF9iYXRjaFJlcXVlc3RzKHJlcXVlc3RzLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKTtcbiAgICBpZiAoIXJlcXVlc3RzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBzZXJ2ZXJTZXR0aW5ncyA9IGF3YWl0IHRoaXMuZmV0Y2hTZXJ2ZXJTZXR0aW5ncyh7XG4gICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucyksXG4gICAgfSk7XG4gICAgY29uc3QgbWF4UmVxdWVzdHMgPSBzZXJ2ZXJTZXR0aW5nc1tcImJhdGNoX21heF9yZXF1ZXN0c1wiXTtcbiAgICBpZiAobWF4UmVxdWVzdHMgJiYgcmVxdWVzdHMubGVuZ3RoID4gbWF4UmVxdWVzdHMpIHtcbiAgICAgIGNvbnN0IGNodW5rcyA9IHBhcnRpdGlvbihyZXF1ZXN0cywgbWF4UmVxdWVzdHMpO1xuICAgICAgcmV0dXJuIHBNYXAoY2h1bmtzLCBjaHVuayA9PiB0aGlzLl9iYXRjaFJlcXVlc3RzKGNodW5rLCBvcHRpb25zKSk7XG4gICAgfVxuICAgIGNvbnN0IHsgcmVzcG9uc2VzIH0gPSBhd2FpdCB0aGlzLmV4ZWN1dGUoXG4gICAgICB7XG4gICAgICAgIC8vIEZJWE1FOiBpcyB0aGlzIHJlYWxseSBuZWNlc3NhcnksIHNpbmNlIGl0J3MgYWxzbyBwcmVzZW50IGluXG4gICAgICAgIC8vIHRoZSBcImRlZmF1bHRzXCI/XG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IGVuZHBvaW50KFwiYmF0Y2hcIiksXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBkZWZhdWx0czogeyBoZWFkZXJzIH0sXG4gICAgICAgICAgcmVxdWVzdHMsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfVxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBiYXRjaCByZXF1ZXN0cyB0byB0aGUgcmVtb3RlIHNlcnZlci5cbiAgICpcbiAgICogTm90ZTogUmVzZXJ2ZWQgZm9yIGludGVybmFsIHVzZSBvbmx5LlxuICAgKlxuICAgKiBAaWdub3JlXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBmdW5jdGlvbiB0byB1c2UgZm9yIGRlc2NyaWJpbmcgYmF0Y2ggb3BzLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnM9e31dICAgICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59ICBbb3B0aW9ucy5zYWZlXSAgICAgICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgIFtvcHRpb25zLnJldHJ5XSAgICAgICAgICAgVGhlIHJldHJ5IG9wdGlvbi5cbiAgICogQHBhcmFtICB7U3RyaW5nfSAgIFtvcHRpb25zLmJ1Y2tldF0gICAgICAgICAgVGhlIGJ1Y2tldCBuYW1lIG9wdGlvbi5cbiAgICogQHBhcmFtICB7U3RyaW5nfSAgIFtvcHRpb25zLmNvbGxlY3Rpb25dICAgICAgVGhlIGNvbGxlY3Rpb24gbmFtZSBvcHRpb24uXG4gICAqIEBwYXJhbSAge09iamVjdH0gICBbb3B0aW9ucy5oZWFkZXJzXSAgICAgICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59ICBbb3B0aW9ucy5hZ2dyZWdhdGU9ZmFsc2VdIFByb2R1Y2VzIGFuIGFnZ3JlZ2F0ZWQgcmVzdWx0IG9iamVjdC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIEBub2JhdGNoKFwiQ2FuJ3QgdXNlIGJhdGNoIHdpdGhpbiBhIGJhdGNoIVwiKVxuICBhc3luYyBiYXRjaChmbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3Qgcm9vdEJhdGNoID0gbmV3IEtpbnRvQ2xpZW50QmFzZSh0aGlzLnJlbW90ZSwge1xuICAgICAgZXZlbnRzOiB0aGlzLmV2ZW50cyxcbiAgICAgIGJhdGNoOiB0cnVlLFxuICAgICAgc2FmZTogdGhpcy5fZ2V0U2FmZShvcHRpb25zKSxcbiAgICAgIHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSxcbiAgICB9KTtcbiAgICBsZXQgYnVja2V0QmF0Y2gsIGNvbGxCYXRjaDtcbiAgICBpZiAob3B0aW9ucy5idWNrZXQpIHtcbiAgICAgIGJ1Y2tldEJhdGNoID0gcm9vdEJhdGNoLmJ1Y2tldChvcHRpb25zLmJ1Y2tldCk7XG4gICAgICBpZiAob3B0aW9ucy5jb2xsZWN0aW9uKSB7XG4gICAgICAgIGNvbGxCYXRjaCA9IGJ1Y2tldEJhdGNoLmNvbGxlY3Rpb24ob3B0aW9ucy5jb2xsZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYmF0Y2hDbGllbnQgPSBjb2xsQmF0Y2ggfHwgYnVja2V0QmF0Y2ggfHwgcm9vdEJhdGNoO1xuICAgIGZuKGJhdGNoQ2xpZW50KTtcbiAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCB0aGlzLl9iYXRjaFJlcXVlc3RzKHJvb3RCYXRjaC5fcmVxdWVzdHMsIG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLmFnZ3JlZ2F0ZSkge1xuICAgICAgcmV0dXJuIGFnZ3JlZ2F0ZShyZXNwb25zZXMsIHJvb3RCYXRjaC5fcmVxdWVzdHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2VzO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyBhbiBhdG9taWMgSFRUUCByZXF1ZXN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICByZXF1ZXN0ICAgICAgICAgICAgIFRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICogQHBhcmFtICB7U3RyaW5nfSAgcmVxdWVzdC5wYXRoICAgICAgICBUaGUgcGF0aCB0byBmZXRjaCwgcmVsYXRpdmVcbiAgICogICAgIHRvIHRoZSBLaW50byBzZXJ2ZXIgcm9vdC5cbiAgICogQHBhcmFtICB7U3RyaW5nfSAgW3JlcXVlc3QubWV0aG9kPVwiR0VUXCJdIFRoZSBtZXRob2QgdG8gdXNlIGluIHRoZVxuICAgKiAgICAgcmVxdWVzdC5cbiAgICogQHBhcmFtICB7Qm9keX0gICAgW3JlcXVlc3QuYm9keV0gICAgICBUaGUgcmVxdWVzdCBib2R5LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbcmVxdWVzdC5oZWFkZXJzPXt9XSBUaGUgcmVxdWVzdCBoZWFkZXJzLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMucmF3PWZhbHNlXSBJZiB0cnVlLCByZXNvbHZlIHdpdGggZnVsbCByZXNwb25zZVxuICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5zdHJpbmdpZnk9dHJ1ZV0gSWYgdHJ1ZSwgc2VyaWFsaXplIGJvZHkgZGF0YSB0b1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeT0wXSAgIFRoZSBudW1iZXIgb2YgdGltZXMgdG9cbiAgICogICAgIHJldHJ5IGEgcmVxdWVzdCBpZiB0aGUgc2VydmVyIHJlc3BvbmRzIHdpdGggUmV0cnktQWZ0ZXIuXG4gICAqIEpTT04uXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAqL1xuICBhc3luYyBleGVjdXRlKHJlcXVlc3QsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgcmF3ID0gZmFsc2UsIHN0cmluZ2lmeSA9IHRydWUgfSA9IG9wdGlvbnM7XG4gICAgLy8gSWYgd2UncmUgd2l0aGluIGEgYmF0Y2gsIGFkZCB0aGUgcmVxdWVzdCB0byB0aGUgc3RhY2sgdG8gc2VuZCBhdCBvbmNlLlxuICAgIGlmICh0aGlzLl9pc0JhdGNoKSB7XG4gICAgICB0aGlzLl9yZXF1ZXN0cy5wdXNoKHJlcXVlc3QpO1xuICAgICAgLy8gUmVzb2x2ZSB3aXRoIGEgbWVzc2FnZSBpbiBjYXNlIHBlb3BsZSBhdHRlbXB0IGF0IGNvbnN1bWluZyB0aGUgcmVzdWx0XG4gICAgICAvLyBmcm9tIHdpdGhpbiBhIGJhdGNoIG9wZXJhdGlvbi5cbiAgICAgIGNvbnN0IG1zZyA9XG4gICAgICAgIFwiVGhpcyByZXN1bHQgaXMgZ2VuZXJhdGVkIGZyb20gd2l0aGluIGEgYmF0Y2ggXCIgK1xuICAgICAgICBcIm9wZXJhdGlvbiBhbmQgc2hvdWxkIG5vdCBiZSBjb25zdW1lZC5cIjtcbiAgICAgIHJldHVybiByYXcgPyB7IGpzb246IG1zZywgaGVhZGVyczogeyBnZXQoKSB7fSB9IH0gOiBtc2c7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuaHR0cC5yZXF1ZXN0KFxuICAgICAgdGhpcy5yZW1vdGUgKyByZXF1ZXN0LnBhdGgsXG4gICAgICBjbGVhblVuZGVmaW5lZFByb3BlcnRpZXMoe1xuICAgICAgICAvLyBMaW1pdCByZXF1ZXN0cyB0byBvbmx5IHRob3NlIHBhcnRzIHRoYXQgd291bGQgYmUgYWxsb3dlZCBpblxuICAgICAgICAvLyBhIGJhdGNoIHJlcXVlc3QgLS0gZG9uJ3QgcGFzcyB0aHJvdWdoIG90aGVyIGZhbmN5IGZldGNoKClcbiAgICAgICAgLy8gb3B0aW9ucyBsaWtlIGludGVncml0eSwgcmVkaXJlY3QsIG1vZGUgYmVjYXVzZSB0aGV5IHdpbGxcbiAgICAgICAgLy8gYnJlYWsgb24gYSBiYXRjaCByZXF1ZXN0LiAgQSBiYXRjaCByZXF1ZXN0IG9ubHkgYWxsb3dzXG4gICAgICAgIC8vIGhlYWRlcnMsIG1ldGhvZCwgcGF0aCAoYWJvdmUpLCBhbmQgYm9keS5cbiAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgICAgICBib2R5OiBzdHJpbmdpZnkgPyBKU09OLnN0cmluZ2lmeShyZXF1ZXN0LmJvZHkpIDogcmVxdWVzdC5ib2R5LFxuICAgICAgfSksXG4gICAgICB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9XG4gICAgKTtcbiAgICByZXR1cm4gcmF3ID8gcmVzdWx0IDogcmVzdWx0Lmpzb247XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggc29tZSBwYWdlcyBmcm9tIGEgcGFnaW5hdGVkIGxpc3QsIGZvbGxvd2luZyB0aGUgYG5leHQtcGFnZWBcbiAgICogaGVhZGVyIGF1dG9tYXRpY2FsbHkgdW50aWwgd2UgaGF2ZSBmZXRjaGVkIHRoZSByZXF1ZXN0ZWQgbnVtYmVyXG4gICAqIG9mIHBhZ2VzLiBSZXR1cm4gYSByZXNwb25zZSB3aXRoIGEgYC5uZXh0KClgIG1ldGhvZCB0aGF0IGNhbiBiZVxuICAgKiBjYWxsZWQgdG8gZmV0Y2ggbW9yZSByZXN1bHRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBwYXRoXG4gICAqICAgICBUaGUgcGF0aCB0byBtYWtlIHRoZSByZXF1ZXN0IHRvLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBwYXJhbXNcbiAgICogICAgIFRoZSBwYXJhbWV0ZXJzIHRvIHVzZSB3aGVuIG1ha2luZyB0aGUgcmVxdWVzdC5cbiAgICogQHBhcmFtICB7U3RyaW5nfSAgW3BhcmFtcy5zb3J0PVwiLWxhc3RfbW9kaWZpZWRcIl1cbiAgICogICAgIFRoZSBzb3J0aW5nIG9yZGVyIHRvIHVzZSB3aGVuIGZldGNoaW5nLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbcGFyYW1zLmZpbHRlcnM9e31dXG4gICAqICAgICBUaGUgZmlsdGVycyB0byBzZW5kIGluIHRoZSByZXF1ZXN0LlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbcGFyYW1zLmxpbWl0PXVuZGVmaW5lZF1cbiAgICogICAgIFRoZSBsaW1pdCB0byBzZW5kIGluIHRoZSByZXF1ZXN0LiBVbmRlZmluZWQgbWVhbnMgbm8gbGltaXQuXG4gICAqIEBwYXJhbSAge051bWJlcn0gIFtwYXJhbXMucGFnZXM9dW5kZWZpbmVkXVxuICAgKiAgICAgVGhlIG51bWJlciBvZiBwYWdlcyB0byBmZXRjaC4gVW5kZWZpbmVkIG1lYW5zIG9uZSBwYWdlLiBQYXNzXG4gICAqICAgICBJbmZpbml0eSB0byBmZXRjaCBldmVyeXRoaW5nLlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBbcGFyYW1zLnNpbmNlPXVuZGVmaW5lZF1cbiAgICogICAgIFRoZSBFVGFnIGZyb20gd2hpY2ggdG8gc3RhcnQgZmV0Y2hpbmcuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XVxuICAgKiAgICAgQWRkaXRpb25hbCByZXF1ZXN0LWxldmVsIHBhcmFtZXRlcnMgdG8gdXNlIGluIGFsbCByZXF1ZXN0cy5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVycz17fV1cbiAgICogICAgIEhlYWRlcnMgdG8gdXNlIGR1cmluZyBhbGwgcmVxdWVzdHMuXG4gICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLnJldHJ5PTBdXG4gICAqICAgICBOdW1iZXIgb2YgdGltZXMgdG8gcmV0cnkgZWFjaCByZXF1ZXN0IGlmIHRoZSBzZXJ2ZXIgcmVzcG9uZHNcbiAgICogICAgIHdpdGggUmV0cnktQWZ0ZXIuXG4gICAqL1xuICBhc3luYyBwYWdpbmF0ZWRMaXN0KHBhdGgsIHBhcmFtcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgLy8gRklYTUU6IHRoaXMgaXMgY2FsbGVkIGV2ZW4gaW4gYmF0Y2ggcmVxdWVzdHMsIHdoaWNoIGRvZXNuJ3RcbiAgICAvLyBtYWtlIGFueSBzZW5zZSAoc2luY2UgYWxsIGJhdGNoIHJlcXVlc3RzIGdldCBhIFwiZHVtbXlcIlxuICAgIC8vIHJlc3BvbnNlOyBzZWUgZXhlY3V0ZSgpIGFib3ZlKS5cbiAgICBjb25zdCB7IHNvcnQsIGZpbHRlcnMsIGxpbWl0LCBwYWdlcywgc2luY2UgfSA9IHtcbiAgICAgIHNvcnQ6IFwiLWxhc3RfbW9kaWZpZWRcIixcbiAgICAgIC4uLnBhcmFtcyxcbiAgICB9O1xuICAgIC8vIFNhZmV0eS9Db25zaXN0ZW5jeSBjaGVjayBvbiBFVGFnIHZhbHVlLlxuICAgIGlmIChzaW5jZSAmJiB0eXBlb2Ygc2luY2UgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEludmFsaWQgdmFsdWUgZm9yIHNpbmNlICgke3NpbmNlfSksIHNob3VsZCBiZSBFVGFnIHZhbHVlLmBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgcXVlcnlzdHJpbmcgPSBxc2lmeSh7XG4gICAgICAuLi5maWx0ZXJzLFxuICAgICAgX3NvcnQ6IHNvcnQsXG4gICAgICBfbGltaXQ6IGxpbWl0LFxuICAgICAgX3NpbmNlOiBzaW5jZSxcbiAgICB9KTtcbiAgICBsZXQgcmVzdWx0cyA9IFtdLFxuICAgICAgY3VycmVudCA9IDA7XG5cbiAgICBjb25zdCBuZXh0ID0gYXN5bmMgZnVuY3Rpb24obmV4dFBhZ2UpIHtcbiAgICAgIGlmICghbmV4dFBhZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFnaW5hdGlvbiBleGhhdXN0ZWQuXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb2Nlc3NOZXh0UGFnZShuZXh0UGFnZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHByb2Nlc3NOZXh0UGFnZSA9IGFzeW5jIG5leHRQYWdlID0+IHtcbiAgICAgIGNvbnN0IHsgaGVhZGVycyB9ID0gb3B0aW9ucztcbiAgICAgIHJldHVybiBoYW5kbGVSZXNwb25zZShhd2FpdCB0aGlzLmh0dHAucmVxdWVzdChuZXh0UGFnZSwgeyBoZWFkZXJzIH0pKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcGFnZVJlc3VsdHMgPSAocmVzdWx0cywgbmV4dFBhZ2UsIGV0YWcsIHRvdGFsUmVjb3JkcykgPT4ge1xuICAgICAgLy8gRVRhZyBzdHJpbmcgaXMgc3VwcG9zZWQgdG8gYmUgb3BhcXVlIGFuZCBzdG9yZWQgwqthcy1pc8K7LlxuICAgICAgLy8gRVRhZyBoZWFkZXIgdmFsdWVzIGFyZSBxdW90ZWQgKGJlY2F1c2Ugb2YgKiBhbmQgVy9cImZvb1wiKS5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhc3RfbW9kaWZpZWQ6IGV0YWcgPyBldGFnLnJlcGxhY2UoL1wiL2csIFwiXCIpIDogZXRhZyxcbiAgICAgICAgZGF0YTogcmVzdWx0cyxcbiAgICAgICAgbmV4dDogbmV4dC5iaW5kKG51bGwsIG5leHRQYWdlKSxcbiAgICAgICAgaGFzTmV4dFBhZ2U6ICEhbmV4dFBhZ2UsXG4gICAgICAgIHRvdGFsUmVjb3JkcyxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgZnVuY3Rpb24oeyBoZWFkZXJzLCBqc29uIH0pIHtcbiAgICAgIGNvbnN0IG5leHRQYWdlID0gaGVhZGVycy5nZXQoXCJOZXh0LVBhZ2VcIik7XG4gICAgICBjb25zdCBldGFnID0gaGVhZGVycy5nZXQoXCJFVGFnXCIpO1xuICAgICAgY29uc3QgdG90YWxSZWNvcmRzID0gcGFyc2VJbnQoaGVhZGVycy5nZXQoXCJUb3RhbC1SZWNvcmRzXCIpLCAxMCk7XG5cbiAgICAgIGlmICghcGFnZXMpIHtcbiAgICAgICAgcmV0dXJuIHBhZ2VSZXN1bHRzKGpzb24uZGF0YSwgbmV4dFBhZ2UsIGV0YWcsIHRvdGFsUmVjb3Jkcyk7XG4gICAgICB9XG4gICAgICAvLyBBZ2dyZWdhdGUgbmV3IHJlc3VsdHMgd2l0aCBwcmV2aW91cyBvbmVzXG4gICAgICByZXN1bHRzID0gcmVzdWx0cy5jb25jYXQoanNvbi5kYXRhKTtcbiAgICAgIGN1cnJlbnQgKz0gMTtcbiAgICAgIGlmIChjdXJyZW50ID49IHBhZ2VzIHx8ICFuZXh0UGFnZSkge1xuICAgICAgICAvLyBQYWdpbmF0aW9uIGV4aGF1c3RlZFxuICAgICAgICByZXR1cm4gcGFnZVJlc3VsdHMocmVzdWx0cywgbmV4dFBhZ2UsIGV0YWcsIHRvdGFsUmVjb3Jkcyk7XG4gICAgICB9XG4gICAgICAvLyBGb2xsb3cgbmV4dCBwYWdlXG4gICAgICByZXR1cm4gcHJvY2Vzc05leHRQYWdlKG5leHRQYWdlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGhhbmRsZVJlc3BvbnNlKFxuICAgICAgYXdhaXQgdGhpcy5leGVjdXRlKFxuICAgICAgICAvLyBOLkIuOiBUaGlzIGRvZXNuJ3QgdXNlIF9nZXRIZWFkZXJzLCBiZWNhdXNlIGFsbCBjYWxscyB0b1xuICAgICAgICAvLyBgcGFnaW5hdGVkTGlzdGAgYXJlIGFzc3VtZWQgdG8gY29tZSBmcm9tIGNhbGxzIHRoYXQgYWxyZWFkeVxuICAgICAgICAvLyBoYXZlIGhlYWRlcnMgbWVyZ2VkIGF0IGUuZy4gdGhlIGJ1Y2tldCBvciBjb2xsZWN0aW9uIGxldmVsLlxuICAgICAgICB7IGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycywgcGF0aDogcGF0aCArIFwiP1wiICsgcXVlcnlzdHJpbmcgfSxcbiAgICAgICAgLy8gTi5CLiBUaGlzIGRvZXNuJ3QgdXNlIF9nZXRSZXRyeSwgYmVjYXVzZSBhbGwgY2FsbHMgdG9cbiAgICAgICAgLy8gYHBhZ2luYXRlZExpc3RgIGFyZSBhc3N1bWVkIHRvIGNvbWUgZnJvbSBjYWxscyB0aGF0IGFscmVhZHlcbiAgICAgICAgLy8gdXNlZCBgX2dldFJldHJ5YCBhdCBlLmcuIHRoZSBidWNrZXQgb3IgY29sbGVjdGlvbiBsZXZlbC5cbiAgICAgICAgeyByYXc6IHRydWUsIHJldHJ5OiBvcHRpb25zLnJldHJ5IHx8IDAgfVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgYWxsIHBlcm1pc3Npb25zLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zPXt9XSAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucy5oZWFkZXJzPXt9XSBIZWFkZXJzIHRvIHVzZSB3aGVuIG1ha2luZ1xuICAgKiAgICAgdGhpcyByZXF1ZXN0LlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnJldHJ5PTBdICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdFtdLCBFcnJvcj59XG4gICAqL1xuICBAY2FwYWJsZShbXCJwZXJtaXNzaW9uc19lbmRwb2ludFwiXSlcbiAgYXN5bmMgbGlzdFBlcm1pc3Npb25zKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHBhdGggPSBlbmRwb2ludChcInBlcm1pc3Npb25zXCIpO1xuICAgIC8vIEVuc3VyZSB0aGUgZGVmYXVsdCBzb3J0IHBhcmFtZXRlciBpcyBzb21ldGhpbmcgdGhhdCBleGlzdHMgaW4gcGVybWlzc2lvbnNcbiAgICAvLyBlbnRyaWVzLCBhcyBgbGFzdF9tb2RpZmllZGAgZG9lc24ndDsgaGVyZSwgd2UgcGljayBcImlkXCIuXG4gICAgY29uc3QgcGFnaW5hdGlvbk9wdGlvbnMgPSB7IHNvcnQ6IFwiaWRcIiwgLi4ub3B0aW9ucyB9O1xuICAgIHJldHVybiB0aGlzLnBhZ2luYXRlZExpc3QocGF0aCwgcGFnaW5hdGlvbk9wdGlvbnMsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucyksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBsaXN0IG9mIGJ1Y2tldHMuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnM9e31dICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zLmhlYWRlcnM9e31dIEhlYWRlcnMgdG8gdXNlIHdoZW4gbWFraW5nXG4gICAqICAgICB0aGlzIHJlcXVlc3QuXG4gICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMucmV0cnk9MF0gICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0W10sIEVycm9yPn1cbiAgICovXG4gIGFzeW5jIGxpc3RCdWNrZXRzKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHBhdGggPSBlbmRwb2ludChcImJ1Y2tldFwiKTtcbiAgICByZXR1cm4gdGhpcy5wYWdpbmF0ZWRMaXN0KHBhdGgsIG9wdGlvbnMsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucyksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBidWNrZXQgb24gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfG51bGx9ICBpZCAgICAgICAgICAgICAgICBUaGUgYnVja2V0IG5hbWUgKG9wdGlvbmFsKS5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICBbb3B0aW9ucz17fV0gICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59ICAgICAgW29wdGlvbnMuZGF0YV0gICAgVGhlIGJ1Y2tldCBkYXRhIG9wdGlvbi5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gICAgICBbb3B0aW9ucy5zYWZlXSAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgW29wdGlvbnMuaGVhZGVyc10gVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgICAgICBbb3B0aW9ucy5yZXRyeT0wXSBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIGFzeW5jIGNyZWF0ZUJ1Y2tldChpZCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBkYXRhID0ge30sIHBlcm1pc3Npb25zIH0gPSBvcHRpb25zO1xuICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICBkYXRhLmlkID0gaWQ7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSBkYXRhLmlkID8gZW5kcG9pbnQoXCJidWNrZXRcIiwgZGF0YS5pZCkgOiBlbmRwb2ludChcImJ1Y2tldFwiKTtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlKFxuICAgICAgcmVxdWVzdHMuY3JlYXRlUmVxdWVzdChcbiAgICAgICAgcGF0aCxcbiAgICAgICAgeyBkYXRhLCBwZXJtaXNzaW9ucyB9LFxuICAgICAgICB7XG4gICAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpLFxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBhIGJ1Y2tldCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBpZ25vcmVcbiAgICogQHBhcmFtICB7T2JqZWN0fFN0cmluZ30gYnVja2V0ICAgICAgICAgICAgICAgICAgVGhlIGJ1Y2tldCB0byBkZWxldGUuXG4gICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgIFtvcHRpb25zPXt9XSAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gICAgICAgW29wdGlvbnMuc2FmZV0gICAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICBbb3B0aW9ucy5oZWFkZXJzXSAgICAgICBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICAgICBbb3B0aW9ucy5yZXRyeT0wXSAgICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgICAgICAgW29wdGlvbnMubGFzdF9tb2RpZmllZF0gVGhlIGxhc3RfbW9kaWZpZWQgb3B0aW9uLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgZGVsZXRlQnVja2V0KGJ1Y2tldCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgYnVja2V0T2JqID0gdG9EYXRhQm9keShidWNrZXQpO1xuICAgIGlmICghYnVja2V0T2JqLmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGJ1Y2tldCBpZCBpcyByZXF1aXJlZC5cIik7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSBlbmRwb2ludChcImJ1Y2tldFwiLCBidWNrZXRPYmouaWQpO1xuICAgIGNvbnN0IHsgbGFzdF9tb2RpZmllZCB9ID0geyAuLi5idWNrZXRPYmosIC4uLm9wdGlvbnMgfTtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlKFxuICAgICAgcmVxdWVzdHMuZGVsZXRlUmVxdWVzdChwYXRoLCB7XG4gICAgICAgIGxhc3RfbW9kaWZpZWQsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucyksXG4gICAgICB9KSxcbiAgICAgIHsgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpIH1cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYWxsIGJ1Y2tldHMgb24gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQGlnbm9yZVxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLnNhZmVdICAgICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMubGFzdF9tb2RpZmllZF0gVGhlIGxhc3RfbW9kaWZpZWQgb3B0aW9uLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgKi9cbiAgQHN1cHBvcnQoXCIxLjRcIiwgXCIyLjBcIilcbiAgYXN5bmMgZGVsZXRlQnVja2V0cyhvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBwYXRoID0gZW5kcG9pbnQoXCJidWNrZXRcIik7XG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZShcbiAgICAgIHJlcXVlc3RzLmRlbGV0ZVJlcXVlc3QocGF0aCwge1xuICAgICAgICBsYXN0X21vZGlmaWVkOiBvcHRpb25zLmxhc3RfbW9kaWZpZWQsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucyksXG4gICAgICB9KSxcbiAgICAgIHsgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpIH1cbiAgICApO1xuICB9XG59XG4iLCIvKipcbiAqIEV4cG9ydHMgYmF0Y2ggcmVzcG9uc2VzIGFzIGEgcmVzdWx0IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7QXJyYXl9IHJlc3BvbnNlcyBUaGUgYmF0Y2ggc3VicmVxdWVzdCByZXNwb25zZXMuXG4gKiBAcGFyYW0gIHtBcnJheX0gcmVxdWVzdHMgIFRoZSBpbml0aWFsIGlzc3VlZCByZXF1ZXN0cy5cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFnZ3JlZ2F0ZShyZXNwb25zZXMgPSBbXSwgcmVxdWVzdHMgPSBbXSkge1xuICBpZiAocmVzcG9uc2VzLmxlbmd0aCAhPT0gcmVxdWVzdHMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzcG9uc2VzIGxlbmd0aCBzaG91bGQgbWF0Y2ggcmVxdWVzdHMgb25lLlwiKTtcbiAgfVxuICBjb25zdCByZXN1bHRzID0ge1xuICAgIGVycm9yczogW10sXG4gICAgcHVibGlzaGVkOiBbXSxcbiAgICBjb25mbGljdHM6IFtdLFxuICAgIHNraXBwZWQ6IFtdLFxuICB9O1xuICByZXR1cm4gcmVzcG9uc2VzLnJlZHVjZSgoYWNjLCByZXNwb25zZSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gcmVzcG9uc2U7XG4gICAgY29uc3QgcmVxdWVzdCA9IHJlcXVlc3RzW2luZGV4XTtcbiAgICBpZiAoc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCA0MDApIHtcbiAgICAgIGFjYy5wdWJsaXNoZWQucHVzaChyZXNwb25zZS5ib2R5KTtcbiAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBpZCBtYW51YWxseSBmcm9tIHJlcXVlc3QgcGF0aCB3aGlsZSB3YWl0aW5nIGZvciBLaW50by9raW50byM4MThcbiAgICAgIGNvbnN0IHJlZ2V4ID0gLyhidWNrZXRzfGdyb3Vwc3xjb2xsZWN0aW9uc3xyZWNvcmRzKVxcLyhbXi9dKykkLztcbiAgICAgIGNvbnN0IGV4dHJhY3RzID0gcmVxdWVzdC5wYXRoLm1hdGNoKHJlZ2V4KTtcbiAgICAgIGNvbnN0IGlkID0gZXh0cmFjdHMubGVuZ3RoID09PSAzID8gZXh0cmFjdHNbMl0gOiB1bmRlZmluZWQ7XG4gICAgICBhY2Muc2tpcHBlZC5wdXNoKHtcbiAgICAgICAgaWQsXG4gICAgICAgIHBhdGg6IHJlcXVlc3QucGF0aCxcbiAgICAgICAgZXJyb3I6IHJlc3BvbnNlLmJvZHksXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICBhY2MuY29uZmxpY3RzLnB1c2goe1xuICAgICAgICAvLyBYWFg6IHNwZWNpZnlpbmcgdGhlIHR5cGUgaXMgcHJvYmFibHkgc3VwZXJmbHVvdXNcbiAgICAgICAgdHlwZTogXCJvdXRnb2luZ1wiLFxuICAgICAgICBsb2NhbDogcmVxdWVzdC5ib2R5LFxuICAgICAgICByZW1vdGU6XG4gICAgICAgICAgKHJlc3BvbnNlLmJvZHkuZGV0YWlscyAmJiByZXNwb25zZS5ib2R5LmRldGFpbHMuZXhpc3RpbmcpIHx8IG51bGwsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWNjLmVycm9ycy5wdXNoKHtcbiAgICAgICAgcGF0aDogcmVxdWVzdC5wYXRoLFxuICAgICAgICBzZW50OiByZXF1ZXN0LFxuICAgICAgICBlcnJvcjogcmVzcG9uc2UuYm9keSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYWNjO1xuICB9LCByZXN1bHRzKTtcbn1cbiIsImltcG9ydCB7IHRvRGF0YUJvZHksIGlzT2JqZWN0LCBjYXBhYmxlIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gXCIuL2NvbGxlY3Rpb25cIjtcbmltcG9ydCAqIGFzIHJlcXVlc3RzIGZyb20gXCIuL3JlcXVlc3RzXCI7XG5pbXBvcnQgZW5kcG9pbnQgZnJvbSBcIi4vZW5kcG9pbnRcIjtcblxuLyoqXG4gKiBBYnN0cmFjdCByZXByZXNlbnRhdGlvbiBvZiBhIHNlbGVjdGVkIGJ1Y2tldC5cbiAqXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1Y2tldCB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3Rvci5cbiAgICpcbiAgICogQHBhcmFtICB7S2ludG9DbGllbnR9IGNsaWVudCAgICAgICAgICAgIFRoZSBjbGllbnQgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSAge1N0cmluZ30gICAgICBuYW1lICAgICAgICAgICAgICBUaGUgYnVja2V0IG5hbWUuXG4gICAqIEBwYXJhbSAge09iamVjdH0gICAgICBbb3B0aW9ucz17fV0gICAgICBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgW29wdGlvbnMuaGVhZGVyc10gVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gICAgIFtvcHRpb25zLnNhZmVdICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgICAgIFtvcHRpb25zLnJldHJ5XSAgIFRoZSByZXRyeSBvcHRpb24uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIG5hbWUsIG9wdGlvbnMgPSB7fSkge1xuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICAvKipcbiAgICAgKiBUaGUgYnVja2V0IG5hbWUuXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB0aGlzLl9pc0JhdGNoID0gISFvcHRpb25zLmJhdGNoO1xuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xuICAgIHRoaXMuX3JldHJ5ID0gb3B0aW9ucy5yZXRyeSB8fCAwO1xuICAgIHRoaXMuX3NhZmUgPSAhIW9wdGlvbnMuc2FmZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIFwiaGVhZGVyc1wiIGZvciBhIGdpdmVuIHJlcXVlc3QsIG1lcmdpbmcgdGhlXG4gICAqIHBlci1yZXF1ZXN0IGhlYWRlcnMgd2l0aCBvdXIgb3duIFwiZGVmYXVsdFwiIGhlYWRlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0SGVhZGVycyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnRoaXMuX2hlYWRlcnMsXG4gICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIFwic2FmZVwiIGZvciBhIGdpdmVuIHJlcXVlc3QsIHVzaW5nIHRoZVxuICAgKiBwZXItcmVxdWVzdCBvcHRpb24gaWYgcHJlc2VudCBvciBmYWxsaW5nIGJhY2sgdG8gb3VyIGRlZmF1bHRcbiAgICogb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBmb3IgYSByZXF1ZXN0LlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICovXG4gIF9nZXRTYWZlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4geyBzYWZlOiB0aGlzLl9zYWZlLCAuLi5vcHRpb25zIH0uc2FmZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcyBfZ2V0U2FmZSwgYnV0IGZvciBcInJldHJ5XCIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0UmV0cnkob3B0aW9ucykge1xuICAgIHJldHVybiB7IHJldHJ5OiB0aGlzLl9yZXRyeSwgLi4ub3B0aW9ucyB9LnJldHJ5O1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdHMgYSBjb2xsZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBuYW1lICAgICAgICAgICAgICBUaGUgY29sbGVjdGlvbiBuYW1lLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmhlYWRlcnNdIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLnNhZmVdICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICogQHJldHVybiB7Q29sbGVjdGlvbn1cbiAgICovXG4gIGNvbGxlY3Rpb24obmFtZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIG5ldyBDb2xsZWN0aW9uKHRoaXMuY2xpZW50LCB0aGlzLCBuYW1lLCB7XG4gICAgICBiYXRjaDogdGhpcy5faXNCYXRjaCxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucyksXG4gICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBidWNrZXQgZGF0YS5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucz17fV0gICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnMuaGVhZGVyc10gVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5yZXRyeT0wXSBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIGFzeW5jIGdldERhdGEob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICBwYXRoOiBlbmRwb2ludChcImJ1Y2tldFwiLCB0aGlzLm5hbWUpLFxuICAgIH07XG4gICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5leGVjdXRlKHJlcXVlc3QsIHtcbiAgICAgIHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSxcbiAgICB9KTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYnVja2V0IGRhdGEuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIGRhdGEgICAgICAgICAgICAgICAgICAgIFRoZSBidWNrZXQgZGF0YSBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVycz17fV0gICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMuc2FmZV0gICAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeT0wXSAgICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMucGF0Y2hdICAgICAgICAgVGhlIHBhdGNoIG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMubGFzdF9tb2RpZmllZF0gVGhlIGxhc3RfbW9kaWZpZWQgb3B0aW9uLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgc2V0RGF0YShkYXRhLCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGJ1Y2tldCBvYmplY3QgaXMgcmVxdWlyZWQuXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1Y2tldCA9IHsgLi4uZGF0YSwgaWQ6IHRoaXMubmFtZSB9O1xuXG4gICAgLy8gRm9yIGRlZmF1bHQgYnVja2V0LCB3ZSBuZWVkIHRvIGRyb3AgdGhlIGlkIGZyb20gdGhlIGRhdGEgb2JqZWN0LlxuICAgIC8vIEJ1ZyBpbiBLaW50byA8IDMuMS4xXG4gICAgY29uc3QgYnVja2V0SWQgPSBidWNrZXQuaWQ7XG4gICAgaWYgKGJ1Y2tldC5pZCA9PT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgIGRlbGV0ZSBidWNrZXQuaWQ7XG4gICAgfVxuXG4gICAgY29uc3QgcGF0aCA9IGVuZHBvaW50KFwiYnVja2V0XCIsIGJ1Y2tldElkKTtcbiAgICBjb25zdCB7IHBhdGNoLCBwZXJtaXNzaW9ucyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB7IGxhc3RfbW9kaWZpZWQgfSA9IHsgLi4uZGF0YSwgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IHJlcXVlc3QgPSByZXF1ZXN0cy51cGRhdGVSZXF1ZXN0KFxuICAgICAgcGF0aCxcbiAgICAgIHsgZGF0YTogYnVja2V0LCBwZXJtaXNzaW9ucyB9LFxuICAgICAge1xuICAgICAgICBsYXN0X21vZGlmaWVkLFxuICAgICAgICBwYXRjaCxcbiAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgc2FmZTogdGhpcy5fZ2V0U2FmZShvcHRpb25zKSxcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5leGVjdXRlKHJlcXVlc3QsIHsgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiBoaXN0b3J5IGVudHJpZXMgaW4gdGhlIGN1cnJlbnQgYnVja2V0LlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zPXt9XSAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucy5oZWFkZXJzXSBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnJldHJ5PTBdIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PE9iamVjdD4sIEVycm9yPn1cbiAgICovXG4gIEBjYXBhYmxlKFtcImhpc3RvcnlcIl0pXG4gIGFzeW5jIGxpc3RIaXN0b3J5KG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHBhdGggPSBlbmRwb2ludChcImhpc3RvcnlcIiwgdGhpcy5uYW1lKTtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQucGFnaW5hdGVkTGlzdChwYXRoLCBvcHRpb25zLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiBjb2xsZWN0aW9ucyBpbiB0aGUgY3VycmVudCBidWNrZXQuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnM9e31dICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zLmhlYWRlcnNdIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMucmV0cnk9MF0gTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8T2JqZWN0PiwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgbGlzdENvbGxlY3Rpb25zKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHBhdGggPSBlbmRwb2ludChcImNvbGxlY3Rpb25cIiwgdGhpcy5uYW1lKTtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQucGFnaW5hdGVkTGlzdChwYXRoLCBvcHRpb25zLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgY29sbGVjdGlvbiBpbiBjdXJyZW50IGJ1Y2tldC5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfHVuZGVmaW5lZH0gIGlkICAgICAgICAgIFRoZSBjb2xsZWN0aW9uIGlkLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5zYWZlXSAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5oZWFkZXJzXSAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF0gICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5wZXJtaXNzaW9uc10gVGhlIHBlcm1pc3Npb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuZGF0YV0gICAgICAgIFRoZSBkYXRhIG9iamVjdC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIGFzeW5jIGNyZWF0ZUNvbGxlY3Rpb24oaWQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgcGVybWlzc2lvbnMsIGRhdGEgPSB7fSB9ID0gb3B0aW9ucztcbiAgICBkYXRhLmlkID0gaWQ7XG4gICAgY29uc3QgcGF0aCA9IGVuZHBvaW50KFwiY29sbGVjdGlvblwiLCB0aGlzLm5hbWUsIGlkKTtcbiAgICBjb25zdCByZXF1ZXN0ID0gcmVxdWVzdHMuY3JlYXRlUmVxdWVzdChcbiAgICAgIHBhdGgsXG4gICAgICB7IGRhdGEsIHBlcm1pc3Npb25zIH0sXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucyksXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZXhlY3V0ZShyZXF1ZXN0LCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGEgY29sbGVjdGlvbiBmcm9tIHRoZSBjdXJyZW50IGJ1Y2tldC5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fFN0cmluZ30gY29sbGVjdGlvbiAgICAgICAgICAgICAgVGhlIGNvbGxlY3Rpb24gdG8gZGVsZXRlLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICBbb3B0aW9ucz17fV0gICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgIFtvcHRpb25zLmhlYWRlcnNdICAgICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gICAgICAgIFtvcHRpb25zLnJldHJ5PTBdICAgICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcGFyYW0gIHtCb29sZWFufSAgICAgICBbb3B0aW9ucy5zYWZlXSAgICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gICAgICAgIFtvcHRpb25zLmxhc3RfbW9kaWZpZWRdIFRoZSBsYXN0X21vZGlmaWVkIG9wdGlvbi5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIGFzeW5jIGRlbGV0ZUNvbGxlY3Rpb24oY29sbGVjdGlvbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgY29sbGVjdGlvbk9iaiA9IHRvRGF0YUJvZHkoY29sbGVjdGlvbik7XG4gICAgaWYgKCFjb2xsZWN0aW9uT2JqLmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGNvbGxlY3Rpb24gaWQgaXMgcmVxdWlyZWQuXCIpO1xuICAgIH1cbiAgICBjb25zdCB7IGlkIH0gPSBjb2xsZWN0aW9uT2JqO1xuICAgIGNvbnN0IHsgbGFzdF9tb2RpZmllZCB9ID0geyAuLi5jb2xsZWN0aW9uT2JqLCAuLi5vcHRpb25zIH07XG4gICAgY29uc3QgcGF0aCA9IGVuZHBvaW50KFwiY29sbGVjdGlvblwiLCB0aGlzLm5hbWUsIGlkKTtcbiAgICBjb25zdCByZXF1ZXN0ID0gcmVxdWVzdHMuZGVsZXRlUmVxdWVzdChwYXRoLCB7XG4gICAgICBsYXN0X21vZGlmaWVkLFxuICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucyksXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBsaXN0IG9mIGdyb3VwcyBpbiB0aGUgY3VycmVudCBidWNrZXQuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnM9e31dICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zLmhlYWRlcnNdIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMucmV0cnk9MF0gTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8T2JqZWN0PiwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgbGlzdEdyb3VwcyhvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBwYXRoID0gZW5kcG9pbnQoXCJncm91cFwiLCB0aGlzLm5hbWUpO1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5wYWdpbmF0ZWRMaXN0KHBhdGgsIG9wdGlvbnMsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucyksXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBncm91cCBpbiBjdXJyZW50IGJ1Y2tldC5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSBpZCAgICAgICAgICAgICAgICBUaGUgZ3JvdXAgaWQuXG4gICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnM9e31dICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zLmhlYWRlcnNdIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMucmV0cnk9MF0gTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAqL1xuICBhc3luYyBnZXRHcm91cChpZCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICBwYXRoOiBlbmRwb2ludChcImdyb3VwXCIsIHRoaXMubmFtZSwgaWQpLFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBncm91cCBpbiBjdXJyZW50IGJ1Y2tldC5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfHVuZGVmaW5lZH0gIGlkICAgICAgICAgICAgICAgICAgICBUaGUgZ3JvdXAgaWQuXG4gICAqIEBwYXJhbSAge0FycmF5PFN0cmluZz59ICAgICBbbWVtYmVycz1bXV0gICAgICAgICAgVGhlIGxpc3Qgb2YgcHJpbmNpcGFscy5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICAgICAgIFtvcHRpb25zPXt9XSAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgICBbb3B0aW9ucy5kYXRhXSAgICAgICAgVGhlIGRhdGEgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICAgICAgW29wdGlvbnMucGVybWlzc2lvbnNdIFRoZSBwZXJtaXNzaW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59ICAgICAgICAgICBbb3B0aW9ucy5zYWZlXSAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICAgICAgW29wdGlvbnMuaGVhZGVyc10gICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gICAgICAgICAgICBbb3B0aW9ucy5yZXRyeT0wXSAgICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAqL1xuICBhc3luYyBjcmVhdGVHcm91cChpZCwgbWVtYmVycyA9IFtdLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgLi4ub3B0aW9ucy5kYXRhLFxuICAgICAgaWQsXG4gICAgICBtZW1iZXJzLFxuICAgIH07XG4gICAgY29uc3QgcGF0aCA9IGVuZHBvaW50KFwiZ3JvdXBcIiwgdGhpcy5uYW1lLCBpZCk7XG4gICAgY29uc3QgeyBwZXJtaXNzaW9ucyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCByZXF1ZXN0ID0gcmVxdWVzdHMuY3JlYXRlUmVxdWVzdChcbiAgICAgIHBhdGgsXG4gICAgICB7IGRhdGEsIHBlcm1pc3Npb25zIH0sXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucyksXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZXhlY3V0ZShyZXF1ZXN0LCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGFuIGV4aXN0aW5nIGdyb3VwIGluIGN1cnJlbnQgYnVja2V0LlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBncm91cCAgICAgICAgICAgICAgICAgICBUaGUgZ3JvdXAgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmRhdGFdICAgICAgICAgIFRoZSBkYXRhIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMucGVybWlzc2lvbnNdICAgVGhlIHBlcm1pc3Npb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMuc2FmZV0gICAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5oZWFkZXJzXSAgICAgICBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeT0wXSAgICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMubGFzdF9tb2RpZmllZF0gVGhlIGxhc3RfbW9kaWZpZWQgb3B0aW9uLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgdXBkYXRlR3JvdXAoZ3JvdXAsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghaXNPYmplY3QoZ3JvdXApKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGdyb3VwIG9iamVjdCBpcyByZXF1aXJlZC5cIik7XG4gICAgfVxuICAgIGlmICghZ3JvdXAuaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgZ3JvdXAgaWQgaXMgcmVxdWlyZWQuXCIpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgLi4ub3B0aW9ucy5kYXRhLFxuICAgICAgLi4uZ3JvdXAsXG4gICAgfTtcbiAgICBjb25zdCBwYXRoID0gZW5kcG9pbnQoXCJncm91cFwiLCB0aGlzLm5hbWUsIGdyb3VwLmlkKTtcbiAgICBjb25zdCB7IHBhdGNoLCBwZXJtaXNzaW9ucyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB7IGxhc3RfbW9kaWZpZWQgfSA9IHsgLi4uZGF0YSwgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IHJlcXVlc3QgPSByZXF1ZXN0cy51cGRhdGVSZXF1ZXN0KFxuICAgICAgcGF0aCxcbiAgICAgIHsgZGF0YSwgcGVybWlzc2lvbnMgfSxcbiAgICAgIHtcbiAgICAgICAgbGFzdF9tb2RpZmllZCxcbiAgICAgICAgcGF0Y2gsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucyksXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZXhlY3V0ZShyZXF1ZXN0LCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGEgZ3JvdXAgZnJvbSB0aGUgY3VycmVudCBidWNrZXQuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdHxTdHJpbmd9IGdyb3VwICAgICAgICAgICAgICAgICAgIFRoZSBncm91cCB0byBkZWxldGUuXG4gICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgIFtvcHRpb25zPXt9XSAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgICAgICAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59ICAgICAgIFtvcHRpb25zLnNhZmVdICAgICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgICAgICAgW29wdGlvbnMubGFzdF9tb2RpZmllZF0gVGhlIGxhc3RfbW9kaWZpZWQgb3B0aW9uLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgZGVsZXRlR3JvdXAoZ3JvdXAsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGdyb3VwT2JqID0gdG9EYXRhQm9keShncm91cCk7XG4gICAgY29uc3QgeyBpZCB9ID0gZ3JvdXBPYmo7XG4gICAgY29uc3QgeyBsYXN0X21vZGlmaWVkIH0gPSB7IC4uLmdyb3VwT2JqLCAuLi5vcHRpb25zIH07XG4gICAgY29uc3QgcGF0aCA9IGVuZHBvaW50KFwiZ3JvdXBcIiwgdGhpcy5uYW1lLCBpZCk7XG4gICAgY29uc3QgcmVxdWVzdCA9IHJlcXVlc3RzLmRlbGV0ZVJlcXVlc3QocGF0aCwge1xuICAgICAgbGFzdF9tb2RpZmllZCxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpLFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5leGVjdXRlKHJlcXVlc3QsIHsgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiBwZXJtaXNzaW9ucyBmb3IgdGhpcyBidWNrZXQuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gW29wdGlvbnM9e31dICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zLmhlYWRlcnNdIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMucmV0cnk9MF0gTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAqL1xuICBhc3luYyBnZXRQZXJtaXNzaW9ucyhvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgIHBhdGg6IGVuZHBvaW50KFwiYnVja2V0XCIsIHRoaXMubmFtZSksXG4gICAgfTtcbiAgICBjb25zdCB7IHBlcm1pc3Npb25zIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5leGVjdXRlKHJlcXVlc3QsIHtcbiAgICAgIHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSxcbiAgICB9KTtcbiAgICByZXR1cm4gcGVybWlzc2lvbnM7XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGV4aXN0aW5nIGJ1Y2tldCBwZXJtaXNzaW9ucyB3aXRoIHRoZSBvbmVzIHByb3ZpZGVkLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBwZXJtaXNzaW9ucyAgICAgICAgICAgICBUaGUgcGVybWlzc2lvbnMgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucz17fV0gICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMuc2FmZV0gICAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5oZWFkZXJzPXt9XSAgICBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeT0wXSAgICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMubGFzdF9tb2RpZmllZF0gVGhlIGxhc3RfbW9kaWZpZWQgb3B0aW9uLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgc2V0UGVybWlzc2lvbnMocGVybWlzc2lvbnMsIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghaXNPYmplY3QocGVybWlzc2lvbnMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIHBlcm1pc3Npb25zIG9iamVjdCBpcyByZXF1aXJlZC5cIik7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSBlbmRwb2ludChcImJ1Y2tldFwiLCB0aGlzLm5hbWUpO1xuICAgIGNvbnN0IHsgbGFzdF9tb2RpZmllZCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBkYXRhID0geyBsYXN0X21vZGlmaWVkIH07XG4gICAgY29uc3QgcmVxdWVzdCA9IHJlcXVlc3RzLnVwZGF0ZVJlcXVlc3QoXG4gICAgICBwYXRoLFxuICAgICAgeyBkYXRhLCBwZXJtaXNzaW9ucyB9LFxuICAgICAge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSk7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kIHByaW5jaXBhbHMgdG8gdGhlIGJ1Y2tldCBwZXJtaXNzaW9ucy5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgcGVybWlzc2lvbnMgICAgICAgICAgICAgVGhlIHBlcm1pc3Npb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnM9e31dICAgICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLnNhZmVdICAgICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmxhc3RfbW9kaWZpZWRdIFRoZSBsYXN0X21vZGlmaWVkIG9wdGlvbi5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIGFzeW5jIGFkZFBlcm1pc3Npb25zKHBlcm1pc3Npb25zLCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAoIWlzT2JqZWN0KHBlcm1pc3Npb25zKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBwZXJtaXNzaW9ucyBvYmplY3QgaXMgcmVxdWlyZWQuXCIpO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gZW5kcG9pbnQoXCJidWNrZXRcIiwgdGhpcy5uYW1lKTtcbiAgICBjb25zdCB7IGxhc3RfbW9kaWZpZWQgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgcmVxdWVzdCA9IHJlcXVlc3RzLmpzb25QYXRjaFBlcm1pc3Npb25zUmVxdWVzdChcbiAgICAgIHBhdGgsXG4gICAgICBwZXJtaXNzaW9ucyxcbiAgICAgIFwiYWRkXCIsXG4gICAgICB7XG4gICAgICAgIGxhc3RfbW9kaWZpZWQsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucyksXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZXhlY3V0ZShyZXF1ZXN0LCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgcHJpbmNpcGFscyBmcm9tIHRoZSBidWNrZXQgcGVybWlzc2lvbnMuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gIHBlcm1pc3Npb25zICAgICAgICAgICAgIFRoZSBwZXJtaXNzaW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5zYWZlXSAgICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmhlYWRlcnNdICAgICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLnJldHJ5PTBdICAgICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5sYXN0X21vZGlmaWVkXSBUaGUgbGFzdF9tb2RpZmllZCBvcHRpb24uXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAqL1xuICBhc3luYyByZW1vdmVQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucywgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFpc09iamVjdChwZXJtaXNzaW9ucykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgcGVybWlzc2lvbnMgb2JqZWN0IGlzIHJlcXVpcmVkLlwiKTtcbiAgICB9XG4gICAgY29uc3QgcGF0aCA9IGVuZHBvaW50KFwiYnVja2V0XCIsIHRoaXMubmFtZSk7XG4gICAgY29uc3QgeyBsYXN0X21vZGlmaWVkIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHJlcXVlc3QgPSByZXF1ZXN0cy5qc29uUGF0Y2hQZXJtaXNzaW9uc1JlcXVlc3QoXG4gICAgICBwYXRoLFxuICAgICAgcGVybWlzc2lvbnMsXG4gICAgICBcInJlbW92ZVwiLFxuICAgICAge1xuICAgICAgICBsYXN0X21vZGlmaWVkLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSk7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgYmF0Y2ggb3BlcmF0aW9ucyBhdCB0aGUgY3VycmVudCBidWNrZXQgbGV2ZWwuXG4gICAqXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICAgICAgICAgICAgICAgICBUaGUgYmF0Y2ggb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnM9e31dICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnMuaGVhZGVyc10gICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gIFtvcHRpb25zLnNhZmVdICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgIFtvcHRpb25zLnJldHJ5PTBdICAgIFRoZSByZXRyeSBvcHRpb24uXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59ICBbb3B0aW9ucy5hZ2dyZWdhdGVdICBQcm9kdWNlcyBhIGdyb3VwZWQgcmVzdWx0IG9iamVjdC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIGFzeW5jIGJhdGNoKGZuLCBvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuYmF0Y2goZm4sIHtcbiAgICAgIGJ1Y2tldDogdGhpcy5uYW1lLFxuICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgIHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSxcbiAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucyksXG4gICAgICBhZ2dyZWdhdGU6ICEhb3B0aW9ucy5hZ2dyZWdhdGUsXG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tIFwidXVpZFwiO1xuXG5pbXBvcnQgeyBjYXBhYmxlLCB0b0RhdGFCb2R5LCBpc09iamVjdCB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgKiBhcyByZXF1ZXN0cyBmcm9tIFwiLi9yZXF1ZXN0c1wiO1xuaW1wb3J0IGVuZHBvaW50IGZyb20gXCIuL2VuZHBvaW50XCI7XG5cbi8qKlxuICogQWJzdHJhY3QgcmVwcmVzZW50YXRpb24gb2YgYSBzZWxlY3RlZCBjb2xsZWN0aW9uLlxuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sbGVjdGlvbiB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3Rvci5cbiAgICpcbiAgICogQHBhcmFtICB7S2ludG9DbGllbnR9ICBjbGllbnQgICAgICAgICAgICBUaGUgY2xpZW50IGluc3RhbmNlLlxuICAgKiBAcGFyYW0gIHtCdWNrZXR9ICAgICAgIGJ1Y2tldCAgICAgICAgICAgIFRoZSBidWNrZXQgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgbmFtZSAgICAgICAgICAgICAgVGhlIGNvbGxlY3Rpb24gbmFtZS5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgICAgICBbb3B0aW9ucz17fV0gICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgW29wdGlvbnMuaGVhZGVyc10gVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gICAgICBbb3B0aW9ucy5zYWZlXSAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gICAgICAgW29wdGlvbnMucmV0cnldICAgVGhlIHJldHJ5IG9wdGlvbi5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gICAgICBbb3B0aW9ucy5iYXRjaF0gICAoUHJpdmF0ZSkgV2hldGhlciB0aGlzXG4gICAqICAgICBDb2xsZWN0aW9uIGlzIG9wZXJhdGluZyBhcyBwYXJ0IG9mIGEgYmF0Y2guXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGJ1Y2tldCwgbmFtZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB0aGlzLmJ1Y2tldCA9IGJ1Y2tldDtcbiAgICAvKipcbiAgICAgKiBUaGUgY29sbGVjdGlvbiBuYW1lLlxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcblxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB0aGlzLl9pc0JhdGNoID0gISFvcHRpb25zLmJhdGNoO1xuXG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuX3JldHJ5ID0gb3B0aW9ucy5yZXRyeSB8fCAwO1xuICAgIHRoaXMuX3NhZmUgPSAhIW9wdGlvbnMuc2FmZTtcbiAgICAvLyBGSVhNRTogVGhpcyBpcyBraW5kIG9mIHVnbHk7IHNob3VsZG4ndCB0aGUgYnVja2V0IGJlIHJlc3BvbnNpYmxlXG4gICAgLy8gZm9yIGRvaW5nIHRoZSBtZXJnZT9cbiAgICB0aGlzLl9oZWFkZXJzID0ge1xuICAgICAgLi4udGhpcy5idWNrZXQuX2hlYWRlcnMsXG4gICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIFwiaGVhZGVyc1wiIGZvciBhIGdpdmVuIHJlcXVlc3QsIG1lcmdpbmcgdGhlXG4gICAqIHBlci1yZXF1ZXN0IGhlYWRlcnMgd2l0aCBvdXIgb3duIFwiZGVmYXVsdFwiIGhlYWRlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0SGVhZGVycyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnRoaXMuX2hlYWRlcnMsXG4gICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIFwic2FmZVwiIGZvciBhIGdpdmVuIHJlcXVlc3QsIHVzaW5nIHRoZVxuICAgKiBwZXItcmVxdWVzdCBvcHRpb24gaWYgcHJlc2VudCBvciBmYWxsaW5nIGJhY2sgdG8gb3VyIGRlZmF1bHRcbiAgICogb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBmb3IgYSByZXF1ZXN0LlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICovXG4gIF9nZXRTYWZlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4geyBzYWZlOiB0aGlzLl9zYWZlLCAuLi5vcHRpb25zIH0uc2FmZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcyBfZ2V0U2FmZSwgYnV0IGZvciBcInJldHJ5XCIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0UmV0cnkob3B0aW9ucykge1xuICAgIHJldHVybiB7IHJldHJ5OiB0aGlzLl9yZXRyeSwgLi4ub3B0aW9ucyB9LnJldHJ5O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgdG90YWwgbnVtYmVyIG9mIHJlY29yZHMgaW4gdGhpcyBjb2xsZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zPXt9XSAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucy5oZWFkZXJzXSBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnJldHJ5PTBdIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE51bWJlciwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgZ2V0VG90YWxSZWNvcmRzKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHBhdGggPSBlbmRwb2ludChcInJlY29yZFwiLCB0aGlzLmJ1Y2tldC5uYW1lLCB0aGlzLm5hbWUpO1xuICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgcGF0aCxcbiAgICAgIG1ldGhvZDogXCJIRUFEXCIsXG4gICAgfTtcbiAgICBjb25zdCB7IGhlYWRlcnMgfSA9IGF3YWl0IHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwge1xuICAgICAgcmF3OiB0cnVlLFxuICAgICAgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpLFxuICAgIH0pO1xuICAgIHJldHVybiBwYXJzZUludChoZWFkZXJzLmdldChcIlRvdGFsLVJlY29yZHNcIiksIDEwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgY29sbGVjdGlvbiBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zPXt9XSAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucy5oZWFkZXJzXSBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnJldHJ5PTBdIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgZ2V0RGF0YShvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBwYXRoID0gZW5kcG9pbnQoXCJjb2xsZWN0aW9uXCIsIHRoaXMuYnVja2V0Lm5hbWUsIHRoaXMubmFtZSk7XG4gICAgY29uc3QgcmVxdWVzdCA9IHsgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSwgcGF0aCB9O1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5jbGllbnQuZXhlY3V0ZShyZXF1ZXN0LCB7XG4gICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucyksXG4gICAgfSk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGNvbGxlY3Rpb24gZGF0YS5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgIGRhdGEgICAgICAgICAgICAgICAgICAgIFRoZSBjb2xsZWN0aW9uIGRhdGEgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnM9e31dICAgICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgIFtvcHRpb25zLnJldHJ5PTBdICAgICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcGFyYW0gIHtCb29sZWFufSAgW29wdGlvbnMuc2FmZV0gICAgICAgICAgVGhlIHNhZmUgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtCb29sZWFufSAgW29wdGlvbnMucGF0Y2hdICAgICAgICAgVGhlIHBhdGNoIG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgIFtvcHRpb25zLmxhc3RfbW9kaWZpZWRdIFRoZSBsYXN0X21vZGlmaWVkIG9wdGlvbi5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIGFzeW5jIHNldERhdGEoZGF0YSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBjb2xsZWN0aW9uIG9iamVjdCBpcyByZXF1aXJlZC5cIik7XG4gICAgfVxuICAgIGNvbnN0IHsgcGF0Y2gsIHBlcm1pc3Npb25zIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHsgbGFzdF9tb2RpZmllZCB9ID0geyAuLi5kYXRhLCAuLi5vcHRpb25zIH07XG5cbiAgICBjb25zdCBwYXRoID0gZW5kcG9pbnQoXCJjb2xsZWN0aW9uXCIsIHRoaXMuYnVja2V0Lm5hbWUsIHRoaXMubmFtZSk7XG4gICAgY29uc3QgcmVxdWVzdCA9IHJlcXVlc3RzLnVwZGF0ZVJlcXVlc3QoXG4gICAgICBwYXRoLFxuICAgICAgeyBkYXRhLCBwZXJtaXNzaW9ucyB9LFxuICAgICAge1xuICAgICAgICBsYXN0X21vZGlmaWVkLFxuICAgICAgICBwYXRjaCxcbiAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgc2FmZTogdGhpcy5fZ2V0U2FmZShvcHRpb25zKSxcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5leGVjdXRlKHJlcXVlc3QsIHsgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiBwZXJtaXNzaW9ucyBmb3IgdGhpcyBjb2xsZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zPXt9XSAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucy5oZWFkZXJzXSBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnJldHJ5PTBdIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgZ2V0UGVybWlzc2lvbnMob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgcGF0aCA9IGVuZHBvaW50KFwiY29sbGVjdGlvblwiLCB0aGlzLmJ1Y2tldC5uYW1lLCB0aGlzLm5hbWUpO1xuICAgIGNvbnN0IHJlcXVlc3QgPSB7IGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksIHBhdGggfTtcbiAgICBjb25zdCB7IHBlcm1pc3Npb25zIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5leGVjdXRlKHJlcXVlc3QsIHtcbiAgICAgIHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSxcbiAgICB9KTtcbiAgICByZXR1cm4gcGVybWlzc2lvbnM7XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGV4aXN0aW5nIGNvbGxlY3Rpb24gcGVybWlzc2lvbnMgd2l0aCB0aGUgb25lcyBwcm92aWRlZC5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgIHBlcm1pc3Npb25zICAgICAgICAgICAgIFRoZSBwZXJtaXNzaW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gICBbb3B0aW9ucz17fV0gICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgIFtvcHRpb25zLmhlYWRlcnNdICAgICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gICBbb3B0aW9ucy5yZXRyeT0wXSAgICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gIFtvcHRpb25zLnNhZmVdICAgICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgIFtvcHRpb25zLmxhc3RfbW9kaWZpZWRdIFRoZSBsYXN0X21vZGlmaWVkIG9wdGlvbi5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIGFzeW5jIHNldFBlcm1pc3Npb25zKHBlcm1pc3Npb25zLCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAoIWlzT2JqZWN0KHBlcm1pc3Npb25zKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBwZXJtaXNzaW9ucyBvYmplY3QgaXMgcmVxdWlyZWQuXCIpO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gZW5kcG9pbnQoXCJjb2xsZWN0aW9uXCIsIHRoaXMuYnVja2V0Lm5hbWUsIHRoaXMubmFtZSk7XG4gICAgY29uc3QgZGF0YSA9IHsgbGFzdF9tb2RpZmllZDogb3B0aW9ucy5sYXN0X21vZGlmaWVkIH07XG4gICAgY29uc3QgcmVxdWVzdCA9IHJlcXVlc3RzLnVwZGF0ZVJlcXVlc3QoXG4gICAgICBwYXRoLFxuICAgICAgeyBkYXRhLCBwZXJtaXNzaW9ucyB9LFxuICAgICAge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSk7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kIHByaW5jaXBhbHMgdG8gdGhlIGNvbGxlY3Rpb24gcGVybWlzc2lvbnMuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gIHBlcm1pc3Npb25zICAgICAgICAgICAgIFRoZSBwZXJtaXNzaW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5zYWZlXSAgICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmhlYWRlcnNdICAgICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLnJldHJ5PTBdICAgICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5sYXN0X21vZGlmaWVkXSBUaGUgbGFzdF9tb2RpZmllZCBvcHRpb24uXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAqL1xuICBhc3luYyBhZGRQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucywgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFpc09iamVjdChwZXJtaXNzaW9ucykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgcGVybWlzc2lvbnMgb2JqZWN0IGlzIHJlcXVpcmVkLlwiKTtcbiAgICB9XG4gICAgY29uc3QgcGF0aCA9IGVuZHBvaW50KFwiY29sbGVjdGlvblwiLCB0aGlzLmJ1Y2tldC5uYW1lLCB0aGlzLm5hbWUpO1xuICAgIGNvbnN0IHsgbGFzdF9tb2RpZmllZCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCByZXF1ZXN0ID0gcmVxdWVzdHMuanNvblBhdGNoUGVybWlzc2lvbnNSZXF1ZXN0KFxuICAgICAgcGF0aCxcbiAgICAgIHBlcm1pc3Npb25zLFxuICAgICAgXCJhZGRcIixcbiAgICAgIHtcbiAgICAgICAgbGFzdF9tb2RpZmllZCxcbiAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgc2FmZTogdGhpcy5fZ2V0U2FmZShvcHRpb25zKSxcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5leGVjdXRlKHJlcXVlc3QsIHsgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBwcmluY2lwYWxzIGZyb20gdGhlIGNvbGxlY3Rpb24gcGVybWlzc2lvbnMuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gIHBlcm1pc3Npb25zICAgICAgICAgICAgIFRoZSBwZXJtaXNzaW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0gIHtCb29sZWFufSBbb3B0aW9ucy5zYWZlXSAgICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmhlYWRlcnNdICAgICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gIFtvcHRpb25zLnJldHJ5PTBdICAgICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5sYXN0X21vZGlmaWVkXSBUaGUgbGFzdF9tb2RpZmllZCBvcHRpb24uXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAqL1xuICBhc3luYyByZW1vdmVQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucywgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFpc09iamVjdChwZXJtaXNzaW9ucykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgcGVybWlzc2lvbnMgb2JqZWN0IGlzIHJlcXVpcmVkLlwiKTtcbiAgICB9XG4gICAgY29uc3QgcGF0aCA9IGVuZHBvaW50KFwiY29sbGVjdGlvblwiLCB0aGlzLmJ1Y2tldC5uYW1lLCB0aGlzLm5hbWUpO1xuICAgIGNvbnN0IHsgbGFzdF9tb2RpZmllZCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCByZXF1ZXN0ID0gcmVxdWVzdHMuanNvblBhdGNoUGVybWlzc2lvbnNSZXF1ZXN0KFxuICAgICAgcGF0aCxcbiAgICAgIHBlcm1pc3Npb25zLFxuICAgICAgXCJyZW1vdmVcIixcbiAgICAgIHtcbiAgICAgICAgbGFzdF9tb2RpZmllZCxcbiAgICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgc2FmZTogdGhpcy5fZ2V0U2FmZShvcHRpb25zKSxcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5leGVjdXRlKHJlcXVlc3QsIHsgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSByZWNvcmQgaW4gY3VycmVudCBjb2xsZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICByZWNvcmQgICAgICAgICAgICAgICAgVGhlIHJlY29yZCB0byBjcmVhdGUuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLmhlYWRlcnNdICAgICBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBbb3B0aW9ucy5yZXRyeT0wXSAgICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLnNhZmVdICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zLnBlcm1pc3Npb25zXSBUaGUgcGVybWlzc2lvbnMgb3B0aW9uLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgY3JlYXRlUmVjb3JkKHJlY29yZCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBwZXJtaXNzaW9ucyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBwYXRoID0gZW5kcG9pbnQoXCJyZWNvcmRcIiwgdGhpcy5idWNrZXQubmFtZSwgdGhpcy5uYW1lLCByZWNvcmQuaWQpO1xuICAgIGNvbnN0IHJlcXVlc3QgPSByZXF1ZXN0cy5jcmVhdGVSZXF1ZXN0KFxuICAgICAgcGF0aCxcbiAgICAgIHsgZGF0YTogcmVjb3JkLCBwZXJtaXNzaW9ucyB9LFxuICAgICAge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhbiBhdHRhY2htZW50IHRvIGEgcmVjb3JkLCBjcmVhdGluZyB0aGUgcmVjb3JkIHdoZW4gaXQgZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSAgZGF0YVVSTCAgICAgICAgICAgICAgICAgVGhlIGRhdGEgdXJsLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbcmVjb3JkPXt9XSAgICAgICAgICAgICBUaGUgcmVjb3JkIGRhdGEuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLnNhZmVdICAgICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMubGFzdF9tb2RpZmllZF0gVGhlIGxhc3RfbW9kaWZpZWQgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5wZXJtaXNzaW9uc10gICBUaGUgcGVybWlzc2lvbnMgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBbb3B0aW9ucy5maWxlbmFtZV0gICAgICBGb3JjZSB0aGUgYXR0YWNobWVudCBmaWxlbmFtZS5cbiAgICogQHBhcmFtICB7U3RyaW5nfSAgW29wdGlvbnMuZ3ppcHBlZF0gICAgICAgRm9yY2UgdGhlIGF0dGFjaG1lbnQgdG8gYmUgZ3ppcHBlZCBvciBub3QuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAqL1xuICBAY2FwYWJsZShbXCJhdHRhY2htZW50c1wiXSlcbiAgYXN5bmMgYWRkQXR0YWNobWVudChkYXRhVVJJLCByZWNvcmQgPSB7fSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBwZXJtaXNzaW9ucyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBpZCA9IHJlY29yZC5pZCB8fCB1dWlkLnY0KCk7XG4gICAgY29uc3QgcGF0aCA9IGVuZHBvaW50KFwiYXR0YWNobWVudFwiLCB0aGlzLmJ1Y2tldC5uYW1lLCB0aGlzLm5hbWUsIGlkKTtcbiAgICBjb25zdCB7IGxhc3RfbW9kaWZpZWQgfSA9IHsgLi4ucmVjb3JkLCAuLi5vcHRpb25zIH07XG4gICAgY29uc3QgYWRkQXR0YWNobWVudFJlcXVlc3QgPSByZXF1ZXN0cy5hZGRBdHRhY2htZW50UmVxdWVzdChcbiAgICAgIHBhdGgsXG4gICAgICBkYXRhVVJJLFxuICAgICAgeyBkYXRhOiByZWNvcmQsIHBlcm1pc3Npb25zIH0sXG4gICAgICB7XG4gICAgICAgIGxhc3RfbW9kaWZpZWQsXG4gICAgICAgIGZpbGVuYW1lOiBvcHRpb25zLmZpbGVuYW1lLFxuICAgICAgICBnemlwcGVkOiBvcHRpb25zLmd6aXBwZWQsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucyksXG4gICAgICB9XG4gICAgKTtcbiAgICBhd2FpdCB0aGlzLmNsaWVudC5leGVjdXRlKGFkZEF0dGFjaG1lbnRSZXF1ZXN0LCB7XG4gICAgICBzdHJpbmdpZnk6IGZhbHNlLFxuICAgICAgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpLFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmdldFJlY29yZChpZCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBhdHRhY2htZW50IGZyb20gYSBnaXZlbiByZWNvcmQuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gIHJlY29yZElkICAgICAgICAgICAgICAgIFRoZSByZWNvcmQgaWQuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLnNhZmVdICAgICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMubGFzdF9tb2RpZmllZF0gVGhlIGxhc3RfbW9kaWZpZWQgb3B0aW9uLlxuICAgKi9cbiAgQGNhcGFibGUoW1wiYXR0YWNobWVudHNcIl0pXG4gIGFzeW5jIHJlbW92ZUF0dGFjaG1lbnQocmVjb3JkSWQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgbGFzdF9tb2RpZmllZCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBwYXRoID0gZW5kcG9pbnQoXCJhdHRhY2htZW50XCIsIHRoaXMuYnVja2V0Lm5hbWUsIHRoaXMubmFtZSwgcmVjb3JkSWQpO1xuICAgIGNvbnN0IHJlcXVlc3QgPSByZXF1ZXN0cy5kZWxldGVSZXF1ZXN0KHBhdGgsIHtcbiAgICAgIGxhc3RfbW9kaWZpZWQsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgc2FmZTogdGhpcy5fZ2V0U2FmZShvcHRpb25zKSxcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZXhlY3V0ZShyZXF1ZXN0LCB7IHJldHJ5OiB0aGlzLl9nZXRSZXRyeShvcHRpb25zKSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgcmVjb3JkIGluIGN1cnJlbnQgY29sbGVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgcmVjb3JkICAgICAgICAgICAgICAgICAgVGhlIHJlY29yZCB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSAge09iamVjdH0gIFtvcHRpb25zPXt9XSAgICAgICAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgTnVtYmVyIG9mIHJldHJpZXMgdG8gbWFrZVxuICAgKiAgICAgd2hlbiBmYWNlZCB3aXRoIHRyYW5zaWVudCBlcnJvcnMuXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLnNhZmVdICAgICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgW29wdGlvbnMubGFzdF9tb2RpZmllZF0gVGhlIGxhc3RfbW9kaWZpZWQgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBbb3B0aW9ucy5wZXJtaXNzaW9uc10gICBUaGUgcGVybWlzc2lvbnMgb3B0aW9uLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgdXBkYXRlUmVjb3JkKHJlY29yZCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFpc09iamVjdChyZWNvcmQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIHJlY29yZCBvYmplY3QgaXMgcmVxdWlyZWQuXCIpO1xuICAgIH1cbiAgICBpZiAoIXJlY29yZC5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSByZWNvcmQgaWQgaXMgcmVxdWlyZWQuXCIpO1xuICAgIH1cbiAgICBjb25zdCB7IHBlcm1pc3Npb25zIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHsgbGFzdF9tb2RpZmllZCB9ID0geyAuLi5yZWNvcmQsIC4uLm9wdGlvbnMgfTtcbiAgICBjb25zdCBwYXRoID0gZW5kcG9pbnQoXCJyZWNvcmRcIiwgdGhpcy5idWNrZXQubmFtZSwgdGhpcy5uYW1lLCByZWNvcmQuaWQpO1xuICAgIGNvbnN0IHJlcXVlc3QgPSByZXF1ZXN0cy51cGRhdGVSZXF1ZXN0KFxuICAgICAgcGF0aCxcbiAgICAgIHsgZGF0YTogcmVjb3JkLCBwZXJtaXNzaW9ucyB9LFxuICAgICAge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpLFxuICAgICAgICBsYXN0X21vZGlmaWVkLFxuICAgICAgICBwYXRjaDogISFvcHRpb25zLnBhdGNoLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyBhIHJlY29yZCBmcm9tIHRoZSBjdXJyZW50IGNvbGxlY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdHxTdHJpbmd9IHJlY29yZCAgICAgICAgICAgICAgICAgIFRoZSByZWNvcmQgdG8gZGVsZXRlLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICBbb3B0aW9ucz17fV0gICAgICAgICAgICBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgIFtvcHRpb25zLmhlYWRlcnNdICAgICAgIFRoZSBoZWFkZXJzIG9iamVjdCBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gICAgICAgIFtvcHRpb25zLnJldHJ5PTBdICAgICAgIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcGFyYW0gIHtCb29sZWFufSAgICAgICBbb3B0aW9ucy5zYWZlXSAgICAgICAgICBUaGUgc2FmZSBvcHRpb24uXG4gICAqIEBwYXJhbSAge051bWJlcn0gICAgICAgIFtvcHRpb25zLmxhc3RfbW9kaWZpZWRdIFRoZSBsYXN0X21vZGlmaWVkIG9wdGlvbi5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIGFzeW5jIGRlbGV0ZVJlY29yZChyZWNvcmQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHJlY29yZE9iaiA9IHRvRGF0YUJvZHkocmVjb3JkKTtcbiAgICBpZiAoIXJlY29yZE9iai5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSByZWNvcmQgaWQgaXMgcmVxdWlyZWQuXCIpO1xuICAgIH1cbiAgICBjb25zdCB7IGlkIH0gPSByZWNvcmRPYmo7XG4gICAgY29uc3QgeyBsYXN0X21vZGlmaWVkIH0gPSB7IC4uLnJlY29yZE9iaiwgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IHBhdGggPSBlbmRwb2ludChcInJlY29yZFwiLCB0aGlzLmJ1Y2tldC5uYW1lLCB0aGlzLm5hbWUsIGlkKTtcbiAgICBjb25zdCByZXF1ZXN0ID0gcmVxdWVzdHMuZGVsZXRlUmVxdWVzdChwYXRoLCB7XG4gICAgICBsYXN0X21vZGlmaWVkLFxuICAgICAgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgIHNhZmU6IHRoaXMuX2dldFNhZmUob3B0aW9ucyksXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmV4ZWN1dGUocmVxdWVzdCwgeyByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucykgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGEgcmVjb3JkIGZyb20gdGhlIGN1cnJlbnQgY29sbGVjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSBpZCAgICAgICAgICAgICAgICBUaGUgcmVjb3JkIGlkIHRvIHJldHJpZXZlLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zPXt9XSAgICAgIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucy5oZWFkZXJzXSBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnJldHJ5PTBdIE51bWJlciBvZiByZXRyaWVzIHRvIG1ha2VcbiAgICogICAgIHdoZW4gZmFjZWQgd2l0aCB0cmFuc2llbnQgZXJyb3JzLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdCwgRXJyb3I+fVxuICAgKi9cbiAgYXN5bmMgZ2V0UmVjb3JkKGlkLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBwYXRoID0gZW5kcG9pbnQoXCJyZWNvcmRcIiwgdGhpcy5idWNrZXQubmFtZSwgdGhpcy5uYW1lLCBpZCk7XG4gICAgY29uc3QgcmVxdWVzdCA9IHsgaGVhZGVyczogdGhpcy5fZ2V0SGVhZGVycyhvcHRpb25zKSwgcGF0aCB9O1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5leGVjdXRlKHJlcXVlc3QsIHsgcmV0cnk6IHRoaXMuX2dldFJldHJ5KG9wdGlvbnMpIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExpc3RzIHJlY29yZHMgZnJvbSB0aGUgY3VycmVudCBjb2xsZWN0aW9uLlxuICAgKlxuICAgKiBTb3J0aW5nIGlzIGRvbmUgYnkgcGFzc2luZyBhIGBzb3J0YCBzdHJpbmcgb3B0aW9uOlxuICAgKlxuICAgKiAtIFRoZSBmaWVsZCB0byBvcmRlciB0aGUgcmVzdWx0cyBieSwgcHJlZml4ZWQgd2l0aCBgLWAgZm9yIGRlc2NlbmRpbmcuXG4gICAqIERlZmF1bHQ6IGAtbGFzdF9tb2RpZmllZGAuXG4gICAqXG4gICAqIEBzZWUgaHR0cDovL2tpbnRvLnJlYWR0aGVkb2NzLmlvL2VuL3N0YWJsZS9hcGkvMS54L3NvcnRpbmcuaHRtbFxuICAgKlxuICAgKiBGaWx0ZXJpbmcgaXMgZG9uZSBieSBwYXNzaW5nIGEgYGZpbHRlcnNgIG9wdGlvbiBvYmplY3Q6XG4gICAqXG4gICAqIC0gYHtmaWVsZG5hbWU6IFwidmFsdWVcIn1gXG4gICAqIC0gYHttaW5fZmllbGRuYW1lOiA0MDAwfWBcbiAgICogLSBge2luX2ZpZWxkbmFtZTogXCIxLDIsM1wifWBcbiAgICogLSBge25vdF9maWVsZG5hbWU6IDB9YFxuICAgKiAtIGB7ZXhjbHVkZV9maWVsZG5hbWU6IFwiMCwxXCJ9YFxuICAgKlxuICAgKiBAc2VlIGh0dHA6Ly9raW50by5yZWFkdGhlZG9jcy5pby9lbi9zdGFibGUvYXBpLzEueC9maWx0ZXJpbmcuaHRtbFxuICAgKlxuICAgKiBQYWdpbmF0aW5nIGlzIGRvbmUgYnkgcGFzc2luZyBhIGBsaW1pdGAgb3B0aW9uLCB0aGVuIGNhbGxpbmcgdGhlIGBuZXh0KClgXG4gICAqIG1ldGhvZCBmcm9tIHRoZSByZXNvbHZlZCByZXN1bHQgb2JqZWN0IHRvIGZldGNoIHRoZSBuZXh0IHBhZ2UsIGlmIGFueS5cbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgIFtvcHRpb25zPXt9XSAgICAgICAgICAgICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnMuaGVhZGVyc10gICAgICAgICAgICAgICBUaGUgaGVhZGVycyBvYmplY3Qgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgW29wdGlvbnMucmV0cnk9MF0gICAgICAgICAgICAgICBOdW1iZXIgb2YgcmV0cmllcyB0byBtYWtlXG4gICAqICAgICB3aGVuIGZhY2VkIHdpdGggdHJhbnNpZW50IGVycm9ycy5cbiAgICogQHBhcmFtICB7T2JqZWN0fSAgIFtvcHRpb25zLmZpbHRlcnM9W11dICAgICAgICAgICAgVGhlIGZpbHRlcnMgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgW29wdGlvbnMuc29ydD1cIi1sYXN0X21vZGlmaWVkXCJdIFRoZSBzb3J0IGZpZWxkLlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgW29wdGlvbnMuYXRdICAgICAgICAgICAgICAgICAgICBUaGUgdGltZXN0YW1wIHRvIGdldCBhIHNuYXBzaG90IGF0LlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgW29wdGlvbnMubGltaXQ9bnVsbF0gICAgICAgICAgICBUaGUgbGltaXQgZmllbGQuXG4gICAqIEBwYXJhbSAge1N0cmluZ30gICBbb3B0aW9ucy5wYWdlcz0xXSAgICAgICAgICAgICAgIFRoZSBudW1iZXIgb2YgcmVzdWx0IHBhZ2VzIHRvIGFnZ3JlZ2F0ZS5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgIFtvcHRpb25zLnNpbmNlPW51bGxdICAgICAgICAgICAgT25seSByZXRyaWV2ZSByZWNvcmRzIG1vZGlmaWVkIHNpbmNlIHRoZSBwcm92aWRlZCB0aW1lc3RhbXAuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0LCBFcnJvcj59XG4gICAqL1xuICBhc3luYyBsaXN0UmVjb3JkcyhvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBwYXRoID0gZW5kcG9pbnQoXCJyZWNvcmRcIiwgdGhpcy5idWNrZXQubmFtZSwgdGhpcy5uYW1lKTtcbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcImF0XCIpKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRTbmFwc2hvdChvcHRpb25zLmF0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LnBhZ2luYXRlZExpc3QocGF0aCwgb3B0aW9ucywge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLl9nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucyksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFzeW5jIGlzSGlzdG9yeUNvbXBsZXRlKCkge1xuICAgIC8vIFdlIGNvbnNpZGVyIHRoYXQgaWYgd2UgaGF2ZSB0aGUgY29sbGVjdGlvbiBjcmVhdGlvbiBldmVudCBwYXJ0IG9mIHRoZVxuICAgIC8vIGhpc3RvcnksIHRoZW4gYWxsIHJlY29yZHMgY2hhbmdlIGV2ZW50cyBoYXZlIGJlZW4gdHJhY2tlZC5cbiAgICBjb25zdCB7IGRhdGE6IFtvbGRlc3RIaXN0b3J5RW50cnldIH0gPSBhd2FpdCB0aGlzLmJ1Y2tldC5saXN0SGlzdG9yeSh7XG4gICAgICBsaW1pdDogMSxcbiAgICAgIGZpbHRlcnM6IHtcbiAgICAgICAgYWN0aW9uOiBcImNyZWF0ZVwiLFxuICAgICAgICByZXNvdXJjZV9uYW1lOiBcImNvbGxlY3Rpb25cIixcbiAgICAgICAgY29sbGVjdGlvbl9pZDogdGhpcy5uYW1lLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gISFvbGRlc3RIaXN0b3J5RW50cnk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFzeW5jIGxpc3RDaGFuZ2VzQmFja1RvKGF0KSB7XG4gICAgLy8gRW5zdXJlIHdlIGhhdmUgZW5vdWdoIGhpc3RvcnkgZGF0YSB0byByZXRyaWV2ZSB0aGUgY29tcGxldGUgbGlzdCBvZlxuICAgIC8vIGNoYW5nZXMuXG4gICAgaWYgKCFhd2FpdCB0aGlzLmlzSGlzdG9yeUNvbXBsZXRlKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJDb21wdXRpbmcgYSBzbmFwc2hvdCBpcyBvbmx5IHBvc3NpYmxlIHdoZW4gdGhlIGZ1bGwgaGlzdG9yeSBmb3IgYSBcIiArXG4gICAgICAgICAgXCJjb2xsZWN0aW9uIGlzIGF2YWlsYWJsZS4gSGVyZSwgdGhlIGhpc3RvcnkgcGx1Z2luIHNlZW1zIHRvIGhhdmUgXCIgK1xuICAgICAgICAgIFwiYmVlbiBlbmFibGVkIGFmdGVyIHRoZSBjcmVhdGlvbiBvZiB0aGUgY29sbGVjdGlvbi5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgeyBkYXRhOiBjaGFuZ2VzIH0gPSBhd2FpdCB0aGlzLmJ1Y2tldC5saXN0SGlzdG9yeSh7XG4gICAgICBwYWdlczogSW5maW5pdHksIC8vIGFsbCBwYWdlcyB1cCB0byB0YXJnZXQgdGltZXN0YW1wIGFyZSByZXF1aXJlZFxuICAgICAgc29ydDogXCItdGFyZ2V0LmRhdGEubGFzdF9tb2RpZmllZFwiLFxuICAgICAgZmlsdGVyczoge1xuICAgICAgICByZXNvdXJjZV9uYW1lOiBcInJlY29yZFwiLFxuICAgICAgICBjb2xsZWN0aW9uX2lkOiB0aGlzLm5hbWUsXG4gICAgICAgIFwibWF4X3RhcmdldC5kYXRhLmxhc3RfbW9kaWZpZWRcIjogU3RyaW5nKGF0KSwgLy8gZXEuIHRvIDw9XG4gICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBjaGFuZ2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBAY2FwYWJsZShbXCJoaXN0b3J5XCJdKVxuICBhc3luYyBnZXRTbmFwc2hvdChhdCkge1xuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihhdCkgfHwgYXQgPD0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCwgZXhwZWN0ZWQgYSBwb3NpdGl2ZSBpbnRlZ2VyLlwiKTtcbiAgICB9XG4gICAgLy8gUmV0cmlldmUgaGlzdG9yeSBhbmQgY2hlY2sgaXQgY292ZXJzIHRoZSByZXF1aXJlZCB0aW1lIHJhbmdlLlxuICAgIGNvbnN0IGNoYW5nZXMgPSBhd2FpdCB0aGlzLmxpc3RDaGFuZ2VzQmFja1RvKGF0KTtcbiAgICAvLyBSZXBsYXkgY2hhbmdlcyB0byBjb21wdXRlIHRoZSByZXF1ZXN0ZWQgc25hcHNob3QuXG4gICAgY29uc3Qgc2VlbklkcyA9IG5ldyBTZXQoKTtcbiAgICBsZXQgc25hcHNob3QgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHsgYWN0aW9uLCB0YXJnZXQ6IHsgZGF0YTogcmVjb3JkIH0gfSBvZiBjaGFuZ2VzKSB7XG4gICAgICBpZiAoYWN0aW9uID09IFwiZGVsZXRlXCIpIHtcbiAgICAgICAgc2Vlbklkcy5hZGQocmVjb3JkLmlkKTsgLy8gZW5zdXJlIG5vdCByZXByb2Nlc3NpbmcgZGVsZXRlZCBlbnRyaWVzXG4gICAgICAgIHNuYXBzaG90ID0gc25hcHNob3QuZmlsdGVyKHIgPT4gci5pZCAhPT0gcmVjb3JkLmlkKTtcbiAgICAgIH0gZWxzZSBpZiAoIXNlZW5JZHMuaGFzKHJlY29yZC5pZCkpIHtcbiAgICAgICAgc2Vlbklkcy5hZGQocmVjb3JkLmlkKTtcbiAgICAgICAgc25hcHNob3QucHVzaChyZWNvcmQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9tb2RpZmllZDogU3RyaW5nKGF0KSxcbiAgICAgIGRhdGE6IHNuYXBzaG90LnNvcnQoKGEsIGIpID0+IGIubGFzdF9tb2RpZmllZCAtIGEubGFzdF9tb2RpZmllZCksXG4gICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNuYXBzaG90cyBkb24ndCBzdXBwb3J0IHBhZ2luYXRpb25cIik7XG4gICAgICB9LFxuICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgdG90YWxSZWNvcmRzOiBzbmFwc2hvdC5sZW5ndGgsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBiYXRjaCBvcGVyYXRpb25zIGF0IHRoZSBjdXJyZW50IGNvbGxlY3Rpb24gbGV2ZWwuXG4gICAqXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICAgICAgICAgICAgICAgICBUaGUgYmF0Y2ggb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnM9e31dICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICAgW29wdGlvbnMuaGVhZGVyc10gICAgVGhlIGhlYWRlcnMgb2JqZWN0IG9wdGlvbi5cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gIFtvcHRpb25zLnNhZmVdICAgICAgIFRoZSBzYWZlIG9wdGlvbi5cbiAgICogQHBhcmFtICB7TnVtYmVyfSAgIFtvcHRpb25zLnJldHJ5XSAgICAgIFRoZSByZXRyeSBvcHRpb24uXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59ICBbb3B0aW9ucy5hZ2dyZWdhdGVdICBQcm9kdWNlcyBhIGdyb3VwZWQgcmVzdWx0IG9iamVjdC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QsIEVycm9yPn1cbiAgICovXG4gIGFzeW5jIGJhdGNoKGZuLCBvcHRpb25zID0ge30pIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuYmF0Y2goZm4sIHtcbiAgICAgIGJ1Y2tldDogdGhpcy5idWNrZXQubmFtZSxcbiAgICAgIGNvbGxlY3Rpb246IHRoaXMubmFtZSxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2dldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICByZXRyeTogdGhpcy5fZ2V0UmV0cnkob3B0aW9ucyksXG4gICAgICBzYWZlOiB0aGlzLl9nZXRTYWZlKG9wdGlvbnMpLFxuICAgICAgYWdncmVnYXRlOiAhIW9wdGlvbnMuYWdncmVnYXRlLFxuICAgIH0pO1xuICB9XG59XG4iLCIvKipcbiAqIEVuZHBvaW50cyB0ZW1wbGF0ZXMuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5jb25zdCBFTkRQT0lOVFMgPSB7XG4gIHJvb3Q6ICgpID0+IFwiL1wiLFxuICBiYXRjaDogKCkgPT4gXCIvYmF0Y2hcIixcbiAgcGVybWlzc2lvbnM6ICgpID0+IFwiL3Blcm1pc3Npb25zXCIsXG4gIGJ1Y2tldDogYnVja2V0ID0+IFwiL2J1Y2tldHNcIiArIChidWNrZXQgPyBgLyR7YnVja2V0fWAgOiBcIlwiKSxcbiAgaGlzdG9yeTogYnVja2V0ID0+IGAke0VORFBPSU5UUy5idWNrZXQoYnVja2V0KX0vaGlzdG9yeWAsXG4gIGNvbGxlY3Rpb246IChidWNrZXQsIGNvbGwpID0+XG4gICAgYCR7RU5EUE9JTlRTLmJ1Y2tldChidWNrZXQpfS9jb2xsZWN0aW9uc2AgKyAoY29sbCA/IGAvJHtjb2xsfWAgOiBcIlwiKSxcbiAgZ3JvdXA6IChidWNrZXQsIGdyb3VwKSA9PlxuICAgIGAke0VORFBPSU5UUy5idWNrZXQoYnVja2V0KX0vZ3JvdXBzYCArIChncm91cCA/IGAvJHtncm91cH1gIDogXCJcIiksXG4gIHJlY29yZDogKGJ1Y2tldCwgY29sbCwgaWQpID0+XG4gICAgYCR7RU5EUE9JTlRTLmNvbGxlY3Rpb24oYnVja2V0LCBjb2xsKX0vcmVjb3Jkc2AgKyAoaWQgPyBgLyR7aWR9YCA6IFwiXCIpLFxuICBhdHRhY2htZW50OiAoYnVja2V0LCBjb2xsLCBpZCkgPT5cbiAgICBgJHtFTkRQT0lOVFMucmVjb3JkKGJ1Y2tldCwgY29sbCwgaWQpfS9hdHRhY2htZW50YCxcbn07XG5cbi8qKlxuICogUmV0cmlldmVzIGEgc2VydmVyIGVucG9pbnQgYnkgaXRzIG5hbWUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge1N0cmluZ30gICAgbmFtZSBUaGUgZW5kcG9pbnQgbmFtZS5cbiAqIEBwYXJhbSAgey4uLnN0cmluZ30gYXJncyBUaGUgZW5kcG9pbnQgcGFyYW1ldGVycy5cbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZW5kcG9pbnQobmFtZSwgLi4uYXJncykge1xuICByZXR1cm4gRU5EUE9JTlRTW25hbWVdKC4uLmFyZ3MpO1xufVxuIiwiLyoqXG4gKiBLaW50byBzZXJ2ZXIgZXJyb3IgY29kZSBkZXNjcmlwdG9ycy5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmNvbnN0IEVSUk9SX0NPREVTID0ge1xuICAxMDQ6IFwiTWlzc2luZyBBdXRob3JpemF0aW9uIFRva2VuXCIsXG4gIDEwNTogXCJJbnZhbGlkIEF1dGhvcml6YXRpb24gVG9rZW5cIixcbiAgMTA2OiBcIlJlcXVlc3QgYm9keSB3YXMgbm90IHZhbGlkIEpTT05cIixcbiAgMTA3OiBcIkludmFsaWQgcmVxdWVzdCBwYXJhbWV0ZXJcIixcbiAgMTA4OiBcIk1pc3NpbmcgcmVxdWVzdCBwYXJhbWV0ZXJcIixcbiAgMTA5OiBcIkludmFsaWQgcG9zdGVkIGRhdGFcIixcbiAgMTEwOiBcIkludmFsaWQgVG9rZW4gLyBpZFwiLFxuICAxMTE6IFwiTWlzc2luZyBUb2tlbiAvIGlkXCIsXG4gIDExMjogXCJDb250ZW50LUxlbmd0aCBoZWFkZXIgd2FzIG5vdCBwcm92aWRlZFwiLFxuICAxMTM6IFwiUmVxdWVzdCBib2R5IHRvbyBsYXJnZVwiLFxuICAxMTQ6IFwiUmVzb3VyY2Ugd2FzIGNyZWF0ZWQsIHVwZGF0ZWQgb3IgZGVsZXRlZCBtZWFud2hpbGVcIixcbiAgMTE1OiBcIk1ldGhvZCBub3QgYWxsb3dlZCBvbiB0aGlzIGVuZCBwb2ludCAoaGludDogc2VydmVyIG1heSBiZSByZWFkb25seSlcIixcbiAgMTE2OiBcIlJlcXVlc3RlZCB2ZXJzaW9uIG5vdCBhdmFpbGFibGUgb24gdGhpcyBzZXJ2ZXJcIixcbiAgMTE3OiBcIkNsaWVudCBoYXMgc2VudCB0b28gbWFueSByZXF1ZXN0c1wiLFxuICAxMjE6IFwiUmVzb3VyY2UgYWNjZXNzIGlzIGZvcmJpZGRlbiBmb3IgdGhpcyB1c2VyXCIsXG4gIDEyMjogXCJBbm90aGVyIHJlc291cmNlIHZpb2xhdGVzIGNvbnN0cmFpbnRcIixcbiAgMjAxOiBcIlNlcnZpY2UgVGVtcG9yYXJ5IHVuYXZhaWxhYmxlIGR1ZSB0byBoaWdoIGxvYWRcIixcbiAgMjAyOiBcIlNlcnZpY2UgZGVwcmVjYXRlZFwiLFxuICA5OTk6IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBFUlJPUl9DT0RFUztcblxuY2xhc3MgTmV0d29ya1RpbWVvdXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IodXJsLCBvcHRpb25zKSB7XG4gICAgc3VwZXIoXG4gICAgICBgVGltZW91dCB3aGlsZSB0cnlpbmcgdG8gYWNjZXNzICR7dXJsfSB3aXRoICR7SlNPTi5zdHJpbmdpZnkob3B0aW9ucyl9YFxuICAgICk7XG5cbiAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIE5ldHdvcmtUaW1lb3V0RXJyb3IpO1xuICAgIH1cblxuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbn1cblxuY2xhc3MgVW5wYXJzZWFibGVSZXNwb25zZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihyZXNwb25zZSwgYm9keSwgZXJyb3IpIHtcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gcmVzcG9uc2U7XG5cbiAgICBzdXBlcihcbiAgICAgIGBSZXNwb25zZSBmcm9tIHNlcnZlciB1bnBhcnNlYWJsZSAoSFRUUCAke3N0YXR1cyB8fFxuICAgICAgICAwfTsgJHtlcnJvcn0pOiAke2JvZHl9YFxuICAgICk7XG5cbiAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFVucGFyc2VhYmxlUmVzcG9uc2VFcnJvcik7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuc3RhY2sgPSBlcnJvci5zdGFjaztcbiAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBcIkVycm9yXCIgc3ViY2xhc3MgcmVwcmVzZW50aW5nIGEgPj00MDAgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICpcbiAqIFdoZXRoZXIgb3Igbm90IHRoaXMgaXMgYW4gZXJyb3IgZGVwZW5kcyBvbiB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqIFRoZSBganNvbmAgZmllbGQgY2FuIGJlIHVuZGVmaW5lZCBpZiB0aGUgc2VydmVyIHJlc3BvbmRlZCB3aXRoIGFuXG4gKiBlbXB0eSByZXNwb25zZSBib2R5LiBUaGlzIHNob3VsZG4ndCBnZW5lcmFsbHkgaGFwcGVuLiBNb3N0IFwiYmFkXCJcbiAqIHJlc3BvbnNlcyBjb21lIHdpdGggYSBKU09OIGVycm9yIGRlc2NyaXB0aW9uLCBvciAoaWYgdGhleSdyZVxuICogZnJvbnRlZCBieSBhIENETiBvciBuZ2lueCBvciBzb21ldGhpbmcpIG9jY2FzaW9uYWxseSBub24tSlNPTlxuICogcmVzcG9uc2VzICh3aGljaCBiZWNvbWUgVW5wYXJzZWFibGVSZXNwb25zZUVycm9ycywgYWJvdmUpLlxuICovXG5jbGFzcyBTZXJ2ZXJSZXNwb25zZSBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IocmVzcG9uc2UsIGpzb24pIHtcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gcmVzcG9uc2U7XG4gICAgbGV0IHsgc3RhdHVzVGV4dCB9ID0gcmVzcG9uc2U7XG4gICAgbGV0IGVycm5vTXNnO1xuXG4gICAgaWYgKGpzb24pIHtcbiAgICAgIC8vIFRyeSB0byBmaWxsIGluIGluZm9ybWF0aW9uIGZyb20gdGhlIEpTT04gZXJyb3IuXG4gICAgICBzdGF0dXNUZXh0ID0ganNvbi5lcnJvciB8fCBzdGF0dXNUZXh0O1xuXG4gICAgICAvLyBUYWtlIGVycm5vTXNnIGZyb20gZWl0aGVyIEVSUk9SX0NPREVTIG9yIGpzb24ubWVzc2FnZS5cbiAgICAgIGlmIChqc29uLmVycm5vICYmIGpzb24uZXJybm8gaW4gRVJST1JfQ09ERVMpIHtcbiAgICAgICAgZXJybm9Nc2cgPSBFUlJPUl9DT0RFU1tqc29uLmVycm5vXTtcbiAgICAgIH0gZWxzZSBpZiAoanNvbi5tZXNzYWdlKSB7XG4gICAgICAgIGVycm5vTXNnID0ganNvbi5tZXNzYWdlO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB3ZSBoYWQgYm90aCBFUlJPUl9DT0RFUyBhbmQganNvbi5tZXNzYWdlLCBhbmQgdGhleSBkaWZmZXIsXG4gICAgICAvLyBjb21iaW5lIHRoZW0uXG4gICAgICBpZiAoZXJybm9Nc2cgJiYganNvbi5tZXNzYWdlICYmIGpzb24ubWVzc2FnZSAhPT0gZXJybm9Nc2cpIHtcbiAgICAgICAgZXJybm9Nc2cgKz0gYCAoJHtqc29uLm1lc3NhZ2V9KWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IG1lc3NhZ2UgPSBgSFRUUCAke3N0YXR1c30gJHtzdGF0dXNUZXh0fWA7XG4gICAgaWYgKGVycm5vTXNnKSB7XG4gICAgICBtZXNzYWdlICs9IGA6ICR7ZXJybm9Nc2d9YDtcbiAgICB9XG5cbiAgICBzdXBlcihtZXNzYWdlLnRyaW0oKSk7XG4gICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBTZXJ2ZXJSZXNwb25zZSk7XG4gICAgfVxuXG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuZGF0YSA9IGpzb247XG4gIH1cbn1cblxuZXhwb3J0IHsgTmV0d29ya1RpbWVvdXRFcnJvciwgU2VydmVyUmVzcG9uc2UsIFVucGFyc2VhYmxlUmVzcG9uc2VFcnJvciB9O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IGRlbGF5IH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7XG4gIE5ldHdvcmtUaW1lb3V0RXJyb3IsXG4gIFNlcnZlclJlc3BvbnNlLFxuICBVbnBhcnNlYWJsZVJlc3BvbnNlRXJyb3IsXG59IGZyb20gXCIuL2Vycm9yc1wiO1xuXG4vKipcbiAqIEVuaGFuY2VkIEhUVFAgY2xpZW50IGZvciB0aGUgS2ludG8gcHJvdG9jb2wuXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIVFRQIHtcbiAgLyoqXG4gICAqIERlZmF1bHQgSFRUUCByZXF1ZXN0IGhlYWRlcnMgYXBwbGllZCB0byBlYWNoIG91dGdvaW5nIHJlcXVlc3QuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IERFRkFVTFRfUkVRVUVTVF9IRUFERVJTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IG9wdGlvbnMuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmF1bHRPcHRpb25zKCkge1xuICAgIHJldHVybiB7IHRpbWVvdXQ6IG51bGwsIHJlcXVlc3RNb2RlOiBcImNvcnNcIiB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZXZlbnRzICAgICAgICAgICAgICAgICAgICAgICBUaGUgZXZlbnQgaGFuZGxlci5cbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgIFtvcHRpb25zPXt9fSAgICAgICAgICAgICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcGFyYW0ge051bWJlcn0gICAgICAgW29wdGlvbnMudGltZW91dD1udWxsXSAgICAgICBUaGUgcmVxdWVzdCB0aW1lb3V0IGluIG1zLCBpZiBhbnkgKGRlZmF1bHQ6IGBudWxsYCkuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSAgICAgICBbb3B0aW9ucy5yZXF1ZXN0TW9kZT1cImNvcnNcIl0gVGhlIEhUVFAgcmVxdWVzdCBtb2RlIChkZWZhdWx0OiBgXCJjb3JzXCJgKS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGV2ZW50cywgb3B0aW9ucyA9IHt9KSB7XG4gICAgLy8gcHVibGljIHByb3BlcnRpZXNcbiAgICAvKipcbiAgICAgKiBUaGUgZXZlbnQgZW1pdHRlciBpbnN0YW5jZS5cbiAgICAgKiBAdHlwZSB7RXZlbnRFbWl0dGVyfVxuICAgICAqL1xuICAgIGlmICghZXZlbnRzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBldmVudHMgaGFuZGxlciBwcm92aWRlZFwiKTtcbiAgICB9XG4gICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVxdWVzdCBtb2RlLlxuICAgICAqIEBzZWUgIGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNyZXF1ZXN0bW9kZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5yZXF1ZXN0TW9kZSA9IG9wdGlvbnMucmVxdWVzdE1vZGUgfHwgSFRUUC5kZWZhdWx0T3B0aW9ucy5yZXF1ZXN0TW9kZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZXF1ZXN0IHRpbWVvdXQuXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgfHwgSFRUUC5kZWZhdWx0T3B0aW9ucy50aW1lb3V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aW1lZEZldGNoKHVybCwgb3B0aW9ucykge1xuICAgIGxldCBoYXNUaW1lZG91dCA9IGZhbHNlO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAvLyBEZXRlY3QgaWYgYSByZXF1ZXN0IGhhcyB0aW1lZCBvdXQuXG4gICAgICBsZXQgX3RpbWVvdXRJZDtcbiAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgICAgX3RpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGhhc1RpbWVkb3V0ID0gdHJ1ZTtcbiAgICAgICAgICByZWplY3QobmV3IE5ldHdvcmtUaW1lb3V0RXJyb3IodXJsLCBvcHRpb25zKSk7XG4gICAgICAgIH0sIHRoaXMudGltZW91dCk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBwcm9jZWVkV2l0aEhhbmRsZXIoZm4pIHtcbiAgICAgICAgcmV0dXJuIGFyZyA9PiB7XG4gICAgICAgICAgaWYgKCFoYXNUaW1lZG91dCkge1xuICAgICAgICAgICAgaWYgKF90aW1lb3V0SWQpIHtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aW1lb3V0SWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm4oYXJnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBmZXRjaCh1cmwsIG9wdGlvbnMpXG4gICAgICAgIC50aGVuKHByb2NlZWRXaXRoSGFuZGxlcihyZXNvbHZlKSlcbiAgICAgICAgLmNhdGNoKHByb2NlZWRXaXRoSGFuZGxlcihyZWplY3QpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc1Jlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgY29uc3QgeyBzdGF0dXMsIGhlYWRlcnMgfSA9IHJlc3BvbnNlO1xuICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhIGJvZHk7IGlmIHNvIHBhcnNlIGl0IGFzIEpTT04uXG4gICAgbGV0IGpzb247XG4gICAgaWYgKHRleHQubGVuZ3RoICE9PSAwKSB7XG4gICAgICB0cnkge1xuICAgICAgICBqc29uID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBuZXcgVW5wYXJzZWFibGVSZXNwb25zZUVycm9yKHJlc3BvbnNlLCB0ZXh0LCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3RhdHVzID49IDQwMCkge1xuICAgICAgdGhyb3cgbmV3IFNlcnZlclJlc3BvbnNlKHJlc3BvbnNlLCBqc29uKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhdHVzLCBqc29uLCBoZWFkZXJzIH07XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFzeW5jIHJldHJ5KHVybCwgcmV0cnlBZnRlciwgcmVxdWVzdCwgb3B0aW9ucykge1xuICAgIGF3YWl0IGRlbGF5KHJldHJ5QWZ0ZXIpO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXJsLCByZXF1ZXN0LCB7IC4uLm9wdGlvbnMsIHJldHJ5OiBvcHRpb25zLnJldHJ5IC0gMSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhbiBIVFRQIHJlcXVlc3QgdG8gdGhlIEtpbnRvIHNlcnZlci5cbiAgICpcbiAgICogUmVzb2x2ZXMgd2l0aCBhbiBvYmpldCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgSFRUUCByZXNwb25zZSBwcm9wZXJ0aWVzOlxuICAgKiAtIGB7TnVtYmVyfSAgc3RhdHVzYCAgVGhlIEhUVFAgc3RhdHVzIGNvZGUuXG4gICAqIC0gYHtPYmplY3R9ICBqc29uYCAgICBUaGUgSlNPTiByZXNwb25zZSBib2R5LlxuICAgKiAtIGB7SGVhZGVyc30gaGVhZGVyc2AgVGhlIHJlc3BvbnNlIGhlYWRlcnMgb2JqZWN0OyBzZWUgdGhlIEVTNiBmZXRjaCgpIHNwZWMuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdXJsICAgICAgICAgICAgICAgVGhlIFVSTC5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBbcmVxdWVzdD17fV0gICAgICBUaGUgcmVxdWVzdCBvYmplY3QsIHBhc3NlZCB0b1xuICAgKiAgICAgZmV0Y2goKSBhcyBpdHMgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSAge09iamVjdH0gW3JlcXVlc3QuaGVhZGVyc10gVGhlIHJlcXVlc3QgaGVhZGVycyBvYmplY3QgKGRlZmF1bHQ6IHt9KVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IFtvcHRpb25zPXt9XSAgICAgIE9wdGlvbnMgZm9yIG1ha2luZyB0aGVcbiAgICogICAgIHJlcXVlc3RcbiAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5yZXRyeV0gICBOdW1iZXIgb2YgcmV0cmllcyAoZGVmYXVsdDogMClcbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIGFzeW5jIHJlcXVlc3QodXJsLCByZXF1ZXN0ID0geyBoZWFkZXJzOiB7fSB9LCBvcHRpb25zID0geyByZXRyeTogMCB9KSB7XG4gICAgLy8gRW5zdXJlIGRlZmF1bHQgcmVxdWVzdCBoZWFkZXJzIGFyZSBhbHdheXMgc2V0XG4gICAgcmVxdWVzdC5oZWFkZXJzID0geyAuLi5IVFRQLkRFRkFVTFRfUkVRVUVTVF9IRUFERVJTLCAuLi5yZXF1ZXN0LmhlYWRlcnMgfTtcbiAgICAvLyBJZiBhIG11bHRpcGFydCBib2R5IGlzIHByb3ZpZGVkLCByZW1vdmUgYW55IGN1c3RvbSBDb250ZW50LVR5cGUgaGVhZGVyIGFzXG4gICAgLy8gdGhlIGZldGNoKCkgaW1wbGVtZW50YXRpb24gd2lsbCBhZGQgdGhlIGNvcnJlY3Qgb25lIGZvciB1cy5cbiAgICBpZiAocmVxdWVzdC5ib2R5ICYmIHR5cGVvZiByZXF1ZXN0LmJvZHkuYXBwZW5kID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0LmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl07XG4gICAgfVxuICAgIHJlcXVlc3QubW9kZSA9IHRoaXMucmVxdWVzdE1vZGU7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMudGltZWRGZXRjaCh1cmwsIHJlcXVlc3QpO1xuICAgIGNvbnN0IHsgc3RhdHVzLCBoZWFkZXJzIH0gPSByZXNwb25zZTtcblxuICAgIHRoaXMuX2NoZWNrRm9yRGVwcmVjYXRpb25IZWFkZXIoaGVhZGVycyk7XG4gICAgdGhpcy5fY2hlY2tGb3JCYWNrb2ZmSGVhZGVyKHN0YXR1cywgaGVhZGVycyk7XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgc2VydmVyIHN1bW1vbnMgdGhlIGNsaWVudCB0byByZXRyeSBhZnRlciBhIHdoaWxlLlxuICAgIGNvbnN0IHJldHJ5QWZ0ZXIgPSB0aGlzLl9jaGVja0ZvclJldHJ5QWZ0ZXJIZWFkZXIoc3RhdHVzLCBoZWFkZXJzKTtcbiAgICAvLyBJZiBudW1iZXIgb2YgYWxsb3dlZCBvZiByZXRyaWVzIGlzIG5vdCBleGhhdXN0ZWQsIHJldHJ5IHRoZSBzYW1lIHJlcXVlc3QuXG4gICAgaWYgKHJldHJ5QWZ0ZXIgJiYgb3B0aW9ucy5yZXRyeSA+IDApIHtcbiAgICAgIHJldHVybiB0aGlzLnJldHJ5KHVybCwgcmV0cnlBZnRlciwgcmVxdWVzdCwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NSZXNwb25zZShyZXNwb25zZSk7XG4gICAgfVxuICB9XG5cbiAgX2NoZWNrRm9yRGVwcmVjYXRpb25IZWFkZXIoaGVhZGVycykge1xuICAgIGNvbnN0IGFsZXJ0SGVhZGVyID0gaGVhZGVycy5nZXQoXCJBbGVydFwiKTtcbiAgICBpZiAoIWFsZXJ0SGVhZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBhbGVydDtcbiAgICB0cnkge1xuICAgICAgYWxlcnQgPSBKU09OLnBhcnNlKGFsZXJ0SGVhZGVyKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlVuYWJsZSB0byBwYXJzZSBBbGVydCBoZWFkZXIgbWVzc2FnZVwiLCBhbGVydEhlYWRlcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnNvbGUud2FybihhbGVydC5tZXNzYWdlLCBhbGVydC51cmwpO1xuICAgIHRoaXMuZXZlbnRzLmVtaXQoXCJkZXByZWNhdGVkXCIsIGFsZXJ0KTtcbiAgfVxuXG4gIF9jaGVja0ZvckJhY2tvZmZIZWFkZXIoc3RhdHVzLCBoZWFkZXJzKSB7XG4gICAgbGV0IGJhY2tvZmZNcztcbiAgICBjb25zdCBiYWNrb2ZmU2Vjb25kcyA9IHBhcnNlSW50KGhlYWRlcnMuZ2V0KFwiQmFja29mZlwiKSwgMTApO1xuICAgIGlmIChiYWNrb2ZmU2Vjb25kcyA+IDApIHtcbiAgICAgIGJhY2tvZmZNcyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgYmFja29mZlNlY29uZHMgKiAxMDAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYWNrb2ZmTXMgPSAwO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50cy5lbWl0KFwiYmFja29mZlwiLCBiYWNrb2ZmTXMpO1xuICB9XG5cbiAgX2NoZWNrRm9yUmV0cnlBZnRlckhlYWRlcihzdGF0dXMsIGhlYWRlcnMpIHtcbiAgICBsZXQgcmV0cnlBZnRlciA9IGhlYWRlcnMuZ2V0KFwiUmV0cnktQWZ0ZXJcIik7XG4gICAgaWYgKCFyZXRyeUFmdGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRlbGF5ID0gcGFyc2VJbnQocmV0cnlBZnRlciwgMTApICogMTAwMDtcbiAgICByZXRyeUFmdGVyID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBkZWxheTtcbiAgICB0aGlzLmV2ZW50cy5lbWl0KFwicmV0cnktYWZ0ZXJcIiwgcmV0cnlBZnRlcik7XG4gICAgcmV0dXJuIGRlbGF5O1xuICB9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSBcImV2ZW50c1wiO1xuXG5pbXBvcnQgS2ludG9DbGllbnRCYXNlIGZyb20gXCIuL2Jhc2VcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2ludG9DbGllbnQgZXh0ZW5kcyBLaW50b0NsaWVudEJhc2Uge1xuICBjb25zdHJ1Y3RvcihyZW1vdGUsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGV2ZW50cyA9IG9wdGlvbnMuZXZlbnRzIHx8IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIHN1cGVyKHJlbW90ZSwgT2JqZWN0LmFzc2lnbih7IGV2ZW50cyB9LCBvcHRpb25zKSk7XG4gIH1cbn1cblxuLy8gVGhpcyBpcyBhIGhhY2sgdG8gYXZvaWQgQnJvd3NlcmlmeSB0byBleHBvc2UgdGhlIGFib3ZlIGNsYXNzXG4vLyBhdCBgbmV3IEtpbnRvQ2xpZW50KClgIGluc3RlYWQgb2YgYG5ldyBLaW50b0NsaWVudC5kZWZhdWx0KClgLlxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9LaW50by9raW50by1odHRwLmpzL2lzc3Vlcy83N1xuaWYgKHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBLaW50b0NsaWVudDtcbn1cbiIsImltcG9ydCB7IG9taXQsIGNyZWF0ZUZvcm1EYXRhIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuY29uc3QgcmVxdWVzdERlZmF1bHRzID0ge1xuICBzYWZlOiBmYWxzZSxcbiAgLy8gY2hlY2sgaWYgd2Ugc2hvdWxkIHNldCBkZWZhdWx0IGNvbnRlbnQgdHlwZSBoZXJlXG4gIGhlYWRlcnM6IHt9LFxuICBwZXJtaXNzaW9uczogdW5kZWZpbmVkLFxuICBkYXRhOiB1bmRlZmluZWQsXG4gIHBhdGNoOiBmYWxzZSxcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2FmZUhlYWRlcihzYWZlLCBsYXN0X21vZGlmaWVkKSB7XG4gIGlmICghc2FmZSkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBpZiAobGFzdF9tb2RpZmllZCkge1xuICAgIHJldHVybiB7IFwiSWYtTWF0Y2hcIjogYFwiJHtsYXN0X21vZGlmaWVkfVwiYCB9O1xuICB9XG4gIHJldHVybiB7IFwiSWYtTm9uZS1NYXRjaFwiOiBcIipcIiB9O1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0KHBhdGgsIHsgZGF0YSwgcGVybWlzc2lvbnMgfSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgaGVhZGVycywgc2FmZSB9ID0ge1xuICAgIC4uLnJlcXVlc3REZWZhdWx0cyxcbiAgICAuLi5vcHRpb25zLFxuICB9O1xuICByZXR1cm4ge1xuICAgIG1ldGhvZDogZGF0YSAmJiBkYXRhLmlkID8gXCJQVVRcIiA6IFwiUE9TVFwiLFxuICAgIHBhdGgsXG4gICAgaGVhZGVyczogeyAuLi5oZWFkZXJzLCAuLi5zYWZlSGVhZGVyKHNhZmUpIH0sXG4gICAgYm9keTogeyBkYXRhLCBwZXJtaXNzaW9ucyB9LFxuICB9O1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVSZXF1ZXN0KHBhdGgsIHsgZGF0YSwgcGVybWlzc2lvbnMgfSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgaGVhZGVycywgc2FmZSwgcGF0Y2ggfSA9IHsgLi4ucmVxdWVzdERlZmF1bHRzLCAuLi5vcHRpb25zIH07XG4gIGNvbnN0IHsgbGFzdF9tb2RpZmllZCB9ID0geyAuLi5kYXRhLCAuLi5vcHRpb25zIH07XG5cbiAgaWYgKE9iamVjdC5rZXlzKG9taXQoZGF0YSwgXCJpZFwiLCBcImxhc3RfbW9kaWZpZWRcIikpLmxlbmd0aCA9PT0gMCkge1xuICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1ldGhvZDogcGF0Y2ggPyBcIlBBVENIXCIgOiBcIlBVVFwiLFxuICAgIHBhdGgsXG4gICAgaGVhZGVyczogeyAuLi5oZWFkZXJzLCAuLi5zYWZlSGVhZGVyKHNhZmUsIGxhc3RfbW9kaWZpZWQpIH0sXG4gICAgYm9keTogeyBkYXRhLCBwZXJtaXNzaW9ucyB9LFxuICB9O1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBqc29uUGF0Y2hQZXJtaXNzaW9uc1JlcXVlc3QoXG4gIHBhdGgsXG4gIHBlcm1pc3Npb25zLFxuICBvcFR5cGUsXG4gIG9wdGlvbnMgPSB7fVxuKSB7XG4gIGNvbnN0IHsgaGVhZGVycywgc2FmZSwgbGFzdF9tb2RpZmllZCB9ID0geyAuLi5yZXF1ZXN0RGVmYXVsdHMsIC4uLm9wdGlvbnMgfTtcblxuICBjb25zdCBvcHMgPSBbXTtcblxuICBmb3IgKGNvbnN0IFt0eXBlLCBwcmluY2lwYWxzXSBvZiBPYmplY3QuZW50cmllcyhwZXJtaXNzaW9ucykpIHtcbiAgICBmb3IgKGNvbnN0IHByaW5jaXBhbCBvZiBwcmluY2lwYWxzKSB7XG4gICAgICBvcHMucHVzaCh7XG4gICAgICAgIG9wOiBvcFR5cGUsXG4gICAgICAgIHBhdGg6IGAvcGVybWlzc2lvbnMvJHt0eXBlfS8ke3ByaW5jaXBhbH1gLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICBwYXRoLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIC4uLmhlYWRlcnMsXG4gICAgICAuLi5zYWZlSGVhZGVyKHNhZmUsIGxhc3RfbW9kaWZpZWQpLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uLXBhdGNoK2pzb25cIixcbiAgICB9LFxuICAgIGJvZHk6IG9wcyxcbiAgfTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlUmVxdWVzdChwYXRoLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyBoZWFkZXJzLCBzYWZlLCBsYXN0X21vZGlmaWVkIH0gPSB7XG4gICAgLi4ucmVxdWVzdERlZmF1bHRzLFxuICAgIC4uLm9wdGlvbnMsXG4gIH07XG4gIGlmIChzYWZlICYmICFsYXN0X21vZGlmaWVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU2FmZSBjb25jdXJyZW5jeSBjaGVjayByZXF1aXJlcyBhIGxhc3RfbW9kaWZpZWQgdmFsdWUuXCIpO1xuICB9XG4gIHJldHVybiB7XG4gICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgIHBhdGgsXG4gICAgaGVhZGVyczogeyAuLi5oZWFkZXJzLCAuLi5zYWZlSGVhZGVyKHNhZmUsIGxhc3RfbW9kaWZpZWQpIH0sXG4gIH07XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEF0dGFjaG1lbnRSZXF1ZXN0KFxuICBwYXRoLFxuICBkYXRhVVJJLFxuICB7IGRhdGEsIHBlcm1pc3Npb25zIH0gPSB7fSxcbiAgb3B0aW9ucyA9IHt9XG4pIHtcbiAgY29uc3QgeyBoZWFkZXJzLCBzYWZlLCBnemlwcGVkIH0gPSB7IC4uLnJlcXVlc3REZWZhdWx0cywgLi4ub3B0aW9ucyB9O1xuICBjb25zdCB7IGxhc3RfbW9kaWZpZWQgfSA9IHsgLi4uZGF0YSwgLi4ub3B0aW9ucyB9O1xuXG4gIGNvbnN0IGJvZHkgPSB7IGRhdGEsIHBlcm1pc3Npb25zIH07XG4gIGNvbnN0IGZvcm1EYXRhID0gY3JlYXRlRm9ybURhdGEoZGF0YVVSSSwgYm9keSwgb3B0aW9ucyk7XG5cbiAgbGV0IGN1c3RvbVBhdGggPVxuICAgIGd6aXBwZWQgIT0gbnVsbFxuICAgICAgPyAoY3VzdG9tUGF0aCA9IHBhdGggKyBcIj9nemlwcGVkPVwiICsgKGd6aXBwZWQgPyBcInRydWVcIiA6IFwiZmFsc2VcIikpXG4gICAgICA6IHBhdGg7XG5cbiAgcmV0dXJuIHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHBhdGg6IGN1c3RvbVBhdGgsXG4gICAgaGVhZGVyczogeyAuLi5oZWFkZXJzLCAuLi5zYWZlSGVhZGVyKHNhZmUsIGxhc3RfbW9kaWZpZWQpIH0sXG4gICAgYm9keTogZm9ybURhdGEsXG4gIH07XG59XG4iLCIvKipcbiAqIENodW5rcyBhbiBhcnJheSBpbnRvIG4gcGllY2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtBcnJheX0gIGFycmF5XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IG5cbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFydGl0aW9uKGFycmF5LCBuKSB7XG4gIGlmIChuIDw9IDApIHtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cbiAgcmV0dXJuIGFycmF5LnJlZHVjZSgoYWNjLCB4LCBpKSA9PiB7XG4gICAgaWYgKGkgPT09IDAgfHwgaSAlIG4gPT09IDApIHtcbiAgICAgIGFjYy5wdXNoKFt4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjY1thY2MubGVuZ3RoIC0gMV0ucHVzaCh4KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgW10pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBQcm9taXNlIGFsd2F5cyByZXNvbHZpbmcgYWZ0ZXIgdGhlIHNwZWNpZmllZCBhbW91bnQgaW4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEByZXR1cm4gUHJvbWlzZTx2b2lkPlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsYXkobXMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xufVxuXG4vKipcbiAqIE1hcHMgYSBsaXN0IHRvIHByb21pc2VzIHVzaW5nIHRoZSBwcm92aWRlZCBtYXBwaW5nIGZ1bmN0aW9uLCBleGVjdXRlcyB0aGVtXG4gKiBzZXF1ZW50aWFsbHkgdGhlbiByZXR1cm5zIGEgUHJvbWlzZSByZXNvbHZpbmcgd2l0aCBvcmRlcmVkIHJlc3VsdHMgb2J0YWluZWQuXG4gKiBUaGluayBvZiB0aGlzIGFzIGEgc2VxdWVudGlhbCBQcm9taXNlLmFsbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7QXJyYXl9ICAgIGxpc3QgVGhlIGxpc3QgdG8gbWFwLlxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgVGhlIG1hcHBpbmcgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcE1hcChsaXN0LCBmbikge1xuICBsZXQgcmVzdWx0cyA9IFtdO1xuICBhd2FpdCBsaXN0LnJlZHVjZShhc3luYyBmdW5jdGlvbihwcm9taXNlLCBlbnRyeSkge1xuICAgIGF3YWl0IHByb21pc2U7XG4gICAgcmVzdWx0cyA9IHJlc3VsdHMuY29uY2F0KGF3YWl0IGZuKGVudHJ5KSk7XG4gIH0sIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbi8qKlxuICogVGFrZXMgYW4gb2JqZWN0IGFuZCByZXR1cm5zIGEgY29weSBvZiBpdCB3aXRoIHRoZSBwcm92aWRlZCBrZXlzIG9taXR0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge09iamVjdH0gICAgb2JqICBUaGUgc291cmNlIG9iamVjdC5cbiAqIEBwYXJhbSAgey4uLlN0cmluZ30ga2V5cyBUaGUga2V5cyB0byBvbWl0LlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gb21pdChvYmosIC4uLmtleXMpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgIGlmICgha2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICBhY2Nba2V5XSA9IG9ialtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG59XG5cbi8qKlxuICogQWx3YXlzIHJldHVybnMgYSByZXNvdXJjZSBkYXRhIG9iamVjdCBmcm9tIHRoZSBwcm92aWRlZCBhcmd1bWVudC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7T2JqZWN0fFN0cmluZ30gcmVzb3VyY2VcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRGF0YUJvZHkocmVzb3VyY2UpIHtcbiAgaWYgKGlzT2JqZWN0KHJlc291cmNlKSkge1xuICAgIHJldHVybiByZXNvdXJjZTtcbiAgfVxuICBpZiAodHlwZW9mIHJlc291cmNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHsgaWQ6IHJlc291cmNlIH07XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudC5cIik7XG59XG5cbi8qKlxuICogVHJhbnNmb3JtcyBhbiBvYmplY3QgaW50byBhbiBVUkwgcXVlcnkgc3RyaW5nLCBzdHJpcHBpbmcgb3V0IGFueSB1bmRlZmluZWRcbiAqIHZhbHVlcy5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcXNpZnkob2JqKSB7XG4gIGNvbnN0IGVuY29kZSA9IHYgPT5cbiAgICBlbmNvZGVVUklDb21wb25lbnQodHlwZW9mIHYgPT09IFwiYm9vbGVhblwiID8gU3RyaW5nKHYpIDogdik7XG4gIGNvbnN0IHN0cmlwVW5kZWZpbmVkID0gbyA9PiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG8pKTtcbiAgY29uc3Qgc3RyaXBwZWQgPSBzdHJpcFVuZGVmaW5lZChvYmopO1xuICByZXR1cm4gT2JqZWN0LmtleXMoc3RyaXBwZWQpXG4gICAgLm1hcChrID0+IHtcbiAgICAgIGNvbnN0IGtzID0gZW5jb2RlKGspICsgXCI9XCI7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShzdHJpcHBlZFtrXSkpIHtcbiAgICAgICAgcmV0dXJuIGtzICsgc3RyaXBwZWRba10ubWFwKHYgPT4gZW5jb2RlKHYpKS5qb2luKFwiLFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZShzdHJpcHBlZFtrXSk7XG4gICAgICB9XG4gICAgfSlcbiAgICAuam9pbihcIiZcIik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgdmVyc2lvbiBpcyB3aXRoaW4gdGhlIHByb3ZpZGVkIHJhbmdlLlxuICpcbiAqIEBwYXJhbSAge1N0cmluZ30gdmVyc2lvbiAgICBUaGUgdmVyc2lvbiB0byBjaGVjay5cbiAqIEBwYXJhbSAge1N0cmluZ30gbWluVmVyc2lvbiBUaGUgbWluaW11bSBzdXBwb3J0ZWQgdmVyc2lvbiAoaW5jbHVzaXZlKS5cbiAqIEBwYXJhbSAge1N0cmluZ30gbWF4VmVyc2lvbiBUaGUgbWluaW11bSBzdXBwb3J0ZWQgdmVyc2lvbiAoZXhjbHVzaXZlKS5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgdmVyc2lvbiBpcyBvdXRzaWRlIG9mIHRoZSBwcm92aWRlZCByYW5nZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrVmVyc2lvbih2ZXJzaW9uLCBtaW5WZXJzaW9uLCBtYXhWZXJzaW9uKSB7XG4gIGNvbnN0IGV4dHJhY3QgPSBzdHIgPT4gc3RyLnNwbGl0KFwiLlwiKS5tYXAoeCA9PiBwYXJzZUludCh4LCAxMCkpO1xuICBjb25zdCBbdmVyTWFqb3IsIHZlck1pbm9yXSA9IGV4dHJhY3QodmVyc2lvbik7XG4gIGNvbnN0IFttaW5NYWpvciwgbWluTWlub3JdID0gZXh0cmFjdChtaW5WZXJzaW9uKTtcbiAgY29uc3QgW21heE1ham9yLCBtYXhNaW5vcl0gPSBleHRyYWN0KG1heFZlcnNpb24pO1xuICBjb25zdCBjaGVja3MgPSBbXG4gICAgdmVyTWFqb3IgPCBtaW5NYWpvcixcbiAgICB2ZXJNYWpvciA9PT0gbWluTWFqb3IgJiYgdmVyTWlub3IgPCBtaW5NaW5vcixcbiAgICB2ZXJNYWpvciA+IG1heE1ham9yLFxuICAgIHZlck1ham9yID09PSBtYXhNYWpvciAmJiB2ZXJNaW5vciA+PSBtYXhNaW5vcixcbiAgXTtcbiAgaWYgKGNoZWNrcy5zb21lKHggPT4geCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVmVyc2lvbiAke3ZlcnNpb259IGRvZXNuJ3Qgc2F0aXNmeSAke21pblZlcnNpb259IDw9IHggPCAke21heFZlcnNpb259YFxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBkZWNvcmF0b3IgZnVuY3Rpb24gZW5zdXJpbmcgYSB2ZXJzaW9uIGNoZWNrIGlzIHBlcmZvcm1lZCBhZ2FpbnN0XG4gKiB0aGUgcHJvdmlkZWQgcmVxdWlyZW1lbnRzIGJlZm9yZSBleGVjdXRpbmcgaXQuXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBtaW4gVGhlIHJlcXVpcmVkIG1pbiB2ZXJzaW9uIChpbmNsdXNpdmUpLlxuICogQHBhcmFtICB7U3RyaW5nfSBtYXggVGhlIHJlcXVpcmVkIG1heCB2ZXJzaW9uIChpbmNsdXNpdmUpLlxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0KG1pbiwgbWF4KSB7XG4gIHJldHVybiBmdW5jdGlvbih0YXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xuICAgIGNvbnN0IGZuID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICByZXR1cm4ge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0KCkge1xuICAgICAgICBjb25zdCB3cmFwcGVkTWV0aG9kID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAvLyBcInRoaXNcIiBpcyB0aGUgY3VycmVudCBpbnN0YW5jZSB3aGljaCBpdHMgbWV0aG9kIGlzIGRlY29yYXRlZC5cbiAgICAgICAgICBjb25zdCBjbGllbnQgPSBcImNsaWVudFwiIGluIHRoaXMgPyB0aGlzLmNsaWVudCA6IHRoaXM7XG4gICAgICAgICAgcmV0dXJuIGNsaWVudFxuICAgICAgICAgICAgLmZldGNoSFRUUEFwaVZlcnNpb24oKVxuICAgICAgICAgICAgLnRoZW4odmVyc2lvbiA9PiBjaGVja1ZlcnNpb24odmVyc2lvbiwgbWluLCBtYXgpKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gZm4uYXBwbHkodGhpcywgYXJncykpO1xuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgICAgdmFsdWU6IHdyYXBwZWRNZXRob2QsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZWRNZXRob2Q7XG4gICAgICB9LFxuICAgIH07XG4gIH07XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgZGVjb3JhdG9yIGZ1bmN0aW9uIGVuc3VyaW5nIHRoYXQgdGhlIHNwZWNpZmllZCBjYXBhYmlsaXRpZXMgYXJlXG4gKiBhdmFpbGFibGUgb24gdGhlIHNlcnZlciBiZWZvcmUgZXhlY3V0aW5nIGl0LlxuICpcbiAqIEBwYXJhbSAge0FycmF5PFN0cmluZz59IGNhcGFiaWxpdGllcyBUaGUgcmVxdWlyZWQgY2FwYWJpbGl0aWVzLlxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYXBhYmxlKGNhcGFiaWxpdGllcykge1xuICByZXR1cm4gZnVuY3Rpb24odGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICBjb25zdCBmbiA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldCgpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZE1ldGhvZCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgLy8gXCJ0aGlzXCIgaXMgdGhlIGN1cnJlbnQgaW5zdGFuY2Ugd2hpY2ggaXRzIG1ldGhvZCBpcyBkZWNvcmF0ZWQuXG4gICAgICAgICAgY29uc3QgY2xpZW50ID0gXCJjbGllbnRcIiBpbiB0aGlzID8gdGhpcy5jbGllbnQgOiB0aGlzO1xuICAgICAgICAgIHJldHVybiBjbGllbnRcbiAgICAgICAgICAgIC5mZXRjaFNlcnZlckNhcGFiaWxpdGllcygpXG4gICAgICAgICAgICAudGhlbihhdmFpbGFibGUgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBtaXNzaW5nID0gY2FwYWJpbGl0aWVzLmZpbHRlcihjID0+ICEoYyBpbiBhdmFpbGFibGUpKTtcbiAgICAgICAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pc3NpbmdTdHIgPSBtaXNzaW5nLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICBgUmVxdWlyZWQgY2FwYWJpbGl0aWVzICR7bWlzc2luZ1N0cn0gbm90IHByZXNlbnQgb24gc2VydmVyYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiBmbi5hcHBseSh0aGlzLCBhcmdzKSk7XG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgICB2YWx1ZTogd3JhcHBlZE1ldGhvZCxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gd3JhcHBlZE1ldGhvZDtcbiAgICAgIH0sXG4gICAgfTtcbiAgfTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBkZWNvcmF0b3IgZnVuY3Rpb24gZW5zdXJpbmcgYW4gb3BlcmF0aW9uIGlzIG5vdCBwZXJmb3JtZWQgZnJvbVxuICogd2l0aGluIGEgYmF0Y2ggcmVxdWVzdC5cbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UgdG8gdGhyb3cuXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vYmF0Y2gobWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICBjb25zdCBmbiA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldCgpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZE1ldGhvZCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgLy8gXCJ0aGlzXCIgaXMgdGhlIGN1cnJlbnQgaW5zdGFuY2Ugd2hpY2ggaXRzIG1ldGhvZCBpcyBkZWNvcmF0ZWQuXG4gICAgICAgICAgaWYgKHRoaXMuX2lzQmF0Y2gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgICAgdmFsdWU6IHdyYXBwZWRNZXRob2QsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZWRNZXRob2Q7XG4gICAgICB9LFxuICAgIH07XG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYW4gb2JqZWN0IChpLmUuIG5vdCBhbiBhcnJheSBub3IgbnVsbCkuXG4gKiBAcGFyYW0gIHtPYmplY3R9IHRoaW5nIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHJldHVybiB7Ym9vbH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHRoaW5nKSB7XG4gIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IFwib2JqZWN0XCIgJiYgdGhpbmcgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkodGhpbmcpO1xufVxuXG4vKipcbiAqIFBhcnNlcyBhIGRhdGEgdXJsLlxuICogQHBhcmFtICB7U3RyaW5nfSBkYXRhVVJMIFRoZSBkYXRhIHVybC5cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRGF0YVVSTChkYXRhVVJMKSB7XG4gIGNvbnN0IHJlZ2V4ID0gL15kYXRhOiguKik7YmFzZTY0LCguKikvO1xuICBjb25zdCBtYXRjaCA9IGRhdGFVUkwubWF0Y2gocmVnZXgpO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGRhdGEtdXJsOiAke1N0cmluZyhkYXRhVVJMKS5zdWJzdHIoMCwgMzIpfS4uLmApO1xuICB9XG4gIGNvbnN0IHByb3BzID0gbWF0Y2hbMV07XG4gIGNvbnN0IGJhc2U2NCA9IG1hdGNoWzJdO1xuICBjb25zdCBbdHlwZSwgLi4ucmF3UGFyYW1zXSA9IHByb3BzLnNwbGl0KFwiO1wiKTtcbiAgY29uc3QgcGFyYW1zID0gcmF3UGFyYW1zLnJlZHVjZSgoYWNjLCBwYXJhbSkgPT4ge1xuICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IHBhcmFtLnNwbGl0KFwiPVwiKTtcbiAgICByZXR1cm4geyAuLi5hY2MsIFtrZXldOiB2YWx1ZSB9O1xuICB9LCB7fSk7XG4gIHJldHVybiB7IC4uLnBhcmFtcywgdHlwZSwgYmFzZTY0IH07XG59XG5cbi8qKlxuICogRXh0cmFjdHMgZmlsZSBpbmZvcm1hdGlvbiBmcm9tIGEgZGF0YSB1cmwuXG4gKiBAcGFyYW0gIHtTdHJpbmd9IGRhdGFVUkwgVGhlIGRhdGEgdXJsLlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdEZpbGVJbmZvKGRhdGFVUkwpIHtcbiAgY29uc3QgeyBuYW1lLCB0eXBlLCBiYXNlNjQgfSA9IHBhcnNlRGF0YVVSTChkYXRhVVJMKTtcbiAgY29uc3QgYmluYXJ5ID0gYXRvYihiYXNlNjQpO1xuICBjb25zdCBhcnJheSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmFyeS5sZW5ndGg7IGkrKykge1xuICAgIGFycmF5LnB1c2goYmluYXJ5LmNoYXJDb2RlQXQoaSkpO1xuICB9XG4gIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXSwgeyB0eXBlIH0pO1xuICByZXR1cm4geyBibG9iLCBuYW1lIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIEZvcm1EYXRhIGluc3RhbmNlIGZyb20gYSBkYXRhIHVybCBhbmQgYW4gZXhpc3RpbmcgSlNPTiByZXNwb25zZVxuICogYm9keS5cbiAqIEBwYXJhbSAge1N0cmluZ30gZGF0YVVSTCAgICAgICAgICAgIFRoZSBkYXRhIHVybC5cbiAqIEBwYXJhbSAge09iamVjdH0gYm9keSAgICAgICAgICAgICAgIFRoZSByZXNwb25zZSBib2R5LlxuICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucz17fV0gICAgICAgVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtICB7T2JqZWN0fSBbb3B0aW9ucy5maWxlbmFtZV0gRm9yY2UgYXR0YWNobWVudCBmaWxlIG5hbWUuXG4gKiBAcmV0dXJuIHtGb3JtRGF0YX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZvcm1EYXRhKGRhdGFVUkwsIGJvZHksIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IGZpbGVuYW1lID0gXCJ1bnRpdGxlZFwiIH0gPSBvcHRpb25zO1xuICBjb25zdCB7IGJsb2IsIG5hbWUgfSA9IGV4dHJhY3RGaWxlSW5mbyhkYXRhVVJMKTtcbiAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgZm9ybURhdGEuYXBwZW5kKFwiYXR0YWNobWVudFwiLCBibG9iLCBuYW1lIHx8IGZpbGVuYW1lKTtcbiAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBib2R5KSB7XG4gICAgaWYgKHR5cGVvZiBib2R5W3Byb3BlcnR5XSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgZm9ybURhdGEuYXBwZW5kKHByb3BlcnR5LCBKU09OLnN0cmluZ2lmeShib2R5W3Byb3BlcnR5XSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZm9ybURhdGE7XG59XG5cbi8qKlxuICogQ2xvbmVzIGFuIG9iamVjdCB3aXRoIGFsbCBpdHMgdW5kZWZpbmVkIGtleXMgcmVtb3ZlZC5cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhblVuZGVmaW5lZFByb3BlcnRpZXMob2JqKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICBpZiAodHlwZW9mIG9ialtrZXldICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG9ialtrZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuIl19\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nexports.__esModule = true;\nvar Kinto = require(\"../vendor/kinto.js\");\nvar KintoClient = require(\"../vendor/kinto-http.js\");\nvar DB = /** @class */ (function () {\n    function DB(username, password) {\n        var defaultOptions = {\n            remote: DB.REMOTE_URL,\n            headers: {\n                Authorization: \"Basic \" + btoa(username + \":\" + password)\n            },\n            bucket: DB.BUCKET_NAME\n        };\n        this.local = new Kinto(defaultOptions);\n        this.server = new KintoClient(DB.REMOTE_URL, defaultOptions);\n    }\n    DB.prototype.getId = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.server.fetchServerInfo()];\n                    case 1:\n                        result = _a.sent();\n                        return [2 /*return*/, result.user.id];\n                }\n            });\n        });\n    };\n    DB.REMOTE_URL = 'https://kinto.mozvoice.org/v1';\n    DB.BUCKET_NAME = 'APP';\n    return DB;\n}());\nexports[\"default\"] = DB;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nexports.__esModule = true;\nvar db_1 = require(\"./db\");\nvar USERNAME = 'admin';\nvar PASSWORD = 'password';\nfunction main() {\n    return __awaiter(this, void 0, void 0, function () {\n        var kinto, id;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    kinto = new db_1[\"default\"](USERNAME, PASSWORD);\n                    return [4 /*yield*/, kinto.getId()];\n                case 1:\n                    id = _a.sent();\n                    document.body.textContent = id;\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nmain()[\"catch\"](console.error.bind(console));\n"]}